
(function(a,b){function c(a){var b=a.length,c=r.type(a);return r.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function f(a,c,f,g){if(r.acceptData(a)){var h=r.expando,j=a.nodeType,m=j?r.cache:a,F=j?a[h]:a[h]&&h;if(F&&m[F]&&(g||m[F].data)||!(f===b&&"string"===typeof c)){F||(F=j?a[h]=Xa.pop()||r.guid++:h);m[F]||(m[F]=j?{}:{toJSON:r.noop});if("object"===typeof c||"function"===typeof c)g?m[F]=r.extend(m[F],c):m[F].data=r.extend(m[F].data,
c);a=m[F];g||(a.data||(a.data={}),a=a.data);f!==b&&(a[r.camelCase(c)]=f);"string"===typeof c?(f=a[c],null==f&&(f=a[r.camelCase(c)])):f=a;return f}}}function g(a,b,c){if(r.acceptData(a)){var f,g,h=a.nodeType,m=h?r.cache:a,F=h?a[r.expando]:r.expando;if(m[F]){if(b&&(f=c?m[F]:m[F].data)){r.isArray(b)?b=b.concat(r.map(b,r.camelCase)):b in f?b=[b]:(b=r.camelCase(b),b=b in f?[b]:b.split(" "));for(g=b.length;g--;)delete f[b[g]];if(c?!j(f):!r.isEmptyObject(f))return}if(!c&&(delete m[F].data,!j(m[F])))return;
h?r.cleanData([a],!0):r.support.deleteExpando||m!=m.window?delete m[F]:m[F]=null}}}function h(a,c,f){if(f===b&&1===a.nodeType)if(f="data-"+c.replace(dc,"-$1").toLowerCase(),f=a.getAttribute(f),"string"===typeof f){try{f="true"===f?!0:"false"===f?!1:"null"===f?null:+f+""===f?+f:Ub.test(f)?r.parseJSON(f):f}catch(g){}r.data(a,c,f)}else f=b;return f}function j(a){for(var b in a)if(!("data"===b&&r.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(){return!0}function l(){return!1}function u(){try{return X.activeElement}catch(a){}}
function p(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function q(a,b,c){if(r.isFunction(b))return r.grep(a,function(a,f){return!!b.call(a,f,a)!==c});if(b.nodeType)return r.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Pc.test(b))return r.filter(b,a,c);b=r.filter(b,a)}return r.grep(a,function(a){return 0<=r.inArray(a,b)!==c})}function n(a){var b=Gc.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function A(a,b){return r.nodeName(a,
"table")&&r.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function I(a){a.type=(null!==r.find.attr(a,"type"))+"/"+a.type;return a}function w(a){var b=cd.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function G(a,b){for(var c,f=0;null!=(c=a[f]);f++)r._data(c,"globalEval",!b||r._data(b[f],"globalEval"))}function m(a,b){if(1===b.nodeType&&r.hasData(a)){var c,f,g;f=r._data(a);var h=r._data(b,f),
j=f.events;if(j)for(c in delete h.handle,h.events={},j){f=0;for(g=j[c].length;f<g;f++)r.event.add(b,c,j[c][f])}h.data&&(h.data=r.extend({},h.data))}}function C(a,c){var f,g,h=0,j=typeof a.getElementsByTagName!==ua?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==ua?a.querySelectorAll(c||"*"):b;if(!j){j=[];for(f=a.childNodes||a;null!=(g=f[h]);h++)!c||r.nodeName(g,c)?j.push(g):r.merge(j,C(g,c))}return c===b||c&&r.nodeName(a,c)?r.merge([a],j):j}function z(a){ka.test(a.type)&&(a.defaultChecked=
a.checked)}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),f=b,g=sd.length;g--;)if(b=sd[g]+c,b in a)return b;return f}function x(a,b){a=b||a;return"none"===r.css(a,"display")||!r.contains(a.ownerDocument,a)}function J(a,b){for(var c,f,g,h=[],j=0,m=a.length;j<m;j++)if(f=a[j],f.style)if(h[j]=r._data(f,"olddisplay"),c=f.style.display,b)!h[j]&&"none"===c&&(f.style.display=""),""===f.style.display&&x(f)&&(h[j]=r._data(f,"olddisplay",L(f.nodeName)));else if(!h[j]&&(g=x(f),
c&&"none"!==c||!g))r._data(f,"olddisplay",g?c:r.css(f,"display"));for(j=0;j<m;j++)if(f=a[j],f.style&&(!b||"none"===f.style.display||""===f.style.display))f.style.display=b?h[j]||"":"none";return a}function P(a,b,c){return(a=id.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function v(a,b,c,f,g){for(var b=c===(f?"border":"content")?4:"width"===b?1:0,h=0;4>b;b+=2)"margin"===c&&(h+=r.css(a,c+Hc[b],!0,g)),f?("content"===c&&(h-=r.css(a,"padding"+Hc[b],!0,g)),"margin"!==c&&(h-=r.css(a,"border"+Hc[b]+"Width",
!0,g))):(h+=r.css(a,"padding"+Hc[b],!0,g),"padding"!==c&&(h+=r.css(a,"border"+Hc[b]+"Width",!0,g)));return h}function N(a,b,c){var f=!0,g="width"===b?a.offsetWidth:a.offsetHeight,h=rc(a),j=r.support.boxSizing&&"border-box"===r.css(a,"boxSizing",!1,h);if(0>=g||null==g){g=Vb(a,b,h);if(0>g||null==g)g=a.style[b];if(Qc.test(g))return g;f=j&&(r.support.boxSizingReliable||g===a.style[b]);g=parseFloat(g)||0}return g+v(a,b,c||(j?"border":"content"),f,h)+"px"}function L(a){var b=X,c=dd[a];if(!c){c=y(a,b);if("none"===
c||!c)Ic=(Ic||r("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(Ic[0].contentWindow||Ic[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=y(a,b),Ic.detach();dd[a]=c}return c}function y(a,b){var c=r(b.createElement(a)).appendTo(b.body),f=r.css(c[0],"display");c.remove();return f}function O(a,b,c,f){var g;if(r.isArray(b))r.each(b,function(b,g){c||Cd.test(a)?f(a,g):O(a+"["+("object"===typeof g?b:
"")+"]",g,c,f)});else if(!c&&"object"===r.type(b))for(g in b)O(a+"["+g+"]",b[g],c,f);else f(a,b)}function D(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var f,g=0,h=b.toLowerCase().match(ha)||[];if(r.isFunction(c))for(;f=h[g++];)"+"===f[0]?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(c)):(a[f]=a[f]||[]).push(c)}}function H(a,b,c,f){function g(m){var F;h[m]=!0;r.each(a[m]||[],function(a,bd){var m=bd(b,c,f);if("string"===typeof m&&!j&&!h[m])return b.dataTypes.unshift(m),g(m),!1;if(j)return!(F=
m)});return F}var h={},j=a===jd;return g(b.dataTypes[0])||!h["*"]&&g("*")}function K(a,c){var f,g,h=r.ajaxSettings.flatOptions||{};for(g in c)c[g]!==b&&((h[g]?a:f||(f={}))[g]=c[g]);f&&r.extend(!0,a,f);return a}function T(){try{return new a.XMLHttpRequest}catch(b){}}function R(){setTimeout(function(){Rc=b});return Rc=r.now()}function S(a,b,c){for(var f,g=(Zc[b]||[]).concat(Zc["*"]),h=0,j=g.length;h<j;h++)if(f=g[h].call(c,b,a))return f}function Q(a,b,c){var f,g,h=0,j=ed.length,m=r.Deferred().always(function(){delete F.elem}),
F=function(){if(g)return!1;for(var b=Rc||R(),b=Math.max(0,n.startTime+n.duration-b),c=1-(b/n.duration||0),f=0,h=n.tweens.length;f<h;f++)n.tweens[f].run(c);m.notifyWith(a,[n,c,b]);if(1>c&&h)return b;m.resolveWith(a,[n]);return!1},n=m.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Rc||R(),duration:c.duration,tweens:[],createTween:function(b,c){var f=r.Tween(a,n.opts,b,c,n.opts.specialEasing[b]||n.opts.easing);n.tweens.push(f);
return f},stop:function(b){var c=0,f=b?n.tweens.length:0;if(g)return this;for(g=!0;c<f;c++)n.tweens[c].run(1);b?m.resolveWith(a,[n,b]):m.rejectWith(a,[n,b]);return this}}),b=n.props,c=n.opts.specialEasing,k,q,l,D;for(f in b)if(k=r.camelCase(f),q=c[k],l=b[f],r.isArray(l)&&(q=l[1],l=b[f]=l[0]),f!==k&&(b[k]=l,delete b[f]),(D=r.cssHooks[k])&&"expand"in D)for(f in l=D.expand(l),delete b[k],l)f in b||(b[f]=l[f],c[f]=q);else c[k]=q;for(;h<j;h++)if(f=ed[h].call(n,a,b,n.opts))return f;r.map(b,S,n);r.isFunction(n.opts.start)&&
n.opts.start.call(a,n);r.fx.timer(r.extend(F,{elem:a,anim:n,queue:n.opts.queue}));return n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function U(a,b,c,f,g){return new U.prototype.init(a,b,c,f,g)}function na(a,b){for(var c,f={height:a},g=0,b=b?1:0;4>g;g+=2-b)c=Hc[g],f["margin"+c]=f["padding"+c]=a;b&&(f.opacity=f.width=a);return f}function Y(a){return r.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ia,ba,ua=typeof b,ec=a.location,
X=a.document,fc=X.documentElement,Wb=a.jQuery,gc=a.$,Nb={},Xa=[],Xb=Xa.concat,Ya=Xa.push,Oa=Xa.slice,rb=Xa.indexOf,sb=Nb.toString,Ja=Nb.hasOwnProperty,Ka="1.10.2".trim,r=function(a,b){return new r.fn.init(a,b,ba)},la=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ha=/\S+/g,da=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Pa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ra=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ea=/^[\],:{}\s]*$/,wa=/(?:^|:|,)(?:\s*\[)+/g,Fa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,tb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
W=/^-ms-/,ea=/-([\da-z])/gi,fa=function(a,b){return b.toUpperCase()},ja=function(a){if(X.addEventListener||"load"===a.type||"complete"===X.readyState)Za(),r.ready()},Za=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",ja,!1),a.removeEventListener("load",ja,!1)):(X.detachEvent("onreadystatechange",ja),a.detachEvent("onload",ja))};r.fn=r.prototype={jquery:"1.10.2",constructor:r,init:function(a,c,f){var g;if(!a)return this;if("string"===typeof a){if((g="<"===a.charAt(0)&&">"===
a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Pa.exec(a))&&(g[1]||!c)){if(g[1]){if(c=c instanceof r?c[0]:c,r.merge(this,r.parseHTML(g[1],c&&c.nodeType?c.ownerDocument||c:X,!0)),ra.test(g[1])&&r.isPlainObject(c))for(g in c)if(r.isFunction(this[g]))this[g](c[g]);else this.attr(g,c[g])}else{if((c=X.getElementById(g[2]))&&c.parentNode){if(c.id!==g[2])return f.find(a);this.length=1;this[0]=c}this.context=X;this.selector=a}return this}return!c||c.jquery?(c||f).find(a):this.constructor(c).find(a)}if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if(r.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return r.makeArray(a,this)},selector:"",length:0,toArray:function(){return Oa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=r.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return r.each(this,a,b)},ready:function(a){r.ready.promise().done(a);return this},
slice:function(){return this.pushStack(Oa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Ya,sort:[].sort,splice:[].splice};r.fn.init.prototype=r.fn;r.extend=r.fn.extend=function(){var a,c,f,g,h,j=arguments[0]||
{},m=1,F=arguments.length,n=!1;"boolean"===typeof j&&(n=j,j=arguments[1]||{},m=2);"object"!==typeof j&&!r.isFunction(j)&&(j={});F===m&&(j=this,--m);for(;m<F;m++)if(null!=(h=arguments[m]))for(g in h)a=j[g],f=h[g],j!==f&&(n&&f&&(r.isPlainObject(f)||(c=r.isArray(f)))?(c?(c=!1,a=a&&r.isArray(a)?a:[]):a=a&&r.isPlainObject(a)?a:{},j[g]=r.extend(n,a,f)):f!==b&&(j[g]=f));return j};r.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(b){a.$===r&&(a.$=gc);b&&a.jQuery===
r&&(a.jQuery=Wb);return r},isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){if(!(!0===a?--r.readyWait:r.isReady)){if(!X.body)return setTimeout(r.ready);r.isReady=!0;!0!==a&&0<--r.readyWait||(ia.resolveWith(X,[r]),r.fn.trigger&&r(X).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===r.type(a)},isArray:Array.isArray||function(a){return"array"===r.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&
isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?Nb[sb.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==r.type(a)||a.nodeType||r.isWindow(a))return!1;try{if(a.constructor&&!Ja.call(a,"constructor")&&!Ja.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(f){return!1}if(r.support.ownLast)for(c in a)return Ja.call(a,c);for(c in a);return c===b||Ja.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},
error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);var b=b||X,f=ra.exec(a),c=!c&&[];if(f)return[b.createElement(f[1])];f=r.buildFragment([a],b,c);c&&r(c).remove();return r.merge([],f.childNodes)},parseJSON:function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(null===b)return b;if("string"===typeof b&&(b=r.trim(b))&&Ea.test(b.replace(Fa,"@").replace(tb,"]").replace(wa,"")))return(new Function("return "+b))();
r.error("Invalid JSON: "+b)},parseXML:function(c){var f,g;if(!c||"string"!==typeof c)return null;try{a.DOMParser?(g=new DOMParser,f=g.parseFromString(c,"text/xml")):(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(c))}catch(h){f=b}(!f||!f.documentElement||f.getElementsByTagName("parsererror").length)&&r.error("Invalid XML: "+c);return f},noop:function(){},globalEval:function(b){b&&r.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(W,
"ms-").replace(ea,fa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,f){var g,h=0,j=a.length;g=c(a);if(f)if(g)for(;h<j&&!(g=b.apply(a[h],f),!1===g);h++);else for(h in a){if(g=b.apply(a[h],f),!1===g)break}else if(g)for(;h<j&&!(g=b.call(a[h],h,a[h]),!1===g);h++);else for(h in a)if(g=b.call(a[h],h,a[h]),!1===g)break;return a},trim:Ka&&!Ka.call("\ufeff\u00a0")?function(a){return null==a?"":Ka.call(a)}:function(a){return null==a?"":(a+"").replace(da,
"")},makeArray:function(a,b){var f=b||[];null!=a&&(c(Object(a))?r.merge(f,"string"===typeof a?[a]:a):Ya.call(f,a));return f},inArray:function(a,b,c){var f;if(b){if(rb)return rb.call(b,a,c);f=b.length;for(c=c?0>c?Math.max(0,f+c):c:0;c<f;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var f=c.length,g=a.length,h=0;if("number"===typeof f)for(;h<f;h++)a[g++]=c[h];else for(;c[h]!==b;)a[g++]=c[h++];a.length=g;return a},grep:function(a,b,c){for(var f,g=[],h=0,j=a.length,c=!!c;h<j;h++)f=!!b(a[h],
h),c!==f&&g.push(a[h]);return g},map:function(a,b,f){var g,h=0,j=a.length,m=[];if(c(a))for(;h<j;h++)g=b(a[h],h,f),null!=g&&(m[m.length]=g);else for(h in a)g=b(a[h],h,f),null!=g&&(m[m.length]=g);return Xb.apply([],m)},guid:1,proxy:function(a,c){var f,g;"string"===typeof c&&(g=a[c],c=a,a=g);if(!r.isFunction(a))return b;f=Oa.call(arguments,2);g=function(){return a.apply(c||this,f.concat(Oa.call(arguments)))};g.guid=a.guid=a.guid||r.guid++;return g},access:function(a,c,f,g,h,j,m){var F=0,n=a.length,k=
null==f;if("object"===r.type(f))for(F in h=!0,f)r.access(a,c,F,f[F],!0,j,m);else if(g!==b&&(h=!0,r.isFunction(g)||(m=!0),k&&(m?(c.call(a,g),c=null):(k=c,c=function(a,b,c){return k.call(r(a),c)})),c))for(;F<n;F++)c(a[F],f,m?g:g.call(a[F],F,c(a[F],f)));return h?a:k?c.call(a):n?c(a[0],f):j},now:function(){return(new Date).getTime()},swap:function(a,b,c,f){var g,h={};for(g in b)h[g]=a.style[g],a.style[g]=b[g];c=c.apply(a,f||[]);for(g in b)a.style[g]=h[g];return c}});r.ready.promise=function(b){if(!ia)if(ia=
r.Deferred(),"complete"===X.readyState)setTimeout(r.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",ja,!1),a.addEventListener("load",ja,!1);else{X.attachEvent("onreadystatechange",ja);a.attachEvent("onload",ja);var c=!1;try{c=null==a.frameElement&&X.documentElement}catch(f){}c&&c.doScroll&&function Bd(){if(!r.isReady){try{c.doScroll("left")}catch(a){return setTimeout(Bd,50)}Za();r.ready()}}()}return ia.promise(b)};r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){Nb["[object "+b+"]"]=b.toLowerCase()});ba=r(X);var Ca=a,ca=function(a,b,c,f){var g,h,j,m,F;(b?b.ownerDocument||b:Qa)!==sa&&Ra(b);b=b||sa;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(m=b.nodeType)&&9!==m)return[];if(ya&&!f){if(g=hc.exec(a))if(j=g[1])if(9===m)if((h=b.getElementById(j))&&h.parentNode){if(h.id===j)return c.push(h),c}else return c;else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&ib(b,h)&&h.id===j)return c.push(h),c}else{if(g[2])return $a.apply(c,b.getElementsByTagName(a)),
c;if((j=g[3])&&ma.getElementsByClassName&&b.getElementsByClassName)return $a.apply(c,b.getElementsByClassName(j)),c}if(ma.qsa&&(!za||!za.test(a))){h=g=pa;j=b;F=9===m&&a;if(1===m&&"object"!==b.nodeName.toLowerCase()){m=ub(a);(g=b.getAttribute("id"))?h=g.replace(ic,"\\$&"):b.setAttribute("id",h);h="[id='"+h+"'] ";for(j=m.length;j--;)m[j]=h+vb(m[j]);j=jb.test(a)&&b.parentNode||b;F=m.join(",")}if(F)try{return $a.apply(c,j.querySelectorAll(F)),c}catch(n){}finally{g||b.removeAttribute("id")}}}var k;a:{a=
a.replace(wb,"$1");h=ub(a);if(!f&&1===h.length){g=h[0]=h[0].slice(0);if(2<g.length&&"ID"===(k=g[0]).type&&ma.getById&&9===b.nodeType&&ya&&aa.relative[g[1].type]){b=(aa.find.ID(k.matches[0].replace(kb,Sa),b)||[])[0];if(!b){k=c;break a}a=a.slice(g.shift().value.length)}for(m=lb.needsContext.test(a)?0:g.length;m--;){k=g[m];if(aa.relative[j=k.type])break;if(j=aa.find[j])if(f=j(k.matches[0].replace(kb,Sa),jb.test(g[0].type)&&b.parentNode||b)){g.splice(m,1);a=f.length&&vb(g);if(!a){$a.apply(c,f);k=c;break a}break}}}La(a,
h)(f,b,!ya,c,jb.test(a));k=c}return k},ab=function(){function a(c,f){b.push(c+=" ")>aa.cacheLength&&delete a[b.shift()];return a[c]=f}var b=[];return a},qa=function(a){a[pa]=!0;return a},oa=function(a){var b=sa.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}},Ta=function(a,b){for(var c=a.split("|"),f=a.length;f--;)aa.attrHandle[c[f]]=b},Da=function(a,b){var c=b&&a,f=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||Ua)-(~a.sourceIndex||
Ua);if(f)return f;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1},jc=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},sc=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},bb=function(a){return qa(function(b){b=+b;return qa(function(c,f){for(var g,h=a([],c.length,b),j=h.length;j--;)if(c[g=h[j]])c[g]=!(f[g]=c[g])})})},xa=function(){},ub=function(a,b){var c,f,g,h,j,m,F;if(j=Ma[a+" "])return b?
0:j.slice(0);j=a;m=[];for(F=aa.preFilter;j;){if(!c||(f=Ob.exec(j)))f&&(j=j.slice(f[0].length)||j),m.push(g=[]);c=!1;if(f=Yb.exec(j))c=f.shift(),g.push({value:c,type:f[0].replace(wb," ")}),j=j.slice(c.length);for(h in aa.filter)if((f=lb[h].exec(j))&&(!F[h]||(f=F[h](f))))c=f.shift(),g.push({value:c,type:h,matches:f}),j=j.slice(c.length);if(!c)break}return b?j.length:j?ca.error(a):Ma(a,m).slice(0)},vb=function(a){for(var b=0,c=a.length,f="";b<c;b++)f+=a[b].value;return f},kc=function(a,b,c){var f=b.dir,
g=c&&"parentNode"===f,h=xb++;return b.first?function(b,c,h){for(;b=b[f];)if(1===b.nodeType||g)return a(b,c,h)}:function(b,c,j){var m,F,n,k=Ga+" "+h;if(j)for(;b=b[f];){if((1===b.nodeType||g)&&a(b,c,j))return!0}else for(;b=b[f];)if(1===b.nodeType||g)if(n=b[pa]||(b[pa]={}),(F=n[f])&&F[0]===k){if(!0===(m=F[1])||m===yb)return!0===m}else if(F=n[f]=[k],F[1]=a(b,c,j)||yb,!0===F[1])return!0}},lc=function(a){return 1<a.length?function(b,c,f){for(var g=a.length;g--;)if(!a[g](b,c,f))return!1;return!0}:a[0]},
Pb=function(a,b,c,f,g){for(var h,j=[],m=0,F=a.length,n=null!=b;m<F;m++)if(h=a[m])if(!c||c(h,f,g))j.push(h),n&&b.push(m);return j},Zb=function(a,b,c,f,g,h){f&&!f[pa]&&(f=Zb(f));g&&!g[pa]&&(g=Zb(g,h));return qa(function(h,j,m,F){var n,k,q=[],l=[],D=j.length,K;if(!(K=h)){K=b||"*";for(var p=m.nodeType?[m]:m,H=[],Y=0,O=p.length;Y<O;Y++)ca(K,p[Y],H);K=H}K=a&&(h||!b)?Pb(K,q,a,m,F):K;p=c?g||(h?a:D||f)?[]:j:K;c&&c(K,p,m,F);if(f){n=Pb(p,l);f(n,[],m,F);for(m=n.length;m--;)if(k=n[m])p[l[m]]=!(K[l[m]]=k)}if(h){if(g||
a){if(g){n=[];for(m=p.length;m--;)if(k=p[m])n.push(K[m]=k);g(null,p=[],n,F)}for(m=p.length;m--;)if((k=p[m])&&-1<(n=g?mb.call(h,k):q[m]))h[n]=!(j[n]=k)}}else p=Pb(p===j?p.splice(D,p.length):p),g?g(null,j,p,F):$a.apply(j,p)})},$b=function(a){var b,c,f,g=a.length,h=aa.relative[a[0].type];c=h||aa.relative[" "];for(var j=h?1:0,m=kc(function(a){return a===b},c,!0),F=kc(function(a){return-1<mb.call(b,a)},c,!0),n=[function(a,c,f){return!h&&(f||c!==zb)||((b=c).nodeType?m(a,c,f):F(a,c,f))}];j<g;j++)if(c=aa.relative[a[j].type])n=
[kc(lc(n),c)];else{c=aa.filter[a[j].type].apply(null,a[j].matches);if(c[pa]){for(f=++j;f<g&&!aa.relative[a[f].type];f++);return Zb(1<j&&lc(n),1<j&&vb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(wb,"$1"),c,j<f&&$b(a.slice(j,f)),f<g&&$b(a=a.slice(f)),f<g&&vb(a))}n.push(c)}return lc(n)},Ab,ma,yb,aa,ta,Ha,La,zb,Ia,Ra,sa,Aa,ya,za,nb,Bb,ib,pa="sizzle"+-new Date,Qa=Ca.document,Ga=0,xb=0,Va=ab(),Ma=ab(),mc=ab(),ob=!1,Qb=function(a,b){a===b&&(ob=!0);return 0},Ua=-2147483648,ac={}.hasOwnProperty,
Na=[],tc=Na.pop,Cb=Na.push,$a=Na.push,Db=Na.slice,mb=Na.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},Eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),nc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Eb+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Rb=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+nc.replace(3,
8)+")*)|.*)\\)|)",wb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Ob=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Yb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,jb=/[\x20\t\r\n\f]*[+~]/,uc=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,vc=RegExp(Rb),oc=RegExp("^"+Eb+"$"),lb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+nc),PSEUDO:RegExp("^"+Rb),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Wa=/^[^{]+\{\s*\[native \w/,hc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wc=/^(?:input|select|textarea|button)$/i,pc=/^h\d$/i,ic=/'|\\/g,kb=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
Sa=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{$a.apply(Na=Db.call(Qa.childNodes),Qa.childNodes),Na[Qa.childNodes.length].nodeType}catch(Fb){$a={apply:Na.length?function(a,b){Cb.apply(a,Db.call(b))}:function(a,b){for(var c=a.length,f=0;a[c++]=b[f++];);a.length=c-1}}}Ha=ca.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};ma=ca.support={};Ra=ca.setDocument=function(a){var b=
a?a.ownerDocument||a:Qa,a=b.defaultView;if(b===sa||9!==b.nodeType||!b.documentElement)return sa;sa=b;Aa=b.documentElement;ya=!Ha(b);a&&(a.attachEvent&&a!==a.top)&&a.attachEvent("onbeforeunload",function(){Ra()});ma.attributes=oa(function(a){a.className="i";return!a.getAttribute("className")});ma.getElementsByTagName=oa(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});ma.getElementsByClassName=oa(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";
a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});ma.getById=oa(function(a){Aa.appendChild(a).id=pa;return!b.getElementsByName||!b.getElementsByName(pa).length});ma.getById?(aa.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&ya){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},aa.filter.ID=function(a){var b=a.replace(kb,Sa);return function(a){return a.getAttribute("id")===b}}):(delete aa.find.ID,aa.filter.ID=function(a){var b=a.replace(kb,Sa);return function(a){return(a=
"undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});aa.find.TAG=ma.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c,f=[],g=0,h=b.getElementsByTagName(a);if("*"===a){for(;c=h[g++];)1===c.nodeType&&f.push(c);return f}return h};aa.find.CLASS=ma.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&ya)return b.getElementsByClassName(a)};nb=[];za=[];if(ma.qsa=
Wa.test(b.querySelectorAll))oa(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||za.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||za.push(":checked")}),oa(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("t","");a.querySelectorAll("[t^='']").length&&
za.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||za.push(":enabled",":disabled");a.querySelectorAll("*,:x");za.push(",.*:")});(ma.matchesSelector=Wa.test(Bb=Aa.webkitMatchesSelector||Aa.mozMatchesSelector||Aa.oMatchesSelector||Aa.msMatchesSelector))&&oa(function(a){ma.disconnectedMatch=Bb.call(a,"div");Bb.call(a,"[s!='']:x");nb.push("!=",Rb)});za=za.length&&RegExp(za.join("|"));nb=nb.length&&RegExp(nb.join("|"));ib=Wa.test(Aa.contains)||Aa.compareDocumentPosition?
function(a,b){var c=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!(!f||!(1===f.nodeType&&(c.contains?c.contains(f):a.compareDocumentPosition&&a.compareDocumentPosition(f)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Qb=Aa.compareDocumentPosition?function(a,c){if(a===c)return ob=!0,0;var f=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return f?f&1||!ma.sortDetached&&c.compareDocumentPosition(a)===f?a===b||ib(Qa,
a)?-1:c===b||ib(Qa,c)?1:Ia?mb.call(Ia,a)-mb.call(Ia,c):0:f&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var f,g=0;f=a.parentNode;var h=c.parentNode,j=[a],m=[c];if(a===c)return ob=!0,0;if(!f||!h)return a===b?-1:c===b?1:f?-1:h?1:Ia?mb.call(Ia,a)-mb.call(Ia,c):0;if(f===h)return Da(a,c);for(f=a;f=f.parentNode;)j.unshift(f);for(f=c;f=f.parentNode;)m.unshift(f);for(;j[g]===m[g];)g++;return g?Da(j[g],m[g]):j[g]===Qa?-1:m[g]===Qa?1:0};return b};ca.matches=function(a,b){return ca(a,null,null,b)};ca.matchesSelector=
function(a,b){(a.ownerDocument||a)!==sa&&Ra(a);b=b.replace(uc,"='$1']");if(ma.matchesSelector&&ya&&(!nb||!nb.test(b))&&(!za||!za.test(b)))try{var c=Bb.call(a,b);if(c||ma.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(f){}return 0<ca(b,sa,null,[a]).length};ca.contains=function(a,b){(a.ownerDocument||a)!==sa&&Ra(a);return ib(a,b)};ca.attr=function(a,b){(a.ownerDocument||a)!==sa&&Ra(a);var c=aa.attrHandle[b.toLowerCase()],c=c&&ac.call(aa.attrHandle,b.toLowerCase())?c(a,b,!ya):
void 0;return void 0===c?ma.attributes||!ya?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null:c};ca.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};ca.uniqueSort=function(a){var b,c=[],f=0,g=0;ob=!ma.detectDuplicates;Ia=!ma.sortStable&&a.slice(0);a.sort(Qb);if(ob){for(;b=a[g++];)b===a[g]&&(f=c.push(g));for(;f--;)a.splice(c[f],1)}return a};ta=ca.getText=function(a){var b,c="",f=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;
for(a=a.firstChild;a;a=a.nextSibling)c+=ta(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[f];f++)c+=ta(b);return c};aa=ca.selectors={cacheLength:50,createPseudo:qa,match:lb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(kb,Sa);a[3]=(a[4]||a[5]||"").replace(kb,Sa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=
a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||ca.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ca.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[5]&&a[2];if(lb.CHILD.test(a[0]))return null;if(a[3]&&void 0!==a[4])a[2]=a[4];else if(c&&vc.test(c)&&(b=ub(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length))a[0]=a[0].slice(0,b),a[2]=c.slice(0,b);return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(kb,Sa).toLowerCase();return"*"===
a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Va[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&Va(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(f){f=ca.attr(f,a);if(null==f)return"!="===b;if(!b)return!0;f+="";return"="===b?f===c:"!="===b?f!==c:"^="===b?c&&0===f.indexOf(c):
"*="===b?c&&-1<f.indexOf(c):"$="===b?c&&f.slice(-c.length)===c:"~="===b?-1<(" "+f+" ").indexOf(c):"|="===b?f===c||f.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,f,g){var h="nth"!==a.slice(0,3),j="last"!==a.slice(-4),m="of-type"===b;return 1===f&&0===g?function(a){return!!a.parentNode}:function(b,c,F){var n,k,q,l,D,c=h!==j?"nextSibling":"previousSibling",K=b.parentNode,p=m&&b.nodeName.toLowerCase(),F=!F&&!m;if(K){if(h){for(;c;){for(k=b;k=k[c];)if(m?k.nodeName.toLowerCase()===p:1===k.nodeType)return!1;
D=c="only"===a&&!D&&"nextSibling"}return!0}D=[j?K.firstChild:K.lastChild];if(j&&F){F=K[pa]||(K[pa]={});n=F[a]||[];l=n[0]===Ga&&n[1];q=n[0]===Ga&&n[2];for(k=l&&K.childNodes[l];k=++l&&k&&k[c]||(q=l=0)||D.pop();)if(1===k.nodeType&&++q&&k===b){F[a]=[Ga,l,q];break}}else if(F&&(n=(b[pa]||(b[pa]={}))[a])&&n[0]===Ga)q=n[1];else for(;k=++l&&k&&k[c]||(q=l=0)||D.pop();)if((m?k.nodeName.toLowerCase()===p:1===k.nodeType)&&++q)if(F&&((k[pa]||(k[pa]={}))[a]=[Ga,q]),k===b)break;q-=g;return q===f||0===q%f&&0<=q/f}}},
PSEUDO:function(a,b){var c,f=aa.pseudos[a]||aa.setFilters[a.toLowerCase()]||ca.error("unsupported pseudo: "+a);return f[pa]?f(b):1<f.length?(c=[a,a,"",b],aa.setFilters.hasOwnProperty(a.toLowerCase())?qa(function(a,c){for(var g,h=f(a,b),j=h.length;j--;)g=mb.call(a,h[j]),a[g]=!(c[g]=h[j])}):function(a){return f(a,0,c)}):f}},pseudos:{not:qa(function(a){var b=[],c=[],f=La(a.replace(wb,"$1"));return f[pa]?qa(function(a,b,c,g){for(var g=f(a,null,g,[]),h=a.length;h--;)if(c=g[h])a[h]=!(b[h]=c)}):function(a,
g,h){b[0]=a;f(b,null,h,c);return!c.pop()}}),has:qa(function(a){return function(b){return 0<ca(a,b).length}}),contains:qa(function(a){return function(b){return-1<(b.textContent||b.innerText||ta(b)).indexOf(a)}}),lang:qa(function(a){oc.test(a||"")||ca.error("unsupported lang: "+a);a=a.replace(kb,Sa).toLowerCase();return function(b){var c;do if(c=ya?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),
target:function(a){var b=Ca.location&&Ca.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===Aa},focus:function(a){return a===sa.activeElement&&(!sa.hasFocus||sa.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},
empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!aa.pseudos.empty(a)},header:function(a){return pc.test(a.nodeName)},input:function(a){return wc.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===
a.type)},first:bb(function(){return[0]}),last:bb(function(a,b){return[b-1]}),eq:bb(function(a,b,c){return[0>c?c+b:c]}),even:bb(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:bb(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:bb(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:bb(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};aa.pseudos.nth=aa.pseudos.eq;for(Ab in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})aa.pseudos[Ab]=jc(Ab);for(Ab in{submit:!0,
reset:!0})aa.pseudos[Ab]=sc(Ab);xa.prototype=aa.filters=aa.pseudos;aa.setFilters=new xa;La=ca.compile=function(a,b){var c,f=[],g=[],h=mc[a+" "];if(!h){b||(b=ub(a));for(c=b.length;c--;)h=$b(b[c]),h[pa]?f.push(h):g.push(h);var j=0,m=0<f.length,F=0<g.length;c=function(a,b,c,h,n){var k,q,l=[],D=0,K="0",p=a&&[],H=null!=n,bd=zb,Y=a||F&&aa.find.TAG("*",n&&b.parentNode||b),O=Ga+=null==bd?1:Math.random()||0.1;H&&(zb=b!==sa&&b,yb=j);for(;null!=(n=Y[K]);K++){if(F&&n){for(k=0;q=g[k++];)if(q(n,b,c)){h.push(n);
break}H&&(Ga=O,yb=++j)}m&&((n=!q&&n)&&D--,a&&p.push(n))}D+=K;if(m&&K!==D){for(k=0;q=f[k++];)q(p,l,b,c);if(a){if(0<D)for(;K--;)!p[K]&&!l[K]&&(l[K]=tc.call(h));l=Pb(l)}$a.apply(h,l);H&&(!a&&0<l.length&&1<D+f.length)&&ca.uniqueSort(h)}H&&(Ga=O,zb=bd);return p};c=m?qa(c):c;h=mc(a,c)}return h};ma.sortStable=pa.split("").sort(Qb).join("")===pa;ma.detectDuplicates=ob;Ra();ma.sortDetached=oa(function(a){return a.compareDocumentPosition(sa.createElement("div"))&1});oa(function(a){a.innerHTML="<a href='#'></a>";
return"#"===a.firstChild.getAttribute("href")})||Ta("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});(!ma.attributes||!oa(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")}))&&Ta("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});oa(function(a){return null==a.getAttribute("disabled")})||Ta("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var f;if(!c)return(f=a.getAttributeNode(b))&&f.specified?f.value:!0===a[b]?b.toLowerCase():null});r.find=ca;r.expr=ca.selectors;r.expr[":"]=r.expr.pseudos;r.unique=ca.uniqueSort;r.text=ca.getText;r.isXMLDoc=ca.isXML;r.contains=ca.contains;var bc={};r.Callbacks=function(a){var c;if("string"===typeof a){if(!(c=bc[a])){c=a;var f=bc[c]={};r.each(c.match(ha)||[],function(a,b){f[b]=!0});c=f}}else c=r.extend({},a);var a=c,g,h,j,m,F,n,k=[],q=!a.once&&[],l=function(b){h=a.memory&&b;j=!0;F=
n||0;n=0;m=k.length;for(g=!0;k&&F<m;F++)if(!1===k[F].apply(b[0],b[1])&&a.stopOnFalse){h=!1;break}g=!1;k&&(q?q.length&&l(q.shift()):h?k=[]:D.disable())},D={add:function(){if(k){var b=k.length;(function Dd(b){r.each(b,function(b,c){var f=r.type(c);"function"===f?(!a.unique||!D.has(c))&&k.push(c):c&&(c.length&&"string"!==f)&&Dd(c)})})(arguments);g?m=k.length:h&&(n=b,l(h))}return this},remove:function(){k&&r.each(arguments,function(a,b){for(var c;-1<(c=r.inArray(b,k,c));)k.splice(c,1),g&&(c<=m&&m--,c<=
F&&F--)});return this},has:function(a){return a?-1<r.inArray(a,k):!(!k||!k.length)},empty:function(){k=[];m=0;return this},disable:function(){k=q=h=b;return this},disabled:function(){return!k},lock:function(){q=b;h||D.disable();return this},locked:function(){return!q},fireWith:function(a,b){if(k&&(!j||q))b=b||[],b=[a,b.slice?b.slice():b],g?q.push(b):l(b);return this},fire:function(){D.fireWith(this,arguments);return this},fired:function(){return!!j}};return D};r.extend({Deferred:function(a){var b=
[["resolve","done",r.Callbacks("once memory"),"resolved"],["reject","fail",r.Callbacks("once memory"),"rejected"],["notify","progress",r.Callbacks("memory")]],c="pending",f={state:function(){return c},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return r.Deferred(function(c){r.each(b,function(b,h){var j=h[0],m=r.isFunction(a[b])&&a[b];g[h[1]](function(){var a=m&&m.apply(this,arguments);if(a&&r.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);
else c[j+"With"](this===f?c.promise():this,m?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?r.extend(a,f):f}},g={};f.pipe=f.then;r.each(b,function(a,h){var j=h[2],m=h[3];f[h[1]]=j.add;m&&j.add(function(){c=m},b[a^1][2].disable,b[2][2].lock);g[h[0]]=function(){g[h[0]+"With"](this===g?f:this,arguments);return this};g[h[0]+"With"]=j.fireWith});f.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,c=Oa.call(arguments),f=c.length,g=1!==f||a&&r.isFunction(a.promise)?
f:0,h=1===g?a:r.Deferred(),j=function(a,b,c){return function(f){b[a]=this;c[a]=1<arguments.length?Oa.call(arguments):f;c===m?h.notifyWith(b,c):--g||h.resolveWith(b,c)}},m,F,n;if(1<f){m=Array(f);F=Array(f);for(n=Array(f);b<f;b++)c[b]&&r.isFunction(c[b].promise)?c[b].promise().done(j(b,n,c)).fail(h.reject).progress(j(b,F,m)):--g}g||h.resolveWith(n,c);return h.promise()}});var cc=r;var Z={},Gb,cb,va,db,Sb,eb,Ba,qc,gb,V=X.createElement("div");V.setAttribute("className","t");V.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
Gb=V.getElementsByTagName("*")||[];if((cb=V.getElementsByTagName("a")[0])&&cb.style&&Gb.length){db=X.createElement("select");eb=db.appendChild(X.createElement("option"));va=V.getElementsByTagName("input")[0];cb.style.cssText="top:1px;float:left;opacity:.5";Z.getSetAttribute="t"!==V.className;Z.leadingWhitespace=3===V.firstChild.nodeType;Z.tbody=!V.getElementsByTagName("tbody").length;Z.htmlSerialize=!!V.getElementsByTagName("link").length;Z.style=/top/.test(cb.getAttribute("style"));Z.hrefNormalized=
"/a"===cb.getAttribute("href");Z.opacity=/^0.5/.test(cb.style.opacity);Z.cssFloat=!!cb.style.cssFloat;Z.checkOn=!!va.value;Z.optSelected=eb.selected;Z.enctype=!!X.createElement("form").enctype;Z.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML;Z.inlineBlockNeedsLayout=!1;Z.shrinkWrapBlocks=!1;Z.pixelPosition=!1;Z.deleteExpando=!0;Z.noCloneEvent=!0;Z.reliableMarginRight=!0;Z.boxSizingReliable=!0;va.checked=!0;Z.noCloneChecked=va.cloneNode(!0).checked;db.disabled=!0;Z.optDisabled=
!eb.disabled;try{delete V.test}catch(Hb){Z.deleteExpando=!1}va=X.createElement("input");va.setAttribute("value","");Z.input=""===va.getAttribute("value");va.value="t";va.setAttribute("type","radio");Z.radioValue="t"===va.value;va.setAttribute("checked","t");va.setAttribute("name","t");Sb=X.createDocumentFragment();Sb.appendChild(va);Z.appendChecked=va.checked;Z.checkClone=Sb.cloneNode(!0).cloneNode(!0).lastChild.checked;V.attachEvent&&(V.attachEvent("onclick",function(){Z.noCloneEvent=!1}),V.cloneNode(!0).click());
for(gb in{submit:!0,change:!0,focusin:!0})V.setAttribute(Ba="on"+gb,"t"),Z[gb+"Bubbles"]=Ba in a||!1===V.attributes[Ba].expando;V.style.backgroundClip="content-box";V.cloneNode(!0).style.backgroundClip="";Z.clearCloneStyle="content-box"===V.style.backgroundClip;for(gb in r(Z))break;Z.ownLast="0"!==gb;r(function(){var b,c,f=X.getElementsByTagName("body")[0];f&&(b=X.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",f.appendChild(b).appendChild(V),
V.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=V.getElementsByTagName("td"),c[0].style.cssText="padding:0;margin:0;border:0;display:none",qc=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",Z.reliableHiddenOffsets=qc&&0===c[0].offsetHeight,V.innerHTML="",V.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",r.swap(f,null!=f.style.zoom?
{zoom:1}:{},function(){Z.boxSizing=4===V.offsetWidth}),a.getComputedStyle&&(Z.pixelPosition="1%"!==(a.getComputedStyle(V,null)||{}).top,Z.boxSizingReliable="4px"===(a.getComputedStyle(V,null)||{width:"4px"}).width,c=V.appendChild(X.createElement("div")),c.style.cssText=V.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",V.style.width="1px",Z.reliableMarginRight=!parseFloat((a.getComputedStyle(c,
null)||{}).marginRight)),typeof V.style.zoom!==ua&&(V.innerHTML="",V.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",Z.inlineBlockNeedsLayout=3===V.offsetWidth,V.style.display="block",V.innerHTML="<div></div>",V.firstChild.style.width="5px",Z.shrinkWrapBlocks=3!==V.offsetWidth,Z.inlineBlockNeedsLayout&&(f.style.zoom=1)),f.removeChild(b),b=V=c=c=null)});Gb=db=Sb=eb=
cb=va=null}cc.support=Z;var Ub=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,dc=/([A-Z])/g;r.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?r.cache[a[r.expando]]:a[r.expando];return!!a&&!j(a)},data:function(a,b,c){return f(a,b,c)},removeData:function(a,b){return g(a,b)},_data:function(a,b,c){return f(a,b,c,!0)},_removeData:function(a,b){return g(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;
var b=a.nodeName&&r.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});r.fn.extend({data:function(a,c){var f,g,j=null,m=0,F=this[0];if(a===b){if(this.length&&(j=r.data(F),1===F.nodeType&&!r._data(F,"parsedAttrs"))){for(f=F.attributes;m<f.length;m++)g=f[m].name,0===g.indexOf("data-")&&(g=r.camelCase(g.slice(5)),h(F,g,j[g]));r._data(F,"parsedAttrs",!0)}return j}return"object"===typeof a?this.each(function(){r.data(this,a)}):1<arguments.length?this.each(function(){r.data(this,
a,c)}):F?h(F,a,r.data(F,a)):null},removeData:function(a){return this.each(function(){r.removeData(this,a)})}});r.extend({queue:function(a,b,c){var f;if(a)return b=(b||"fx")+"queue",f=r._data(a,b),c&&(!f||r.isArray(c)?f=r._data(a,b,r.makeArray(c)):f.push(c)),f||[]},dequeue:function(a,b){var b=b||"fx",c=r.queue(a,b),f=c.length,g=c.shift(),h=r._queueHooks(a,b),j=function(){r.dequeue(a,b)};"inprogress"===g&&(g=c.shift(),f--);g&&("fx"===b&&c.unshift("inprogress"),delete h.stop,g.call(a,j,h));!f&&h&&h.empty.fire()},
_queueHooks:function(a,b){var c=b+"queueHooks";return r._data(a,c)||r._data(a,c,{empty:r.Callbacks("once memory").add(function(){r._removeData(a,b+"queue");r._removeData(a,c)})})}});r.fn.extend({queue:function(a,c){var f=2;"string"!==typeof a&&(c=a,a="fx",f--);return arguments.length<f?r.queue(this[0],a):c===b?this:this.each(function(){var b=r.queue(this,a,c);r._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},
delay:function(a,b){a=r.fx?r.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var f=setTimeout(b,a);c.stop=function(){clearTimeout(f)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var f,g=1,h=r.Deferred(),j=this,m=this.length,F=function(){--g||h.resolveWith(j,[j])};"string"!==typeof a&&(c=a,a=b);for(a=a||"fx";m--;)if((f=r._data(j[m],a+"queueHooks"))&&f.empty)g++,f.empty.add(F);F();return h.promise(c)}});var Kb,Ib,Lb=/[\t\r\n\f]/g,xc=/\r/g,yc=/^(?:input|select|textarea|button|object)$/i,
zc=/^(?:a|area)$/i,Mb=/^(?:checked|selected)$/i,Tb=r.support.getSetAttribute,Ac=r.support.input;r.fn.extend({attr:function(a,b){return r.access(this,r.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})},prop:function(a,b){return r.access(this,r.prop,a,b,1<arguments.length)},removeProp:function(a){a=r.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,f,g,h,j=0,m=this.length;b="string"===
typeof a&&a;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ha)||[];j<m;j++)if(c=this[j],f=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Lb," "):" ")){for(h=0;g=b[h++];)0>f.indexOf(" "+g+" ")&&(f+=g+" ");c.className=r.trim(f)}return this},removeClass:function(a){var b,c,f,g,h,j=0,m=this.length;b=0===arguments.length||"string"===typeof a&&a;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(ha)||[];j<m;j++)if(c=this[j],f=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Lb," "):"")){for(h=0;g=b[h++];)for(;0<=f.indexOf(" "+g+" ");)f=f.replace(" "+g+" "," ");c.className=a?r.trim(f):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===
c)for(var b,f=0,g=r(this),h=a.match(ha)||[];b=h[f++];)g.hasClass(b)?g.removeClass(b):g.addClass(b);else if(c===ua||"boolean"===c)this.className&&r._data(this,"__className__",this.className),this.className=this.className||!1===a?"":r._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Lb," ").indexOf(a))return!0;return!1},val:function(a){var c,f,g,h=this[0];if(arguments.length)return g=
r.isFunction(a),this.each(function(c){if(1===this.nodeType&&(c=g?a.call(this,c,r(this).val()):a,null==c?c="":"number"===typeof c?c+="":r.isArray(c)&&(c=r.map(c,function(a){return null==a?"":a+""})),f=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],!f||!("set"in f)||f.set(this,c,"value")===b))this.value=c});if(h){if((f=r.valHooks[h.type]||r.valHooks[h.nodeName.toLowerCase()])&&"get"in f&&(c=f.get(h,"value"))!==b)return c;c=h.value;return"string"===typeof c?c.replace(xc,""):null==c?"":
c}}});r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c=a.options,f=a.selectedIndex,g=(a="select-one"===a.type||0>f)?null:[],h=a?f+1:c.length,j=0>f?h:a?f:0;j<h;j++)if(b=c[j],(b.selected||j===f)&&(r.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!r.nodeName(b.parentNode,"optgroup"))){b=r(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){for(var c,f,g=a.options,
h=r.makeArray(b),j=g.length;j--;)if(f=g[j],f.selected=0<=r.inArray(r(f).val(),h))c=!0;c||(a.selectedIndex=-1);return h}}},attr:function(a,c,f){var g,h,j=a.nodeType;if(a&&!(3===j||8===j||2===j)){if(typeof a.getAttribute===ua)return r.prop(a,c,f);if(1!==j||!r.isXMLDoc(a))c=c.toLowerCase(),g=r.attrHooks[c]||(r.expr.match.bool.test(c)?Ib:Kb);if(f!==b)if(null===f)r.removeAttr(a,c);else{if(g&&"set"in g&&(h=g.set(a,f,c))!==b)return h;a.setAttribute(c,f+"");return f}else{if(g&&"get"in g&&null!==(h=g.get(a,
c)))return h;h=r.find.attr(a,c);return null==h?b:h}}},removeAttr:function(a,b){var c,f,g=0,h=b&&b.match(ha);if(h&&1===a.nodeType)for(;c=h[g++];)f=r.propFix[c]||c,r.expr.match.bool.test(c)?Ac&&Tb||!Mb.test(c)?a[f]=!1:a[r.camelCase("default-"+c)]=a[f]=!1:r.attr(a,c,""),a.removeAttribute(Tb?c:f)},attrHooks:{type:{set:function(a,b){if(!r.support.radioValue&&"radio"===b&&r.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},propFix:{"for":"htmlFor","class":"className"},
prop:function(a,c,f){var g,h,j;j=a.nodeType;if(a&&!(3===j||8===j||2===j)){if(j=1!==j||!r.isXMLDoc(a))c=r.propFix[c]||c,h=r.propHooks[c];return f!==b?h&&"set"in h&&(g=h.set(a,f,c))!==b?g:a[c]=f:h&&"get"in h&&null!==(g=h.get(a,c))?g:a[c]}},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):yc.test(a.nodeName)||zc.test(a.nodeName)&&a.href?0:-1}}}});Ib={set:function(a,b,c){!1===b?r.removeAttr(a,c):Ac&&Tb||!Mb.test(c)?a.setAttribute(!Tb&&r.propFix[c]||c,c):a[r.camelCase("default-"+
c)]=a[c]=!0;return c}};r.each(r.expr.match.bool.source.match(/\w+/g),function(a,c){var f=r.expr.attrHandle[c]||r.find.attr;r.expr.attrHandle[c]=Ac&&Tb||!Mb.test(c)?function(a,c,g){var h=r.expr.attrHandle[c],a=g?b:(r.expr.attrHandle[c]=b)!=f(a,c,g)?c.toLowerCase():null;r.expr.attrHandle[c]=h;return a}:function(a,c,f){return f?b:a[r.camelCase("default-"+c)]?c.toLowerCase():null}});if(!Ac||!Tb)r.attrHooks.value={set:function(a,b,c){if(r.nodeName(a,"input"))a.defaultValue=b;else return Kb&&Kb.set(a,b,
c)}};Tb||(Kb={set:function(a,c,f){var g=a.getAttributeNode(f);g||a.setAttributeNode(g=a.ownerDocument.createAttribute(f));g.value=c+="";return"value"===f||c===a.getAttribute(f)?c:b}},r.expr.attrHandle.id=r.expr.attrHandle.name=r.expr.attrHandle.coords=function(a,c,f){var g;return f?b:(g=a.getAttributeNode(c))&&""!==g.value?g.value:null},r.valHooks.button={get:function(a,c){var f=a.getAttributeNode(c);return f&&f.specified?f.value:b},set:Kb.set},r.attrHooks.contenteditable={set:function(a,b,c){Kb.set(a,
""===b?!1:b,c)}},r.each(["width","height"],function(a,b){r.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}}));r.support.hrefNormalized||r.each(["href","src"],function(a,b){r.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});r.support.style||(r.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}});r.support.optSelected||(r.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&
a.parentNode.selectedIndex;return null}});r.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){r.propFix[this.toLowerCase()]=this});r.support.enctype||(r.propFix.enctype="encoding");r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(r.isArray(b))return a.checked=0<=r.inArray(r(a).val(),b)}};r.support.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});
var Bc=/^(?:input|select|textarea)$/i,Sc=/^key/,Tc=/^(?:mouse|contextmenu)|click/,Jc=/^(?:focusinfocus|focusoutblur)$/,Kc=/^([^.]*)(?:\.(.+)|)$/;r.event={global:{},add:function(a,c,f,g,h){var j,m,F,n,k,q,l,D,K;if(F=r._data(a)){f.handler&&(n=f,f=n.handler,h=n.selector);f.guid||(f.guid=r.guid++);if(!(m=F.events))m=F.events={};if(!(k=F.handle))k=F.handle=function(a){return typeof r!==ua&&(!a||r.event.triggered!==a.type)?r.event.dispatch.apply(k.elem,arguments):b},k.elem=a;c=(c||"").match(ha)||[""];for(F=
c.length;F--;)if(j=Kc.exec(c[F])||[],D=q=j[1],K=(j[2]||"").split(".").sort(),D){j=r.event.special[D]||{};D=(h?j.delegateType:j.bindType)||D;j=r.event.special[D]||{};q=r.extend({type:D,origType:q,data:g,handler:f,guid:f.guid,selector:h,needsContext:h&&r.expr.match.needsContext.test(h),namespace:K.join(".")},n);if(!(l=m[D]))if(l=m[D]=[],l.delegateCount=0,!j.setup||!1===j.setup.call(a,g,K,k))a.addEventListener?a.addEventListener(D,k,!1):a.attachEvent&&a.attachEvent("on"+D,k);j.add&&(j.add.call(a,q),
q.handler.guid||(q.handler.guid=f.guid));h?l.splice(l.delegateCount++,0,q):l.push(q);r.event.global[D]=!0}a=null}},remove:function(a,b,c,f,g){var h,j,m,F,n,k,q,l,D,K,p,H=r.hasData(a)&&r._data(a);if(H&&(k=H.events)){b=(b||"").match(ha)||[""];for(n=b.length;n--;)if(m=Kc.exec(b[n])||[],D=p=m[1],K=(m[2]||"").split(".").sort(),D){q=r.event.special[D]||{};D=(f?q.delegateType:q.bindType)||D;l=k[D]||[];m=m[2]&&RegExp("(^|\\.)"+K.join("\\.(?:.*\\.|)")+"(\\.|$)");for(F=h=l.length;h--;)if(j=l[h],(g||p===j.origType)&&
(!c||c.guid===j.guid)&&(!m||m.test(j.namespace))&&(!f||f===j.selector||"**"===f&&j.selector))l.splice(h,1),j.selector&&l.delegateCount--,q.remove&&q.remove.call(a,j);F&&!l.length&&((!q.teardown||!1===q.teardown.call(a,K,H.handle))&&r.removeEvent(a,D,H.handle),delete k[D])}else for(D in k)r.event.remove(a,D+b[n],c,f,!0);r.isEmptyObject(k)&&(delete H.handle,r._removeData(a,"events"))}},trigger:function(c,f,g,h){var j,m,F,n,k,q,l=[g||X],D=Ja.call(c,"type")?c.type:c;k=Ja.call(c,"namespace")?c.namespace.split("."):
[];F=j=g=g||X;if(!(3===g.nodeType||8===g.nodeType)&&!Jc.test(D+r.event.triggered))if(0<=D.indexOf(".")&&(k=D.split("."),D=k.shift(),k.sort()),m=0>D.indexOf(":")&&"on"+D,c=c[r.expando]?c:new r.Event(D,"object"===typeof c&&c),c.isTrigger=h?2:3,c.namespace=k.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=g),f=null==f?[c]:r.makeArray(f,[c]),k=r.event.special[D]||{},h||!(k.trigger&&!1===k.trigger.apply(g,f))){if(!h&&!k.noBubble&&
!r.isWindow(g)){n=k.delegateType||D;Jc.test(n+D)||(F=F.parentNode);for(;F;F=F.parentNode)l.push(F),j=F;if(j===(g.ownerDocument||X))l.push(j.defaultView||j.parentWindow||a)}for(q=0;(F=l[q++])&&!c.isPropagationStopped();)c.type=1<q?n:k.bindType||D,(j=(r._data(F,"events")||{})[c.type]&&r._data(F,"handle"))&&j.apply(F,f),(j=m&&F[m])&&(r.acceptData(F)&&j.apply&&!1===j.apply(F,f))&&c.preventDefault();c.type=D;if(!h&&!c.isDefaultPrevented()&&(!k._default||!1===k._default.apply(l.pop(),f))&&r.acceptData(g)&&
m&&g[D]&&!r.isWindow(g)){(j=g[m])&&(g[m]=null);r.event.triggered=D;try{g[D]()}catch(K){}r.event.triggered=b;j&&(g[m]=j)}return c.result}},dispatch:function(a){var a=r.event.fix(a),c,f,g,h,j=[],m=Oa.call(arguments);c=(r._data(this,"events")||{})[a.type]||[];var F=r.event.special[a.type]||{};m[0]=a;a.delegateTarget=this;if(!(F.preDispatch&&!1===F.preDispatch.call(this,a))){j=r.event.handlers.call(this,a,c);for(c=0;(g=j[c++])&&!a.isPropagationStopped();){a.currentTarget=g.elem;for(h=0;(f=g.handlers[h++])&&
!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(f.namespace))if(a.handleObj=f,a.data=f.data,f=((r.event.special[f.origType]||{}).handle||f.handler).apply(g.elem,m),f!==b&&!1===(a.result=f))a.preventDefault(),a.stopPropagation()}F.postDispatch&&F.postDispatch.call(this,a);return a.result}},handlers:function(a,c){var f,g,h,j,m=[],F=c.delegateCount,n=a.target;if(F&&n.nodeType&&(!a.button||"click"!==a.type))for(;n!=this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||
"click"!==a.type)){h=[];for(j=0;j<F;j++)g=c[j],f=g.selector+" ",h[f]===b&&(h[f]=g.needsContext?0<=r(f,this).index(n):r.find(f,this,null,[n]).length),h[f]&&h.push(g);h.length&&m.push({elem:n,handlers:h})}F<c.length&&m.push({elem:this,handlers:c.slice(F)});return m},fix:function(a){if(a[r.expando])return a;var b,c,f;b=a.type;var g=a,h=this.fixHooks[b];h||(this.fixHooks[b]=h=Tc.test(b)?this.mouseHooks:Sc.test(b)?this.keyHooks:{});f=h.props?this.props.concat(h.props):this.props;a=new r.Event(g);for(b=
f.length;b--;)c=f[b],a[c]=g[c];a.target||(a.target=g.srcElement||X);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return h.filter?h.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,c){var f,g,h=c.button,j=c.fromElement;null==a.pageX&&null!=c.clientX&&(f=a.target.ownerDocument||X,g=f.documentElement,f=f.body,a.pageX=c.clientX+(g&&g.scrollLeft||f&&f.scrollLeft||0)-(g&&g.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(g&&g.scrollTop||f&&f.scrollTop||0)-(g&&g.clientTop||f&&f.clientTop||0));!a.relatedTarget&&j&&(a.relatedTarget=j===a.target?c.toElement:j);!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
u()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===u()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(r.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return r.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,f){a=r.extend(new r.Event,c,{type:a,
isSimulated:!0,originalEvent:{}});f?r.event.trigger(a,null,b):r.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};r.removeEvent=X.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===ua&&(a[b]=null),a.detachEvent(b,c))};r.Event=function(a,b){if(!(this instanceof r.Event))return new r.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?k:l):this.type=a;b&&r.extend(this,b);this.timeStamp=a&&a.timeStamp||r.now();this[r.expando]=!0};r.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=k;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=k;a&&(a.stopPropagation&&a.stopPropagation(),
a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()}};r.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,f=a.relatedTarget,g=a.handleObj;if(!f||f!==this&&!r.contains(this,f))a.type=g.origType,c=g.handler.apply(this,arguments),a.type=b;return c}}});r.support.submitBubbles||(r.event.special.submit={setup:function(){if(r.nodeName(this,"form"))return!1;
r.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=r.nodeName(a,"input")||r.nodeName(a,"button")?a.form:b)&&!r._data(a,"submitBubbles"))r.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),r._data(a,"submitBubbles",!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&r.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(r.nodeName(this,"form"))return!1;r.event.remove(this,"._submit")}});
r.support.changeBubbles||(r.event.special.change={setup:function(){if(Bc.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)r.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),r.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);r.event.simulate("change",this,a,!0)});return!1}r.event.add(this,"beforeactivate._change",function(a){a=a.target;Bc.test(a.nodeName)&&!r._data(a,
"changeBubbles")&&(r.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&r.event.simulate("change",this.parentNode,a,!0)}),r._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){r.event.remove(this,"._change");return!Bc.test(this.nodeName)}});r.support.focusinBubbles||r.each({focus:"focusin",blur:"focusout"},
function(a,b){var c=0,f=function(a){r.event.simulate(b,a.target,r.event.fix(a),!0)};r.event.special[b]={setup:function(){0===c++&&X.addEventListener(a,f,!0)},teardown:function(){0===--c&&X.removeEventListener(a,f,!0)}}});r.fn.extend({on:function(a,c,f,g,h){var j,m;if("object"===typeof a){"string"!==typeof c&&(f=f||c,c=b);for(j in a)this.on(j,c,f,a[j],h);return this}null==f&&null==g?(g=c,f=c=b):null==g&&("string"===typeof c?(g=f,f=b):(g=f,f=c,c=b));if(!1===g)g=l;else if(!g)return this;1===h&&(m=g,
g=function(a){r().off(a);return m.apply(this,arguments)},g.guid=m.guid||(m.guid=r.guid++));return this.each(function(){r.event.add(this,a,g,f,c)})},one:function(a,b,c,f){return this.on(a,b,c,f,1)},off:function(a,c,f){var g;if(a&&a.preventDefault&&a.handleObj)return g=a.handleObj,r(a.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"===typeof a){for(g in a)this.off(g,c,a[g]);return this}if(!1===c||"function"===typeof c)f=c,c=b;!1===f&&(f=l);
return this.each(function(){r.event.remove(this,a,f,c)})},trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}});var Pc=/^.[^:#\[\.,]*$/,Uc=/^(?:parents|prev(?:Until|All))/,Lc=r.expr.match.needsContext,Vc={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({find:function(a){var b,c=[],f=this,g=f.length;if("string"!==typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<g;b++)if(r.contains(f[b],
this))return!0}));for(b=0;b<g;b++)r.find(a,f[b],c);c=this.pushStack(1<g?r.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},has:function(a){var b,c=r(a,this),f=c.length;return this.filter(function(){for(b=0;b<f;b++)if(r.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(q(this,a||[],!0))},filter:function(a){return this.pushStack(q(this,a||[],!1))},is:function(a){return!!q(this,"string"===typeof a&&Lc.test(a)?r(a):a||[],!1).length},closest:function(a,b){for(var c,
f=0,g=this.length,h=[],j=Lc.test(a)||"string"!==typeof a?r(a,b||this.context):0;f<g;f++)for(c=this[f];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(j?-1<j.index(c):1===c.nodeType&&r.find.matchesSelector(c,a))){h.push(c);break}return this.pushStack(1<h.length?r.unique(h):h)},index:function(a){return!a?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof a?r.inArray(this[0],r(a)):r.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?r(a,b):r.makeArray(a&&
a.nodeType?[a]:a),c=r.merge(this.get(),c);return this.pushStack(r.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});r.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return r.dir(a,"parentNode")},parentsUntil:function(a,b,c){return r.dir(a,"parentNode",c)},next:function(a){return p(a,"nextSibling")},prev:function(a){return p(a,"previousSibling")},nextAll:function(a){return r.dir(a,"nextSibling")},prevAll:function(a){return r.dir(a,
"previousSibling")},nextUntil:function(a,b,c){return r.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return r.dir(a,"previousSibling",c)},siblings:function(a){return r.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return r.sibling(a.firstChild)},contents:function(a){return r.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,f){var g=r.map(this,b,c);"Until"!==a.slice(-5)&&(f=c);f&&"string"===typeof f&&(g=
r.filter(f,g));1<this.length&&(Vc[a]||(g=r.unique(g)),Uc.test(a)&&(g=g.reverse()));return this.pushStack(g)}});r.extend({filter:function(a,b,c){var f=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===f.nodeType?r.find.matchesSelector(f,a)?[f]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,f){for(var g=[],a=a[c];a&&9!==a.nodeType&&(f===b||1!==a.nodeType||!r(a).is(f));)1===a.nodeType&&g.push(a),a=a[c];return g},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===
a.nodeType&&a!==b&&c.push(a);return c}});var Gc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wc=/ jQuery\d+="(?:null|\d+)"/g,Mc=RegExp("<(?:"+Gc+")[\\s/>]","i"),Cc=/^\s+/,Nc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,pb=/<([\w:]+)/,M=/<tbody/i,E=/<|&#?\w+;/,qb=/<(?:script|style|link)/i,ka=/^(?:checkbox|radio)$/i,kd=/checked\s*(?:[^=]|=\s*.checked.)/i,Dc=/^$|\/(?:java|ecma)script/i,
cd=/^true\/(.*)/,ld=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Jb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:r.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},$c=n(X).appendChild(X.createElement("div"));
Jb.optgroup=Jb.option;Jb.tbody=Jb.tfoot=Jb.colgroup=Jb.caption=Jb.thead;Jb.th=Jb.td;r.fn.extend({text:function(a){return r.access(this,function(a){return a===b?r.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&A(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||
11===this.nodeType||9===this.nodeType){var b=A(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,f=a?r.filter(a,this):this,g=0;null!=(c=f[g]);g++)!b&&1===c.nodeType&&r.cleanData(C(c)),c.parentNode&&(b&&r.contains(c.ownerDocument,c)&&
G(C(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&r.cleanData(C(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&r.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return r.clone(this,a,b)})},html:function(a){return r.access(this,function(a){var c=this[0]||{},f=0,g=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Wc,
""):b;if("string"===typeof a&&!qb.test(a)&&(r.support.htmlSerialize||!Mc.test(a))&&(r.support.leadingWhitespace||!Cc.test(a))&&!Jb[(pb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Nc,"<$1></$2>");try{for(;f<g;f++)c=this[f]||{},1===c.nodeType&&(r.cleanData(C(c,!1)),c.innerHTML=a);c=0}catch(h){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=r.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(c){var f=a[b++],g=a[b++];
g&&(f&&f.parentNode!==g&&(f=this.nextSibling),r(this).remove(),g.insertBefore(c,f))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){var a=Xb.apply([],a),f,g,h,j,m=0,F=this.length,n=this,k=F-1,q=a[0],l=r.isFunction(q);if(l||!(1>=F||"string"!==typeof q||r.support.checkClone||!kd.test(q)))return this.each(function(f){var g=n.eq(f);l&&(a[0]=q.call(this,f,g.html()));g.domManip(a,b,c)});if(F&&(j=r.buildFragment(a,this[0].ownerDocument,!1,!c&&this),
f=j.firstChild,1===j.childNodes.length&&(j=f),f)){h=r.map(C(j,"script"),I);for(g=h.length;m<F;m++)f=j,m!==k&&(f=r.clone(f,!0,!0),g&&r.merge(h,C(f,"script"))),b.call(this[m],f,m);if(g){j=h[h.length-1].ownerDocument;r.map(h,w);for(m=0;m<g;m++)if(f=h[m],Dc.test(f.type||"")&&!r._data(f,"globalEval")&&r.contains(j,f))f.src?r._evalUrl(f.src):r.globalEval((f.text||f.textContent||f.innerHTML||"").replace(ld,""))}j=f=null}return this}});r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",
replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c=0,f=[],g=r(a),h=g.length-1;c<=h;c++)a=c===h?this:this.clone(!0),r(g[c])[b](a),Ya.apply(f,a.get());return this.pushStack(f)}});r.extend({clone:function(a,b,c){var f,g,h,j,F,n=r.contains(a.ownerDocument,a);r.support.html5Clone||r.isXMLDoc(a)||!Mc.test("<"+a.nodeName+">")?h=a.cloneNode(!0):($c.innerHTML=a.outerHTML,$c.removeChild(h=$c.firstChild));if((!r.support.noCloneEvent||!r.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&
!r.isXMLDoc(a)){f=C(h);F=C(a);for(j=0;null!=(g=F[j]);++j)if(f[j]){var k=f[j],q=void 0,l=void 0,D=void 0;if(1===k.nodeType){q=k.nodeName.toLowerCase();if(!r.support.noCloneEvent&&k[r.expando]){D=r._data(k);for(l in D.events)r.removeEvent(k,l,D.handle);k.removeAttribute(r.expando)}if("script"===q&&k.text!==g.text)I(k).text=g.text,w(k);else if("object"===q)k.parentNode&&(k.outerHTML=g.outerHTML),r.support.html5Clone&&(g.innerHTML&&!r.trim(k.innerHTML))&&(k.innerHTML=g.innerHTML);else if("input"===q&&
ka.test(g.type))k.defaultChecked=k.checked=g.checked,k.value!==g.value&&(k.value=g.value);else if("option"===q)k.defaultSelected=k.selected=g.defaultSelected;else if("input"===q||"textarea"===q)k.defaultValue=g.defaultValue}}}if(b)if(c){F=F||C(a);f=f||C(h);for(j=0;null!=(g=F[j]);j++)m(g,f[j])}else m(a,h);f=C(h,"script");0<f.length&&G(f,!n&&C(a,"script"));return h},buildFragment:function(a,b,c,f){for(var g,h,j,m,F,k,q=a.length,l=n(b),D=[],K=0;K<q;K++)if((h=a[K])||0===h)if("object"===r.type(h))r.merge(D,
h.nodeType?[h]:h);else if(E.test(h)){j=j||l.appendChild(b.createElement("div"));m=(pb.exec(h)||["",""])[1].toLowerCase();k=Jb[m]||Jb._default;j.innerHTML=k[1]+h.replace(Nc,"<$1></$2>")+k[2];for(g=k[0];g--;)j=j.lastChild;!r.support.leadingWhitespace&&Cc.test(h)&&D.push(b.createTextNode(Cc.exec(h)[0]));if(!r.support.tbody)for(g=(h="table"===m&&!M.test(h)?j.firstChild:"<table>"===k[1]&&!M.test(h)?j:0)&&h.childNodes.length;g--;)r.nodeName(F=h.childNodes[g],"tbody")&&!F.childNodes.length&&h.removeChild(F);
r.merge(D,j.childNodes);for(j.textContent="";j.firstChild;)j.removeChild(j.firstChild);j=l.lastChild}else D.push(b.createTextNode(h));j&&l.removeChild(j);r.support.appendChecked||r.grep(C(D,"input"),z);for(K=0;h=D[K++];)if(!(f&&-1!==r.inArray(h,f))&&(a=r.contains(h.ownerDocument,h),j=C(l.appendChild(h),"script"),a&&G(j),c))for(g=0;h=j[g++];)Dc.test(h.type||"")&&c.push(h);return l},cleanData:function(a,b){for(var c,f,g,h,j=0,m=r.expando,F=r.cache,k=r.support.deleteExpando,n=r.event.special;null!=(c=
a[j]);j++)if(b||r.acceptData(c))if(h=(g=c[m])&&F[g]){if(h.events)for(f in h.events)n[f]?r.event.remove(c,f):r.removeEvent(c,f,h.handle);F[g]&&(delete F[g],k?delete c[m]:typeof c.removeAttribute!==ua?c.removeAttribute(m):c[m]=null,Xa.push(g))}},_evalUrl:function(a){return r.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});r.fn.extend({wrapAll:function(a){if(r.isFunction(a))return this.each(function(b){r(this).wrapAll(a.call(this,b))});if(this[0]){var b=r(a,this[0].ownerDocument).eq(0).clone(!0);
this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){r.nodeName(this,
"body")||r(this).replaceWith(this.childNodes)}).end()}});var Ic,rc,Vb,Ec=/alpha\([^)]*\)/i,fd=/opacity\s*=\s*([^)]*)/,Xc=/^(top|right|bottom|left)$/,md=/^(none|table(?!-c[ea]).+)/,gd=/^margin/,id=RegExp("^("+la+")(.*)$","i"),Qc=RegExp("^("+la+")(?!px)[a-z%]+$","i"),nd=RegExp("^([+-])=("+la+")","i"),dd={BODY:"block"},F={position:"absolute",visibility:"hidden",display:"block"},hb={letterSpacing:0,fontWeight:400},Hc=["Top","Right","Bottom","Left"],sd=["Webkit","O","Moz","ms"];r.fn.extend({css:function(a,
c){return r.access(this,function(a,c,f){var g,h={},j=0;if(r.isArray(c)){g=rc(a);for(f=c.length;j<f;j++)h[c[j]]=r.css(a,c[j],!1,g);return h}return f!==b?r.style(a,c,f):r.css(a,c)},a,c,1<arguments.length)},show:function(){return J(this,!0)},hide:function(){return J(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){x(this)?r(this).show():r(this).hide()})}});r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Vb(a,"opacity");return""===c?"1":c}}}},
cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":r.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,f,g){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var h,j,m,F=r.camelCase(c),k=a.style,c=r.cssProps[F]||(r.cssProps[F]=B(k,F));m=r.cssHooks[c]||r.cssHooks[F];if(f!==b){j=typeof f;if("string"===j&&(h=nd.exec(f)))f=(h[1]+1)*h[2]+parseFloat(r.css(a,c)),j="number";if(!(null==f||"number"===
j&&isNaN(f)))if("number"===j&&!r.cssNumber[F]&&(f+="px"),!r.support.clearCloneStyle&&(""===f&&0===c.indexOf("background"))&&(k[c]="inherit"),!m||!("set"in m)||(f=m.set(a,f,g))!==b)try{k[c]=f}catch(n){}}else return m&&"get"in m&&(h=m.get(a,!1,g))!==b?h:k[c]}},css:function(a,c,f,g){var h,j;j=r.camelCase(c);c=r.cssProps[j]||(r.cssProps[j]=B(a.style,j));(j=r.cssHooks[c]||r.cssHooks[j])&&"get"in j&&(h=j.get(a,!0,f));h===b&&(h=Vb(a,c,g));"normal"===h&&c in hb&&(h=hb[c]);return""===f||f?(a=parseFloat(h),
!0===f||r.isNumeric(a)?a||0:h):h}});a.getComputedStyle?(rc=function(b){return a.getComputedStyle(b,null)},Vb=function(a,c,f){var g,h=(f=f||rc(a))?f.getPropertyValue(c)||f[c]:b,j=a.style;f&&(""===h&&!r.contains(a.ownerDocument,a)&&(h=r.style(a,c)),Qc.test(h)&&gd.test(c)&&(a=j.width,c=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=h,h=f.width,j.width=a,j.minWidth=c,j.maxWidth=g));return h}):X.documentElement.currentStyle&&(rc=function(a){return a.currentStyle},Vb=function(a,c,f){var g,h,j=(f=
f||rc(a))?f[c]:b,m=a.style;null==j&&(m&&m[c])&&(j=m[c]);if(Qc.test(j)&&!Xc.test(c)){f=m.left;if(h=(g=a.runtimeStyle)&&g.left)g.left=a.currentStyle.left;m.left="fontSize"===c?"1em":j;j=m.pixelLeft+"px";m.left=f;h&&(g.left=h)}return""===j?"auto":j});r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,f){if(c)return 0===a.offsetWidth&&md.test(r.css(a,"display"))?r.swap(a,F,function(){return N(a,b,f)}):N(a,b,f)},set:function(a,c,f){var g=f&&rc(a);return P(a,c,f?v(a,b,f,r.support.boxSizing&&
"border-box"===r.css(a,"boxSizing",!1,g),g):0)}}});r.support.opacity||(r.cssHooks.opacity={get:function(a,b){return fd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,f=a.currentStyle,g=r.isNumeric(b)?"alpha(opacity="+100*b+")":"",h=f&&f.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===r.trim(h.replace(Ec,""))&&c.removeAttribute)if(c.removeAttribute("filter"),""===b||f&&!f.filter)return;c.filter=Ec.test(h)?
h.replace(Ec,g):h+" "+g}});r(function(){r.support.reliableMarginRight||(r.cssHooks.marginRight={get:function(a,b){if(b)return r.swap(a,{display:"inline-block"},Vb,[a,"marginRight"])}});!r.support.pixelPosition&&r.fn.position&&r.each(["top","left"],function(a,b){r.cssHooks[b]={get:function(a,c){if(c)return c=Vb(a,b),Qc.test(c)?r(a).position()[b]+"px":c}}})});r.expr&&r.expr.filters&&(r.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!r.support.reliableHiddenOffsets&&"none"===
(a.style&&a.style.display||r.css(a,"display"))},r.expr.filters.visible=function(a){return!r.expr.filters.hidden(a)});r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var f=0,g={},c="string"===typeof c?c.split(" "):[c];4>f;f++)g[a+Hc[f]+b]=c[f]||c[f-2]||c[0];return g}};gd.test(a)||(r.cssHooks[a+b].set=P)});var Ed=/%20/g,Cd=/\[\]$/,td=/\r?\n/g,Fd=/^(?:submit|button|image|reset|file)$/i,Gd=/^(?:input|select|textarea|keygen)/i;r.fn.extend({serialize:function(){return r.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&Gd.test(this.nodeName)&&!Fd.test(a)&&(this.checked||!ka.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:r.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(td,"\r\n")}}):{name:b.name,value:c.replace(td,"\r\n")}}).get()}});r.param=function(a,c){var f,g=[],h=function(a,b){b=
r.isFunction(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=r.ajaxSettings&&r.ajaxSettings.traditional);if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){h(this.name,this.value)});else for(f in a)O(f,a[f],c,h);return g.join("&").replace(Ed,"+")};r.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){r.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,f){return this.on(b,a,c,f)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Oc,Fc,od=r.now(),pd=/\?/,Hd=/#.*$/,ud=/([?&])_=[^&]*/,Id=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
Jd=/^(?:GET|HEAD)$/,Kd=/^\/\//,vd=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,wd=r.fn.load,xd={},jd={},yd="*/".concat("*");try{Fc=ec.href}catch(Od){Fc=X.createElement("a"),Fc.href="",Fc=Fc.href}Oc=vd.exec(Fc.toLowerCase())||[];r.fn.load=function(a,c,f){if("string"!==typeof a&&wd)return wd.apply(this,arguments);var g,h,j,m=this,F=a.indexOf(" ");0<=F&&(g=a.slice(F,a.length),a=a.slice(0,F));r.isFunction(c)?(f=c,c=b):c&&"object"===typeof c&&(j="POST");0<m.length&&r.ajax({url:a,type:j,dataType:"html",
data:c}).done(function(a){h=arguments;m.html(g?r("<div>").append(r.parseHTML(a)).find(g):a)}).complete(f&&function(a,b){m.each(f,h||[a.responseText,b,a])});return this};r.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){r.fn[b]=function(a){return this.on(b,a)}});r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fc,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Oc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":yd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":r.parseJSON,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?K(K(a,r.ajaxSettings),b):K(r.ajaxSettings,a)},ajaxPrefilter:D(xd),ajaxTransport:D(jd),ajax:function(a,
c){function f(a,c,g,h){var q,H,u,T;T=c;if(2!==A){A=2;F&&clearTimeout(F);n=b;m=h||"";w.readyState=0<a?4:0;h=200<=a&&300>a||304===a;if(g){u=l;for(var hb=w,ia,y,v,C,U=u.contents,Q=u.dataTypes;"*"===Q[0];)Q.shift(),y===b&&(y=u.mimeType||hb.getResponseHeader("Content-Type"));if(y)for(C in U)if(U[C]&&U[C].test(y)){Q.unshift(C);break}if(Q[0]in g)v=Q[0];else{for(C in g){if(!Q[0]||u.converters[C+" "+Q[0]]){v=C;break}ia||(ia=C)}v=v||ia}v?(v!==Q[0]&&Q.unshift(v),u=g[v]):u=void 0}a:{g=l;ia=u;y=w;v=h;var R,I,
ba,hb={},U=g.dataTypes.slice();if(U[1])for(I in g.converters)hb[I.toLowerCase()]=g.converters[I];for(C=U.shift();C;)if(g.responseFields[C]&&(y[g.responseFields[C]]=ia),!ba&&(v&&g.dataFilter)&&(ia=g.dataFilter(ia,g.dataType)),ba=C,C=U.shift())if("*"===C)C=ba;else if("*"!==ba&&ba!==C){I=hb[ba+" "+C]||hb["* "+C];if(!I)for(R in hb)if(u=R.split(" "),u[1]===C&&(I=hb[ba+" "+u[0]]||hb["* "+u[0]])){!0===I?I=hb[R]:!0!==hb[R]&&(C=u[0],U.unshift(u[1]));break}if(!0!==I)if(I&&g["throws"])ia=I(ia);else try{ia=I(ia)}catch(x){u=
{state:"parsererror",error:I?x:"No conversion from "+ba+" to "+C};break a}}u={state:"success",data:ia}}if(h)l.ifModified&&((T=w.getResponseHeader("Last-Modified"))&&(r.lastModified[j]=T),(T=w.getResponseHeader("etag"))&&(r.etag[j]=T)),204===a||"HEAD"===l.type?T="nocontent":304===a?T="notmodified":(T=u.state,q=u.data,H=u.error,h=!H);else if(H=T,a||!T)T="error",0>a&&(a=0);w.status=a;w.statusText=(c||T)+"";h?p.resolveWith(D,[q,T,w]):p.rejectWith(D,[w,T,H]);w.statusCode(O);O=b;k&&K.trigger(h?"ajaxSuccess":
"ajaxError",[w,l,h?q:H]);Y.fireWith(D,[w,T]);k&&(K.trigger("ajaxComplete",[w,l]),--r.active||r.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=b);var c=c||{},g,h,j,m,F,k,n,q,l=r.ajaxSetup({},c),D=l.context||l,K=l.context&&(D.nodeType||D.jquery)?r(D):r.event,p=r.Deferred(),Y=r.Callbacks("once memory"),O=l.statusCode||{},u={},T={},A=0,hb="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===A){if(!q)for(q={};b=Id.exec(m);)q[b[1].toLowerCase()]=b[2];b=q[a.toLowerCase()]}return null==
b?null:b},getAllResponseHeaders:function(){return 2===A?m:null},setRequestHeader:function(a,b){var c=a.toLowerCase();A||(a=T[c]=T[c]||a,u[a]=b);return this},overrideMimeType:function(a){A||(l.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>A)for(b in a)O[b]=[O[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){a=a||hb;n&&n.abort(a);f(0,a);return this}};p.promise(w).complete=Y.add;w.success=w.done;w.error=w.fail;l.url=((a||l.url||Fc)+"").replace(Hd,"").replace(Kd,Oc[1]+
"//");l.type=c.method||c.type||l.method||l.type;l.dataTypes=r.trim(l.dataType||"*").toLowerCase().match(ha)||[""];null==l.crossDomain&&(g=vd.exec(l.url.toLowerCase()),l.crossDomain=!(!g||!(g[1]!==Oc[1]||g[2]!==Oc[2]||(g[3]||("http:"===g[1]?"80":"443"))!==(Oc[3]||("http:"===Oc[1]?"80":"443")))));l.data&&(l.processData&&"string"!==typeof l.data)&&(l.data=r.param(l.data,l.traditional));H(xd,l,c,w);if(2===A)return w;(k=l.global)&&0===r.active++&&r.event.trigger("ajaxStart");l.type=l.type.toUpperCase();
l.hasContent=!Jd.test(l.type);j=l.url;l.hasContent||(l.data&&(j=l.url+=(pd.test(j)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=ud.test(j)?j.replace(ud,"$1_="+od++):j+(pd.test(j)?"&":"?")+"_="+od++));l.ifModified&&(r.lastModified[j]&&w.setRequestHeader("If-Modified-Since",r.lastModified[j]),r.etag[j]&&w.setRequestHeader("If-None-Match",r.etag[j]));(l.data&&l.hasContent&&!1!==l.contentType||c.contentType)&&w.setRequestHeader("Content-Type",l.contentType);w.setRequestHeader("Accept",l.dataTypes[0]&&
l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+yd+"; q=0.01":""):l.accepts["*"]);for(h in l.headers)w.setRequestHeader(h,l.headers[h]);if(l.beforeSend&&(!1===l.beforeSend.call(D,w,l)||2===A))return w.abort();hb="abort";for(h in{success:1,error:1,complete:1})w[h](l[h]);if(n=H(jd,l,c,w)){w.readyState=1;k&&K.trigger("ajaxSend",[w,l]);l.async&&0<l.timeout&&(F=setTimeout(function(){w.abort("timeout")},l.timeout));try{A=1,n.send(u,f)}catch(ia){if(2>A)f(-1,ia);else throw ia;
}}else f(-1,"No Transport");return w},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,c){return r.get(a,b,c,"script")}});r.each(["get","post"],function(a,c){r[c]=function(a,f,g,h){r.isFunction(f)&&(h=h||g,g=f,f=b);return r.ajax({url:a,type:c,dataType:h,data:f,success:g})}});r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){r.globalEval(a);
return a}}});r.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});r.ajaxTransport("script",function(a){if(a.crossDomain){var c,f=X.head||r("head")[0]||X.documentElement;return{send:function(b,g){c=X.createElement("script");c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),
c=null,b||g(200,"success")};f.insertBefore(c,f.firstChild)},abort:function(){if(c)c.onload(b,!0)}}}});var zd=[],qd=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=zd.pop()||r.expando+"_"+od++;this[a]=!0;return a}});r.ajaxPrefilter("json jsonp",function(c,f,g){var h,j,m,F=!1!==c.jsonp&&(qd.test(c.url)?"url":"string"===typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&qd.test(c.data)&&"data");if(F||"jsonp"===c.dataTypes[0])return h=c.jsonpCallback=
r.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,F?c[F]=c[F].replace(qd,"$1"+h):!1!==c.jsonp&&(c.url+=(pd.test(c.url)?"&":"?")+c.jsonp+"="+h),c.converters["script json"]=function(){m||r.error(h+" was not called");return m[0]},c.dataTypes[0]="json",j=a[h],a[h]=function(){m=arguments},g.always(function(){a[h]=j;c[h]&&(c.jsonpCallback=f.jsonpCallback,zd.push(h));m&&r.isFunction(j)&&j(m[0]);m=j=b}),"script"});var Yc,ad,Ld=0,rd=a.ActiveXObject&&function(){for(var a in Yc)Yc[a](b,!0)};r.ajaxSettings.xhr=
a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&T()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:T;ad=r.ajaxSettings.xhr();r.support.cors=!!ad&&"withCredentials"in ad;(ad=r.support.ajax=!!ad)&&r.ajaxTransport(function(c){if(!c.crossDomain||r.support.cors){var f;return{send:function(g,h){var j,m,F=c.xhr();c.username?F.open(c.type,c.url,c.async,c.username,c.password):F.open(c.type,c.url,c.async);if(c.xhrFields)for(m in c.xhrFields)F[m]=c.xhrFields[m];
c.mimeType&&F.overrideMimeType&&F.overrideMimeType(c.mimeType);!c.crossDomain&&!g["X-Requested-With"]&&(g["X-Requested-With"]="XMLHttpRequest");try{for(m in g)F.setRequestHeader(m,g[m])}catch(k){}F.send(c.hasContent&&c.data||null);f=function(a,g){var m,k,n,l;try{if(f&&(g||4===F.readyState))if(f=b,j&&(F.onreadystatechange=r.noop,rd&&delete Yc[j]),g)4!==F.readyState&&F.abort();else{l={};m=F.status;k=F.getAllResponseHeaders();"string"===typeof F.responseText&&(l.text=F.responseText);try{n=F.statusText}catch(q){n=
""}!m&&c.isLocal&&!c.crossDomain?m=l.text?200:404:1223===m&&(m=204)}}catch(D){g||h(-1,D)}l&&h(m,n,l,k)};c.async?4===F.readyState?setTimeout(f):(j=++Ld,rd&&(Yc||(Yc={},r(a).unload(rd)),Yc[j]=f),F.onreadystatechange=f):f()},abort:function(){f&&f(b,!0)}}}});var Rc,hd,Md=/^(?:toggle|show|hide)$/,Ad=RegExp("^(?:([+-])=|)("+la+")([a-z%]*)$","i"),Nd=/queueHooks$/,ed=[function(a,b,c){var f,g,h,j,m,F=this,k={},n=a.style,l=a.nodeType&&x(a),q=r._data(a,"fxshow");c.queue||(j=r._queueHooks(a,"fx"),null==j.unqueued&&
(j.unqueued=0,m=j.empty.fire,j.empty.fire=function(){j.unqueued||m()}),j.unqueued++,F.always(function(){F.always(function(){j.unqueued--;r.queue(a,"fx").length||j.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===r.css(a,"display")&&"none"===r.css(a,"float")&&(!r.support.inlineBlockNeedsLayout||"inline"===L(a.nodeName)?n.display="inline-block":n.zoom=1);c.overflow&&(n.overflow="hidden",r.support.shrinkWrapBlocks||F.always(function(){n.overflow=
c.overflow[0];n.overflowX=c.overflow[1];n.overflowY=c.overflow[2]}));for(f in b)if(g=b[f],Md.exec(g)&&(delete b[f],h=h||"toggle"===g,g!==(l?"hide":"show")))k[f]=q&&q[f]||r.style(a,f);if(!r.isEmptyObject(k))for(f in q?"hidden"in q&&(l=q.hidden):q=r._data(a,"fxshow",{}),h&&(q.hidden=!l),l?r(a).show():F.done(function(){r(a).hide()}),F.done(function(){var b;r._removeData(a,"fxshow");for(b in k)r.style(a,b,k[b])}),k)b=S(l?q[f]:0,f,F),f in q||(q[f]=b.start,l&&(b.end=b.start,b.start="width"===f||"height"===
f?1:0))}],Zc={"*":[function(a,b){var c=this.createTween(a,b),f=c.cur(),g=Ad.exec(b),h=g&&g[3]||(r.cssNumber[a]?"":"px"),j=(r.cssNumber[a]||"px"!==h&&+f)&&Ad.exec(r.css(c.elem,a)),m=1,F=20;if(j&&j[3]!==h){h=h||j[3];g=g||[];j=+f||1;do m=m||".5",j/=m,r.style(c.elem,a,j+h);while(m!==(m=c.cur()/f)&&1!==m&&--F)}g&&(j=c.start=+j||+f||0,c.unit=h,c.end=g[1]?j+(g[1]+1)*g[2]:+g[2]);return c}]};r.Animation=r.extend(Q,{tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,f=0,g=a.length;f<
g;f++)c=a[f],Zc[c]=Zc[c]||[],Zc[c].unshift(b)},prefilter:function(a,b){b?ed.unshift(a):ed.push(a)}});r.Tween=U;U.prototype={constructor:U,init:function(a,b,c,f,g,h){this.elem=a;this.prop=c;this.easing=g||"swing";this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=h||(r.cssNumber[c]?"":"px")},cur:function(){var a=U.propHooks[this.prop];return a&&a.get?a.get(this):U.propHooks._default.get(this)},run:function(a){var b,c=U.propHooks[this.prop];this.pos=this.options.duration?b=r.easing[this.easing](a,
this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):U.propHooks._default.set(this);return this}};U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=r.css(a.elem,a.prop,"");return!a||"auto"===a?0:a},set:function(a){if(r.fx.step[a.prop])r.fx.step[a.prop](a);
else a.elem.style&&(null!=a.elem.style[r.cssProps[a.prop]]||r.cssHooks[a.prop])?r.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,f,g){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(na(b,!0),a,f,g)}});r.fn.extend({fadeTo:function(a,b,c,f){return this.filter(x).css("opacity",
0).show().end().animate({opacity:b},a,c,f)},animate:function(a,b,c,f){var g=r.isEmptyObject(a),h=r.speed(b,c,f),b=function(){var b=Q(this,r.extend({},a),h);(g||r._data(this,"finish"))&&b.stop(!0)};b.finish=b;return g||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(a,c,f){var g=function(a){var b=a.stop;delete a.stop;b(f)};"string"!==typeof a&&(f=c,c=a,a=b);c&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",h=r.timers,j=r._data(this);if(c)j[c]&&
j[c].stop&&g(j[c]);else for(c in j)j[c]&&(j[c].stop&&Nd.test(c))&&g(j[c]);for(c=h.length;c--;)if(h[c].elem===this&&(null==a||h[c].queue===a))h[c].anim.stop(f),b=!1,h.splice(c,1);(b||!f)&&r.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=r._data(this),f=c[a+"queue"];b=c[a+"queueHooks"];var g=r.timers,h=f?f.length:0;c.finish=!0;r.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,
1));for(b=0;b<h;b++)f[b]&&f[b].finish&&f[b].finish.call(this);delete c.finish})}});r.each({slideDown:na("show"),slideUp:na("hide"),slideToggle:na("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});r.speed=function(a,b,c){var f=a&&"object"===typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};f.duration=r.fx.off?0:"number"===typeof f.duration?
f.duration:f.duration in r.fx.speeds?r.fx.speeds[f.duration]:r.fx.speeds._default;if(null==f.queue||!0===f.queue)f.queue="fx";f.old=f.complete;f.complete=function(){r.isFunction(f.old)&&f.old.call(this);f.queue&&r.dequeue(this,f.queue)};return f};r.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};r.timers=[];r.fx=U.prototype.init;r.fx.tick=function(){var a,c=r.timers,f=0;for(Rc=r.now();f<c.length;f++)a=c[f],!a()&&c[f]===a&&c.splice(f--,1);c.length||r.fx.stop();
Rc=b};r.fx.timer=function(a){a()&&r.timers.push(a)&&r.fx.start()};r.fx.interval=13;r.fx.start=function(){hd||(hd=setInterval(r.fx.tick,r.fx.interval))};r.fx.stop=function(){clearInterval(hd);hd=null};r.fx.speeds={slow:600,fast:200,_default:400};r.fx.step={};r.expr&&r.expr.filters&&(r.expr.filters.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length});r.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){r.offset.setOffset(this,a,b)});var c,
f,g={top:0,left:0},h=(f=this[0])&&f.ownerDocument;if(h){c=h.documentElement;if(!r.contains(c,f))return g;typeof f.getBoundingClientRect!==ua&&(g=f.getBoundingClientRect());f=Y(h);return{top:g.top+(f.pageYOffset||c.scrollTop)-(c.clientTop||0),left:g.left+(f.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}};r.offset={setOffset:function(a,b,c){var f=r.css(a,"position");"static"===f&&(a.style.position="relative");var g=r(a),h=g.offset(),j=r.css(a,"top"),m=r.css(a,"left"),F={},k={};("absolute"===f||"fixed"===
f)&&-1<r.inArray("auto",[j,m])?(k=g.position(),f=k.top,m=k.left):(f=parseFloat(j)||0,m=parseFloat(m)||0);r.isFunction(b)&&(b=b.call(a,c,h));null!=b.top&&(F.top=b.top-h.top+f);null!=b.left&&(F.left=b.left-h.left+m);"using"in b?b.using.call(a,F):g.css(F)}};r.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},f=this[0];"fixed"===r.css(f,"position")?b=f.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),r.nodeName(a[0],"html")||(c=a.offset()),c.top+=r.css(a[0],"borderTopWidth",
!0),c.left+=r.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-r.css(f,"marginTop",!0),left:b.left-c.left-r.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||fc;a&&!r.nodeName(a,"html")&&"static"===r.css(a,"position");)a=a.offsetParent;return a||fc})}});r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var f=/Y/.test(c);r.fn[a]=function(g){return r.access(this,function(a,g,h){var j=Y(a);if(h===b)return j?c in j?j[c]:
j.document.documentElement[g]:a[g];j?j.scrollTo(!f?h:r(j).scrollLeft(),f?h:r(j).scrollTop()):a[g]=h},a,g,arguments.length,null)}});r.each({Height:"height",Width:"width"},function(a,c){r.each({padding:"inner"+a,content:c,"":"outer"+a},function(f,g){r.fn[g]=function(g,h){var j=arguments.length&&(f||"boolean"!==typeof g),m=f||(!0===g||!0===h?"margin":"border");return r.access(this,function(c,f,g){return r.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+
a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):g===b?r.css(c,f,m):r.style(c,f,g,m)},c,j?g:b,j,null)}})});r.fn.size=function(){return this.length};r.fn.andSelf=r.fn.addBack;"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=r:(a.jQuery=a.$=r,"function"===typeof define&&define.amd&&define("jquery",[],function(){return r}))})(window);(function(){function a(a){return function(b,c,f,g){var c=C(c,g,4),h=!N(b)&&m.keys(b),j=(h||b).length,k=0<a?0:j-1;3>arguments.length&&(f=b[h?h[k]:k],k+=a);for(var n=c,l=f;0<=k&&j>k;k+=a)var q=h?h[k]:k,l=n(l,b[q],q,b);return l}}function b(a){return function(b,c,f){for(var c=z(c,f),f=v(b),g=0<a?0:f-1;0<=g&&f>g;g+=a)if(c(b[g],g,b))return g;return-1}}function c(a,b,c){return function(f,g,h){var j=0,k=v(f);if("number"==typeof h)0<a?j=0<=h?h:Math.max(h+k,j):k=0<=h?Math.min(h+1,k):h+k+1;else if(c&&h&&k)return h=
c(f,g),f[h]===g?h:-1;if(g!==g)return h=b(u.call(f,j,k),m.isNaN),0<=h?h+j:-1;for(h=0<a?j:k-1;0<=h&&k>h;h+=a)if(f[h]===g)return h;return-1}}function f(a,b){var c=H.length,f=a.constructor,f=m.isFunction(f)&&f.prototype||k,g="constructor";for(m.has(a,g)&&!m.contains(b,g)&&b.push(g);c--;)g=H[c],g in a&&a[g]!==f[g]&&!m.contains(b,g)&&b.push(g)}var g=this,h=g._,j=Array.prototype,k=Object.prototype,l=j.push,u=j.slice,p=k.toString,q=k.hasOwnProperty,n=Array.isArray,A=Object.keys,I=Function.prototype.bind,
w=Object.create,G=function(){},m=function(a){return a instanceof m?a:this instanceof m?void(this._wrapped=a):new m(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):g._=m;m.VERSION="1.8.3";var C=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,f){return a.call(b,c,f)};case 3:return function(c,f,g){return a.call(b,c,f,g)};case 4:return function(c,f,g,h){return a.call(b,
c,f,g,h)}}return function(){return a.apply(b,arguments)}},z=function(a,b,c){return null==a?m.identity:m.isFunction(a)?C(a,b,c):m.isObject(a)?m.matcher(a):m.property(a)};m.iteratee=function(a,b){return z(a,b,1/0)};var B=function(a,b){return function(c){var f=arguments.length;if(2>f||null==c)return c;for(var g=1;f>g;g++)for(var h=arguments[g],j=a(h),m=j.length,k=0;m>k;k++){var n=j[k];b&&void 0!==c[n]||(c[n]=h[n])}return c}},x=function(a){if(!m.isObject(a))return{};if(w)return w(a);G.prototype=a;a=new G;
return G.prototype=null,a},J=function(a){return function(b){return null==b?void 0:b[a]}},P=Math.pow(2,53)-1,v=J("length"),N=function(a){a=v(a);return"number"==typeof a&&0<=a&&P>=a};m.each=m.forEach=function(a,b,c){var b=C(b,c),f;if(N(a)){c=0;for(f=a.length;f>c;c++)b(a[c],c,a)}else{var g=m.keys(a),c=0;for(f=g.length;f>c;c++)b(a[g[c]],g[c],a)}return a};m.map=m.collect=function(a,b,c){for(var b=z(b,c),c=!N(a)&&m.keys(a),f=(c||a).length,g=Array(f),h=0;f>h;h++){var j=c?c[h]:h;g[h]=b(a[j],j,a)}return g};
m.reduce=m.foldl=m.inject=a(1);m.reduceRight=m.foldr=a(-1);m.find=m.detect=function(a,b,c){var f;return f=N(a)?m.findIndex(a,b,c):m.findKey(a,b,c),void 0!==f&&-1!==f?a[f]:void 0};m.filter=m.select=function(a,b,c){var f=[];return b=z(b,c),m.each(a,function(a,c,g){b(a,c,g)&&f.push(a)}),f};m.reject=function(a,b,c){return m.filter(a,m.negate(z(b)),c)};m.every=m.all=function(a,b,c){for(var b=z(b,c),c=!N(a)&&m.keys(a),f=(c||a).length,g=0;f>g;g++){var h=c?c[g]:g;if(!b(a[h],h,a))return!1}return!0};m.some=
m.any=function(a,b,c){for(var b=z(b,c),c=!N(a)&&m.keys(a),f=(c||a).length,g=0;f>g;g++){var h=c?c[g]:g;if(b(a[h],h,a))return!0}return!1};m.contains=m.includes=m.include=function(a,b,c,f){return N(a)||(a=m.values(a)),("number"!=typeof c||f)&&(c=0),0<=m.indexOf(a,b,c)};m.invoke=function(a,b){var c=u.call(arguments,2),f=m.isFunction(b);return m.map(a,function(a){var g=f?b:a[b];return null==g?g:g.apply(a,c)})};m.pluck=function(a,b){return m.map(a,m.property(b))};m.where=function(a,b){return m.filter(a,
m.matcher(b))};m.findWhere=function(a,b){return m.find(a,m.matcher(b))};m.max=function(a,b,c){var f,g=-1/0,h=-1/0;if(null==b&&null!=a)for(var a=N(a)?a:m.values(a),j=0,k=a.length;k>j;j++)c=a[j],c>g&&(g=c);else b=z(b,c),m.each(a,function(a,c,j){f=b(a,c,j);(f>h||f===-1/0&&g===-1/0)&&(g=a,h=f)});return g};m.min=function(a,b,c){var f,g=1/0,h=1/0;if(null==b&&null!=a)for(var a=N(a)?a:m.values(a),j=0,k=a.length;k>j;j++)c=a[j],g>c&&(g=c);else b=z(b,c),m.each(a,function(a,c,j){f=b(a,c,j);(h>f||1/0===f&&1/0===
g)&&(g=a,h=f)});return g};m.shuffle=function(a){for(var b=N(a)?a:m.values(a),c=b.length,f=Array(c),g=0;c>g;g++)a=m.random(0,g),a!==g&&(f[g]=f[a]),f[a]=b[g];return f};m.sample=function(a,b,c){return null==b||c?(N(a)||(a=m.values(a)),a[m.random(a.length-1)]):m.shuffle(a).slice(0,Math.max(0,b))};m.sortBy=function(a,b,c){return b=z(b,c),m.pluck(m.map(a,function(a,c,f){return{value:a,index:c,criteria:b(a,c,f)}}).sort(function(a,b){var c=a.criteria,f=b.criteria;if(c!==f){if(c>f||void 0===c)return 1;if(f>
c||void 0===f)return-1}return a.index-b.index}),"value")};var L=function(a){return function(b,c,f){var g={};return c=z(c,f),m.each(b,function(f,h){var j=c(f,h,b);a(g,f,j)}),g}};m.groupBy=L(function(a,b,c){m.has(a,c)?a[c].push(b):a[c]=[b]});m.indexBy=L(function(a,b,c){a[c]=b});m.countBy=L(function(a,b,c){m.has(a,c)?a[c]++:a[c]=1});m.toArray=function(a){return a?m.isArray(a)?u.call(a):N(a)?m.map(a,m.identity):m.values(a):[]};m.size=function(a){return null==a?0:N(a)?a.length:m.keys(a).length};m.partition=
function(a,b,c){var b=z(b,c),f=[],g=[];return m.each(a,function(a,c,h){(b(a,c,h)?f:g).push(a)}),[f,g]};m.first=m.head=m.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:m.initial(a,a.length-b)};m.initial=function(a,b,c){return u.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))};m.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:m.rest(a,Math.max(0,a.length-b))};m.rest=m.tail=m.drop=function(a,b,c){return u.call(a,null==b||c?1:b)};m.compact=function(a){return m.filter(a,
m.identity)};var y=function(a,b,c,f){for(var g=[],h=0,f=f||0,j=v(a);j>f;f++){var k=a[f];if(N(k)&&(m.isArray(k)||m.isArguments(k))){b||(k=y(k,b,c));var n=0,l=k.length;for(g.length+=l;l>n;)g[h++]=k[n++]}else c||(g[h++]=k)}return g};m.flatten=function(a,b){return y(a,b,!1)};m.without=function(a){return m.difference(a,u.call(arguments,1))};m.uniq=m.unique=function(a,b,c,f){m.isBoolean(b)||(f=c,c=b,b=!1);null!=c&&(c=z(c,f));for(var f=[],g=[],h=0,j=v(a);j>h;h++){var k=a[h],n=c?c(k,h,a):k;b?(h&&g===n||f.push(k),
g=n):c?m.contains(g,n)||(g.push(n),f.push(k)):m.contains(f,k)||f.push(k)}return f};m.union=function(){return m.uniq(y(arguments,!0,!0))};m.intersection=function(a){for(var b=[],c=arguments.length,f=0,g=v(a);g>f;f++){var h=a[f];if(!m.contains(b,h)){for(var j=1;c>j&&m.contains(arguments[j],h);j++);j===c&&b.push(h)}}return b};m.difference=function(a){var b=y(arguments,!0,!0,1);return m.filter(a,function(a){return!m.contains(b,a)})};m.zip=function(){return m.unzip(arguments)};m.unzip=function(a){for(var b=
a&&m.max(a,v).length||0,c=Array(b),f=0;b>f;f++)c[f]=m.pluck(a,f);return c};m.object=function(a,b){for(var c={},f=0,g=v(a);g>f;f++)b?c[a[f]]=b[f]:c[a[f][0]]=a[f][1];return c};m.findIndex=b(1);m.findLastIndex=b(-1);m.sortedIndex=function(a,b,c,f){for(var c=z(c,f,1),b=c(b),f=0,g=v(a);g>f;){var h=Math.floor((f+g)/2);c(a[h])<b?f=h+1:g=h}return f};m.indexOf=c(1,m.findIndex,m.sortedIndex);m.lastIndexOf=c(-1,m.findLastIndex);m.range=function(a,b,c){null==b&&(b=a||0,a=0);for(var c=c||1,b=Math.max(Math.ceil((b-
a)/c),0),f=Array(b),g=0;b>g;g++,a+=c)f[g]=a;return f};var O=function(a,b,c,f,g){if(!(f instanceof b))return a.apply(c,g);b=x(a.prototype);a=a.apply(b,g);return m.isObject(a)?a:b};m.bind=function(a,b){if(I&&a.bind===I)return I.apply(a,u.call(arguments,1));if(!m.isFunction(a))throw new TypeError("Bind must be called on a function");var c=u.call(arguments,2),f=function(){return O(a,f,b,this,c.concat(u.call(arguments)))};return f};m.partial=function(a){var b=u.call(arguments,1),c=function(){for(var f=
0,g=b.length,h=Array(g),j=0;g>j;j++)h[j]=b[j]===m?arguments[f++]:b[j];for(;f<arguments.length;)h.push(arguments[f++]);return O(a,c,this,this,h)};return c};m.bindAll=function(a){var b,c,f=arguments.length;if(1>=f)throw Error("bindAll must be passed function names");for(b=1;f>b;b++)c=arguments[b],a[c]=m.bind(a[c],a);return a};m.memoize=function(a,b){var c=function(f){var g=c.cache,h=""+(b?b.apply(this,arguments):f);return m.has(g,h)||(g[h]=a.apply(this,arguments)),g[h]};return c.cache={},c};m.delay=
function(a,b){var c=u.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};m.defer=m.partial(m.delay,m,1);m.throttle=function(a,b,c){var f,g,h,j=null,k=0;c||(c={});var n=function(){k=!1===c.leading?0:m.now();j=null;h=a.apply(f,g);j||(f=g=null)};return function(){var l=m.now();k||!1!==c.leading||(k=l);var q=b-(l-k);return f=this,g=arguments,0>=q||q>b?(j&&(clearTimeout(j),j=null),k=l,h=a.apply(f,g),j||(f=g=null)):j||!1===c.trailing||(j=setTimeout(n,q)),h}};m.debounce=function(a,
b,c){var f,g,h,j,k,n=function(){var l=m.now()-j;b>l&&0<=l?f=setTimeout(n,b-l):(f=null,c||(k=a.apply(h,g),f||(h=g=null)))};return function(){h=this;g=arguments;j=m.now();var l=c&&!f;return f||(f=setTimeout(n,b)),l&&(k=a.apply(h,g),h=g=null),k}};m.wrap=function(a,b){return m.partial(b,a)};m.negate=function(a){return function(){return!a.apply(this,arguments)}};m.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,f=a[b].apply(this,arguments);c--;)f=a[c].call(this,f);return f}};
m.after=function(a,b){return function(){return 1>--a?b.apply(this,arguments):void 0}};m.before=function(a,b){var c;return function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}};m.once=m.partial(m.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),H="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");m.keys=function(a){if(!m.isObject(a))return[];if(A)return A(a);var b=[],c;for(c in a)m.has(a,c)&&b.push(c);return D&&f(a,b),b};
m.allKeys=function(a){if(!m.isObject(a))return[];var b=[],c;for(c in a)b.push(c);return D&&f(a,b),b};m.values=function(a){for(var b=m.keys(a),c=b.length,f=Array(c),g=0;c>g;g++)f[g]=a[b[g]];return f};m.mapObject=function(a,b,c){for(var b=z(b,c),f=m.keys(a),g=f.length,h={},j=0;g>j;j++)c=f[j],h[c]=b(a[c],c,a);return h};m.pairs=function(a){for(var b=m.keys(a),c=b.length,f=Array(c),g=0;c>g;g++)f[g]=[b[g],a[b[g]]];return f};m.invert=function(a){for(var b={},c=m.keys(a),f=0,g=c.length;g>f;f++)b[a[c[f]]]=
c[f];return b};m.functions=m.methods=function(a){var b=[],c;for(c in a)m.isFunction(a[c])&&b.push(c);return b.sort()};m.extend=B(m.allKeys);m.extendOwn=m.assign=B(m.keys);m.findKey=function(a,b,c){for(var b=z(b,c),f,c=m.keys(a),g=0,h=c.length;h>g;g++)if(f=c[g],b(a[f],f,a))return f};m.pick=function(a,b,c){var f,g,h={},j=a;if(null==j)return h;m.isFunction(b)?(g=m.allKeys(j),f=C(b,c)):(g=y(arguments,!1,!1,1),f=function(a,b,c){return b in c},j=Object(j));for(var k=0,n=g.length;n>k;k++){var l=g[k],q=j[l];
f(q,l,j)&&(h[l]=q)}return h};m.omit=function(a,b,c){if(m.isFunction(b))b=m.negate(b);else var f=m.map(y(arguments,!1,!1,1),String),b=function(a,b){return!m.contains(f,b)};return m.pick(a,b,c)};m.defaults=B(m.allKeys,!0);m.create=function(a,b){var c=x(a);return b&&m.extendOwn(c,b),c};m.clone=function(a){return m.isObject(a)?m.isArray(a)?a.slice():m.extend({},a):a};m.tap=function(a,b){return b(a),a};m.isMatch=function(a,b){var c=m.keys(b),f=c.length;if(null==a)return!f;for(var g=Object(a),h=0;f>h;h++){var j=
c[h];if(b[j]!==g[j]||!(j in g))return!1}return!0};var K=function(a,b,c,f){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof m&&(a=a._wrapped);b instanceof m&&(b=b._wrapped);var g=p.call(a);if(g!==p.call(b))return!1;switch(g){case "[object RegExp]":case "[object String]":return""+a==""+b;case "[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case "[object Date]":case "[object Boolean]":return+a===+b}g="[object Array]"===g;if(!g){if("object"!=typeof a||"object"!=
typeof b)return!1;var h=a.constructor,j=b.constructor;if(h!==j&&(!m.isFunction(h)||!(h instanceof h&&m.isFunction(j)&&j instanceof j))&&"constructor"in a&&"constructor"in b)return!1}c=c||[];f=f||[];for(h=c.length;h--;)if(c[h]===a)return f[h]===b;if(c.push(a),f.push(b),g){if(h=a.length,h!==b.length)return!1;for(;h--;)if(!K(a[h],b[h],c,f))return!1}else{var k,g=m.keys(a);if(h=g.length,m.keys(b).length!==h)return!1;for(;h--;)if(k=g[h],!m.has(b,k)||!K(a[k],b[k],c,f))return!1}return c.pop(),f.pop(),!0};
m.isEqual=function(a,b){return K(a,b)};m.isEmpty=function(a){return null==a?!0:N(a)&&(m.isArray(a)||m.isString(a)||m.isArguments(a))?0===a.length:0===m.keys(a).length};m.isElement=function(a){return!(!a||1!==a.nodeType)};m.isArray=n||function(a){return"[object Array]"===p.call(a)};m.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};m.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){m["is"+a]=function(b){return p.call(b)==="[object "+a+"]"}});
m.isArguments(arguments)||(m.isArguments=function(a){return m.has(a,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(a){return"function"==typeof a||!1});m.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};m.isNaN=function(a){return m.isNumber(a)&&a!==+a};m.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===p.call(a)};m.isNull=function(a){return null===a};m.isUndefined=function(a){return void 0===a};m.has=function(a,b){return null!=a&&
q.call(a,b)};m.noConflict=function(){return g._=h,this};m.identity=function(a){return a};m.constant=function(a){return function(){return a}};m.noop=function(){};m.property=J;m.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}};m.matcher=m.matches=function(a){return a=m.extendOwn({},a),function(b){return m.isMatch(b,a)}};m.times=function(a,b,c){for(var f=Array(Math.max(0,a)),b=C(b,c,1),c=0;a>c;c++)f[c]=b(c);return f};m.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*
(b-a+1))};m.now=Date.now||function(){return(new Date).getTime()};n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};B=m.invert(n);J=function(a){var b=function(b){return a[b]},c="(?:"+m.keys(a).join("|")+")",f=RegExp(c),g=RegExp(c,"g");return function(a){return a=null==a?"":""+a,f.test(a)?a.replace(g,b):a}};m.escape=J(n);m.unescape=J(B);m.result=function(a,b,c){b=null==a?void 0:a[b];return void 0===b&&(b=c),m.isFunction(b)?b.call(a):b};var T=0;m.uniqueId=function(a){var b=
++T+"";return a?a+b:b};m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,U=function(a){return"\\"+S[a]};m.template=function(a,b,c){!b&&c&&(b=c);var b=m.defaults({},b,m.templateSettings),c=RegExp([(b.escape||R).source,(b.interpolate||R).source,(b.evaluate||R).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(c,function(b,c,h,
j,m){return g+=a.slice(f,m).replace(Q,U),f=m+b.length,c?g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":h?g+="'+\n((__t=("+h+"))==null?'':__t)+\n'":j&&(g+="';\n"+j+"\n__p+='"),b});g+="';\n";b.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{var h=new Function(b.variable||"obj","_",g)}catch(j){throw j.source=g,j;}c=function(a){return h.call(this,a,m)};return c.source="function("+(b.variable||
"obj")+"){\n"+g+"}",c};m.chain=function(a){a=m(a);return a._chain=!0,a};var na=function(a,b){return a._chain?m(b).chain():b};m.mixin=function(a){m.each(m.functions(a),function(b){var c=m[b]=a[b];m.prototype[b]=function(){var a=[this._wrapped];return l.apply(a,arguments),na(this,c.apply(m,a))}})};m.mixin(m);m.each("pop push reverse shift sort splice unshift".split(" "),function(a){var b=j[a];m.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||
delete c[0],na(this,c)}});m.each(["concat","join","slice"],function(a){var b=j[a];m.prototype[a]=function(){return na(this,b.apply(this._wrapped,arguments))}});m.prototype.value=function(){return this._wrapped};m.prototype.valueOf=m.prototype.toJSON=m.prototype.value;m.prototype.toString=function(){return""+this._wrapped};"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);+function(a){a.fn.emulateTransitionEnd=function(b){var c=!1,f=this;a(this).one(a.support.transition.end,function(){c=!0});setTimeout(function(){c||a(f).trigger(a.support.transition.end)},b);return this};a(function(){var b=a.support,c;a:{c=document.createElement("bootstrap");var f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},g;for(g in f)if(void 0!==c.style[g]){c={end:f[g]};break a}c=void 0}b.transition=
c})}(jQuery);+function(a){var b=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};b.prototype.close=function(b){function c(){k.trigger("closed.bs.alert").remove()}var h=a(this),j=h.attr("data-target");j||(j=(j=h.attr("href"))&&j.replace(/.*(?=#[^\s]*$)/,""));var k=a(j);b&&b.preventDefault();k.length||(k=h.hasClass("alert")?h:h.parent());k.trigger(b=a.Event("close.bs.alert"));b.isDefaultPrevented()||(k.removeClass("in"),a.support.transition&&k.hasClass("fade")?k.one(a.support.transition.end,c).emulateTransitionEnd(150):
c())};var c=a.fn.alert;a.fn.alert=function(c){return this.each(function(){var g=a(this),h=g.data("bs.alert");h||g.data("bs.alert",h=new b(this));"string"==typeof c&&h[c].call(g)})};a.fn.alert.Constructor=b;a.fn.alert.noConflict=function(){a.fn.alert=c;return this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',b.prototype.close)}(jQuery);+function(a){var b=function(c,g){this.$element=a(c);this.options=a.extend({},b.DEFAULTS,g);this.transitioning=null;this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0};b.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){if((b=this.$parent&&
this.$parent.find("> .panel > .in"))&&b.length){var c=b.data("bs.collapse");if(c&&c.transitioning)return;b.collapse("hide");c||b.data("bs.collapse",null)}var h=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[h](0);this.transitioning=1;b=function(){this.$element.removeClass("collapsing").addClass("in")[h]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return b.call(this);c=a.camelCase(["scroll",h].join("-"));this.$element.one(a.support.transition.end,
a.proxy(b,this)).emulateTransitionEnd(350)[h](this.$element[0][c])}}};b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var c=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
if(!a.support.transition)return c.call(this);this.$element[b](0).one(a.support.transition.end,a.proxy(c,this)).emulateTransitionEnd(350)}}};b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var g=a(this),h=g.data("bs.collapse"),j=a.extend({},b.DEFAULTS,g.data(),"object"==typeof c&&c);h||g.data("bs.collapse",h=new b(this,j));if("string"==typeof c)h[c]()})};a.fn.collapse.Constructor=b;a.fn.collapse.noConflict=
function(){a.fn.collapse=c;return this};a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),h,b=c.attr("data-target")||b.preventDefault()||(h=c.attr("href"))&&h.replace(/.*(?=#[^\s]+$)/,"");h=a(b);var j=(b=h.data("bs.collapse"))?"toggle":c.data(),k=c.attr("data-parent"),l=k&&a(k);if(!b||!b.transitioning)l&&l.find('[data-toggle=collapse][data-parent="'+k+'"]').not(c).addClass("collapsed"),c[h.hasClass("in")?"addClass":"removeClass"]("collapsed");h.collapse(j)})}(jQuery);+function(a){var b=function(b,c){this.options=c;this.$element=a(b);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};b.prototype.toggle=function(a){return this[!this.isShown?"show":"hide"](a)};b.prototype.show=function(b){var c=this,h=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(h);!this.isShown&&!h.isDefaultPrevented()&&(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",
'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var h=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body);c.$element.show();h&&c.$element[0].offsetWidth;c.$element.addClass("in").attr("aria-hidden",!1);c.enforceFocus();var k=a.Event("shown.bs.modal",{relatedTarget:b});h?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(k)}).emulateTransitionEnd(300):c.$element.focus().trigger(k)}))};
b.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",
a.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.focus()},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};b.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));h&&
this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(h?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,g){return this.each(function(){var h=a(this),j=h.data("bs.modal"),k=a.extend({},b.DEFAULTS,h.data(),"object"==typeof c&&
c);j||h.data("bs.modal",j=new b(this,k));if("string"==typeof c)j[c](g);else k.show&&j.show(g)})};a.fn.modal.Constructor=b;a.fn.modal.noConflict=function(){a.fn.modal=c;return this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),h=c.attr("href"),j=a(c.attr("data-target")||h&&h.replace(/.*(?=#[^\s]+$)/,"")),h=j.data("modal")?"toggle":a.extend({remote:!/#/.test(h)&&h},j.data(),c.data());b.preventDefault();j.modal(h,this).one("hide",function(){c.is(":visible")&&
c.focus()})});a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery);+function(a){var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};b.prototype.init=function(b,c,h){this.enabled=!0;this.type=b;this.$element=a(c);this.options=this.getOptions(h);b=this.options.trigger.split(" ");
for(c=b.length;c--;)if(h=b[c],"click"==h)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=h){var j="hover"==h?"mouseleave":"blur";this.$element.on(("hover"==h?"mouseenter":"focus")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(j+"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};b.prototype.getDefaults=
function(){return b.DEFAULTS};b.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();this._options&&a.each(this._options,function(a,j){c[a]!=j&&(b[a]=j)});return b};b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(c.timeout);c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)};b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout);c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)};
b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(b),!b.isDefaultPrevented())){var c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");var b="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,j=h.test(b);j&&(b=b.replace(h,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(b);this.options.container?c.appendTo(this.options.container):
c.insertAfter(this.$element);var h=this.getPosition(),k=c[0].offsetWidth,l=c[0].offsetHeight;if(j){var u=this.$element.parent(),j=b,p=document.documentElement.scrollTop||document.body.scrollTop,q="body"==this.options.container?window.innerWidth:u.outerWidth(),n="body"==this.options.container?window.innerHeight:u.outerHeight(),u="body"==this.options.container?0:u.offset().left,b="bottom"==b&&h.top+h.height+l-p>n?"top":"top"==b&&0>h.top-p-l?"bottom":"right"==b&&h.right+k>q?"left":"left"==b&&h.left-
k<u?"right":b;c.removeClass(j).addClass(b)}c=this.getCalculatedOffset(b,h,k,l);this.applyPlacement(c,b);this.hoverState=null;this.$element.trigger("shown.bs."+this.type)}};b.prototype.applyPlacement=function(a,b){var c,j=this.tip(),k=j[0].offsetWidth,l=j[0].offsetHeight,u=parseInt(j.css("margin-top"),10),p=parseInt(j.css("margin-left"),10);isNaN(u)&&(u=0);isNaN(p)&&(p=0);a.top+=u;a.left+=p;j.offset(a).addClass("in");u=j[0].offsetWidth;p=j[0].offsetHeight;"top"==b&&p!=l&&(c=!0,a.top=a.top+l-p);/bottom|top/.test(b)?
(l=0,0>a.left&&(l=-2*a.left,a.left=0,j.offset(a),u=j[0].offsetWidth),this.replaceArrow(l-k+u,u,"left")):this.replaceArrow(p-l,p,"top");c&&j.offset(a)};b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")};b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};b.prototype.hide=function(){function b(){"in"!=c.hoverState&&h.detach()}var c=this,h=this.tip(),
j=a.Event("hide.bs."+this.type);this.$element.trigger(j);if(!j.isDefaultPrevented())return h.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?h.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.hoverState=null,this.$element.trigger("hidden.bs."+this.type),this};b.prototype.fixTitle=function(){var a=this.$element;if(a.attr("title")||"string"!=typeof a.attr("data-original-title"))a.attr("data-original-title",a.attr("title")||"").attr("title","")};b.prototype.hasContent=
function(){return this.getTitle()};b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(a,b,c,j){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-j,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-j/2,left:b.left-c}:{top:b.top+b.height/2-j/2,left:b.left+
b.width}};b.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};b.prototype.enable=function(){this.enabled=!0};
b.prototype.disable=function(){this.enabled=!1};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(b){b=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;b.tip().hasClass("in")?b.leave(b):b.enter(b)};b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var g=a(this),h=g.data("bs.tooltip"),j="object"==typeof c&&
c;h||g.data("bs.tooltip",h=new b(this,j));if("string"==typeof c)h[c]()})};a.fn.tooltip.Constructor=b;a.fn.tooltip.noConflict=function(){a.fn.tooltip=c;return this}}(jQuery);+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.setContent=
function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content")[this.options.html?"html":"text"](c);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?
b.content.call(a[0]):b.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};b.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var g=a(this),h=g.data("bs.popover"),j="object"==typeof c&&c;h||g.data("bs.popover",h=new b(this,j));if("string"==typeof c)h[c]()})};a.fn.popover.Constructor=b;a.fn.popover.noConflict=function(){a.fn.popover=c;return this}}(jQuery);+function(a){function b(c,f){this.$body=a(document.body);this.$scrollElement=a(c).is(document.body)?a(window):a(c);this.options=a.extend({},b.DEFAULTS,f);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this));this.refresh();this.process()}function c(c){return this.each(function(){var f=a(this),j=f.data("bs.scrollspy"),k="object"==typeof c&&c;j||f.data("bs.scrollspy",
j=new b(this,k));if("string"==typeof c)j[c]()})}b.VERSION="3.3.6";b.DEFAULTS={offset:10};b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};b.prototype.refresh=function(){var b=this,c="offset",f=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();a.isWindow(this.$scrollElement[0])||(c="position",f=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var b=
a(this),b=b.data("target")||b.attr("href"),g=/^#./.test(b)&&a(b);return g&&g.length&&g.is(":visible")&&[[g[c]().top+f,b]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})};b.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),c=this.options.offset+b-this.$scrollElement.height(),f=this.offsets,l=this.targets,u=this.activeTarget,p;this.scrollHeight!=b&&this.refresh();if(a>=c)return u!=
(p=l[l.length-1])&&this.activate(p);if(u&&a<f[0])return this.activeTarget=null,this.clear();for(p=f.length;p--;)u!=l[p]&&a>=f[p]&&(void 0===f[p+1]||a<f[p+1])&&this.activate(l[p])};b.prototype.activate=function(b){this.activeTarget=b;this.clear();b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var f=a.fn.scrollspy;a.fn.scrollspy=c;a.fn.scrollspy.Constructor=b;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=f;return this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery);+function(a){var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),h=b.data("target");h||(h=(h=b.attr("href"))&&h.replace(/.*(?=#[^\s]*$)/,""));if(!b.parent("li").hasClass("active")){var j=c.find(".active:last a")[0],k=a.Event("show.bs.tab",{relatedTarget:j});b.trigger(k);k.isDefaultPrevented()||(h=a(h),this.activate(b.parent("li"),c),this.activate(h,h.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:j})}))}};b.prototype.activate=
function(b,c,h){function j(){k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");l?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");h&&h()}var k=c.find("> .active"),l=h&&a.support.transition&&k.hasClass("fade");l?k.one(a.support.transition.end,j).emulateTransitionEnd(150):j();k.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var g=a(this),
h=g.data("bs.tab");h||g.data("bs.tab",h=new b(this));if("string"==typeof c)h[c]()})};a.fn.tab.Constructor=b;a.fn.tab.noConflict=function(){a.fn.tab=c;return this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(jQuery);+function(a){var b=function(c,g){this.options=a.extend({},b.DEFAULTS,g);this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(c);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0};b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");
var a=this.$window.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),g=this.$window.scrollTop(),h=this.$element.offset(),j=this.options.offset,k=j.top,l=j.bottom;"top"==this.affixed&&(h.top+=g);"object"!=typeof j&&(l=k=j);"function"==typeof k&&(k=j.top(this.$element));"function"==typeof l&&
(l=j.bottom(this.$element));g=null!=this.unpin&&g+this.unpin<=h.top?!1:null!=l&&h.top+this.$element.height()>=c-l?"bottom":null!=k&&g<=k?"top":!1;this.affixed!==g&&(this.unpin&&this.$element.css("top",""),h="affix"+(g?"-"+g:""),j=a.Event(h+".bs.affix"),this.$element.trigger(j),j.isDefaultPrevented()||(this.affixed=g,this.unpin="bottom"==g?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(h).trigger(a.Event(h.replace("affix","affixed"))),"bottom"==g&&this.$element.offset({top:c-
l-this.$element.height()})))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var g=a(this),h=g.data("bs.affix"),j="object"==typeof c&&c;h||g.data("bs.affix",h=new b(this,j));if("string"==typeof c)h[c]()})};a.fn.affix.Constructor=b;a.fn.affix.noConflict=function(){a.fn.affix=c;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{};c.offsetBottom&&(c.offset.bottom=c.offsetBottom);c.offsetTop&&(c.offset.top=
c.offsetTop);b.affix(c)})})}(jQuery);(function(a){a.fn.menuAim=function(b){this.each(function(){var c=a(this),f=null,g=[],h=null,j=null,k=a.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:a.noop,exit:a.noop,activate:a.noop,deactivate:a.noop,exitMenu:a.noop},b),l=function(a){a!=f&&(f&&k.deactivate(f),k.activate(a),f=a)},u=function(a){var b=p();b?j=setTimeout(function(){u(a)},b):l(a)},p=function(){function b(a,c){return(c.y-a.y)/(c.x-a.x)}if(!f||!a(f).is(k.submenuSelector))return 0;var j=c.offset(),
l={x:j.left,y:j.top-k.tolerance},p={x:j.left+c.outerWidth(),y:l.y},u={x:j.left,y:j.top+c.outerHeight()+k.tolerance},G={x:j.left+c.outerWidth(),y:u.y},m=g[g.length-1],C=g[0];if(!m)return 0;C||(C=m);if(C.x<j.left||(C.x>G.x||C.y<j.top||C.y>G.y)||h&&m.x==h.x&&m.y==h.y)return 0;var z=p,j=G;"left"==k.submenuDirection?(z=u,j=l):"below"==k.submenuDirection?(z=G,j=u):"above"==k.submenuDirection&&(z=l,j=p);l=b(m,z);p=b(m,j);z=b(C,z);C=b(C,j);if(l<z&&p>C)return h=m,300;h=null;return 0};c.mouseleave(function(){j&&
clearTimeout(j);k.exitMenu(this)&&(f&&k.deactivate(f),f=null)}).find(k.rowSelector).mouseenter(function(){j&&clearTimeout(j);k.enter(this);u(this)}).mouseleave(function(){k.exit(this)}).click(function(){l(this)});a(document).mousemove(function(a){g.push({x:a.pageX,y:a.pageY});3<g.length&&g.shift()})});return this}})(jQuery);var MobileEsp={initCompleted:!1,isWebkit:!1,isMobilePhone:!1,isIphone:!1,isAndroid:!1,isAndroidPhone:!1,isTierTablet:!1,isTierIphone:!1,isTierRichCss:!1,isTierGenericMobile:!1,engineWebKit:"webkit",deviceIphone:"iphone",deviceIpod:"ipod",deviceIpad:"ipad",deviceMacPpc:"macintosh",deviceAndroid:"android",deviceGoogleTV:"googletv",deviceHtcFlyer:"htc_flyer",deviceWinPhone7:"windows phone os 7",deviceWinPhone8:"windows phone 8",deviceWinMob:"windows ce",deviceWindows:"windows",deviceIeMob:"iemobile",
devicePpc:"ppc",enginePie:"wm5 pie",deviceBB:"blackberry",deviceBB10:"bb10",vndRIM:"vnd.rim",deviceBBStorm:"blackberry95",deviceBBBold:"blackberry97",deviceBBBoldTouch:"blackberry 99",deviceBBTour:"blackberry96",deviceBBCurve:"blackberry89",deviceBBCurveTouch:"blackberry 938",deviceBBTorch:"blackberry 98",deviceBBPlaybook:"playbook",deviceSymbian:"symbian",deviceSymbos:"symbos",deviceS60:"series60",deviceS70:"series70",deviceS80:"series80",deviceS90:"series90",devicePalm:"palm",deviceWebOS:"webos",
deviceWebOShp:"hpwos",engineBlazer:"blazer",engineXiino:"xiino",deviceNuvifone:"nuvifone",deviceBada:"bada",deviceTizen:"tizen",deviceMeego:"meego",deviceKindle:"kindle",engineSilk:"silk-accelerated",vndwap:"vnd.wap",wml:"wml",deviceTablet:"tablet",deviceBrew:"brew",deviceDanger:"danger",deviceHiptop:"hiptop",devicePlaystation:"playstation",devicePlaystationVita:"vita",deviceNintendoDs:"nitro",deviceNintendo:"nintendo",deviceWii:"wii",deviceXbox:"xbox",deviceArchos:"archos",engineOpera:"opera",engineNetfront:"netfront",
engineUpBrowser:"up.browser",engineOpenWeb:"openweb",deviceMidp:"midp",uplink:"up.link",engineTelecaQ:"teleca q",engineObigo:"obigo",devicePda:"pda",mini:"mini",mobile:"mobile",mobi:"mobi",maemo:"maemo",linux:"linux",mylocom2:"sony/com",manuSonyEricsson:"sonyericsson",manuericsson:"ericsson",manuSamsung1:"sec-sgh",manuSony:"sony",manuHtc:"htc",svcDocomo:"docomo",svcKddi:"kddi",svcVodafone:"vodafone",disUpdate:"update",uagent:"",InitDeviceScan:function(){this.initCompleted=!1;navigator&&navigator.userAgent&&
(this.uagent=navigator.userAgent.toLowerCase());this.isWebkit=this.DetectWebkit();this.isIphone=this.DetectIphone();this.isAndroid=this.DetectAndroid();this.isAndroidPhone=this.DetectAndroidPhone();this.isTierIphone=this.DetectTierIphone();this.isTierTablet=this.DetectTierTablet();this.isMobilePhone=this.DetectMobileQuick();this.isTierRichCss=this.DetectTierRichCss();this.isTierGenericMobile=this.DetectTierOtherPhones();this.initCompleted=!0},DetectIphone:function(){return this.initCompleted||this.isIphone?
this.isIphone:-1<this.uagent.search(this.deviceIphone)?this.DetectIpad()||this.DetectIpod()?!1:!0:!1},DetectIpod:function(){return-1<this.uagent.search(this.deviceIpod)?!0:!1},DetectIphoneOrIpod:function(){return this.DetectIphone()||this.DetectIpod()?!0:!1},DetectIpad:function(){return-1<this.uagent.search(this.deviceIpad)&&this.DetectWebkit()?!0:!1},DetectIos:function(){return this.DetectIphoneOrIpod()||this.DetectIpad()?!0:!1},DetectAndroid:function(){return this.initCompleted||this.isAndroid?
this.isAndroid:-1<this.uagent.search(this.deviceAndroid)||this.DetectGoogleTV()?!0:-1<this.uagent.search(this.deviceHtcFlyer)?!0:!1},DetectAndroidPhone:function(){return this.initCompleted||this.isAndroidPhone?this.isAndroidPhone:this.DetectAndroid()&&-1<this.uagent.search(this.mobile)||this.DetectOperaAndroidPhone()?!0:-1<this.uagent.search(this.deviceHtcFlyer)?!0:!1},DetectAndroidTablet:function(){return!this.DetectAndroid()||this.DetectOperaMobile()||-1<this.uagent.search(this.deviceHtcFlyer)?
!1:-1<this.uagent.search(this.mobile)?!1:!0},DetectAndroidWebKit:function(){return this.DetectAndroid()&&this.DetectWebkit()?!0:!1},DetectGoogleTV:function(){return-1<this.uagent.search(this.deviceGoogleTV)?!0:!1},DetectWebkit:function(){return this.initCompleted||this.isWebkit?this.isWebkit:-1<this.uagent.search(this.engineWebKit)?!0:!1},DetectWindowsPhone:function(){return this.DetectWindowsPhone7()||this.DetectWindowsPhone8()?!0:!1},DetectWindowsPhone7:function(){return-1<this.uagent.search(this.deviceWinPhone7)?
!0:!1},DetectWindowsPhone8:function(){return-1<this.uagent.search(this.deviceWinPhone8)?!0:!1},DetectWindowsMobile:function(){return this.DetectWindowsPhone()?!1:-1<this.uagent.search(this.deviceWinMob)||(-1<this.uagent.search(this.deviceIeMob)||-1<this.uagent.search(this.enginePie))||-1<this.uagent.search(this.devicePpc)&&!(-1<this.uagent.search(this.deviceMacPpc))?!0:-1<this.uagent.search(this.manuHtc)&&-1<this.uagent.search(this.deviceWindows)?!0:!1},DetectBlackBerry:function(){return-1<this.uagent.search(this.deviceBB)||
-1<this.uagent.search(this.vndRIM)?!0:this.DetectBlackBerry10Phone()?!0:!1},DetectBlackBerry10Phone:function(){return-1<this.uagent.search(this.deviceBB10)&&-1<this.uagent.search(this.mobile)?!0:!1},DetectBlackBerryTablet:function(){return-1<this.uagent.search(this.deviceBBPlaybook)?!0:!1},DetectBlackBerryWebKit:function(){return this.DetectBlackBerry()&&-1<this.uagent.search(this.engineWebKit)?!0:!1},DetectBlackBerryTouch:function(){return this.DetectBlackBerry()&&(-1<this.uagent.search(this.deviceBBStorm)||
-1<this.uagent.search(this.deviceBBTorch)||-1<this.uagent.search(this.deviceBBBoldTouch)||-1<this.uagent.search(this.deviceBBCurveTouch))?!0:!1},DetectBlackBerryHigh:function(){return this.DetectBlackBerryWebKit()?!1:this.DetectBlackBerry()&&(this.DetectBlackBerryTouch()||-1<this.uagent.search(this.deviceBBBold)||-1<this.uagent.search(this.deviceBBTour)||-1<this.uagent.search(this.deviceBBCurve))?!0:!1},DetectBlackBerryLow:function(){return this.DetectBlackBerry()?this.DetectBlackBerryHigh()||this.DetectBlackBerryWebKit()?
!1:!0:!1},DetectS60OssBrowser:function(){return this.DetectWebkit()?-1<this.uagent.search(this.deviceS60)||-1<this.uagent.search(this.deviceSymbian)?!0:!1:!1},DetectSymbianOS:function(){return-1<this.uagent.search(this.deviceSymbian)||-1<this.uagent.search(this.deviceS60)||-1<this.uagent.search(this.deviceSymbos)&&this.DetectOperaMobile||-1<this.uagent.search(this.deviceS70)||-1<this.uagent.search(this.deviceS80)||-1<this.uagent.search(this.deviceS90)?!0:!1},DetectPalmOS:function(){return this.DetectPalmWebOS()?
!1:-1<this.uagent.search(this.devicePalm)||-1<this.uagent.search(this.engineBlazer)||-1<this.uagent.search(this.engineXiino)?!0:!1},DetectPalmWebOS:function(){return-1<this.uagent.search(this.deviceWebOS)?!0:!1},DetectWebOSTablet:function(){return-1<this.uagent.search(this.deviceWebOShp)&&-1<this.uagent.search(this.deviceTablet)?!0:!1},DetectOperaMobile:function(){return-1<this.uagent.search(this.engineOpera)&&(-1<this.uagent.search(this.mini)||-1<this.uagent.search(this.mobi))?!0:!1},DetectOperaAndroidPhone:function(){return-1<
this.uagent.search(this.engineOpera)&&-1<this.uagent.search(this.deviceAndroid)&&-1<this.uagent.search(this.mobi)?!0:!1},DetectOperaAndroidTablet:function(){return-1<this.uagent.search(this.engineOpera)&&-1<this.uagent.search(this.deviceAndroid)&&-1<this.uagent.search(this.deviceTablet)?!0:!1},DetectKindle:function(){return-1<this.uagent.search(this.deviceKindle)&&!this.DetectAndroid()?!0:!1},DetectAmazonSilk:function(){return-1<this.uagent.search(this.engineSilk)?!0:!1},DetectGarminNuvifone:function(){return-1<
this.uagent.search(this.deviceNuvifone)?!0:!1},DetectBada:function(){return-1<this.uagent.search(this.deviceBada)?!0:!1},DetectTizen:function(){return-1<this.uagent.search(this.deviceTizen)?!0:!1},DetectMeego:function(){return-1<this.uagent.search(this.deviceMeego)?!0:!1},DetectDangerHiptop:function(){return-1<this.uagent.search(this.deviceDanger)||-1<this.uagent.search(this.deviceHiptop)?!0:!1},DetectSonyMylo:function(){return-1<this.uagent.search(this.manuSony)&&(-1<this.uagent.search(this.qtembedded)||
-1<this.uagent.search(this.mylocom2))?!0:!1},DetectMaemoTablet:function(){return-1<this.uagent.search(this.maemo)?!0:-1<this.uagent.search(this.linux)&&-1<this.uagent.search(this.deviceTablet)&&!this.DetectWebOSTablet()&&!this.DetectAndroid()?!0:!1},DetectArchos:function(){return-1<this.uagent.search(this.deviceArchos)?!0:!1},DetectGameConsole:function(){return this.DetectSonyPlaystation()||this.DetectNintendo()||this.DetectXbox()?!0:!1},DetectSonyPlaystation:function(){return-1<this.uagent.search(this.devicePlaystation)?
!0:!1},DetectGamingHandheld:function(){return-1<this.uagent.search(this.devicePlaystation)&&-1<this.uagent.search(this.devicePlaystationVita)?!0:!1},DetectNintendo:function(){return-1<this.uagent.search(this.deviceNintendo)||-1<this.uagent.search(this.deviceWii)||-1<this.uagent.search(this.deviceNintendoDs)?!0:!1},DetectXbox:function(){return-1<this.uagent.search(this.deviceXbox)?!0:!1},DetectBrewDevice:function(){return-1<this.uagent.search(this.deviceBrew)?!0:!1},DetectSmartphone:function(){return this.DetectTierIphone()||
this.DetectS60OssBrowser()||this.DetectSymbianOS()||this.DetectWindowsMobile()||this.DetectBlackBerry()||this.DetectPalmOS()?!0:!1},DetectMobileQuick:function(){return this.DetectTierTablet()?!1:this.initCompleted||this.isMobilePhone?this.isMobilePhone:this.DetectSmartphone()||-1<this.uagent.search(this.mobile)||this.DetectKindle()||this.DetectAmazonSilk()||-1<this.uagent.search(this.deviceMidp)||this.DetectBrewDevice()||this.DetectOperaMobile()||this.DetectArchos()||-1<this.uagent.search(this.engineObigo)||
-1<this.uagent.search(this.engineNetfront)||-1<this.uagent.search(this.engineUpBrowser)||-1<this.uagent.search(this.engineOpenWeb)?!0:!1},DetectMobileLong:function(){return this.DetectMobileQuick()||this.DetectGameConsole()||(this.DetectDangerHiptop()||this.DetectMaemoTablet()||this.DetectSonyMylo()||this.DetectGarminNuvifone())||-1<this.uagent.search(this.devicePda)&&!(-1<this.uagent.search(this.disUpdate))||-1<this.uagent.search(this.manuSamsung1)||-1<this.uagent.search(this.manuSonyEricsson)||
-1<this.uagent.search(this.manuericsson)||-1<this.uagent.search(this.svcDocomo)||-1<this.uagent.search(this.svcKddi)||-1<this.uagent.search(this.svcVodafone)?!0:!1},DetectTierTablet:function(){return this.initCompleted||this.isTierTablet?this.isTierTablet:this.DetectIpad()||this.DetectAndroidTablet()||this.DetectBlackBerryTablet()||this.DetectWebOSTablet()?!0:!1},DetectTierIphone:function(){return this.initCompleted||this.isTierIphone?this.isTierIphone:this.DetectIphoneOrIpod()||this.DetectAndroidPhone()||
this.DetectWindowsPhone()||this.DetectBlackBerry10Phone()||this.DetectPalmWebOS()||this.DetectBada()||this.DetectTizen()||this.DetectGamingHandheld()?!0:this.DetectBlackBerryWebKit()&&this.DetectBlackBerryTouch()?!0:!1},DetectTierRichCss:function(){return this.initCompleted||this.isTierRichCss?this.isTierRichCss:this.DetectTierIphone()||(this.DetectKindle()||this.DetectTierTablet())||!this.DetectMobileQuick()?!1:this.DetectWebkit()?!0:this.DetectS60OssBrowser()||this.DetectBlackBerryHigh()||this.DetectWindowsMobile()||
-1<this.uagent.search(this.engineTelecaQ)?!0:!1},DetectTierOtherPhones:function(){return this.initCompleted||this.isTierGenericMobile?this.isTierGenericMobile:this.DetectTierIphone()||this.DetectTierRichCss()||this.DetectTierTablet()?!1:this.DetectMobileLong()?!0:!1}};MobileEsp.InitDeviceScan();/*

 Regula: An annotation-based form-validation framework in Javascript
 Version 1.3.3-SNAPSHOT

 Written By Vivin Paliath (http://vivin.net)
 License: BSD License
 Copyright (C) 2010-2013

 Other licenses:

 DOMUtils#getElementsByAttribute
 Author: Robert Nyman
 Copyright Robert Nyman, http://www.robertnyman.com
 Free to use if this text is included
*/
(function(a,b){"function"===typeof define&&define.amd?define("utils/MapUtils",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.MapUtils=b())})(this,function(){return{iterateOverMap:function(a,b){var c=0,f;for(f in a)a.hasOwnProperty(f)&&"__size__"!==f&&(b.call(a,f,a[f],c),c++)},exists:function(a,b){for(var c=!1,f=0;!c&&f<a.length;)c=b==a[f],f++;return c},put:function(a,b,c){a.__size__||(a.__size__=0);a[b]||a.__size__++;a[b]=c},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;
return!0}}});
(function(a,b){"function"===typeof define&&define.amd?define("utils/DOMUtils",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.DOMUtils=b())})(this,function(){return{friendlyInputNames:{form:"The form",select:"The select box",textarea:"The text area",checkbox:"The checkbox",radio:"The radio button",text:"The text field",password:"The password",email:"The email",url:"The URL",number:"The number",datetime:"The datetime","datetime-local":"The local datetime",date:"The date",
month:"The month",time:"The time",week:"The week",range:"The range",tel:"The telephone number",color:"The color"},getElementsByAttribute:function(a,b,c,f){for(var a="*"==b&&a.all?a.all:a.getElementsByTagName(b),b=[],g="undefined"!==typeof f?RegExp("(^|\\s)"+f+"(\\s|$)"):null,h,j,k=0;k<a.length;k++)h=a[k],j=h.getAttribute&&h.getAttribute(c),"string"==typeof j&&0<j.length&&("undefined"===typeof f||g&&g.test(j))&&b.push(h);return b},getAttributeValueForElement:function(a,b){var c=a.getAttribute&&a.getAttribute(b)||
null;if(!c)for(var f=a.attributes,g=0;g<f.length;g++)f[g].nodeName===b&&(c=f[g].nodeValue);return c},generateRandomId:function(){return"regula-generated-"+Math.floor(1E6*Math.random())},supportsHTML5Validation:function(){return"function"===typeof document.createElement("input").checkValidity}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/GroupService",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.GroupService=b())})(this,function(){return{Group:{Default:0},ReverseGroup:{"0":"Default"},deletedGroupIndices:[],firstCustomGroupIndex:1}});
(function(a,b){"function"===typeof define&&define.amd?define("utils/ArrayUtils",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ArrayUtils=b())})(this,function(){return{explode:function(a,b){for(var c="",f=0;f<a.length;f++)c+=a[f]+b;return c.replace(RegExp(b+"$"),"")}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/ExceptionService",["utils/ArrayUtils"],b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ExceptionService=b(a.regulaModules.ArrayUtils))})(this,function(a){var b={IllegalArgumentException:function(a){this.name="IllegalArgumentException";this.message=a},ConstraintDefinitionException:function(a){this.name="ConstraintDefinitionException";this.message=a},BindException:function(a){this.name="BindException";
this.message=a},MissingFeatureException:function(a){this.name="MissingFeatureException";this.message=a}},c;for(c in b)if(b.hasOwnProperty(c)){var f=b[c];f.prototype=Error();f.prototype.constructor=f}return{Exception:b,generateExceptionMessage:function(a,b,c){var f="";null!=a?(f=a.id,f=""==b||null==b||void 0==b?f+": ":f+("."+b+": ")):""!=b&&(null!=b&&void 0!=b)&&(f="@"+b+": ");return f+c},explodeParameters:function(b){var c="Function received: {",f;for(f in b)b.hasOwnProperty(f)&&("string"==typeof b[f]?
c+=f+": "+b[f]+", ":b[f]instanceof Array&&(c+=f+": ["+a.explode(b[f],", ")+"], "));return c=c.replace(/, $/,"")+"}"}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/ValidationService",["utils/DOMUtils","utils/MapUtils","service/GroupService","service/ExceptionService","utils/ArrayUtils"],b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ValidationService=b(a.regulaModules.DOMUtils,a.regulaModules.MapUtils,a.regulaModules.GroupService,a.regulaModules.ExceptionService,a.regulaModules.ArrayUtils))})(this,function(a,b,c,f,g){function h(a,b){var c=b[a],g=a.replace(/(^[A-Z]+)/,
function(a){return a.toLowerCase()});S[g]=c.async?function(b,g,h){if("undefined"===typeof h)throw new f.Exception.IllegalArgumentException(a+" is an asynchronous constraint, but you have not provided a callback.");return c.validator.call(b,g,S,h)}:function(a,b){return c.validator.call(a,b,S)}}function j(a,b){var c=O.validateEmptyFields;"undefined"!==typeof b.ignoreEmpty&&(c=!b.ignoreEmpty);return!(Q.blank.call(a)&&!c)}function k(a){var b={YMD:{Year:0,Month:1,Day:2},MDY:{Month:0,Day:1,Year:2},DMY:{Day:0,
Month:1,Year:2}}[a.format],c=a.separator;"undefined"===typeof a.separator&&(c=/\//.test(this.value)?"/":/\./.test(this.value)?".":/ /.test(this.value)?" ":/[^0-9]+/);var f=this.value.split(c),g=new Date(f[b.Year],f[b.Month]-1,f[b.Day]),f=new Date;"undefined"!==typeof a.date&&(f=a.date.split(c),f=new Date(f[b.Year],f[b.Month]-1,f[b.Day]));return{dateToValidate:g,dateToTestAgainst:f}}function l(){return!this.validity.typeMismatch}function u(a){var b={asyncContexts:[],syncContexts:[]},c;for(c in K)if(K.hasOwnProperty(c)){var f=
K[c],g;for(g in f)if(f.hasOwnProperty(g))if(document.getElementById(g)){var h=f[g],j;for(j in h)if(h.hasOwnProperty(j)){var m=J(c,g,j);m.async?b.asyncContexts.push(m):b.syncContexts.push(m)}}else delete f[g]}b=C(b);return B(b,a)}function p(a){var b={asyncContexts:[],syncContexts:[]},c;for(c in K)if(K.hasOwnProperty(c)){var f=K[c],g;for(g in f)if(f.hasOwnProperty(g)&&f[g][a.constraintType]){var h=J(c,g,a.constraintType);h.async?b.asyncContexts.push(h):b.syncContexts.push(h)}}b=C(b);return B(b,a)}function q(a){var b=
[],c={asyncContexts:[],syncContexts:[]},h;for(h in K)if(K.hasOwnProperty(h))for(var j=K[h],m=0;m<a.elementIds.length;m++){var k=a.elementIds[m],n=j[k];if("undefined"!==typeof n)for(var l in n){if(n.hasOwnProperty(l)){var q=J(h,k,l);q.async?c.asyncContexts.push(q):c.syncContexts.push(q)}}else b.push(k)}if(0<b.length)throw new f.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: "+g.explode(b)+". "+f.explodeParameters(a));c=C(c);return B(c,a)}function n(a){var b=
[],c={asyncContexts:[],syncContexts:[]},h;for(h in K)if(K.hasOwnProperty(h))for(var j=K[h],m=0;m<a.elementIds.length;m++){var k=a.elementIds[m];"undefined"!==typeof j[k]?(k=J(h,k,a.constraintType),k.async?c.asyncContexts.push(k):c.syncContexts.push(k)):b.push(k)}if(0<b.length)throw new f.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: "+g.explode(b)+". "+f.explodeParameters(a));c=C(c);return B(c,a)}function A(a){for(var b=!1,c={groupedContexts:{}},g=0;g<
a.groups.length;){var h=a.groups[g],j=K[h];if("undefined"!==typeof j)for(var m in j){if(j.hasOwnProperty(m)){var k=j[m],n;for(n in k)if(k.hasOwnProperty(n)){var l=J(h,m,n);c.groupedContexts[h]||(c.groupedContexts[h]={asyncContexts:[],syncContexts:[]});l.async?(b=!0,c.groupedContexts[h].asyncContexts.push(l)):c.groupedContexts[h].syncContexts.push(l)}}}else throw new f.Exception.IllegalArgumentException("Undefined group in group list. "+f.explodeParameters(a));g++}c=z(c);a.groups=c.groups;c=c.uniqueConstraintsToValidate;
return x(a,c,b)}function I(a){for(var b=!1,c={groupedContexts:{}},g=0;g<a.groups.length;){var h=a.groups[g],j=K[h];if("undefined"!==typeof j){var m=!1,k;for(k in j)if(j.hasOwnProperty(k)&&j[k][a.constraintType]){var m=!0,n=J(h,k,a.constraintType);c.groupedContexts[h]||(c.groupedContexts[h]={asyncContexts:[],syncContexts:[]});n.async?(b=!0,c.groupedContexts[h].asyncContexts.push(n)):c.groupedContexts[h].syncContexts.push(n)}if(!m)throw new f.Exception.IllegalArgumentException("Constraint "+a.constraintType+
" has not been bound to any element under group "+h+". "+f.explodeParameters(a));}else throw new f.Exception.IllegalArgumentException("Undefined group in group list. "+f.explodeParameters(a));g++}c=z(c);a.groups=c.groups;c=c.uniqueConstraintsToValidate;return x(a,c,b)}function w(a){for(var b=[],c=[],h=!1,j={groupedContexts:{}},m=0;m<a.groups.length;){var k=a.groups[m],n=K[k];if(n)for(var l=0;l<a.elementIds.length;l++){var q=a.elementIds[l],D=n[q];if(D)for(var p in D){if(D.hasOwnProperty(p)){var H=
J(k,q,p);j.groupedContexts[k]||(j.groupedContexts[k]={asyncContexts:[],syncContexts:[]});H.async?(h=!0,j.groupedContexts[k].asyncContexts.push(H)):j.groupedContexts[k].syncContexts.push(H)}}else b.push(k),c.push(q)}else throw new f.Exception.IllegalArgumentException("Undefined group in group list. "+f.explodeParameters(a));m++}if(0<b.length)throw new f.Exception.IllegalArgumentException("The following elements: "+g.explode(c)+" were not found in one or more of the following group(s): ["+g.explode(b,
",").replace(/,/g,", ")+"]. "+f.explodeParameters(a));b=z(j);a.groups=b.groups;j=b.uniqueConstraintsToValidate;return x(a,j,h)}function G(a){for(var b=!1,c={groupedContexts:{}},f=0;f<a.groups.length;){for(var g=a.groups[f],h=0;h<a.elementIds.length;h++){var j=J(g,a.elementIds[h],a.constraintType);c.groupedContexts[g]||(c.groupedContexts[g]={asyncContexts:[],syncContexts:[]});j.async?(b=!0,c.groupedContexts[g].asyncContexts.push(j)):c.groupedContexts[g].syncContexts.push(j)}f++}c=z(c);a.groups=c.groups;
c=c.uniqueConstraintsToValidate;return x(a,c,b)}function m(a){var b=!0;T[a.elementId]||(T[a.elementId]={});var c=document.getElementById(a.elementId).cloneNode(!1),f=c.name.replace(/\s/g,"");"undefined"!==typeof c.type&&"radio"===c.type.toLowerCase()&&""!==f?R[f]||(R[f]={}):R[f]={};!T[a.elementId][a.elementConstraint]&&!R[f][a.elementConstraint]&&(b=!1,T[a.elementId][a.elementConstraint]=!0,"undefined"!==typeof c.type&&("radio"===c.type.toLowerCase()&&""!==f)&&(R[f][a.elementConstraint]=!0));return b}
function C(a){for(var b={asyncContexts:[],syncContexts:[]},c=0;c<a.syncContexts.length;c++){var f=a.syncContexts[c];m(f)||b.syncContexts.push(f)}for(c=0;c<a.asyncContexts.length;c++)f=a.asyncContexts[c],m(f)||b.asyncContexts.push(f);return b}function z(a){var b=[],c={groupedContexts:{}},f;for(f in a.groupedContexts)if(a.groupedContexts.hasOwnProperty(f)){for(var g=0;g<a.groupedContexts[f].syncContexts.length;g++){var h=a.groupedContexts[f].syncContexts[g];m(h)||(c.groupedContexts[f]||(c.groupedContexts[f]=
{asyncContexts:[],syncContexts:[]}),c.groupedContexts[f].syncContexts.push(h),-1==b.indexOf(f)&&b.push(f))}for(g=0;g<a.groupedContexts[f].asyncContexts.length;g++)h=a.groupedContexts[f].asyncContexts[g],m(h)||(c.groupedContexts[f]||(c.groupedContexts[f]={asyncContexts:[],syncContexts:[]}),c.groupedContexts[f].asyncContexts.push(h),-1==b.indexOf(f)&&b.push(f))}return{groups:b,uniqueConstraintsToValidate:c}}function B(a,b){var c=[];if(0<a.syncContexts.length){for(var g=[],h=0;h<a.syncContexts.length;){var j=
a.syncContexts[h];(j=P(j.group,j.elementId,j.elementConstraint,j.params))&&g.push(j);h++}c=g}if(0<a.asyncContexts.length){if(!b.callback)throw new f.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");for(var g=function(f){k++;f&&m.push(f);k===a.asyncContexts.length&&(f=m,c=0<c.length?c.concat(f):f,b.callback(c))},m=[],k=0,h=0;h<a.asyncContexts.length;h++)j=a.asyncContexts[h],v(j.group,j.elementId,j.elementConstraint,
j.params,g)}else b.callback&&b.callback(c);return c}function x(a,b,c){for(var g,h=a.groups,j=a.independent,m=[],k=0,n=!0;k<h.length&&n;){for(var n=b.groupedContexts[h[k]].syncContexts,l=0;l<n.length;l++){var q=n[l];(q=P(q.group,q.elementId,q.elementConstraint,q.params))&&m.push(q)}k++;n=0==m.length||j&&0!=m.length}g=m;if(c){if(!a.callback)throw new f.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");!a.independent&&
0<g.length&&(c=g[0].group,h=b.groupedContexts[c],b.groupedContexts={},b.groupedContexts[c]=h);var D=a.groups,K=a.independent,p=[],H=!0;(function rb(c){if(c<D.length&&H){for(var f=b.groupedContexts[D[c]].asyncContexts,h=0,j=0;j<f.length;j++){var m=f[j];v(m.group,m.elementId,m.elementConstraint,m.params,k)}var k=function(a){h++;a&&p.push(a);h===f.length&&(H=0===p.length||K&&0!=p.length,rb(++c))}}else g=0<g.length?g.concat(p):p,a.callback(g)})(0)}else a.callback&&a.callback(g);return g}function J(a,
b,c){var g=K[a];if(!g)throw new f.Exception.IllegalArgumentException("Undefined group in group list (group: "+a+", elementId: "+b+", constraint: "+c+")");g=g[b];if(!g)throw new f.Exception.IllegalArgumentException("No constraints have been defined for the element with id: "+b+" in group "+a);g=g[c];if(!g)throw new f.Exception.IllegalArgumentException("Constraint "+c+" in group "+a+" hasn't been bound to the element with id "+b);return{group:a,elementId:b,elementConstraint:c,params:g,async:H[c].async}}
function P(a,b,c,f){var g,h=N(a,b,c,f),j="";h.constraintPassed||(j=y(b,c,f),g={group:a,constraintName:c,formSpecific:H[c].formSpecific,custom:H[c].custom,compound:H[c].compound,async:H[c].async,composingConstraintViolations:h.composingConstraintViolations||[],constraintParameters:f,failingElements:h.failingElements,message:j});if(O.enableHTML5Validation)for(a=0;a<h.failingElements.length;a++)h.failingElements[a].setCustomValidity("");return g}function v(a,b,c,f,g){var h;L(a,b,c,f,function(j){var m=
"";j.constraintPassed||(m=y(b,c,f),h={group:a,constraintName:c,formSpecific:H[c].formSpecific,custom:H[c].custom,compound:H[c].compound,async:H[c].async,composingConstraintViolations:j.composingConstraintViolations||[],constraintParameters:f,failingElements:j.failingElements,message:m});if(O.enableHTML5Validation)for(m=0;m<j.failingElements.length;m++)j.failingElements[m].setCustomValidity("");g(h)})}function N(b,c,f,g){var h=!1,j=[],m=document.getElementById(c),c=[];H[f].formSpecific?(j=H[f].validator.call(m,
g,S),h=0==j.length):(H[f].compound?(c=H[f].validator.call(m,g,b,H[f],null),h=0==c.length):h=H[f].validator.call(m,g,S),h||j.push(m));b=m.cloneNode(!1).name.replace(/\s/g,"");g=m.cloneNode(!1).type;"undefined"!==typeof g&&("radio"===g.toLowerCase()&&""!==b)&&(j=a.getElementsByAttribute(document.body,"input","name",b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")));h={constraintName:f,constraintPassed:h,failingElements:j};H[f].reportAsSingleViolation||(h.composingConstraintViolations=c);return h}
function L(b,c,f,g,h){function j(b,c,g,h){var k=m.cloneNode(!1).name.replace(/\s/g,""),n=m.cloneNode(!1).type;"undefined"!==typeof n&&("radio"===n.toLowerCase()&&""!==k)&&(g=a.getElementsByAttribute(document.body,"input","name",k));b={constraintName:f,constraintPassed:b,failingElements:g};H[f].reportAsSingleViolation||(b.composingConstraintViolations=c);h(b)}var m=document.getElementById(c);H[f].formSpecific?H[f].validator.call(m,g,S,function(a){j(0===a.length,null,a,h)}):H[f].compound?H[f].validator.call(m,
g,b,H[f],function(a){var b=[],c=0===a.length;c||b.push(m);j(c,a,b,h)}):H[f].validator.call(m,g,S,function(a){var b=[];a||b.push(m);j(a,null,b,h)})}function y(b,c,f){var b=document.getElementById(b),g="",g=f.message?f.message:f.msg?f.msg:H[c].defaultMessage,h;for(h in f)if(f.hasOwnProperty(h))var j=RegExp("{"+h+"}","g"),g=g.replace(j,f[h]);if(H[c].compound&&"undefined"!==typeof H[c].composingConstraints)for(f=0;f<H[c].composingConstraints.length;f++){var m=H[c].composingConstraints[f];for(h in m.params)m.params.hasOwnProperty(h)&&
(j=RegExp("{"+h+"}","g"),g=g.replace(j,m.params[h]))}/{label}/.test(g)&&((c=a.friendlyInputNames[b.cloneNode(!1).tagName.toLowerCase()])||(c=a.friendlyInputNames[b.cloneNode(!1).type.toLowerCase()]),g=g.replace(/{label}/,c),g=g.replace(/{flags}/g,""));return g=g.replace(/\\\"/g,'"')}var O={},D={},H={},K={},T={},R={},S={},Q={checked:function(){var b=!1;if("radio"===this.type.toLowerCase()&&""!==this.name.replace(/\s/g,""))for(var c=a.getElementsByAttribute(document.body,"input","name",this.name.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")),f=0;f<c.length&&!b;)b=c[f].checked,f++;else b=this.checked;return b},selected:function(){return 0<this.selectedIndex},max:function(a){var b=!0;j(this,a)&&(b=parseFloat(this.value)<=parseFloat(a.value));return b},min:function(a){var b=!0;j(this,a)&&(b=parseFloat(this.value)>=parseFloat(a.value));return b},range:function(a){var b=!0;j(this,a)&&(b=""!=this.value.replace(/\s/g,"")&&parseFloat(this.value)<=parseFloat(a.max)&&parseFloat(this.value)>=parseFloat(a.min));return b},notBlank:function(){return""!=
this.value.replace(/\s/g,"")},blank:function(){return""===this.value.replace(/\s/g,"")},matches:function(a){var b=!0;j(this,a)&&(b="string"===typeof a.regex?a.regex.replace(/^\//,"").replace(/\/$/,""):a.regex,b=("undefined"!==typeof a.flags?RegExp(b.toString().replace(/^\//,"").replace(/\/[^\/]*$/,""),a.flags):RegExp(b)).test(this.value));return b},email:function(a){var b=!0;j(this,a)&&(b=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(this.value));
return b},alpha:function(a){var b=!0;j(this,a)&&(b=/^[A-Za-z]+$/.test(this.value));return b},numeric:function(a){var b=!0;j(this,a)&&(b=/^[0-9]+$/.test(this.value));return b},integer:function(a){var b=!0;j(this,a)&&(b=/^-?[0-9]+$/.test(this.value));return b},real:function(a){var b=!0;j(this,a)&&(b=/^-?([0-9]+(\.[0-9]+)?|\.[0-9]+)$/.test(this.value));return b},alphaNumeric:function(a){var b=!0;j(this,a)&&(b=/^[0-9A-Za-z]+$/.test(this.value));return b},completelyFilled:function(){for(var a=[],b=0;b<
this.elements.length;b++){var c=this.elements[b];Q.required.call(c)||a.push(c)}return a},passwordsMatch:function(a){var b=[],c=document.getElementById(a.field1),a=document.getElementById(a.field2);c.value!=a.value&&(b=[c,a]);return b},required:function(){var a=!0;if(this.tagName)if("select"===this.tagName.toLowerCase())a=Q.selected.call(this);else if("checkbox"===this.type.toLowerCase()||"radio"===this.type.toLowerCase())a=Q.checked.call(this);else if("input"===this.tagName.toLowerCase()||"textarea"===
this.tagName.toLowerCase())"button"!=this.type.toLowerCase()&&(a=Q.notBlank.call(this));return a},length:function(a){var b=!0;j(this,a)&&(b=this.value.length>=a.min&&this.value.length<=a.max);return b},digits:function(a){var b=!0;if(j(this,a)){var c=this.value.replace(/\s/g,""),f=c.split(/\./),b=!1;0<c.length&&(1==f.length&&(f[1]=""),b=0<a.integer?f[0].length<=a.integer:!0,0<a.fraction&&(b=b&&f[1].length<=a.fraction))}return b},past:function(a){var b=!0;j(this,a)&&(a=k.call(this,a),b=a.dateToValidate<
a.dateToTestAgainst);return b},future:function(a){var b=!0;j(this,a)&&(a=k.call(this,a),b=a.dateToValidate>a.dateToTestAgainst);return b},url:function(a){var b=!0;j(this,a)&&(b=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(this.value));
return b},step:function(a){var b=!0;if(j(this,a))var b=parseFloat(this.value),c=parseFloat(a.max),f=parseFloat(a.min),a=parseFloat(a.value),b=b<=c&&b>=f&&0===b%a;return b},html5Required:function(){return!this.validity.valueMissing},html5Email:l,html5URL:l,html5Number:l,html5DateTime:l,html5DateTimeLocal:l,html5Date:l,html5Month:l,html5Time:l,html5Week:l,html5Range:l,html5Tel:l,html5Color:l,html5Pattern:function(){return!this.validity.patternMismatch},html5MaxLength:function(){return!this.validity.tooLong},
html5Min:function(){return!this.validity.rangeUnderflow},html5Max:function(){return!this.validity.rangeOverflow},html5Step:function(){return!this.validity.stepMismatch}};return{Validator:Q,init:function(a){O=a.config;D=a.ReverseConstraint;H=a.constraintDefinitions;K=a.boundConstraints},wrapValidatorWithEmptyCheck:function(a){return function(b,c,f){var g=!0;j(this,b)&&(g=a.call(this,b,c,f));return g}},initializePublicValidators:function(a){for(var b in a)a.hasOwnProperty(b)&&h(b,a)},compoundValidator:function(a,
c,f,g){function h(c,f){var g={},j;for(j in c)c.hasOwnProperty(j)&&"__size__"!=j&&b.put(g,j,c[j]);if(0<f.length)for(j in a)a.hasOwnProperty(j)&&"__size__"!=j&&b.put(g,j,a[j]);return g}function m(a,b,c,g){var h=D[u.constraintType],b=y(b,h,g),c={group:c,constraintName:a.constraintName,custom:H[h].custom,compound:H[h].compound,async:H[h].async,constraintParameters:u.params,failingElements:a.failingElements,message:b};f.reportAsSingleViolation||(c.composingConstraintViolations=a.composingConstraintViolations||
[]);return c}for(var k=[],n=[],l=0;l<f.composingConstraints.length;l++){var q=f.composingConstraints[l];H[D[q.constraintType]].async?n.push(q):k.push(q)}var K=null,p=this;if(j(this,a)){if(0<k.length){K=[];for(l=0;l<k.length;l++){var u=k[l],q=D[u.constraintType],T=h(u.params,f.params),q=N(c,p.id,q,T);if(!q.constraintPassed){var A=m(q,p.id,c,T);if(O.enableHTML5Validation)for(var w=0;w<q.failingElements.length;w++)q.failingElements[w].setCustomValidity(A.message);K.push(A)}}}if(0<n.length){null===K&&
(K=[]);for(var C=0,l=0;l<n.length;l++)u=n[l],q=D[u.constraintType],T=h(u.params,f.params),L(c,p.id,q,T,v);var v=function(a){if(!a.constraintPassed){var b=m(a,p.id,c,T);if(O.enableHTML5Validation)for(var f=0;f<a.failingElements.length;f++)a.failingElements[f].setCustomValidity(b.message);K.push(b)}C++;C===n.length&&g(K)}}}else K=[];return K},validate:function(a){T={};R={};var b={"000":u,"001":p,"010":q,"011":n,100:A,101:I,110:w,111:G};if(!a||"undefined"===typeof a)a={};"undefined"===typeof a.independent&&
(a.independent=!0);"undefined"!==typeof a.constraintType&&(a.constraintType=D[a.constraintType]);if("undefined"!==typeof a.groups){var f=a.groups;a.groups=[];for(var g=0;g<f.length;g++)a.groups.push(c.ReverseGroup[f[g]])}if("undefined"!==typeof a.elements){a.elementIds=[];for(g=0;g<a.elements.length;g++)a.elementIds.push(a.elements[g].id)}else"undefined"!==typeof a.elementId&&(a.elementIds=[a.elementId]);return b[function(a){var b=a.elementIds||null,c=("undefined"===typeof a.constraintType?null:a.constraintType)||
null,a=""+(null==(a.groups||null)?"0":"1");return a=a+(null==b?"0":"1")+(null==c?"0":"1")}(a)](a)},runValidatorFor:N,interpolateConstraintDefaultMessage:y,createPublicValidator:h}});
(function(a,b){"function"===typeof define&&define.amd?define("domain/CompositionGraph",b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.CompositionGraph=b())})(this,function(){var a={},b={visited:!1,name:"RootNode",type:-1,parents:[],children:[]};return{ROOT:-1,addNode:function(c){var f=c.type,g=c.name,c=c.parent,g="undefined"===typeof a[f]?{visited:!1,name:g,type:f,parents:[],children:[]}:a[f];null==c?b.children.push(g):(c.children.push(g),g.parents.push(c));a[f]=g},
getNodeByType:function(b){b=a[b];return"undefined"===typeof b?null:b},analyze:function(a){a=function g(a,b){var c={cycle:!1,path:b};if(a.visited)c.cycle=!0;else{a.visited=!0;for(var l=0;l<a.children.length&&!c.cycle;)c=g(a.children[l],b+"."+a.children[l].name),l++}return c}(a,a.name);a.cycle||function h(a){a.visited=!1;for(var b=0;b<a.children.length;b++)h(a.children[b])}(b);return a},getRoot:function(){return b},setRoot:function(a){b=a},clone:function(){var a={},f=function h(b,f){var l="undefined"===
typeof a[b.type]?{visited:b.visited,name:b.name,type:b.type,parents:[],children:[]}:a[b.type];null!==f&&l.parents.push(f);for(var u=0;u<b.children.length;u++)l.children.push(h(b.children[u],l));return a[b.type]=l}(b,null);return{typeToNodeMap:a,root:f}},initializeFromClone:function(c){a=c.typeToNodeMap;b=c.root}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/ConstraintService",["service/ValidationService","domain/CompositionGraph","service/ExceptionService","utils/MapUtils","utils/ArrayUtils"],b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ConstraintService=b(a.regulaModules.ValidationService,a.regulaModules.CompositionGraph,a.regulaModules.ExceptionService,a.regulaModules.MapUtils,a.regulaModules.ArrayUtils))})(this,function(a,b,c,f,g){function h(a,
b,f){var h={error:!1,message:""};f.__size__<b.params.length&&(h={error:!0,message:c.generateExceptionMessage(a,u[b.constraintType],"@"+u[b.constraintType]+" expects at least "+b.params.length+" parameter(s). However, you have provided only "+f.__size__),data:null});for(var j=[],k=0;k<b.params.length;k++){var n=b.params[k];"undefined"===typeof f[n]&&j.push(n)}0<j.length&&(h={error:!0,message:c.generateExceptionMessage(a,u[b.constraintType],"You seem to have provided some optional or required parameters for @"+
u[b.constraintType]+", but you are still missing the following "+j.length+" required parameter(s): "+g.explode(j,", ")),data:null});return h}function j(a,c){var f=b.getNodeByType(l[a]);null==f&&(b.addNode({type:l[a],name:a,parent:null}),f=b.getNodeByType(l[a]));for(var g=0;g<f.children.length;g++){for(var h=f.children[g],j=[],k=0;k<h.parents.length;k++)h.parents[k]!==f&&j.push(h.parents[k]);h.parents=j}f.children=[];for(g=0;g<c.length;g++)h=A[u[c[g].constraintType]],b.addNode({type:h.constraintType,
name:u[h.constraintType],parent:f})}function k(a,b,g){for(var j=0;j<b.length;j++){if("undefined"===typeof b[j].constraintType)throw new c.Exception.ConstraintDefinitionException("In compound constraint "+a+": A composing constraint has no constraint type specified.");var k=b[j],n=u[k.constraintType],l={__size__:0};k.params=k.params||{};for(var q in k.params)k.params.hasOwnProperty(q)&&f.put(l,q,k.params[q]);var p=0,P;for(P in k.params)k.params.hasOwnProperty(P)&&p++;k.params.__size__=p;for(k=0;k<
g.length;k++)f.put(l,g[k],null);n=h(null,A[n],l);if(n.error)throw new c.Exception.ConstraintDefinitionException("In compound constraint "+a+": "+n.message);}}for(var l={},u={},p=0,q="Checked Selected Max Min Range Between NotBlank NotEmpty Blank Empty Pattern Matches Email Alpha IsAlpha Numeric IsNumeric AlphaNumeric IsAlphaNumeric Integer Real CompletelyFilled PasswordsMatch Required Length Digits Past Future Step URL HTML5Required HTML5Email HTML5URL HTML5MaxLength HTML5Pattern HTML5Min HTML5Max HTML5Step".split(" "),
n=0;n<q.length;n++)l[q[n]]=n,u[n]=q[n];p=n;l.Between=l.Range;l.Matches=l.Pattern;l.Empty=l.Blank;l.NotEmpty=l.NotBlank;l.IsAlpha=l.Alpha;l.IsNumeric=l.Numeric;l.IsAlphaNumeric=l.AlphaNumeric;var A={Checked:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.checked,constraintType:l.Checked,custom:!1,compound:!1,params:[],defaultMessage:"{label} needs to be checked."},Selected:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.selected,constraintType:l.Selected,custom:!1,compound:!1,params:[],
defaultMessage:"{label} needs to be selected."},Max:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.max,constraintType:l.Max,custom:!1,compound:!1,params:["value"],defaultMessage:"{label} needs to be lesser than or equal to {value}."},Min:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.min,constraintType:l.Min,custom:!1,compound:!1,params:["value"],defaultMessage:"{label} needs to be greater than or equal to {value}."},Range:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.range,
constraintType:l.Range,custom:!1,compound:!1,params:["min","max"],defaultMessage:"{label} needs to be between {min} and {max}."},NotBlank:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.notBlank,constraintType:l.NotBlank,custom:!1,compound:!1,params:[],defaultMessage:"{label} cannot be blank."},Blank:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.blank,constraintType:l.Blank,custom:!1,compound:!1,params:[],defaultMessage:"{label} needs to be blank."},Pattern:{async:!1,html5:!1,
formSpecific:!1,validator:a.Validator.matches,constraintType:l.Pattern,custom:!1,compound:!1,params:["regex"],defaultMessage:"{label} needs to match {regex}{flags}."},Email:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.email,constraintType:l.Email,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid email."},Alpha:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.alpha,constraintType:l.Alpha,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain letters."},
Numeric:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.numeric,constraintType:l.Numeric,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain numbers."},AlphaNumeric:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.alphaNumeric,constraintType:l.AlphaNumeric,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain numbers and letters."},Integer:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.integer,constraintType:l.Integer,custom:!1,compound:!1,
params:[],defaultMessage:"{label} must be an integer."},Real:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.real,constraintType:l.Real,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be a real number."},CompletelyFilled:{async:!1,html5:!1,formSpecific:!0,validator:a.Validator.completelyFilled,constraintType:l.CompletelyFilled,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be completely filled."},PasswordsMatch:{async:!1,html5:!1,formSpecific:!0,validator:a.Validator.passwordsMatch,
constraintType:l.PasswordsMatch,custom:!1,compound:!1,params:["field1","field2"],defaultMessage:"Passwords do not match."},Required:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.required,constraintType:l.Required,custom:!1,compound:!1,params:[],defaultMessage:"{label} is required."},Length:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.length,constraintType:l.Length,custom:!1,compound:!1,params:["min","max"],defaultMessage:"{label} length must be between {min} and {max}."},Digits:{async:!1,
html5:!1,formSpecific:!1,validator:a.Validator.digits,constraintType:l.Digits,custom:!1,compound:!1,params:["integer","fraction"],defaultMessage:"{label} must have up to {integer} digits and {fraction} fractional digits."},Past:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.past,constraintType:l.Past,custom:!1,compound:!1,params:["format"],defaultMessage:"{label} must be in the past."},Future:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.future,constraintType:l.Future,custom:!1,
compound:!1,params:["format"],defaultMessage:"{label} must be in the future."},Step:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.step,constraintType:l.Step,custom:!1,compound:!1,params:["min","max","value"],defaultMessage:"{label} must be equal to {min} or greater, and equal to {max} or lesser, at increments of {value}."},URL:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.url,constraintType:l.URL,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be a valid URL."},
HTML5Required:{async:!1,html5:!0,inputType:null,attribute:"required",formSpecific:!1,validator:a.Validator.html5Required,constraintType:l.HTML5Required,custom:!1,compound:!1,params:[],defaultMessage:"{label} is required."},HTML5Email:{async:!1,html5:!0,inputType:"email",attribute:null,formSpecific:!1,validator:a.Validator.html5Email,constraintType:l.HTML5Email,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid email."},HTML5Pattern:{async:!1,html5:!0,inputType:null,attribute:"pattern",
formSpecific:!1,validator:a.Validator.html5Pattern,constraintType:l.HTML5Pattern,custom:!1,compound:!1,params:["pattern"],defaultMessage:"{label} needs to match {pattern}."},HTML5URL:{async:!1,html5:!0,inputType:"url",attribute:null,formSpecific:!1,validator:a.Validator.html5URL,constraintType:l.HTML5URL,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid URL."},HTML5MaxLength:{async:!1,html5:!0,inputType:null,attribute:"maxlength",formSpecific:!1,validator:a.Validator.html5MaxLength,
constraintType:l.HTML5MaxLength,custom:!1,compound:!1,params:["maxlength"],defaultMessage:"{label} must be less than {maxlength} characters."},HTML5Min:{async:!1,html5:!0,inputType:null,attribute:"min",formSpecific:!1,validator:a.Validator.html5Min,constraintType:l.HTML5Min,custom:!1,compound:!1,params:["min"],defaultMessage:"{label} needs to be greater than or equal to {min}."},HTML5Max:{async:!1,html5:!0,inputType:null,attribute:"max",formSpecific:!1,validator:a.Validator.html5Max,constraintType:l.HTML5Max,
custom:!1,compound:!1,params:["max"],defaultMessage:"{label} needs to be lesser than or equal to {max}."},HTML5Step:{async:!1,html5:!0,inputType:null,attribute:"step",formSpecific:!1,validator:a.Validator.html5Step,constraintType:l.HTML5Step,custom:!1,compound:!1,params:["step"],defaultMessage:"{label} must be equal to the minimum value or greater at increments of {step}."}};return{Constraint:l,ReverseConstraint:u,firstCustomConstraintIndex:p,constraintDefinitions:A,override:function(f){var g="undefined"===
typeof f.async?A[f.name].async:f.async,h=f.validator;f.validatorRedefined&&!f.formSpecific&&(h=a.wrapValidatorWithEmptyCheck(h));var m=b.getNodeByType(f.constraintType);if(f.compound){k(f.name,f.composingConstraints,f.params);var n=b.clone();j(f.name,f.composingConstraints);var q=b.analyze(m);if(q.cycle)throw b.initializeFromClone(n),new c.Exception.ConstraintDefinitionException("regula.override: The overriding composing-constraints you have specified have created a cyclic composition: "+q.path);
g=!1;for(n=0;n<f.composingConstraints.length&&!g;)g=A[u[f.composingConstraints[n].constraintType]].async,n++}null!==m&&function x(a){for(var c=0;c<a.parents.length;c++){var f=a.parents[c];f.type!==b.ROOT&&(A[u[f.type]].async=g,x(f))}}(m);A[f.name]={async:g,formSpecific:f.formSpecific,constraintType:l[f.name],custom:!0,compound:f.compound,params:f.params,composingConstraints:f.composingConstraints,defaultMessage:f.defaultMessage,validator:h};A[f.name].custom&&f.validatorRedefined&&a.createPublicValidator(f.name,
A)},custom:function(b){l[b.name]=p;u[p++]=b.name;var c=b.validator;b.formSpecific||(c=a.wrapValidatorWithEmptyCheck(b.validator));A[b.name]={async:b.async,formSpecific:b.formSpecific,validator:c,constraintType:l[b.name],custom:!0,compound:!1,params:b.params,defaultMessage:b.defaultMessage};a.createPublicValidator(b.name,A)},compound:function(b){k(b.name,b.constraints,b.params);for(var c=!1,f=0;f<b.constraints.length&&!c;){var g=u[b.constraints[f].constraintType],c=c||A[g].async;f++}l[b.name]=p;u[p++]=
b.name;A[b.name]={async:c,formSpecific:b.formSpecific,constraintType:l[b.name],custom:!0,compound:!0,params:b.params,reportAsSingleViolation:b.reportAsSingleViolation,composingConstraints:b.constraints,defaultMessage:b.defaultMessage,validator:a.compoundValidator};a.createPublicValidator(b.name,A);j(b.name,b.constraints)},verifyConstraintDefinition:function(a,b,f){var g={successful:!0,message:"",data:null},j=a.cloneNode(!1);"form"==j.tagName.toLowerCase()&&!A[b].formSpecific?g={successful:!1,message:c.generateExceptionMessage(a,
b,"@"+b+" is not a form constraint, but you are trying to bind it to a form"),data:null}:"form"!=j.tagName.toLowerCase()&&A[b].formSpecific?g={successful:!1,message:c.generateExceptionMessage(a,b,"@"+b+" is a form constraint, but you are trying to bind it to a non-form element"),data:null}:("undefined"===typeof j.type||"checkbox"!=j.type.toLowerCase()&&"radio"!=j.type.toLowerCase())&&"Checked"==b?g={successful:!1,message:c.generateExceptionMessage(a,b,"@"+b+" is only applicable to checkboxes and radio buttons. You are trying to bind it to an input element that is neither a checkbox nor a radio button."),
data:null}:"select"!=j.tagName.toLowerCase()&&"Selected"==b?g={successful:!1,message:c.generateExceptionMessage(a,b,"@"+b+" is only applicable to select boxes. You are trying to bind it to an input element that is not a select box."),data:null}:(a=h(a,A[b],f),a.error?g={successful:!1,message:a.message,data:null}:g.data=f);return g},verifyParameterCountMatches:h}});
(function(a,b){"function"===typeof define&&define.amd?define("parser/Parser",["utils/MapUtils","service/ExceptionService","service/ConstraintService"],b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.Parser=b(a.regulaModules.MapUtils,a.regulaModules.ExceptionService,a.regulaModules.ConstraintService))})(this,function(a,b,c){function f(a){return a?a.replace(/^\s+/,"").replace(/\s+$/,""):""}return{parse:function(g,h){function j(a){var c={successful:!0,message:"",data:null};
if(!/[A-Za-z_]/.test(a)||"undefined"===typeof a||null==a)c={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid starting character"),data:null};return c}function k(a){var c={successful:!0,message:"",data:null};/[0-9A-Za-z_]/.test(a)||(c={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid character in identifier. Can only include 0-9, A-Z, a-z, and _")+" "+c.message,data:null});return c}function l(a){var c,h=f(a.shift());0==h.length&&(h=a.shift());c={successful:!1,message:b.generateExceptionMessage(g,
w,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _"),data:null};if("undefined"!==typeof h)if(c=j(h.charAt(0)),c.successful){for(var m=1;m<h.length&&c.successful;)c=k(h.charAt(m)),m++;c.successful&&(c.data=h)}else c={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _")+" "+c.message,data:null};if(c.successful)if(h=c.data,m=a.shift(),"="==m){0==f(a[0]).length&&a.shift();m={successful:!0,
message:"",data:[]};if(")"==a[0])m={successful:!1,message:b.generateExceptionMessage(g,w,"Parameter value expected")+" "+m.message,data:null};else if(c=a.shift(),m={successful:!0,message:"",data:null},"-"==c?(m=u(a),m.successful&&(m.data=c+m.data)):(a.unshift(c),m={successful:!1,message:b.generateExceptionMessage(g,w,"Not a negative number"),data:null}),c=m,c.successful||(c=u(a),c.successful||(c={successful:!1,message:b.generateExceptionMessage(g,w,"Parameter value is not a number")+" "+c.message,
data:null})),m=c,c=m.message,!m.successful){var m=a.shift(),n="",l={successful:!0,message:"",data:null};if('"'==m){for(var q=!1;0<a.length&&l.successful&&!q;)'"'==a[0]?(q=!0,a.shift()):(l=A(a),n+=l.data);q||(l={successful:!1,message:b.generateExceptionMessage(g,w,"Unterminated string literal"),data:null})}else a.unshift(m),l={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid quoted string"),data:null};l.successful=l.successful&&q;l.data=n;m=l;m.message=m.message+" "+c;c=m.message;if(!m.successful){q=
"";m=a.shift();n={successful:!0,message:"",data:null};if("/"==m){for(var q=m,p=!1;0<a.length&&n.successful&&!p;)"/"==a[0]?(q+=a.shift(),p=!0):(n=A(a),q+=n.data);p||(n={successful:!1,message:b.generateExceptionMessage(g,w,"Unterminated regex literal"),data:null})}else a.unshift(m),n={successful:!1,message:b.generateExceptionMessage(g,w,"Not a regular expression"),data:null};n.successful=n.successful&&p;n.data=q;m=n;m.message=m.message+" "+c;c=m.message;if(!m.successful&&(p=a.shift(),q={successful:!0,
message:"",data:null},"true"==f(p)||"false"==f(p)?q={successful:!0,message:"",data:"true"===p}:(a.unshift(p),q={successful:!1,message:b.generateExceptionMessage(g,w,"Not a boolean"),data:null}),m=q,m.message=m.message+" "+c,c=m.message,!m.successful)){p=[];q=a.shift();m={successful:!0,message:"",data:null};if("["==q)if(0==f(a[0]).length&&a.shift(),m="]"==a[0]?{successful:!0,message:"",data:""}:I(a),m.successful){p.push(m.data);for(0==f(a[0]).length&&a.shift();0<a.length&&","==a[0]&&m.successful;)a.shift(),
m=I(a),p.push(m.data),0==f(a[0]).length&&a.shift();m.data=p;q=a.shift();0==f(q).length&&a.shift();"]"!=q&&(m={successful:!1,message:b.generateExceptionMessage(g,w,"Cannot find matching closing ] in group definition")+" "+m.message,data:null})}else m={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid group definition")+" "+m.message,data:null};else a.unshift(q),m={successful:!1,message:b.generateExceptionMessage(g,w,"Not a valid group definition"),data:null};m.message=m.message+" "+c;c=
m.message;m.successful||(m={successful:!1,message:b.generateExceptionMessage(g,w,"Parameter value must be a number, quoted string, regular expression, or a boolean")+" "+c,data:null})}}}c=m;c.successful?c.data={name:h,value:c.data}:c={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid parameter value")+" "+c.message,data:null}}else a.unshift(m),c={successful:!1,message:b.generateExceptionMessage(g,w,"'=' expected after parameter name "+c.message),data:null};else c={successful:!1,message:b.generateExceptionMessage(g,
w,"Invalid parameter name. You might have unmatched parentheses")+" "+c.message,data:null};return c}function u(a){var c=null;if("."!=a[0]){if(c=q(a),"."==a[0]){var f=c.data,c=p(a);c.successful&&(c.data=f+c.data)}}else c=p(a);c.successful||(c={successful:!1,message:b.generateExceptionMessage(g,w,"Not a positive number")+" "+c.message,data:null});return c}function p(a){var c=a.shift(),a=q(a);a.successful?a.data=c+a.data:a={successful:!1,message:b.generateExceptionMessage(g,w,"Not a valid fraction"),
data:null};return a}function q(a){var c=f(a.shift()),h=n(c.charAt(0));if(h.successful){for(a=1;a<c.length&&h.successful;)h=n(c.charAt(a)),a++;h.successful&&(h.data=c)}else a.unshift(c),h={successful:!1,message:b.generateExceptionMessage(g,w,"Not a valid integer")+" "+h.message,data:[]};return h}function n(a){var c={successful:!0,message:"",data:null};/[0-9]/.test(a)||(c={successful:!1,message:b.generateExceptionMessage(g,w,"Not a valid digit"),data:null});return c}function A(a){var b="",c=a.shift();
"\\"==c&&(b=a.shift());return{successful:!0,message:"",data:c+b}}function I(a){var c={successful:!0,message:"",data:""},h=f(a.shift());0==h.length&&(h=a.shift());c=j(h.charAt(0));if(c.successful){for(a=1;a<h.length&&c.successful;)c=k(h.charAt(a)),a++;c.successful&&(c.data=h)}else c={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid starting character for group name. Can only include A-Z, a-z, and _")+" "+c.message,data:null};return c}for(var w="",G=f(h.replace(/\s*\n\s*/g,"")),m='@()[]=,"\\/-\\.'.split(""),
C=[],z=0,B=0;B<G.length;B++)a.exists(m,G.charAt(B))&&(z=G.substring(z,B),0==z.length||C.push(z),C.push(G.charAt(B)),z=B+1);z<G.length&&(z=G.substring(z,G.length),0==z.length||C.push(z));m={successful:!0,message:"",data:null};for(G=[];0<C.length&&m.successful;){m=C;B={successful:!0,message:"",data:null};z=m.shift();0==f(z).length&&(z=m.shift());if("@"==z){var B={Between:"Range",Matches:"Pattern",Empty:"Blank",NotEmpty:"NotBlank",IsAlpha:"Alpha",IsNumeric:"Integer",IsAlphaNumeric:"AlphaNumeric"},z=
f(m.shift()),x=j(z.charAt(0));if(x.successful){for(var J=1;J<z.length&&x.successful;)x=k(z.charAt(J)),J++;x.successful&&(x.data=z)}else x={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid starting character for constraint name. Can only include A-Z, a-z, and _")+" "+x.message,data:null};z=x;if(z.successful)if(w=z.data,w=B[w]?B[w]:w,c.constraintDefinitions[w]){B={successful:!0,message:"",data:{}};if("("==m[0])if(m.shift(),z={},")"==m[0])m.shift();else if(B=l(m),B.successful){a.put(z,B.data.name,
B.data.value);for(0==f(m[0]).length&&m.shift();0<m.length&&","==m[0]&&B.successful;)m.shift(),B=l(m),B.successful&&(a.put(z,B.data.name,B.data.value),0==f(m[0]).length&&m.shift());B.successful&&(x=m.shift(),0==f(x).length&&(x=m.shift()),")"!=x?B={successful:!1,message:b.generateExceptionMessage(g,w,"Cannot find matching closing ) in parameter list")+" "+B.message,data:null}:B.data=z)}else B={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid parameter definition")+" "+B.message,data:null};
else void 0!==m[0]&&"@"!=m[0]&&(B={successful:!1,message:b.generateExceptionMessage(g,w,"Unexpected character '"+m[0]+"' after constraint definition")+" "+B.message,data:null});z=B;z.successful&&(z=c.verifyConstraintDefinition(g,w,z.data),z.successful&&(z.data={element:g,constraintName:w,definedParameters:z.data}))}else z={successful:!1,message:b.generateExceptionMessage(g,w,"I cannot find the specified constraint name. If this is a custom constraint, you need to define it before you bind to it")+
" "+z.message,data:null};else z={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid constraint name in constraint definition")+" "+z.message,data:null};m=z}else m={successful:!1,message:b.generateExceptionMessage(g,w,"Invalid constraint. Constraint definitions need to start with '@'")+" "+B.message,data:null};m=B=m;G.push(m.data)}m.data=G;return m}}});
(function(a,b){"function"===typeof define&&define.amd?define("service/BindingService","utils/MapUtils service/GroupService utils/DOMUtils parser/Parser service/ConstraintService service/ExceptionService".split(" "),b):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.BindingService=b(a.regulaModules.MapUtils,a.regulaModules.GroupService,a.regulaModules.DOMUtils,a.regulaModules.Parser,a.regulaModules.ConstraintService,a.regulaModules.ExceptionService))})(this,function(a,b,
c,f,g,h){function j(){n={Default:{}}}function k(c,f){if(a.isEmpty(n[f][c])&&(delete n[f][c],a.isEmpty(n[f]))){delete n[f];var g=b.Group[f];delete b.Group[f];delete b.ReverseGroup[g];b.deletedGroupIndices.push(g)}}function l(a){var b={successful:!0,message:"",data:null},c="undefined"!==typeof a.cloneNode?a.cloneNode(!1):a,f=null;"undefined"!==typeof c.tagName&&(f=c.tagName.toLowerCase());"form"!==f&&"select"!==f&&"textarea"!==f&&"input"!==f?b={successful:!1,message:f+"#"+a.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements.",
data:null}:"input"===f&&null===a.getAttribute("type")&&(b={successful:!1,message:f+"#"+a.id+" does not have a type attribute.",data:null});return b}function u(a){for(var b=a.element,a=null===b?c.getElementsByAttribute(document.body,"*","data-constraints"):[b],g={successful:!0,message:"",data:null},h=0;h<a.length&&g.successful;)if(b=a[h],g=l(b),g.successful){b.id||(b.id=c.generateRandomId());var j=b.getAttribute("data-constraints");if(null!==j&&(g=f.parse(b,j),g.successful&&null!==g.data)){b=g.data;
for(j=0;g.successful&&j<b.length;)g=b[j],g=q(g.element,g.constraintName,g.definedParameters),j++}h++}return g}function p(c,f){function j(c,f,h){var m=n[b.ReverseGroup[b.Group.Default]][c.id][g.ReverseConstraint[f]].groups,l=[];h.groups?l=h.groups:l.push(b.ReverseGroup[b.Group.Default]);a.exists(l,b.ReverseGroup[b.Group.Default])||l.push(b.ReverseGroup[b.Group.Default]);for(var q=h=l,p={},l=[],u=0;u<m.length;u++)l.push(m[u]),p[m[u]]=!0;for(m=0;m<q.length;m++)p[q[m]]||l.push(q[m]);m=[];for(q=0;q<l.length;q++)a.exists(h,
l[q])||m.push(l[q]);for(h=0;h<m.length;h++)l=m[h],delete n[l][c.id][g.ReverseConstraint[f]],k(c.id,l)}var l={successful:!0,message:"",data:null},m=f.element,p=c.overwriteConstraint||!1,u=c.overwriteParameters||!1,B=c.constraintType,x=c.params||{},J={__size__:0},P=x.groups;if("undefined"===typeof B)l={successful:!1,message:"regula.bind expects a valid constraint type for each constraint in constraints attribute of the options argument. "+h.explodeParameters(f),data:null};else if(x&&x.groups)if(x.groups instanceof
Array){for(var v=[],N=0;N<x.groups.length&&l.successful;)"string"==typeof x.groups[N]?v.push(x.groups[N]):"undefined"!==typeof b.ReverseGroup[x.groups[N]]?v.push(b.ReverseGroup[x.groups[N]]):l={successful:!1,message:"Invalid group: "+x.groups[N]+". "+h.explodeParameters(f),data:null},N++;l.successful&&(x.groups=v)}else l={successful:!1,message:"The groups parameter must be an array of enums or strings "+h.explodeParameters(f),data:null};if(l.successful){if(!n[b.ReverseGroup[b.Group.Default]][m.id]||
!n[b.ReverseGroup[b.Group.Default]][m.id][g.ReverseConstraint[B]]){for(var L in x)x.hasOwnProperty(L)&&a.put(J,L,x[L]);l=g.verifyConstraintDefinition(m,g.ReverseConstraint[B],J)}else if(p){for(L in x)x.hasOwnProperty(L)&&a.put(J,L,x[L]);l=g.verifyConstraintDefinition(m,g.ReverseConstraint[B],J);l.successful&&j(m,B,x)}else{p=n[b.ReverseGroup[b.Group.Default]][m.id][g.ReverseConstraint[B]];for(L in p)p.hasOwnProperty(L)&&a.put(J,L,p[L]);if(u){for(L in x)x.hasOwnProperty(L)&&a.put(J,L,x[L]);l=g.verifyConstraintDefinition(m,
g.ReverseConstraint[B],J);l.successful&&j(m,B,J)}else for(L in x)x.hasOwnProperty(L)&&(p[L]||a.put(J,L,x[L]))}l.successful&&(l=q(m,g.ReverseConstraint[B],J))}x.groups=P;return l}function q(c,f,j){var k={successful:!0,message:"",data:null};j.groups||a.put(j,"groups",[b.ReverseGroup[b.Group.Default]]);var m=j.groups;-1===m.indexOf(b.ReverseGroup[b.Group.Default])&&(m.push(b.ReverseGroup[b.Group.Default]),j.groups=m);for(var l=0;l<m.length;l++){var q=m[l];if(!n[q]){var p=-1,p=0<b.deletedGroupIndices.length?
b.deletedGroupIndices.pop():b.firstCustomGroupIndex++;b.Group[q]=p;b.ReverseGroup[p]=q;n[q]={}}n[q][c.id]||(n[q][c.id]={});n[q][c.id][f]=j}if(g.constraintDefinitions[f].html5)if(null!==c.getAttribute("type")&&null!==g.constraintDefinitions[f].inputType&&c.getAttribute("type")!==g.constraintDefinitions[f].inputType)k={successful:!1,message:h.generateExceptionMessage(c,f,"Element type of "+c.getAttribute("type")+" conflicts with type of constraint @"+f+": "+g.constraintDefinitions[f].inputType),data:null};
else if(m=g.constraintDefinitions[f].attribute,l=g.constraintDefinitions[f].inputType,null!==m&&null===c.getAttribute(m)||null!==l&&null===c.getAttribute("type")){if(f===g.ReverseConstraint[g.Constraint.HTML5Required])c.setAttribute("required","true");else{f=g.constraintDefinitions[f];for(m=0;m<f.params.length;m++)c.setAttribute(f.params[m],j[f.params[m]])}j=c.getAttribute("class");/regula-modified/.test(j)||c.setAttribute("class",j+" regula-modified")}return k}var n=null;return{initializeBoundConstraints:function(){null===
n&&j()},resetBoundConstraints:j,getBoundConstraints:function(){return n},removeElementAndGroupFromBoundConstraintsIfEmpty:k,bindAfterParsing:u,bindHTML5ValidationConstraints:function(b){var f=b.element,h={successful:!0,message:"",data:null},b=[{attribute:"required",value:null,constraint:g.Constraint.HTML5Required},{attribute:"type",value:"email",constraint:g.Constraint.HTML5Email},{attribute:"type",value:"url",constraint:g.Constraint.HTML5URL},{attribute:"pattern",value:null,constraint:g.Constraint.HTML5Pattern},
{attribute:"maxlength",value:null,constraint:g.Constraint.HTML5MaxLength},{attribute:"min",value:null,constraint:g.Constraint.HTML5Min},{attribute:"max",value:null,constraint:g.Constraint.HTML5Max},{attribute:"step",value:null,constraint:g.Constraint.HTML5Step}],j={email:g.Constraint.HTML5Email,url:g.Constraint.HTML5URL},m={};if(null===f)for(var k=0;k<b.length;k++)for(var n=b[k],j=null,j=null==n.value?c.getElementsByAttribute(document.body,"*",n.attribute):c.getElementsByAttribute(document.body,"*",
n.attribute,n.value),f=m,p=0;p<j.length;p++){var u=j[p];u.id||(u.id=c.generateRandomId());f[u.id]||(f[u.id]=[]);var J={constraint:n.constraint,params:{}};null===n.value&&(J.params[n.attribute]=c.getAttributeValueForElement(u,n.attribute));f[u.id].push(J)}else if(f.id||(f.id=c.generateRandomId()),h=l(f),h.successful){m[f.id]=[];for(k=0;k<b.length;k++)n=b[k],null===n.value?null!=c.getAttributeValueForElement(f,n.attribute)&&(p={constraint:n.constraint,params:{}},p.params[n.attribute]=c.getAttributeValueForElement(f,
n.attribute),m[f.id].push(p)):(n=c.getAttributeValueForElement(f,n.attribute),null!=n&&"undefined"!==typeof j[n]&&m[f.id].push({constraint:j[n],params:{}}))}a.iterateOverMap(m,function(a,b){for(var c=document.getElementById(a),f=0;f<b.length;f++){var j=b[f];h=q(c,g.ReverseConstraint[j.constraint],j.params)}});return h},bindFromOptions:function(a){var b={successful:!0,message:"",data:null},c=a.element,f=a.constraints||[],g=c&&c.tagName?c.tagName.toLowerCase():null;if(c)if(1!==c.nodeType)b={successful:!1,
message:"regula.bind: element attribute is expected to be an HTMLElement, but was of unexpected type: "+typeof c+". "+h.explodeParameters(a),data:null};else if("form"!=g&&"select"!=g&&"textarea"!=g&&"input"!=g)b={successful:!1,message:g+"#"+c.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements. "+h.explodeParameters(a),data:null};else if(0<f.length)for(c=0;c<f.length&&b.successful;)b=p(f[c],a),c++;else b=
u({element:c});else b={successful:!1,message:"regula.bind expects a non-null element attribute in the options argument. "+h.explodeParameters(a),data:null};return b},unbind:function(a){for(var b=!1,c=0;c<a.elements.length;c++){var f=a.elements[c].id,j=a.constraints||[];if(0==j.length)for(var l in n)n.hasOwnProperty(l)&&"undefined"!==typeof n[l][f]&&(delete n[l][f],"Default"!==l&&k(f,l),b=!0);else for(var q=0;q<j.length;q++){var p=j[q];for(l in n)n.hasOwnProperty(l)&&"undefined"!==typeof n[l][f]&&
(delete n[l][f][g.ReverseConstraint[p]],"Default"!==l&&k(f,l),b=!0)}}if(0<a.elements.length&&!b)throw new h.Exception.IllegalArgumentException("Element with id "+f+" does not have any constraints bound to it. "+h.explodeParameters(a));},isBound:function(a){var c=a.elementId,f=a.group,a=a.constraint,h="undefined"!==typeof n[b.ReverseGroup[b.Group.Default]][c];h&&"undefined"!==typeof f&&"undefined"===typeof a?(f=b.ReverseGroup[f],h="undefined"!==typeof f&&"undefined"!==typeof n[f][c]):h&&"undefined"===
typeof f&&"undefined"!==typeof a?(a=g.ReverseConstraint[a],h="undefined"!==typeof a&&"undefined"!==typeof n[b.ReverseGroup[b.Group.Default]][c][a]):h&&("undefined"!==typeof f&&"undefined"!==typeof a)&&(f=b.ReverseGroup[f],a=g.ReverseConstraint[a],h="undefined"!==typeof f&&"undefined"!==typeof a&&"undefined"!==typeof n[f][c]&&"undefined"!==typeof n[f][c][a]);return h}}});
(function(a,b){"function"===typeof define&&define.amd?define("regula","utils/MapUtils utils/DOMUtils service/BindingService service/ExceptionService service/ConstraintService service/ValidationService service/GroupService".split(" "),b):(a.regula=b(a.regulaModules.MapUtils,a.regulaModules.DOMUtils,a.regulaModules.BindingService,a.regulaModules.ExceptionService,a.regulaModules.ConstraintService,a.regulaModules.ValidationService,a.regulaModules.GroupService),a.regula._modules=a.regulaModules,a.regulaModules=
void 0)})(this,function(a,b,c,f,g,h,j){var k={validateEmptyFields:!0,enableHTML5Validation:!0,debug:!1};c.initializeBoundConstraints();h.initializePublicValidators(g.constraintDefinitions);return{configure:function(b){a.iterateOverMap(b,function(a,b){"undefined"!==typeof k[a]&&(k[a]=b)})},bind:function(a){var g={successful:!0,message:"",data:null};if("undefined"===typeof a||!a)c.resetBoundConstraints(),k.enableHTML5Validation&&b.supportsHTML5Validation()&&(g=c.bindHTML5ValidationConstraints({element:null})),
g.successful&&(g=c.bindAfterParsing({element:null}));else{var h=a.elements;if("undefined"===typeof h||!h)k.enableHTML5Validation&&(b.supportsHTML5Validation()&&"undefined"!==typeof a.element&&null!==a.element)&&(g=c.bindHTML5ValidationConstraints({element:a.element})),g.successful&&(g=c.bindFromOptions(a));else for(var j=0;g.successful&&j<h.length;)a.element=h[j],k.enableHTML5Validation&&b.supportsHTML5Validation()&&(g=c.bindHTML5ValidationConstraints({element:a.element})),g.successful?(g=c.bindFromOptions(a),
g.successful||(g.message="regula.bind: Element "+(j+1)+" of "+h.length+" failed: "+g.message)):g.message="regula.bind: Failed binding HTML5 validation constraints: Element "+(j+1)+" of "+h.length+" failed: "+g.message,j++}if(!g.successful)throw new f.Exception.BindException(g.message);},unbind:function(a){if("undefined"===typeof a||!a)c.resetBoundConstraints();else{if("undefined"===typeof a.elementId&&"undefined"===typeof a.elements)throw new f.Exception.IllegalArgumentException("regula.unbind requires an elementId attribute, or an elements attribute if options are provided");
if("undefined"!==typeof a.elements&&!(a.elements instanceof Array))throw new f.Exception.IllegalArgumentException("regula.unbind expects the elements attribute to be an array, if it is provided");if("undefined"===typeof a.elements&&(a.elements=[document.getElementById(a.elementId)],null===a.elements[0]))throw new f.Exception.IllegalArgumentException("Element with id "+a.elementId+" does not have any constraints bound to it. "+f.explodeParameters(a));c.unbind(a)}},isBound:function(a){if("undefined"===
typeof a)throw new f.Exception.IllegalArgumentException("regula.isBound expects options");var b=a.element,g=a.elementId;if("undefined"===typeof b&&"undefined"===typeof g)throw new f.Exception.IllegalArgumentException("regula.isBound expects at the very least, either an element or elementId attribute");if(a.hasOwnProperty("constraint")&&"undefined"===typeof a.constraint)throw new f.Exception.IllegalArgumentException("Undefined constraint was supplied as a parameter");if(a.hasOwnProperty("group")&&
"undefined"===typeof a.group)throw new f.Exception.IllegalArgumentException("Undefined group was supplied as a parameter");"undefined"!==typeof b&&(g=b.id);return c.isBound({elementId:g,group:a.group,constraint:a.constraint})},validate:function(a,b){h.init({config:k,ReverseConstraint:g.ReverseConstraint,constraintDefinitions:g.constraintDefinitions,boundConstraints:c.getBoundConstraints()});var j=[];if("undefined"!==typeof a&&"undefined"!==typeof a.groups&&!(a.groups instanceof Array))throw new f.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must be an array.");
if("undefined"!==typeof a&&"undefined"!==typeof a.groups&&0==a.groups.length)throw new f.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must not be empty.");if("undefined"!==typeof a&&a.hasOwnProperty("constraintType")&&"undefined"===typeof a.constraintType)throw new f.Exception.IllegalArgumentException("regula.validate: If a constraintType attribute is provided, it cannot be undefined.");"undefined"===typeof b&&"function"===typeof a&&(a={callback:a});"undefined"!==
typeof b&&(a.callback=b);if("undefined"!==typeof a&&"undefined"!==typeof a.elements)if(a.elements instanceof Array){if(0==a.elements.length)throw new f.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must not be empty.");j=h.validate(a)}else throw new f.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must be an array.");else j=h.validate(a);return j},custom:function(a){if(!a)throw new f.Exception.IllegalArgumentException("regula.custom expects options");
var b=a.name,c=a.formSpecific||!1,h=a.validator,j=a.params||[],k=a.defaultMessage||"",a="undefined"===typeof a.async?!1:a.async;if(b){if("string"!=typeof b)throw new f.Exception.IllegalArgumentException("regula.custom expects the name attribute in the options argument to be a string");if(0==b.replace(/\s/g,"").length)throw new f.Exception.IllegalArgumentException("regula.custom cannot accept an empty string for the name attribute in the options argument");}else throw new f.Exception.IllegalArgumentException("regula.custom expects a name attribute in the options argument");
if("boolean"!=typeof c)throw new f.Exception.IllegalArgumentException("regula.custom expects the formSpecific attribute in the options argument to be a boolean");if(h){if("function"!=typeof h)throw new f.Exception.IllegalArgumentException("regula.custom expects the validator attribute in the options argument to be a function");}else throw new f.Exception.IllegalArgumentException("regula.custom expects a validator attribute in the options argument");if(0>j.constructor.toString().indexOf("Array"))throw new f.Exception.IllegalArgumentException("regula.custom expects the params attribute in the options argument to be an array");
if("string"!=typeof k)throw new f.Exception.IllegalArgumentException("regula.custom expects the defaultMessage attribute in the options argument to be a string");if(g.constraintDefinitions[b])throw new f.Exception.IllegalArgumentException("There is already a constraint called "+b+". If you wish to override this constraint, use regula.override");g.custom({async:a,name:b,formSpecific:c,validator:h,custom:!0,compound:!1,params:j,defaultMessage:k})},compound:function(a){if(!a)throw new f.Exception.IllegalArgumentException("regula.compound expects options");
var b=a.name,c=a.constraints||[],h=a.formSpecific||!1,j=a.defaultMessage||"",k=a.params||[],a="undefined"===typeof a.reportAsSingleViolation?!1:a.reportAsSingleViolation;if(!b)throw new f.Exception.IllegalArgumentException("regula.compound expects a name attribute in the options argument");if("string"!=typeof b)throw new f.Exception.IllegalArgumentException("regula.compound expects name to be a string parameter");if(0>k.constructor.toString().indexOf("Array"))throw new f.Exception.IllegalArgumentException("regula.compound expects the params attribute in the options argument to be an array");
if(0==c.length)throw new f.Exception.IllegalArgumentException("regula.compound expects an array of composing constraints under a constraints attribute in the options argument");if(g.constraintDefinitions[b])throw new f.Exception.IllegalArgumentException("regula.compound: There is already a constraint called "+b+". If you wish to override this constraint, use regula.override");g.compound({name:b,formSpecific:h,params:k,reportAsSingleViolation:a,constraints:c,defaultMessage:j})},override:function(a){if(!a)throw new f.Exception.IllegalArgumentException("regula.override expects options");
if("undefined"==typeof a.constraintType)throw new f.Exception.IllegalArgumentException("regula.override expects a valid constraintType attribute in the options argument");var b=g.ReverseConstraint[a.constraintType];if("undefined"===typeof b)throw new f.Exception.IllegalArgumentException("regula.override: I could not find the specified constraint. Perhaps it has not been defined? Function received: "+f.explodeParameters(a));var c=!1,h=g.constraintDefinitions[b].formSpecific;g.constraintDefinitions[b].custom&&
(h="undefined"===typeof a.formSpecific?g.constraintDefinitions[b].formSpecific:a.formSpecific);var j=g.constraintDefinitions[b].custom&&"undefined"!==typeof a.async?a.async:g.constraintDefinitions[b].async,k=g.constraintDefinitions[b].custom?a.params||g.constraintDefinitions[b].params:g.constraintDefinitions[b].params,I=a.defaultMessage||g.constraintDefinitions[b].defaultMessage,w=g.constraintDefinitions[b].compound,G=a.constraints||g.constraintDefinitions[b].constraints,m=g.constraintDefinitions[b].validator;
g.constraintDefinitions[b].custom&&(!g.constraintDefinitions[b].compound&&"undefined"!==typeof a.validator)&&(m=a.validator,c=!0);if("boolean"!=typeof h)throw new f.Exception.IllegalArgumentException("regula.override expects the formSpecific attribute in the options argument to be a boolean");if("function"!=typeof m)throw new f.Exception.IllegalArgumentException("regula.override expects the validator attribute in the options argument to be a function");if(!(k instanceof Array))throw new f.Exception.IllegalArgumentException("regula.override expects the params attribute in the options argument to be an array");
if("string"!=typeof I)throw new f.Exception.IllegalArgumentException("regula.override expects the defaultMessage attribute in the options argument to be a string");g.override({async:j,formSpecific:h,name:b,constraintType:a.constraintType,compound:w,params:k,composingConstraints:G,defaultMessage:I,validator:m,validatorRedefined:c})},Constraint:g.Constraint,Group:j.Group,DateFormat:{DMY:"DMY",MDY:"MDY",YMD:"YMD"},Exception:f.Exception}});(function(a){function b(a){throw RangeError(N[a]);}function c(a,b){for(var c=a.length,f=[];c--;)f[c]=b(a[c]);return f}function f(a,b){var f=a.split("@"),g="";1<f.length&&(g=f[0]+"@",a=f[1]);a=a.replace(v,".");f=a.split(".");f=c(f,b).join(".");return g+f}function g(a){for(var b=[],c=0,f=a.length,g,h;c<f;)g=a.charCodeAt(c++),55296<=g&&56319>=g&&c<f?(h=a.charCodeAt(c++),56320==(h&64512)?b.push(((g&1023)<<10)+(h&1023)+65536):(b.push(g),c--)):b.push(g);return b}function h(a){return c(a,function(a){var b=
"";65535<a&&(a-=65536,b+=O(a>>>10&1023|55296),a=56320|a&1023);return b+=O(a)}).join("")}function j(a,b,c){for(var f=0,a=c?y(a/C):a>>1,a=a+y(a/b);a>L*G>>1;f+=I)a=y(a/L);return y(f+(L+1)*a/(a+m))}function k(a){var c=[],f=a.length,g,m=0,k=B,n=z,q,l,D,p,O;q=a.lastIndexOf(x);0>q&&(q=0);for(l=0;l<q;++l)128<=a.charCodeAt(l)&&b("not-basic"),c.push(a.charCodeAt(l));for(q=0<q?q+1:0;q<f;){l=m;g=1;for(D=I;;D+=I){q>=f&&b("invalid-input");p=a.charCodeAt(q++);p=10>p-48?p-22:26>p-65?p-65:26>p-97?p-97:I;(p>=I||p>
y((A-m)/g))&&b("overflow");m+=p*g;O=D<=n?w:D>=n+G?G:D-n;if(p<O)break;p=I-O;g>y(A/p)&&b("overflow");g*=p}g=c.length+1;n=j(m-l,g,0==l);y(m/g)>A-k&&b("overflow");k+=y(m/g);m%=g;c.splice(m++,0,k)}return h(c)}function l(a){var c,f,h,m,k,n,q,l,D,p=[],u,C,v,a=g(a);u=a.length;c=B;f=0;k=z;for(n=0;n<u;++n)D=a[n],128>D&&p.push(O(D));for((h=m=p.length)&&p.push(x);h<u;){q=A;for(n=0;n<u;++n)D=a[n],D>=c&&D<q&&(q=D);C=h+1;q-c>y((A-f)/C)&&b("overflow");f+=(q-c)*C;c=q;for(n=0;n<u;++n)if(D=a[n],D<c&&++f>A&&b("overflow"),
D==c){l=f;for(q=I;;q+=I){D=q<=k?w:q>=k+G?G:q-k;if(l<D)break;v=l-D;l=I-D;p.push(O(D+v%l+22+75*(26>D+v%l)-0));l=y(v/l)}p.push(O(l+22+75*(26>l)-0));k=j(f,C,h==m);f=0;++h}++f;++c}return p.join("")}var u="object"==typeof exports&&exports&&!exports.nodeType&&exports,p="object"==typeof module&&module&&!module.nodeType&&module,q="object"==typeof global&&global;if(q.global===q||q.window===q||q.self===q)a=q;var n,A=2147483647,I=36,w=1,G=26,m=38,C=700,z=72,B=128,x="-",J=/^xn--/,P=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,
N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=I-w,y=Math.floor,O=String.fromCharCode,D;n={version:"1.3.2",ucs2:{decode:g,encode:h},decode:k,encode:l,toASCII:function(a){return f(a,function(a){return P.test(a)?"xn--"+l(a):a})},toUnicode:function(a){return f(a,function(a){return J.test(a)?k(a.slice(4).toLowerCase()):a})}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",
function(){return n});else if(u&&p)if(module.exports==u)p.exports=n;else for(D in n)n.hasOwnProperty(D)&&(u[D]=n[D]);else a.punycode=n})(this);(function(a,b,c){function f(c){var f=b.console;h[c]||(h[c]=!0,a.migrateWarnings.push(c),f&&(f.warn&&!a.migrateMute)&&(f.warn("JQMIGRATE: "+c),a.migrateTrace&&f.trace&&f.trace()))}function g(b,c,g,h){if(Object.defineProperty)try{Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){f(h);return g},set:function(a){f(h);g=a}});return}catch(j){}a._definePropertyBroken=!0;b[c]=g}var h={};a.migrateWarnings=[];a.migrateMute=!0;!a.migrateMute&&(b.console&&b.console.log)&&b.console.log("JQMIGRATE: Logging is active");
a.migrateTrace===c&&(a.migrateTrace=!0);a.migrateReset=function(){h={};a.migrateWarnings.length=0};"BackCompat"===document.compatMode&&f("jQuery is not compatible with Quirks Mode");var j=a("<input/>",{size:1}).attr("size")&&a.attrFn,k=a.attr,l=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},u=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},p=/^(?:input|button)$/i,q=/^[238]$/,n=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
A=/^(?:checked|selected)$/i;g(a,"attrFn",j||{},"jQuery.attrFn is deprecated");a.attr=function(b,g,h,m){var l=g.toLowerCase(),D=b&&b.nodeType;if(m&&(4>k.length&&f("jQuery.fn.attr( props, pass ) is deprecated"),b&&!q.test(D)&&(j?g in j:a.isFunction(a.fn[g]))))return a(b)[g](h);"type"===g&&(h!==c&&p.test(b.nodeName)&&b.parentNode)&&f("Can't change the 'type' of an input or button in IE 6/7/8");!a.attrHooks[l]&&n.test(l)&&(a.attrHooks[l]={get:function(b,f){var g,h=a.prop(b,f);return!0===h||"boolean"!==
typeof h&&(g=b.getAttributeNode(f))&&!1!==g.nodeValue?f.toLowerCase():c},set:function(b,c,f){!1===c?a.removeAttr(b,f):(c=a.propFix[f]||f,c in b&&(b[c]=!0),b.setAttribute(f,f.toLowerCase()));return f}},A.test(l)&&f("jQuery.fn.attr('"+l+"') may use property instead of attribute"));return k.call(a,b,g,h)};a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();if("button"===c)return l.apply(this,arguments);"input"!==c&&"option"!==c&&f("jQuery.fn.attr('value') no longer gets properties");
return b in a?a.value:null},set:function(a,b){var c=(a.nodeName||"").toLowerCase();if("button"===c)return u.apply(this,arguments);"input"!==c&&"option"!==c&&f("jQuery.fn.attr('value', val) no longer sets properties");a.value=b}};var I,w,G=a.fn.init,m=a.parseJSON,C=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,c,g){var h;if(b&&"string"===typeof b&&!a.isPlainObject(c)&&(h=C.exec(a.trim(b)))&&h[0])if("<"!==b.charAt(0)&&f("$(html) HTML strings must start with '<' character"),h[3]&&f("$(html) HTML text after last tag is ignored"),
"#"===h[0].charAt(0)&&(f("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),a.parseHTML)return G.call(this,a.parseHTML(h[2],c,!0),c,g);return G.apply(this,arguments)};a.fn.init.prototype=a.fn;a.parseJSON=function(a){return!a&&null!==a?(f("jQuery.parseJSON requires a valid JSON string"),null):m.apply(this,arguments)};a.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||
/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a.browser||(I=a.uaMatch(navigator.userAgent),w={},I.browser&&(w[I.browser]=!0,w.version=I.version),w.chrome?w.webkit=!0:w.webkit&&(w.safari=!0),a.browser=w);g(a,"browser",a.browser,"jQuery.browser is deprecated");a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this);b.superclass=this;b.fn=
b.prototype=this();b.fn.constructor=b;b.sub=this.sub;b.fn.init=function(f,g){g&&(g instanceof a&&!(g instanceof b))&&(g=b(g));return a.fn.init.call(this,f,g,c)};b.fn.init.prototype=b.fn;var c=b(document);f("jQuery.sub() is deprecated");return b};a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var g,h;if((h=this[0])&&"events"===b&&1===arguments.length)if(g=a.data(h,b),h=a._data(h,b),(g===c||g===h)&&h!==c)return f("Use of jQuery.fn.data('events') is deprecated"),
h;return z.apply(this,arguments)};var B=/\/(java|ecma)script/i,x=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){f("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");return x.apply(this,arguments)};a.clean||(a.clean=function(b,c,g,h){c=c||document;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;f("jQuery.clean() is deprecated");var j,m=[];a.merge(m,a.buildFragment(b,c).childNodes);if(g){c=function(a){if(!a.type||B.test(a.type))return h?h.push(a.parentNode?a.parentNode.removeChild(a):a):g.appendChild(a)};
for(b=0;null!=(j=m[b]);b++)if(!a.nodeName(j,"script")||!c(j))g.appendChild(j),"undefined"!==typeof j.getElementsByTagName&&(j=a.grep(a.merge([],j.getElementsByTagName("script")),c),m.splice.apply(m,[b+1,0].concat(j)),b+=j.length)}return m});var J=a.event.add,P=a.event.remove,v=a.event.trigger,N=a.fn.toggle,L=a.fn.live,y=a.fn.die,O=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,D=/(?:^|\s)hover(\.\S+|)\b/,H=function(b){if("string"!==typeof b||a.event.special.hover)return b;
D.test(b)&&f("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'");return b&&b.replace(D,"mouseenter$1 mouseleave$1")};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement");a.event.dispatch&&g(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated");a.event.add=function(a,b,c,g,h){a!==document&&O.test(b)&&f("AJAX events should be attached to document: "+b);J.call(this,a,H(b||""),c,g,h)};
a.event.remove=function(a,b,c,f,g){P.call(this,a,H(b)||"",c,f,g)};a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);f("jQuery.fn.error() is deprecated");a.splice(0,0,"error");if(arguments.length)return this.bind.apply(this,a);this.triggerHandler.apply(this,a);return this};a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return N.apply(this,arguments);f("jQuery.fn.toggle(handler, handler...) is deprecated");var g=arguments,h=b.guid||a.guid++,j=0,m=function(c){var f=
(a._data(this,"lastToggle"+b.guid)||0)%j;a._data(this,"lastToggle"+b.guid,f+1);c.preventDefault();return g[f].apply(this,arguments)||!1};for(m.guid=h;j<g.length;)g[j++].guid=h;return this.click(m)};a.fn.live=function(b,c,g){f("jQuery.fn.live() is deprecated");if(L)return L.apply(this,arguments);a(this.context).on(b,this.selector,c,g);return this};a.fn.die=function(b,c){f("jQuery.fn.die() is deprecated");if(y)return y.apply(this,arguments);a(this.context).off(b,this.selector||"**",c);return this};
a.event.trigger=function(a,b,c,g){!c&&!O.test(a)&&f("Global events are undocumented and deprecated");return v.call(this,a,b,c||document,g)};a.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(b,c){a.event.special[c]={setup:function(){var b=this;b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++));return!1},teardown:function(){this!==document&&a.event.remove(document,c+"."+a._data(this,c));return!1}}})})(jQuery,
window);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function b(a){return g.raw?a:encodeURIComponent(a)}function c(b,c){var k;if(g.raw)k=b;else a:{var l=b;0===l.indexOf('"')&&(l=l.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{l=decodeURIComponent(l.replace(f," "))}catch(u){k=void 0;break a}try{k=g.json?JSON.parse(l):l;break a}catch(p){}k=void 0}return a.isFunction(c)?c(k):k}var f=/\+/g,g=a.cookie=function(f,j,k){if(void 0!==j&&!a.isFunction(j)){k=
a.extend({},g.defaults,k);if("number"===typeof k.expires){var l=k.expires,u=k.expires=new Date;u.setDate(u.getDate()+l)}return document.cookie=[b(f),"=",b(g.json?JSON.stringify(j):String(j)),k.expires?"; expires="+k.expires.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.secure?"; secure":""].join("")}for(var k=f?void 0:{},l=document.cookie?document.cookie.split("; "):[],u=0,p=l.length;u<p;u++){var q=l[u].split("="),n;n=q.shift();n=g.raw?n:decodeURIComponent(n);q=q.join("=");
if(f&&f===n){k=c(q,j);break}if(!f&&void 0!==(q=c(q)))k[n]=q}return k};g.defaults={};a.removeCookie=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend({},c,{expires:-1})),!0):!1}});(function(a){function b(b){if(b&&void 0===b.allowPageScroll&&(void 0!==b.swipe||void 0!==b.swipeStatus))b.allowPageScroll=u;void 0!==b.click&&void 0===b.tap&&(b.tap=b.click);b||(b={});b=a.extend({},a.fn.swipe.defaults,b);return this.each(function(){var f=a(this),g=f.data(N);g||(g=new c(this,b),f.data(N,g))})}function c(b,c){function O(b){if(!0!==W.data(N+"_intouch")&&!(0<a(b.target).closest(c.excludedElements,W).length)){var m=b.originalEvent?b.originalEvent:b,k,n=v?m.touches[0]:m;ea=B;v?fa=m.touches.length:
b.preventDefault();la=0;Fa=ha=null;ra=Pa=da=0;Ea=1;wa=0;for(var b=[],q=0;5>=q;q++)b.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});ja=b;b={};b[f]=Xa(f);b[g]=Xa(g);b[h]=Xa(h);b[j]=Xa(j);tb=b;ab=ca=0;if(!v||fa===c.fingers||c.fingers===C||ba()){if(gc(0,n),Za=Ya(),2==fa&&(gc(1,m.touches[1]),Pa=ra=Xb(ja[0].start,ja[1].start)),c.swipeStatus||c.pinchStatus)k=Q(m,ea)}else k=!1;if(!1===k)return ea=P,Q(m,ea),k;Wb(!0)}}function D(b){var n,q,D,K=b.originalEvent?b.originalEvent:b;if(!(ea===J||ea===P||fc())){var H,
O=Nb(v?K.touches[0]:K);Ca=Ya();v&&(fa=K.touches.length);ea=x;2==fa&&(0==Pa?(gc(1,K.touches[1]),Pa=ra=Xb(ja[0].start,ja[1].start)):(Nb(K.touches[1]),ra=Xb(ja[0].end,ja[1].end),Fa=1>Ea?l:k),Ea=(1*(ra/Pa)).toFixed(2),wa=Math.abs(Pa-ra));if(fa===c.fingers||c.fingers===C||!v||ba()){n=O.start;q=O.end;n=Math.atan2(q.y-n.y,n.x-q.x);n=Math.round(180*n/Math.PI);0>n&&(n=360-Math.abs(n));n=ha=45>=n&&0<=n?f:360>=n&&315<=n?f:135<=n&&225>=n?g:45<n&&135>n?j:h;if(c.allowPageScroll===u||ba())b.preventDefault();else switch(q=
c.allowPageScroll===p,n){case f:(c.swipeLeft&&q||!q&&c.allowPageScroll!=G)&&b.preventDefault();break;case g:(c.swipeRight&&q||!q&&c.allowPageScroll!=G)&&b.preventDefault();break;case h:(c.swipeUp&&q||!q&&c.allowPageScroll!=m)&&b.preventDefault();break;case j:(c.swipeDown&&q||!q&&c.allowPageScroll!=m)&&b.preventDefault()}la=Math.round(Math.sqrt(Math.pow(O.end.x-O.start.x,2)+Math.pow(O.end.y-O.start.y,2)));da=Ca-Za;b=ha;n=la;n=Math.max(n,tb[b].distance);tb[b].distance=n;if(c.swipeStatus||c.pinchStatus)H=
Q(K,ea);if(!c.triggerOnTouchEnd||c.triggerOnTouchLeave){b=!0;if(c.triggerOnTouchLeave){D=a(this);var r=D.offset(),b=r.left;n=r.left+D.outerWidth();q=r.top;D=r.top+D.outerHeight();b=O.end.x>b&&O.end.x<n&&O.end.y>q&&O.end.y<D}!c.triggerOnTouchEnd&&b?ea=S(x):c.triggerOnTouchLeave&&!b&&(ea=S(J));(ea==P||ea==J)&&Q(K,ea)}}else ea=P,Q(K,ea);!1===H&&(ea=P,Q(K,ea))}}function H(a){var b=a.originalEvent;if(v&&0<b.touches.length)return ca=Ya(),ab=event.touches.length+1,!0;fc()&&(fa=ab);a.preventDefault();Ca=
Ya();da=Ca-Za;Y()?(ea=P,Q(b,ea)):c.triggerOnTouchEnd||!1==c.triggerOnTouchEnd&&ea===x?(ea=J,Q(b,ea)):!c.triggerOnTouchEnd&&c.tap?(ea=J,U(b,ea,A)):ea===x&&(ea=P,Q(b,ea));Wb(!1)}function K(){ra=Pa=Za=Ca=fa=0;Ea=1;ab=ca=0;Wb(!1)}function T(a){a=a.originalEvent;c.triggerOnTouchLeave&&(ea=S(J),Q(a,ea))}function R(){W.unbind(rb,O);W.unbind(r,K);W.unbind(sb,D);W.unbind(Ja,H);Ka&&W.unbind(Ka,T);Wb(!1)}function S(a){var b=a,f=c.maxTimeThreshold?da>=c.maxTimeThreshold?!1:!0:!0,g=na(),h=Y();!f||h?b=P:g&&a==
x&&(!c.triggerOnTouchEnd||c.triggerOnTouchLeave)?b=J:!g&&(a==J&&c.triggerOnTouchLeave)&&(b=P);return b}function Q(a,b){var f=void 0;if(ua()&&ec()||ec())f=U(a,b,q);else if((ia()&&ba()||ba())&&!1!==f)f=U(a,b,n);X()&&c.doubleTap&&!1!==f?f=U(a,b,I):da>c.longTapThreshold&&la<z&&c.longTap&&!1!==f?f=U(a,b,w):(1===fa||!v)&&(isNaN(la)||0===la)&&c.tap&&!1!==f&&(f=U(a,b,A));b===P&&K(a);b===J&&(v?0==a.touches.length&&K(a):K(a));return f}function U(b,m,D){var p=void 0;if(D==q){W.trigger("swipeStatus",[m,ha||null,
la||0,da||0,fa]);if(c.swipeStatus&&(p=c.swipeStatus.call(W,b,m,ha||null,la||0,da||0,fa),!1===p))return!1;if(m==J&&ua()){W.trigger("swipe",[ha,la,da,fa]);if(c.swipe&&(p=c.swipe.call(W,b,ha,la,da,fa),!1===p))return!1;switch(ha){case f:W.trigger("swipeLeft",[ha,la,da,fa]);c.swipeLeft&&(p=c.swipeLeft.call(W,b,ha,la,da,fa));break;case g:W.trigger("swipeRight",[ha,la,da,fa]);c.swipeRight&&(p=c.swipeRight.call(W,b,ha,la,da,fa));break;case h:W.trigger("swipeUp",[ha,la,da,fa]);c.swipeUp&&(p=c.swipeUp.call(W,
b,ha,la,da,fa));break;case j:W.trigger("swipeDown",[ha,la,da,fa]),c.swipeDown&&(p=c.swipeDown.call(W,b,ha,la,da,fa))}}}if(D==n){W.trigger("pinchStatus",[m,Fa||null,wa||0,da||0,fa,Ea]);if(c.pinchStatus&&(p=c.pinchStatus.call(W,b,m,Fa||null,wa||0,da||0,fa,Ea),!1===p))return!1;if(m==J&&ia())switch(Fa){case k:W.trigger("pinchIn",[Fa||null,wa||0,da||0,fa,Ea]);c.pinchIn&&(p=c.pinchIn.call(W,b,Fa||null,wa||0,da||0,fa,Ea));break;case l:W.trigger("pinchOut",[Fa||null,wa||0,da||0,fa,Ea]),c.pinchOut&&(p=c.pinchOut.call(W,
b,Fa||null,wa||0,da||0,fa,Ea))}}if(D==A){if(m===P||m===J)clearTimeout(oa),c.doubleTap&&!X()?(qa=Ya(),oa=setTimeout(a.proxy(function(){qa=null;W.trigger("tap",[b.target]);c.tap&&(p=c.tap.call(W,b,b.target))},this),c.doubleTapThreshold)):(qa=null,W.trigger("tap",[b.target]),c.tap&&(p=c.tap.call(W,b,b.target)))}else if(D==I){if(m===P||m===J)clearTimeout(oa),qa=null,W.trigger("doubletap",[b.target]),c.doubleTap&&(p=c.doubleTap.call(W,b,b.target))}else if(D==w&&(m===P||m===J))clearTimeout(oa),qa=null,
W.trigger("longtap",[b.target]),c.longTap&&(p=c.longTap.call(W,b,b.target));return p}function na(){var a=!0;null!==c.threshold&&(a=la>=c.threshold);return a}function Y(){var a=!1;null!==c.cancelThreshold&&null!==ha&&(a=tb[ha].distance-la>=c.cancelThreshold);return a}function ia(){var a=fa===c.fingers||c.fingers===C||!v,b=0!==ja[0].end.x,f;f=null!==c.pinchThreshold?wa>=c.pinchThreshold:!0;return a&&b&&f}function ba(){return!(!c.pinchStatus&&!c.pinchIn&&!c.pinchOut)}function ua(){var a=c.maxTimeThreshold?
da>=c.maxTimeThreshold?!1:!0:!0,b=na(),f=fa===c.fingers||c.fingers===C||!v,g=0!==ja[0].end.x;return!Y()&&g&&f&&b&&a}function ec(){return!(!c.swipe&&!c.swipeStatus&&!c.swipeLeft&&!c.swipeRight&&!c.swipeUp&&!c.swipeDown)}function X(){if(null==qa)return!1;var a=Ya();return!!c.doubleTap&&a-qa<=c.doubleTapThreshold}function fc(){var a=!1;ca&&Ya()-ca<=c.fingerReleaseThreshold&&(a=!0);return a}function Wb(a){!0===a?(W.bind(sb,D),W.bind(Ja,H),Ka&&W.bind(Ka,T)):(W.unbind(sb,D,!1),W.unbind(Ja,H,!1),Ka&&W.unbind(Ka,
T,!1));W.data(N+"_intouch",!0===a)}function gc(a,b){ja[a].identifier=void 0!==b.identifier?b.identifier:0;ja[a].start.x=ja[a].end.x=b.pageX||b.clientX;ja[a].start.y=ja[a].end.y=b.pageY||b.clientY;return ja[a]}function Nb(a){var b=void 0!==a.identifier?a.identifier:0;a:{for(var c=0;c<ja.length;c++)if(ja[c].identifier==b){b=ja[c];break a}b=void 0}b.end.x=a.pageX||a.clientX;b.end.y=a.pageY||a.clientY;return b}function Xa(a){return{direction:a,distance:0}}function Xb(a,b){var c=Math.abs(a.x-b.x),f=Math.abs(a.y-
b.y);return Math.round(Math.sqrt(c*c+f*f))}function Ya(){return(new Date).getTime()}var Oa=v||!c.fallbackToMouseEvents,rb=Oa?"touchstart":"mousedown",sb=Oa?"touchmove":"mousemove",Ja=Oa?"touchend":"mouseup",Ka=Oa?null:"mouseleave",r="touchcancel",la=0,ha=null,da=0,Pa=0,ra=0,Ea=1,wa=0,Fa=0,tb=null,W=a(b),ea="start",fa=0,ja=null,Za=0,Ca=0,ca=0,ab=0,qa=0,oa=null;try{W.bind(rb,O),W.bind(r,K)}catch(Ta){a.error("events not supported "+rb+","+r+" on jQuery.swipe")}this.enable=function(){W.bind(rb,O);W.bind(r,
K);return W};this.disable=function(){R();return W};this.destroy=function(){R();W.data(N,null);return W};this.option=function(b,f){if(void 0!==c[b]){if(void 0===f)return c[b];c[b]=f}else a.error("Option "+b+" does not exist on jQuery.swipe.options")}}var f="left",g="right",h="up",j="down",k="in",l="out",u="none",p="auto",q="swipe",n="pinch",A="tap",I="doubletap",w="longtap",G="horizontal",m="vertical",C="all",z=10,B="start",x="move",J="end",P="cancel",v="ontouchstart"in window,N="TouchSwipe";a.fn.swipe=
function(c){var f=a(this),g=f.data(N);if(g&&"string"===typeof c){if(g[c])return g[c].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on jQuery.swipe")}else if(!g&&("object"===typeof c||!c))return b.apply(this,arguments);return f};a.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,
swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};a.fn.swipe.phases={PHASE_START:B,PHASE_MOVE:x,PHASE_END:J,PHASE_CANCEL:P};a.fn.swipe.directions={LEFT:f,RIGHT:g,UP:h,DOWN:j,IN:k,OUT:l};a.fn.swipe.pageScroll={NONE:u,HORIZONTAL:G,VERTICAL:m,AUTO:p};a.fn.swipe.fingers={ONE:1,
TWO:2,THREE:3,ALL:C}})(jQuery);$(document).ready(function(){jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeInQuad:function(a,b,c,f,g){return f*(b/=g)*b+c},easeOutQuad:function(a,b,c,f,g){return-f*(b/=g)*(b-2)+c},easeInOutQuad:function(a,b,c,f,g){return 1>(b/=g/2)?f/2*b*b+c:-f/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,f,g){return f*(b/=g)*b*b+c},easeOutCubic:function(a,b,c,f,g){return f*((b=b/g-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,f,g){return 1>(b/=g/2)?f/2*b*b*b+c:f/2*((b-=
2)*b*b+2)+c},easeInQuart:function(a,b,c,f,g){return f*(b/=g)*b*b*b+c},easeOutQuart:function(a,b,c,f,g){return-f*((b=b/g-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,f,g){return 1>(b/=g/2)?f/2*b*b*b*b+c:-f/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,f,g){return f*(b/=g)*b*b*b*b+c},easeOutQuint:function(a,b,c,f,g){return f*((b=b/g-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,f,g){return 1>(b/=g/2)?f/2*b*b*b*b*b+c:f/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,f,g){return-f*Math.cos(b/g*
(Math.PI/2))+f+c},easeOutSine:function(a,b,c,f,g){return f*Math.sin(b/g*(Math.PI/2))+c},easeInOutSine:function(a,b,c,f,g){return-f/2*(Math.cos(Math.PI*b/g)-1)+c},easeInExpo:function(a,b,c,f,g){return 0==b?c:f*Math.pow(2,10*(b/g-1))+c},easeOutExpo:function(a,b,c,f,g){return b==g?c+f:f*(-Math.pow(2,-10*b/g)+1)+c},easeInOutExpo:function(a,b,c,f,g){return 0==b?c:b==g?c+f:1>(b/=g/2)?f/2*Math.pow(2,10*(b-1))+c:f/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,f,g){return-f*(Math.sqrt(1-(b/=g)*b)-
1)+c},easeOutCirc:function(a,b,c,f,g){return f*Math.sqrt(1-(b=b/g-1)*b)+c},easeInOutCirc:function(a,b,c,f,g){return 1>(b/=g/2)?-f/2*(Math.sqrt(1-b*b)-1)+c:f/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,f,g){var a=1.70158,h=0,j=f;if(0==b)return c;if(1==(b/=g))return c+f;h||(h=0.3*g);j<Math.abs(f)?(j=f,a=h/4):a=h/(2*Math.PI)*Math.asin(f/j);return-(j*Math.pow(2,10*(b-=1))*Math.sin((b*g-a)*2*Math.PI/h))+c},easeOutElastic:function(a,b,c,f,g){var a=1.70158,h=0,j=f;if(0==b)return c;if(1==
(b/=g))return c+f;h||(h=0.3*g);j<Math.abs(f)?(j=f,a=h/4):a=h/(2*Math.PI)*Math.asin(f/j);return j*Math.pow(2,-10*b)*Math.sin((b*g-a)*2*Math.PI/h)+f+c},easeInOutElastic:function(a,b,c,f,g){var a=1.70158,h=0,j=f;if(0==b)return c;if(2==(b/=g/2))return c+f;h||(h=g*0.3*1.5);j<Math.abs(f)?(j=f,a=h/4):a=h/(2*Math.PI)*Math.asin(f/j);return 1>b?-0.5*j*Math.pow(2,10*(b-=1))*Math.sin((b*g-a)*2*Math.PI/h)+c:0.5*j*Math.pow(2,-10*(b-=1))*Math.sin((b*g-a)*2*Math.PI/h)+f+c},easeInBack:function(a,b,c,f,g,h){void 0==
h&&(h=1.70158);return f*(b/=g)*b*((h+1)*b-h)+c},easeOutBack:function(a,b,c,f,g,h){void 0==h&&(h=1.70158);return f*((b=b/g-1)*b*((h+1)*b+h)+1)+c},easeInOutBack:function(a,b,c,f,g,h){void 0==h&&(h=1.70158);return 1>(b/=g/2)?f/2*b*b*(((h*=1.525)+1)*b-h)+c:f/2*((b-=2)*b*(((h*=1.525)+1)*b+h)+2)+c},easeInBounce:function(a,b,c,f,g){return f-jQuery.easing.easeOutBounce(a,g-b,0,f,g)+c},easeOutBounce:function(a,b,c,f,g){return(b/=g)<1/2.75?f*7.5625*b*b+c:b<2/2.75?f*(7.5625*(b-=1.5/2.75)*b+0.75)+c:b<2.5/2.75?
f*(7.5625*(b-=2.25/2.75)*b+0.9375)+c:f*(7.5625*(b-=2.625/2.75)*b+0.984375)+c},easeInOutBounce:function(a,b,c,f,g){return b<g/2?0.5*jQuery.easing.easeInBounce(a,2*b,0,f,g)+c:0.5*jQuery.easing.easeOutBounce(a,2*b-g,0,f,g)+0.5*f+c}})});(function(){var a,b,c,f,g={}.hasOwnProperty,h=function(){this.options_index=0;this.parsed=[]};h.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)};h.prototype.add_group=function(a){var b,c,f,g,h,j;b=this.parsed.length;this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),title:a.title?a.title:void 0,children:0,disabled:a.disabled,classes:a.className});h=a.childNodes;j=[];f=0;for(g=h.length;f<g;f++)c=h[f],j.push(this.add_option(c,
b,a.disabled));return j};h.prototype.add_option=function(a,b,c){if("OPTION"===a.nodeName.toUpperCase())return""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,title:a.title?a.title:void 0,selected:a.selected,disabled:!0===c?c:a.disabled,group_array_index:b,group_label:null!=b?this.parsed[b].label:null,classes:a.className,data:this._parseDataAttributes(a),style:a.style.cssText})):
this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,data:{},empty:!0}),this.options_index+=1};h.prototype._parseDataAttributes=function(a){var b={"option-array-index":this.parsed.length},c;if("undefined"!==typeof a)for(var f=0;f<a.attributes.length;f++)if(c=a.attributes[f].nodeName.match(/data-(.*)/))b[c[1]]=a.attributes[f].nodeValue;return b};h.prototype.escapeExpression=function(a){var b;if(null==a||!1===a)return"";if(!/[\&\<\>\"\'\`]/.test(a))return a;b={"<":"&lt;",
">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return a.replace(/&(?!\w+;)|[\<\>\"\'\`]/g,function(a){return b[a]||"&amp;"})};h.select_to_array=function(a){var b,c,f,g;b=new h;g=a.childNodes;c=0;for(f=g.length;c<f;c++)a=g[c],b.add_node(a);return b.parsed};var j=function(a,b){this.form_field=a;this.options=null!=b?b:{};j.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),
this.on_ready())};j.prototype.set_default_values=function(){var a=this;this.click_test_action=function(b){return a.test_active_click(b)};this.activate_action=function(b){return a.activate_field(b)};this.chosen_search_autofocus=null!=this.options.chosen_search_autofocus?this.options.chosen_search_autofocus:!0;this.chosen_host_wrap=this.options.chosen_host_wrap?this.options.chosen_host_wrap:"html, body";this.chosen_scroll_drop_into_view=null!=this.options.chosen_scroll_drop_into_view?this.options.chosen_scroll_drop_into_view:
!1;this.results_showing=this.mouse_on_container=this.active_field=!1;this.result_highlighted=null;this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||!1;this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:
!0;this.group_search=null!=this.options.group_search?this.options.group_search:!0;this.search_contains=this.options.search_contains||!1;this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||!1;this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:
!0;this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0;this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1;return this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY};j.prototype.set_default_text=function(){this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||
this.options.placeholder_text||j.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||j.default_single_text;return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||j.default_no_result_text};j.prototype.choice_label=function(a){return this.include_group_label_in_selected&&null!=a.group_label?"<b class='group-name'>"+a.group_label+"</b>"+a.html:a.html};j.prototype.mouse_enter=function(){return this.mouse_on_container=
!0};j.prototype.mouse_leave=function(){return this.mouse_on_container=!1};j.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()};j.prototype.input_blur=function(){var a=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return a.blur_test()},100)};j.prototype.results_option_build=function(a){var b,c,f,g,h,j,k;b=
"";g=0;k=this.results_data;h=0;for(j=k.length;h<j&&!(c=k[h],f=c.group?this.result_add_group(c):this.result_add_option(c),""!==f&&(g++,b+=f),null!=a&&a.first&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(c))),g>=this.max_shown_results);h++);return b};j.prototype.result_add_option=function(a){var b,c;if(!a.search_match||!this.include_option_in_results(a))return"";b=[];!a.disabled&&(!a.selected||!this.is_multiple)&&
b.push("active-result");a.disabled&&(!a.selected||!this.is_multiple)&&b.push("disabled-result");a.selected&&b.push("result-selected");null!=a.group_array_index&&b.push("group-option");""!==a.classes&&b.push(a.classes);c=document.createElement("li");c.className=b.join(" ");c.style.cssText=a.style;for(var f in a.data)a.data.hasOwnProperty(f)&&c.setAttribute("data-"+f,a.data[f]);c.innerHTML=a.search_text;a.title&&(c.title=a.title);return this.outerHTML(c)};j.prototype.result_add_group=function(a){var b,
c;if(!a.search_match&&!a.group_match||!(0<a.active_options))return"";b=[];b.push("group-result");a.classes&&b.push(a.classes);c=document.createElement("li");c.className=b.join(" ");c.innerHTML=a.search_text;a.title&&(c.title=a.title);return this.outerHTML(c)};j.prototype.results_update_field=function(){this.set_default_text();this.is_multiple||this.results_reset_cleanup();this.result_clear_highlight();this.results_build();if(this.results_showing)return this.winnow_results()};j.prototype.reset_single_select_options=
function(){var a,b,c,f,g;f=this.results_data;g=[];b=0;for(c=f.length;b<c;b++)a=f[b],a.selected?g.push(a.selected=!1):g.push(void 0);return g};j.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};j.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()};j.prototype.winnow_results=function(){var a,b,c,f,g,h,j,k,l,p,u;this.no_results_clear();c=0;g=this.get_search_text();a=g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&");k=RegExp(a,"i");b=this.get_search_regex(a);u=this.results_data;l=0;for(p=u.length;l<p;l++)if(a=u[l],a.search_match=!1,f=null,this.include_option_in_results(a)&&(a.group&&(a.group_match=!1,a.active_options=0),null!=a.group_array_index&&this.results_data[a.group_array_index]&&(f=this.results_data[a.group_array_index],0===f.active_options&&f.search_match&&(c+=1),f.active_options+=1),a.search_text=a.group?a.label:a.html,!a.group||this.group_search))a.search_match=this.search_string_match(a.search_text,
b),a.search_match&&!a.group&&(c+=1),a.search_match?(g.length&&(h=a.search_text.search(k),j=a.search_text.substr(0,h+g.length)+"</em>"+a.search_text.substr(h+g.length),a.search_text=j.substr(0,h)+"<em>"+j.substr(h)),null!=f&&(f.group_match=!0)):null!=a.group_array_index&&this.results_data[a.group_array_index].search_match&&(a.search_match=!0);this.result_clear_highlight();if(1>c&&g.length)return this.update_results_content(""),this.no_results(g);this.update_results_content(this.results_option_build());
return this.winnow_results_set_highlight()};j.prototype.get_search_regex=function(a){return RegExp((this.search_contains?"":"^")+a,"i")};j.prototype.search_string_match=function(a,b){var c,f,g,h;if(b.test(a))return!0;if(this.enable_split_word_search&&(0<=a.indexOf(" ")||0===a.indexOf("[")))if(f=a.replace(/\[|\]/g,"").split(" "),f.length){g=0;for(h=f.length;g<h;g++)if(c=f[g],b.test(c))return!0}};j.prototype.choices_count=function(){var a,b,c,f;if(null!=this.selected_option_count)return this.selected_option_count;
this.selected_option_count=0;f=this.form_field.options;b=0;for(c=f.length;b<c;b++)a=f[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count};j.prototype.choices_click=function(a){a.preventDefault();if(!this.results_showing&&!this.is_disabled)return this.results_show()};j.prototype.keyup_checker=function(a){var b,c;b=null!=(c=a.which)?c:a.keyCode;this.search_field_scale();switch(b){case 8:if(this.is_multiple&&1>this.backstroke_length&&0<this.choices_count())return this.keydown_backstroke();
if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}};j.prototype.clipboard_event_checker=function(){var a=this;return setTimeout(function(){return a.results_search()},50)};j.prototype.container_width=function(){return null!=
this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"};j.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected||!this.display_disabled_options&&a.disabled||a.empty?!1:!0};j.prototype.search_results_touchstart=function(a){this.touch_started=!0;return this.search_results_mouseover(a)};j.prototype.search_results_touchmove=function(a){this.touch_started=!1;return this.search_results_mouseout(a)};j.prototype.search_results_touchend=
function(a){if(this.touch_started)return this.search_results_mouseup(a)};j.prototype.outerHTML=function(a){var b;if(a.outerHTML)return a.outerHTML;b=document.createElement("div");b.appendChild(a);return b.innerHTML};j.browser_is_supported=function(){return/BlackBerry/i.test(window.navigator.userAgent)?!1:"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!0};j.default_multiple_text="Select Some Options";j.default_single_text="Select an Option";j.default_no_result_text=
"No results match";b=j;a=jQuery;a.fn.extend({chosen:function(f){return!b.browser_is_supported()?this:this.each(function(){var b,g;b=a(this);g=b.data("chosen");"destroy"===f?g instanceof c&&g.destroy():g instanceof c||b.data("chosen",new c(this,f))})}});var k=function(){return f=k.__super__.constructor.apply(this,arguments)},l=k,u=function(){this.constructor=l},p;for(p in b)g.call(b,p)&&(l[p]=b[p]);u.prototype=b.prototype;l.prototype=new u;l.__super__=b.prototype;k.prototype.setup=function(){this.form_field_jq=
a(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};k.prototype.set_up_html=function(){var b;b=["chosen-container"];b.push("chosen-container-"+(this.is_multiple?"multi":"single"));this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className);this.is_rtl&&b.push("chosen-rtl");b={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title};this.form_field.id.length&&
(b.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen");this.container=a("<div />",b);this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>');
this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=
this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first());this.results_build();this.set_tab_index();return this.set_label_behavior()};k.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})};k.prototype.scrollTo=function(b){a(this.chosen_host_wrap).animate({scrollTop:b},500)};k.prototype.scroll_dropdown_into_view=function(){setTimeout(function(){var b=a(window).height(),c=a(this.dropdown),f=c[0],g=f.getBoundingClientRect(),
f=f.scrollHeight,g=g.top+f,c=a(this.chosen_host_wrap).scrollTop()+c.offset().top;g>b&&(f>=b?this.scrollTo(c-a(this.selected_item).outerHeight()+"px"):this.scrollTo(c-(b-f)+"px"))}.bind(this),200)};k.prototype.register_observers=function(){var a=this;this.container.bind("touchstart.chosen",function(b){a.container_mousedown(b)});this.container.bind("touchend.chosen",function(b){a.container_mouseup(b)});this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)});this.container.bind("mouseup.chosen",
function(b){a.container_mouseup(b)});this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)});this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)});this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)});this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)});this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",
function(b){a.search_results_mousewheel(b)});this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)});this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)});this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)});this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)});this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)});this.form_field_jq.bind("chosen:open.chosen",
function(b){a.container_mousedown(b)});this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)});this.search_field.bind("blur.chosen",function(b){a.input_blur(b)});this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)});this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)});this.search_field.bind("focus.chosen",function(b){a.input_focus(b)});this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)});this.search_field.bind("paste.chosen",
function(b){a.clipboard_event_checker(b)});this.form_field_jq.bind("chosen:showing_dropdown",function(b){a.chosen_scroll_drop_into_view&&a.scroll_dropdown_into_view(b)});return this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})};k.prototype.destroy=function(){a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=
this.search_field[0].tabIndex);this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};k.prototype.search_field_disabled=function(){if(this.is_disabled=this.form_field_jq[0].disabled)return this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field();this.container.removeClass("chosen-disabled");this.search_field[0].disabled=!1;if(!this.is_multiple)return this.selected_item.bind("focus.chosen",
this.activate_action)};k.prototype.container_mousedown=function(b){if(!this.is_disabled&&(b&&("mousedown"===b.type&&!this.results_showing)&&b.preventDefault(),!(null!=b&&a(b.target).hasClass("search-choice-close")))){if(this.active_field){if(!this.is_multiple&&b&&(a(b.target)[0]===this.selected_item[0]||a(b.target).parents("a.chosen-single").length))b.preventDefault(),this.results_toggle()}else this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),
this.results_show(),b.preventDefault();return this.activate_field()}};k.prototype.container_mouseup=function(a){if("ABBR"===a.target.nodeName&&!this.is_disabled)return this.results_reset(a)};k.prototype.search_results_mousewheel=function(a){var b;a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail);if(null!=b)return a.preventDefault(),"DOMMouseScroll"===a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())};k.prototype.blur_test=
function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()};k.prototype.close_field=function(){a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);this.active_field=!1;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};k.prototype.activate_field=function(){this.container.addClass("chosen-container-active");
this.active_field=!0;this.search_field.val(this.search_field.val());return this.chosen_search_autofocus?this.search_field.focus():this.search_field};k.prototype.test_active_click=function(b){b=a(b.target).closest(".chosen-container");return b.length&&this.container[0]===b[0]?this.active_field=!0:this.close_field()};k.prototype.results_build=function(){this.parsing=!0;this.selected_option_count=null;this.results_data=h.select_to_array(this.form_field);this.is_multiple?this.search_choices.find("li.search-choice").remove():
this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch")));this.update_results_content(this.results_option_build({first:!0}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=
!1};k.prototype.result_do_highlight=function(a){var b,c,f,g;if(a.length){this.result_clear_highlight();this.result_highlight=a;this.result_highlight.addClass("highlighted");c=parseInt(this.search_results.css("maxHeight"),10);g=this.search_results.scrollTop();f=c+g;b=this.result_highlight.position().top+this.search_results.scrollTop();a=b+this.result_highlight.outerHeight();if(a>=f)return this.search_results.scrollTop(0<a-c?a-c:0);if(b<g)return this.search_results.scrollTop(b)}};k.prototype.result_clear_highlight=
function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null};k.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.container.addClass("chosen-with-drop");this.results_showing=!0;this.chosen_search_autofocus&&this.search_field.focus();this.search_field.val(this.search_field.val());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",
{chosen:this})};k.prototype.update_results_content=function(a){return this.search_results.html(a)};k.prototype.results_hide=function(){this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this}));return this.results_showing=!1};k.prototype.set_tab_index=function(){var a;if(this.form_field.tabIndex)return a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a};
k.prototype.set_label_behavior=function(){var b=this;this.form_field_label=this.form_field_jq.parents("label");!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']"));if(0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()})};k.prototype.show_search_field_default=function(){if(this.is_multiple&&1>this.choices_count()&&!this.active_field)return this.search_field.val(this.default_text),
this.search_field.addClass("default");this.search_field.val("");return this.search_field.removeClass("default")};k.prototype.search_results_mouseup=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length)return this.result_highlight=c,this.result_select(b),this.chosen_search_autofocus?this.search_field.focus():this.search_field};k.prototype.search_results_mouseover=function(b){if(b=a(b.target).hasClass("active-result")?a(b.target):
a(b.target).parents(".active-result").first())return this.result_do_highlight(b)};k.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"))return this.result_clear_highlight()};k.prototype.choice_build=function(b){var c,f=this;c=a("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(b)+"</span>");b.disabled?c.addClass("search-choice-disabled"):(b=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),b.bind("click.chosen",
function(a){return f.choice_destroy_link_click(a)}),c.append(b));return this.search_container.before(c)};k.prototype.choice_destroy_link_click=function(b){b.preventDefault();b.stopPropagation();if(!this.is_disabled)return this.choice_destroy(a(b.target))};k.prototype.choice_destroy=function(a){if(this.result_deselect(a[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&(0<this.choices_count()&&1>this.search_field.val().length)&&this.results_hide(),
a.parents("li").first().remove(),this.search_field_scale()};k.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=!0;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()};k.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};
k.prototype.result_select=function(a){var b;if(this.result_highlight){b=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options();b.addClass("result-selected");b=this.results_data[b[0].getAttribute("data-option-array-index")];b.selected=!0;this.form_field.options[b.options_index].selected=
!0;this.selected_option_count=null;this.is_multiple?this.choice_build(b):this.single_set_selected_text(this.choice_label(b));(!a.metaKey&&!a.ctrlKey||!this.is_multiple)&&this.results_hide();this.show_search_field_default();(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[b.options_index].value});this.current_selectedIndex=this.form_field.selectedIndex;a.preventDefault();return this.search_field_scale()}};
k.prototype.single_set_selected_text=function(a){null==a&&(a=this.default_text);a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default"));return this.selected_item.find("span").html(a)};k.prototype.result_deselect=function(a){a=this.results_data[a];if(this.form_field.options[a.options_index].disabled)return!1;a.selected=!1;this.form_field.options[a.options_index].selected=!1;this.selected_option_count=
null;this.result_clear_highlight();this.results_showing&&this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[a.options_index].value});this.search_field_scale();return!0};k.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")};k.prototype.get_search_text=
function(){return a("<div/>").text(a.trim(this.search_field.val())).html()};k.prototype.winnow_results_set_highlight=function(){var a;a=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];a=a.length?a.first():this.search_results.find(".active-result").first();if(null!=a)return this.result_do_highlight(a)};k.prototype.no_results=function(b){var c;c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');c.find("span").first().html(b);this.search_results.append(c);
return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};k.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};k.prototype.keydown_arrow=function(){var a;if(this.results_showing&&this.result_highlight){if(a=this.result_highlight.nextAll("li.active-result").first())return this.result_do_highlight(a)}else return this.results_show()};k.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();
if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length)return this.result_do_highlight(a.first());0<this.choices_count()&&this.results_hide();return this.result_clear_highlight()}};k.prototype.keydown_backstroke=function(){var a;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();a=this.search_container.siblings("li.search-choice").last();if(a.length&&!a.hasClass("search-choice-disabled"))return this.pending_backstroke=
a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")};k.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};k.prototype.keydown_checker=function(a){var b,c;b=null!=(c=a.which)?c:a.keyCode;this.search_field_scale();8!==b&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;
break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a);this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}};k.prototype.search_field_scale=function(){var b,c,f,g,h;if(this.is_multiple){b="position:absolute; left: -1000px; top: -1000px; display:none;";f="font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");
g=0;for(h=f.length;g<h;g++)c=f[g],b+=c+":"+this.search_field.css(c)+";";b=a("<div />",{style:b});b.text(this.search_field.val());a("body").append(b);c=b.width()+25;b.remove();b=this.container.outerWidth();c>b-10&&(c=b-10);return this.search_field.css({width:c+"px"})}};c=k}).call(this);(function(a,b){"function"===typeof define&&define.amd?define("bloodhound",["jquery"],function(c){return a.Bloodhound=b(c)}):"object"===typeof exports?module.exports=b(require("jquery")):a.Bloodhound=b(jQuery)})(this,function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},isElement:function(a){return!!(a&&1===a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){a.each(b,function(a,b){return c(b,a)})},map:a.map,filter:a.grep,every:function(b,c){var f=
!0;if(!b)return f;a.each(b,function(a,g){if(!(f=c.call(null,g,a,b)))return!1});return!!f},some:function(b,c){var f=!1;if(!b)return f;a.each(b,function(a,g){if(f=c.call(null,g,a,b))return!1});return!!f},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var f,
g;return function(){var h=this,j=arguments,m;m=c&&!f;clearTimeout(f);f=setTimeout(function(){f=null;c||(g=a.apply(h,j))},b);m&&(g=a.apply(h,j));return g}},throttle:function(a,b){var c,f,g,h,j,m;j=0;m=function(){j=new Date;g=null;h=a.apply(c,f)};return function(){var k=new Date,l=b-(k-j);c=this;f=arguments;0>=l?(clearTimeout(g),g=null,j=k,h=a.apply(c,f)):g||(g=setTimeout(m,l));return h}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}},c;c=function(a){return(a=b.toStr(a))?
a.split(/\s+/):[]};var f=function(a){return(a=b.toStr(a))?a.split(/\W+/):[]},g=function(a){return function(c){c=b.isArray(c)?c:[].slice.call(arguments,0);return function(f){var g=[];b.each(c,function(c){g=g.concat(a(b.toStr(f[c])))});return g}}};c={nonword:f,whitespace:c,obj:{nonword:g(f),whitespace:g(c)}};var h=function(c){this.maxSize=b.isNumber(c)?c:100;this.reset();0>=this.maxSize&&(this.set=this.get=a.noop)},j=function(){this.head=this.tail=null},k=function(a,b){this.key=a;this.val=b;this.prev=
this.next=null};b.mixin(h.prototype,{set:function(a,b){var c=this.list.tail;this.size>=this.maxSize&&(this.list.remove(c),delete this.hash[c.key],this.size--);(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new k(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){if(a=this.hash[a])return this.list.moveToFront(a),a.val},reset:function(){this.size=0;this.hash={};this.list=new j}});b.mixin(j.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a);this.head=a;
this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next;a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a);this.add(a)}});var l=function(a,c){this.prefix=["__",a,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=RegExp("^"+b.escapeRegExChars(this.prefix));this.ls=c||p;!this.ls&&this._noop()},u=function(a){return JSON.stringify(b.isUndefined(a)?null:a)},p;try{p=window.localStorage,p.setItem("~~~","!"),p.removeItem("~~~")}catch(q){p=null}b.mixin(l.prototype,
{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=b.noop},_safeSet:function(a,b){try{this.ls.setItem(a,b)}catch(c){"QuotaExceededError"===c.name&&(this.clear(),this._noop())}},get:function(b){this.isExpired(b)&&this.remove(b);b=this.ls.getItem(this._prefix(b));return a.parseJSON(b)},set:function(a,c,f){b.isNumber(f)?this._safeSet(this._ttlKey(a),u((new Date).getTime()+f)):this.ls.removeItem(this._ttlKey(a));
return this._safeSet(this._prefix(a),u(c))},remove:function(a){this.ls.removeItem(this._ttlKey(a));this.ls.removeItem(this._prefix(a));return this},clear:function(){var a;a=this.keyMatcher;var b,c,f=[],g=p.length;for(b=0;b<g;b++)(c=p.key(b)).match(a)&&f.push(c.replace(a,""));for(a=f.length;a--;)this.remove(f[a]);return this},isExpired:function(c){c=this.ls.getItem(this._ttlKey(c));c=a.parseJSON(c);return b.isNumber(c)&&(new Date).getTime()>c?!0:!1}});var n=function(a){a=a||{};this.cancelled=!1;this.lastReq=
null;this._send=a.transport;this._get=a.limiter?a.limiter(this._get):this._get;this._cache=!1===a.cache?new h(0):G},A=0,I={},w=6,G=new h(10);n.setMaxPendingRequests=function(a){w=a};n.resetCache=function(){G.reset()};b.mixin(n.prototype,{_fingerprint:function(b){b=b||{};return b.url+b.type+a.param(b.data||{})},_get:function(a,b){function c(a){b(null,a);h._cache.set(j,a)}function f(){b(!0)}function g(){A--;delete I[j];h.onDeckRequestArgs&&(h._get.apply(h,h.onDeckRequestArgs),h.onDeckRequestArgs=null)}
var h=this,j,m;j=this._fingerprint(a);this.cancelled||j!==this.lastReq||((m=I[j])?m.done(c).fail(f):A<w?(A++,I[j]=this._send(a).done(c).fail(f).always(g)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(c,f){var g,h,f=f||a.noop,c=b.isString(c)?{url:c}:c||{};h=this._fingerprint(c);this.cancelled=!1;this.lastReq=h;(g=this._cache.get(h))?f(null,g):this._get(c,f)},cancel:function(){this.cancelled=!0}});var f=window,g=function(c){c=c||{};(!c.datumTokenizer||!c.queryTokenizer)&&a.error("datumTokenizer and queryTokenizer are both required");
this.identify=c.identify||b.stringify;this.datumTokenizer=c.datumTokenizer;this.queryTokenizer=c.queryTokenizer;this.reset()},m=function(a){a=b.filter(a,function(a){return!!a});return a=b.map(a,function(a){return a.toLowerCase()})},C=function(){var a={};a[x]=[];a[B]={};return a},z=function(a){for(var b={},c=[],f=0,g=a.length;f<g;f++)b[a[f]]||(b[a[f]]=!0,c.push(a[f]));return c},B="c",x="i";b.mixin(g.prototype,{bootstrap:function(a){this.datums=a.datums;this.trie=a.trie},add:function(a){var c=this,
a=b.isArray(a)?a:[a];b.each(a,function(a){var f;c.datums[f=c.identify(a)]=a;a=m(c.datumTokenizer(a));b.each(a,function(a){var b,g;b=c.trie;for(a=a.split("");g=a.shift();)b=b[B][g]||(b[B][g]=C()),b[x].push(f)})})},get:function(a){var c=this;return b.map(a,function(a){return c.datums[a]})},search:function(a){var c=this,f,a=m(this.queryTokenizer(a));b.each(a,function(a){var b,g;if(f&&0===f.length)return!1;b=c.trie;for(a=a.split("");b&&(g=a.shift());)b=b[B][g];if(b&&0===a.length){g=b[x].slice(0);if(f){b=
f;var h=a=0,j=[];b=b.sort();g=g.sort();for(var m=b.length,k=g.length;a<m&&h<k;)b[a]<g[h]?a++:(b[a]>g[h]||(j.push(b[a]),a++),h++);b=j}else b=g;f=b}else return f=[],!1});return f?b.map(z(f),function(a){return c.datums[a]}):[]},all:function(){var a=[],b;for(b in this.datums)a.push(this.datums[b]);return a},reset:function(){this.datums={};this.trie=C()},serialize:function(){return{datums:this.datums,trie:this.trie}}});var J=f.SearchIndex=g,P=function(a){this.url=a.url;this.ttl=a.ttl;this.cache=a.cache;
this.prepare=a.prepare;this.transform=a.transform;this.transport=a.transport;this.thumbprint=a.thumbprint;this.storage=new l(a.cacheKey)};b.mixin(P.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(a){this.cache&&(this.storage.set("data",a,this.ttl),this.storage.set("protocol",location.protocol,this.ttl),this.storage.set("thumbprint",this.thumbprint,this.ttl))},fromCache:function(){var a,b;if(!this.cache)return null;a=this.storage.get("data");b=this.storage.get("protocol");
b=this.storage.get("thumbprint")!==this.thumbprint||b!==location.protocol;return a&&!b?a:null},fromNetwork:function(a){function b(){a(!0)}function c(b){a(null,f.transform(b))}var f=this,g;a&&(g=this.prepare(this._settings()),this.transport(g).fail(b).done(c))},clear:function(){this.storage.clear();return this}});var v=function(a){this.url=a.url;this.prepare=a.prepare;this.transform=a.transform;this.transport=new n({cache:a.cache,limiter:a.limiter,transport:a.transport})};b.mixin(v.prototype,{_settings:function(){return{url:this.url,
type:"GET",dataType:"json"}},get:function(a,b){function c(a,g){a?b([]):b(f.transform(g))}var f=this,g;if(b)return g=this.prepare(a||"",this._settings()),this.transport.get(g,c)},cancelLastRequest:function(){this.transport.cancel()}});var N,L=function(c){return function(f){var g=a.Deferred();c(f,function(a){b.defer(function(){g.resolve(a)})},function(a){b.defer(function(){g.reject(a)})});return g}};N=function(c){var f,c=b.mixin({initialize:!0,identify:b.stringify,datumTokenizer:null,queryTokenizer:null,
sufficient:5,sorter:null,local:[],prefetch:null,remote:null},c||{});!c.datumTokenizer&&a.error("datumTokenizer is required");!c.queryTokenizer&&a.error("queryTokenizer is required");f=c.sorter;c.sorter=f?function(a){return a.sort(f)}:b.identity;c.local=b.isFunction(c.local)?c.local():c.local;var g=c,h;h=c.prefetch;var j;h?(j={url:null,ttl:864E5,cache:!0,cacheKey:null,thumbprint:"",prepare:b.identity,transform:b.identity,transport:null},h=b.isString(h)?{url:h}:h,h=b.mixin(j,h),!h.url&&a.error("prefetch requires url to be set"),
h.transform=h.filter||h.transform,h.cacheKey=h.cacheKey||h.url,h.thumbprint="0.11.1"+h.thumbprint,h.transport=h.transport?L(h.transport):a.ajax):h=null;g.prefetch=h;g=c;if(h=c.remote){j={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:b.identity,transport:null};h=b.isString(h)?{url:h}:h;h=b.mixin(j,h);!h.url&&a.error("remote requires url to be set");h.transform=h.filter||h.transform;j=h;var m=function(a,b){b.url=p(b.url,a);
return b},k=function(a,b){b.url=b.url.replace(q,encodeURIComponent(a));return b},l=function(a,b){return b},n,p,q;n=j.prepare;p=j.replace;q=j.wildcard;n||(n=p?m:j.wildcard?k:l);h.prepare=n;j=h;var O,m=h.limiter,k=h.rateLimitBy;O=h.rateLimitWait;m||(m=/^throttle$/i.test(k)?function(a){return b.throttle(a,O)}:function(a){return b.debounce(a,O)});j.limiter=m;h.transport=h.transport?L(h.transport):a.ajax;delete h.replace;delete h.wildcard;delete h.rateLimitBy;delete h.rateLimitWait}else h=void 0;g.remote=
h;return c};var y=function(a){a=N(a);this.sorter=a.sorter;this.identify=a.identify;this.sufficient=a.sufficient;this.local=a.local;this.remote=a.remote?new v(a.remote):null;this.prefetch=a.prefetch?new P(a.prefetch):null;this.index=new J({identify:this.identify,datumTokenizer:a.datumTokenizer,queryTokenizer:a.queryTokenizer});!1!==a.initialize&&this.initialize()},O;O=window&&window.Bloodhound;y.noConflict=function(){window&&(window.Bloodhound=O);return y};y.tokenizers=c;b.mixin(y.prototype,{__ttAdapter:function(){function a(b,
f,g){return c.search(b,f,g)}function b(a,f){return c.search(a,f)}var c=this;return this.remote?a:b},_loadPrefetch:function(){function b(a,g){if(a)return f.reject();c.add(g);c.prefetch.store(c.index.serialize());f.resolve()}var c=this,f,g;f=a.Deferred();this.prefetch?(g=this.prefetch.fromCache())?(this.index.bootstrap(g),f.resolve()):this.prefetch.fromNetwork(b):f.resolve();return f.promise()},_initialize:function(){var a=this;this.clear();(this.initPromise=this._loadPrefetch()).done(function(){a.add(a.local)});
return this.initPromise},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){this.index.add(a);return this},get:function(a){a=b.isArray(a)?a:[].slice.call(arguments);return this.index.get(a)},search:function(a,c,f){function g(a){var c=[];b.each(a,function(a){!b.some(j,function(b){return h.identify(a)===h.identify(b)})&&c.push(a)});f&&f(c)}var h=this,j;j=this.sorter(this.index.search(a));c(this.remote?j.slice():j);this.remote&&j.length<this.sufficient?
this.remote.get(a,g):this.remote&&this.remote.cancelLastRequest();return this},all:function(){return this.index.all()},clear:function(){this.index.reset();return this},clearPrefetchCache:function(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function(){n.resetCache();return this},ttAdapter:function(){return this.__ttAdapter()}});return y});
(function(a,b){"function"===typeof define&&define.amd?define("typeahead.js",["jquery"],function(a){return b(a)}):"object"===typeof exports?module.exports=b(require("jquery")):b(jQuery)})(this,function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"===
typeof a},isNumber:function(a){return"number"===typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},isElement:function(a){return!!(a&&1===a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){a.each(b,function(a,b){return c(b,a)})},map:a.map,filter:a.grep,every:function(b,c){var f=!0;if(!b)return f;a.each(b,function(a,g){if(!(f=
c.call(null,g,a,b)))return!1});return!!f},some:function(b,c){var f=!1;if(!b)return f;a.each(b,function(a,g){if(f=c.call(null,g,a,b))return!1});return!!f},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var f,g;return function(){var h=this,j=arguments,m;
m=c&&!f;clearTimeout(f);f=setTimeout(function(){f=null;c||(g=a.apply(h,j))},b);m&&(g=a.apply(h,j));return g}},throttle:function(a,b){var c,f,g,h,j,m;j=0;m=function(){j=new Date;g=null;h=a.apply(c,f)};return function(){var k=new Date,l=b-(k-j);c=this;f=arguments;0>=l?(clearTimeout(g),g=null,j=k,h=a.apply(c,f)):g||(g=setTimeout(m,l));return h}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}},c,f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",
dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};c=function(a){var c,a=b.mixin({},f,a),g={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",
top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(g.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});var h={wrapper:'<span class="'+a.wrapper+'"></span>',menu:'<div class="'+a.menu+'"></div>'},j={};b.each(a,function(a,b){j[b]="."+a});c={css:g,classes:a,html:h,selectors:j};return{css:c.css,html:c.html,classes:c.classes,selectors:c.selectors,mixin:function(a){b.mixin(a,
c)}}};var g=function(b){(!b||!b.el)&&a.error("EventBus initialized without el");this.$el=a(b.el)},h;h={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};b.mixin(g.prototype,{_trigger:function(b,c){var f;f=a.Event("typeahead:"+b);(c=c||[]).unshift(f);this.$el.trigger.apply(this.$el,c);return f},before:function(a){var b;b=[].slice.call(arguments,1);return this._trigger("before"+a,b).isDefaultPrevented()},trigger:function(a){var b;this._trigger(a,[].slice.call(arguments,
1));(b=h[a])&&this._trigger(b,[].slice.call(arguments,1))}});var j,k=function(a,b,c,f){var g;if(!c)return this;b=b.split(u);if(f)var h=c,c=h.bind?h.bind(f):function(){h.apply(f,[].slice.call(arguments,0))};for(this._callbacks=this._callbacks||{};g=b.shift();)this._callbacks[g]=this._callbacks[g]||{sync:[],async:[]},this._callbacks[g][a].push(c);return this},l=function(a,b,c){return function(){for(var f,g=0,h=a.length;!f&&g<h;g+=1)f=!1===a[g].apply(b,c);return!f}},u=/\s+/,p;p=window.setImmediate?function(a){setImmediate(function(){a()})}:
function(a){setTimeout(function(){a()},0)};j={onSync:function(a,b,c){return k.call(this,"sync",a,b,c)},onAsync:function(a,b,c){return k.call(this,"async",a,b,c)},off:function(a){var b;if(!this._callbacks)return this;for(a=a.split(u);b=a.shift();)delete this._callbacks[b];return this},trigger:function(a){var b,c,f,g,h;if(!this._callbacks)return this;a=a.split(u);for(f=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)g=l(c.sync,this,[b].concat(f)),h=l(c.async,this,[b].concat(f)),g()&&
p(h);return this}};var q,n=window.document,A={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};q=function(a){function c(b){var f,h,j;if(f=g.exec(b.data))j=n.createElement(a.tagName),a.className&&(j.className=a.className),h=b.splitText(f.index),h.splitText(f[0].length),j.appendChild(h.cloneNode(!0)),b.parentNode.replaceChild(j,h);return!!f}function f(a,b){for(var c,g=0;g<a.childNodes.length;g++)c=a.childNodes[g],3===c.nodeType?g+=b(c)?1:0:f(c,b)}var g,a=b.mixin({},
A,a);if(a.node&&a.pattern){a.pattern=b.isArray(a.pattern)?a.pattern:[a.pattern];for(var h=a.pattern,j=a.caseSensitive,m=a.wordsOnly,k=[],l=0,p=h.length;l<p;l++)k.push(b.escapeRegExChars(h[l]));h=m?"\\b("+k.join("|")+")\\b":"("+k.join("|")+")";g=j?RegExp(h):RegExp(h,"i");f(a.node,c)}};var I=function(c,f){c=c||{};c.input||a.error("input is missing");f.mixin(this);this.$hint=a(c.hint);this.$input=a(c.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=
a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:this.$input.css("font-family"),fontSize:this.$input.css("font-size"),fontStyle:this.$input.css("font-style"),fontVariant:this.$input.css("font-variant"),fontWeight:this.$input.css("font-weight"),wordSpacing:this.$input.css("word-spacing"),letterSpacing:this.$input.css("letter-spacing"),textIndent:this.$input.css("text-indent"),textRendering:this.$input.css("text-rendering"),textTransform:this.$input.css("text-transform")}).insertAfter(this.$input);
this._checkLanguageDirection();0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop)},w;w={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};I.normalizeQuery=function(a){return b.toStr(a).replace(/^\s*/g,"").replace(/\s{2,}/g," ")};b.mixin(I.prototype,j,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(a){var b=w[a.which||
a.keyCode];this._managePreventDefault(b,a);b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(a,b){var c;switch(a){case "up":case "down":c=!(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case "tab":c=!(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey);break;default:c=!0}return c},
_checkLanguageDirection:function(){var a=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==a&&(this.dir=a,this.$hint.attr("dir",a),this.trigger("langDirChanged",a))},_setQuery:function(a,b){var c,f;f=(c=I.normalizeQuery(a)===I.normalizeQuery(this.query))?this.query.length!==a.length:!1;this.query=a;!b&&!c?this.trigger("queryChanged",this.query):!b&&f&&this.trigger("whitespaceChanged",this.query)},bind:function(){var a=this,c,f,g,h;c=b.bind(this._onBlur,this);f=b.bind(this._onFocus,this);
g=b.bind(this._onKeydown,this);h=b.bind(this._onInput,this);this.$input.on("blur.tt",c).on("focus.tt",f).on("keydown.tt",g);if(!b.isMsie()||9<b.isMsie())this.$input.on("input.tt",h);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(c){w[c.which||c.keyCode]||b.defer(b.bind(a._onInput,a,c))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(a,
b){this.setInputValue(a);this._setQuery(a,b)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(a){this.$input.val(a);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,
b;a=this.getInputValue();b=this.getHint();b=a!==b&&0===b.indexOf(a);!(""!==a&&b&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var a=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c;a=this.$input.val().length;c=this.$input[0].selectionStart;return b.isNumber(c)?c===a:document.selection?(c=document.selection.createRange(),c.moveStart("character",
-a),a===c.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=a("<div>")}});var G=function(c,f){c=c||{};c.templates=c.templates||{};c.templates.notFound=c.templates.notFound||c.templates.empty;c.source||a.error("missing source");c.node||a.error("missing node");c.name&&!/^[_a-zA-Z0-9-]+$/.test(c.name)&&a.error("invalid dataset name: "+c.name);f.mixin(this);this.highlight=!!c.highlight;this.name=c.name||
m();this.limit=c.limit||5;var g=c.display||c.displayKey,h=function(a){return a[g]},g=g||b.stringify;this.displayFn=b.isFunction(g)?g:h;var h=c.templates,j=this.displayFn,k=function(b){return a("<div>").text(j(b))};this.templates={notFound:h.notFound&&b.templatify(h.notFound),pending:h.pending&&b.templatify(h.pending),header:h.header&&b.templatify(h.header),footer:h.footer&&b.templatify(h.footer),suggestion:h.suggestion||k};this.source=c.source.__ttAdapter?c.source.__ttAdapter():c.source;this.async=
b.isUndefined(c.async)?2<this.source.length:!!c.async;this._resetLastSuggestion();this.$el=a(c.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)},m;m=b.getIdGenerator();G.extractData=function(b){b=a(b);return b.data("tt-selectable-object")?{val:b.data("tt-selectable-display")||"",obj:b.data("tt-selectable-object")||null}:null};b.mixin(G.prototype,j,{_overwrite:function(a,b){b=b||[];b.length?this._renderSuggestions(a,b):this.async&&this.templates.pending?this._renderPending(a):
!this.async&&this.templates.notFound?this._renderNotFound(a):this._empty();this.trigger("rendered",this.name,b,!1)},_append:function(a,b){b=b||[];b.length&&this.$lastSuggestion.length?this._appendSuggestions(a,b):b.length?this._renderSuggestions(a,b):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(a);this.trigger("rendered",this.name,b,!0)},_renderSuggestions:function(a,b){var c;c=this._getSuggestionsFragment(a,b);this.$lastSuggestion=c.children().last();this.$el.html(c).prepend(this._getHeader(a,
b)).append(this._getFooter(a,b))},_appendSuggestions:function(a,b){var c,f;c=this._getSuggestionsFragment(a,b);f=c.children().last();this.$lastSuggestion.after(c);this.$lastSuggestion=f},_renderPending:function(a){var b=this.templates.pending;this._resetLastSuggestion();b&&this.$el.html(b({query:a,dataset:this.name}))},_renderNotFound:function(a){var b=this.templates.notFound;this._resetLastSuggestion();b&&this.$el.html(b({query:a,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},
_getSuggestionsFragment:function(c,f){var g=this,h;h=document.createDocumentFragment();b.each(f,function(b){var f;f=g._injectQuery(c,b);b=a(g.templates.suggestion(f)).data("tt-selectable-object",b).data("tt-selectable-display",g.displayFn(b)).addClass(g.classes.suggestion+" "+g.classes.selectable);h.appendChild(b[0])});this.highlight&&q({className:this.classes.highlight,node:h,pattern:c});return a(h)},_getFooter:function(a,b){return this.templates.footer?this.templates.footer({query:a,suggestions:b,
dataset:this.name}):null},_getHeader:function(a,b){return this.templates.header?this.templates.header({query:a,suggestions:b,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=a()},_injectQuery:function(a,c){return b.isObject(c)?b.mixin({_query:a},c):c},update:function(b){function c(a){h||(h=!0,a=(a||[]).slice(0,f.limit),j=a.length,f._overwrite(b,a),j<f.limit&&f.async&&f.trigger("asyncRequested",b))}var f=this,g=!1,h=!1,j=0;this.cancel();this.cancel=function(){g=!0;f.cancel=
a.noop;f.async&&f.trigger("asyncCanceled",b)};this.source(b,c,function(c){c=c||[];!g&&j<f.limit&&(f.cancel=a.noop,j+=c.length,f._append(b,c.slice(0,f.limit-j)),f.async&&f.trigger("asyncReceived",b))});!h&&c([])},cancel:a.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=a("<div>")}});var C=function(c,f){var g=this,c=c||{};c.node||a.error("node is required");f.mixin(this);this.$node=a(c.node);this.query=
null;this.datasets=b.map(c.datasets,function(b){var c=g.$node.find(b.node).first();b.node=c.length?c:a("<div>").appendTo(g.$node);return new G(b,f)})};b.mixin(C.prototype,j,{_onSelectableClick:function(b){this.trigger("selectableClicked",a(b.currentTarget))},_onRendered:function(a,b,c,f){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",b,c,f)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},
_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return b.every(this.datasets,function(a){return a.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var a=this.getActiveSelectable();a&&a.removeClass(this.classes.cursor)},_ensureVisible:function(a){var b,c,f;b=a.position().top;a=b+a.outerHeight(!0);c=this.$node.scrollTop();f=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),
10);0>b?this.$node.scrollTop(c+b):f<a&&this.$node.scrollTop(c+(a-f))},bind:function(){var a=this,c;c=b.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,c);b.each(this.datasets,function(b){b.onSync("asyncRequested",a._propagate,a).onSync("asyncCanceled",a._propagate,a).onSync("asyncReceived",a._propagate,a).onSync("rendered",a._onRendered,a).onSync("cleared",a._onCleared,a)});return this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},
close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(a){this.$node.attr("dir",a)},selectableRelativeToCursor:function(a){var b,c;c=this.getActiveSelectable();b=this._getSelectables();a=(c?b.index(c):-1)+a;a=(a+1)%(b.length+1)-1;a=-1>a?b.length-1:a;return-1===a?null:b.eq(a)},setCursor:function(a){this._removeCursor();if(a=a&&a.first())a.addClass(this.classes.cursor),this._ensureVisible(a)},getSelectableData:function(a){return a&&a.length?G.extractData(a):
null},getActiveSelectable:function(){var a=this._getSelectables().filter(this.selectors.cursor).first();return a.length?a:null},getTopSelectable:function(){var a=this._getSelectables().first();return a.length?a:null},update:function(a){function c(b){b.update(a)}var f=a!==this.query;f&&(this.query=a,b.each(this.datasets,c));return f},empty:function(){b.each(this.datasets,function(a){a.clear()});this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt");this.$node=
a("<div>");b.each(this.datasets,function(a){a.destroy()})}});var z=function(){C.apply(this,[].slice.call(arguments,0))},B=C.prototype;b.mixin(z.prototype,C.prototype,{open:function(){!this._allDatasetsEmpty()&&this._show();return B.open.apply(this,[].slice.call(arguments,0))},close:function(){this._hide();return B.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return B._onRendered.apply(this,[].slice.call(arguments,
0))},_onCleared:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return B._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(a){this.$node.css("ltr"===a?this.css.ltr:this.css.rtl);return B.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}});var x=function(c,f){var g,h,j,m,k,l,n,p,q,u,C,c=c||{};c.input||a.error("missing input");c.menu||a.error("missing menu");
c.eventBus||a.error("missing event bus");f.mixin(this);this.eventBus=c.eventBus;this.minLength=b.isNumber(c.minLength)?c.minLength:1;this.input=c.input;this.menu=c.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,
this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);g=J(this,"activate","open","_onFocused");h=J(this,"deactivate","_onBlurred");j=J(this,"isActive","isOpen","_onEnterKeyed");m=J(this,"isActive","isOpen","_onTabKeyed");k=J(this,"isActive","_onEscKeyed");l=J(this,"isActive","open","_onUpKeyed");n=J(this,"isActive","open","_onDownKeyed");p=J(this,"isActive","isOpen","_onLeftKeyed");q=J(this,"isActive","isOpen","_onRightKeyed");u=J(this,"_openIfActive",
"_onQueryChanged");C=J(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",g,this).onSync("blurred",h,this).onSync("enterKeyed",j,this).onSync("tabKeyed",m,this).onSync("escKeyed",k,this).onSync("upKeyed",l,this).onSync("downKeyed",n,this).onSync("leftKeyed",p,this).onSync("rightKeyed",q,this).onSync("queryChanged",u,this).onSync("whitespaceChanged",C,this).onSync("langDirChanged",this._onLangDirChanged,this)},J=function(a){var c=[].slice.call(arguments,1);return function(){var f=
[].slice.call(arguments);b.each(c,function(b){return a[b].apply(a,f)})}};b.mixin(x.prototype,{_hacks:function(){var c,f;c=this.input.$input||a("<div>");f=this.menu.$node||a("<div>");c.on("blur.tt",function(a){var g,h;g=document.activeElement;h=f.is(g);g=0<f.has(g).length;if(b.isMsie()&&(h||g))a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){c.focus()})});f.on("mousedown.tt",function(a){a.preventDefault()})},_onSelectableClicked:function(a,b){this.select(b)},_onDatasetCleared:function(){this._updateHint()},
_onDatasetRendered:function(a,b,c,f){this._updateHint();this.eventBus.trigger("render",c,f,b)},_onAsyncRequested:function(a,b,c){this.eventBus.trigger("asyncrequest",c,b)},_onAsyncCanceled:function(a,b,c){this.eventBus.trigger("asynccancel",c,b)},_onAsyncReceived:function(a,b,c){this.eventBus.trigger("asyncreceive",c,b)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",
this.input.getQuery())},_onEnterKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())&&this.select(c)&&b.preventDefault()},_onTabKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())?this.select(c)&&b.preventDefault():(c=this.menu.getTopSelectable())&&this.autocomplete(c)&&b.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&
this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(a,b){this._minLengthMet(b)?this.menu.update(b):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(a,b){this.dir!==b&&(this.dir=b,this.menu.setLanguageDirection(b))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(a){a=b.isString(a)?
a:this.input.getQuery()||"";return a.length>=this.minLength},_updateHint:function(){var a,c,f;a=this.menu.getTopSelectable();c=this.menu.getSelectableData(a);a=this.input.getInputValue();c&&!b.isBlankString(a)&&!this.input.hasOverflow()?(f=I.normalizeQuery(a),f=b.escapeRegExChars(f),f=RegExp("^(?:"+f+")(.+$)","i"),(c=f.exec(c.val))&&this.input.setHint(a+c[1])):this.input.clearHint()},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},
activate:function(){if(this.isActive())return!0;if(!this.isEnabled()||this.eventBus.before("active"))return!1;this.active=!0;this.eventBus.trigger("active");return!0},deactivate:function(){if(this.isActive()){if(this.eventBus.before("idle"))return!1;this.active=!1;this.close();this.eventBus.trigger("idle")}return!0},isOpen:function(){return this.menu.isOpen()},open:function(){!this.isOpen()&&!this.eventBus.before("open")&&(this.menu.open(),this._updateHint(),this.eventBus.trigger("open"));return this.isOpen()},
close:function(){this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close"));return!this.isOpen()},setVal:function(a){this.input.setQuery(b.toStr(a))},getVal:function(){return this.input.getQuery()},select:function(a){return(a=this.menu.getSelectableData(a))&&!this.eventBus.before("select",a.obj)?(this.input.setQuery(a.val,!0),this.eventBus.trigger("select",a.obj),this.close(),!0):!1},autocomplete:function(a){var b;
b=this.input.getQuery();return(a=this.menu.getSelectableData(a))&&b!==a.val&&!this.eventBus.before("autocomplete",a.obj)?(this.input.setQuery(a.val),this.eventBus.trigger("autocomplete",a.obj),!0):!1},moveCursor:function(a){var b,c,f;b=this.input.getQuery();a=this.menu.selectableRelativeToCursor(a);f=(c=this.menu.getSelectableData(a))?c.obj:null;return(!this._minLengthMet()||!this.menu.update(b))&&!this.eventBus.before("cursorchange",f)?(this.menu.setCursor(a),c?this.input.setInputValue(c.val):(this.input.resetInputValue(),
this._updateHint()),this.eventBus.trigger("cursorchange",f),!0):!1},destroy:function(){this.input.destroy();this.menu.destroy()}});var P=function(b,c){b.each(function(){var b=a(this),f;(f=b.data(L.typeahead))&&c(f,b)})},v=function(c){c=b.isJQuery(c)||b.isElement(c)?a(c).first():[];return c.length?c:null},N,L,y;N=a.fn.typeahead;L={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};y={initialize:function(f,h){var j,h=b.isArray(h)?h:[].slice.call(arguments,1),f=f||{};j=c(f.classNames);return this.each(function(){var c,
m,k,l,n,p;b.each(h,function(a){a.highlight=!!f.highlight});c=a(this);m=a(j.html.wrapper);k=v(f.hint);l=v(f.menu);n=!1!==f.hint&&!k;p=!1!==f.menu&&!l;n&&(k=c.clone().addClass(j.classes.hint).removeData().css(j.css.hint).css({backgroundAttachment:c.css("background-attachment"),backgroundClip:c.css("background-clip"),backgroundColor:c.css("background-color"),backgroundImage:c.css("background-image"),backgroundOrigin:c.css("background-origin"),backgroundPosition:c.css("background-position"),backgroundRepeat:c.css("background-repeat"),
backgroundSize:c.css("background-size")}).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1}));p&&(l=a(j.html.menu).css(j.css.menu));k&&k.val("");var q=j;c.data(L.attrs,{dir:c.attr("dir"),autocomplete:c.attr("autocomplete"),spellcheck:c.attr("spellcheck"),style:c.attr("style")});c.addClass(q.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!c.attr("dir")&&c.attr("dir","auto")}catch(u){}if(n||p)m.css(j.css.wrapper),c.css(n?
j.css.input:j.css.inputWithNoHint),c.wrap(m).parent().prepend(n?k:null).append(p?l:null);n=p?z:C;m=new g({el:c});k=new I({hint:k,input:c},j);l=new n({node:l,datasets:h},j);l=new x({input:k,menu:l,eventBus:m,minLength:f.minLength},j);c.data(L.www,j);c.data(L.typeahead,l)})},isEnabled:function(){var a;P(this.first(),function(b){a=b.isEnabled()});return a},enable:function(){P(this,function(a){a.enable()});return this},disable:function(){P(this,function(a){a.disable()});return this},isActive:function(){var a;
P(this.first(),function(b){a=b.isActive()});return a},activate:function(){P(this,function(a){a.activate()});return this},deactivate:function(){P(this,function(a){a.deactivate()});return this},isOpen:function(){var a;P(this.first(),function(b){a=b.isOpen()});return a},open:function(){P(this,function(a){a.open()});return this},close:function(){P(this,function(a){a.close()});return this},select:function(b){var c=!1,f=a(b);P(this.first(),function(a){c=a.select(f)});return c},autocomplete:function(b){var c=
!1,f=a(b);P(this.first(),function(a){c=a.autocomplete(f)});return c},moveCursor:function(a){var b=!1;P(this.first(),function(c){b=c.moveCursor(a)});return b},val:function(a){var b;if(arguments.length)return P(this,function(b){b.setVal(a)}),this;P(this.first(),function(a){b=a.getVal()});return b},destroy:function(){P(this,function(a,c){var f,g;f=c.data(L.www);g=c.parent().filter(f.selectors.wrapper);b.each(c.data(L.attrs),function(a,f){b.isUndefined(a)?c.removeAttr(f):c.attr(f,a)});c.removeData(L.typeahead).removeData(L.www).removeData(L.attr).removeClass(f.classes.input);
g.length&&(c.detach().insertAfter(g),g.remove());a.destroy()});return this}};a.fn.typeahead=function(a){return y[a]?y[a].apply(this,[].slice.call(arguments,1)):y.initialize.apply(this,arguments)};a.fn.typeahead.noConflict=function(){a.fn.typeahead=N;return this}});(function(a,b,c,f){function g(b,c){this.element=b;this.options=a.extend(!0,{},j,c);this.options.share=c.share;this._defaults=j;this._name=h;this.init()}var h="sharrre",j={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1},shareTotal:0,template:"",title:"",url:c.location.href,text:c.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},
click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,
counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},k={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"https://opensharecount.com/count.json?url={url}",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",
stumbleupon:"",linkedin:"https://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"https://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"},l={googlePlus:function(f){var g=f.options.buttons.googlePlus;a(f.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="'+g.size+'" data-href="'+(""!==g.url?g.url:f.options.url)+'" data-annotation="'+g.annotation+'"></div></div>');b.___gcfg={lang:f.options.buttons.googlePlus.lang};
"undefined"===typeof gapi?(f=c.createElement("script"),f.type="text/javascript",f.async=!0,f.src="//apis.google.com/js/plusone.js",g=c.getElementsByTagName("script")[0],g.parentNode.insertBefore(f,g)):gapi.plusone.go()},facebook:function(b){var f=b.options.buttons.facebook;a(b.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-share-button" data-href="'+(""!==f.url?f.url:b.options.url)+'" data-send="'+f.send+'" data-layout="'+f.layout+'" data-width="'+
f.width+'" data-show-faces="'+f.faces+'" data-action="'+f.action+'" data-colorscheme="'+f.colorscheme+'" data-font="'+f.font+'" data-via="'+f.via+'"></div></div>');if("undefined"===typeof FB){var g=c.getElementsByTagName("script")[0];c.getElementById("facebook-jssdk")||(b=c.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.net/"+f.lang+"/all.js#xfbml=1",g.parentNode.insertBefore(b,g))}else FB.XFBML.parse()},twitter:function(b){var f=b.options.buttons.twitter;a(b.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+
(""!==f.url?f.url:b.options.url)+'" data-count="'+f.count+'" data-text="'+b.options.text+'" data-via="'+f.via+'" data-hashtags="'+f.hashtags+'" data-related="'+f.related+'" data-lang="'+f.lang+'">Tweet</a></div>');"undefined"===typeof twttr?(b=c.createElement("script"),b.type="text/javascript",b.async=!0,b.src="//platform.twitter.com/widgets.js",f=c.getElementsByTagName("script")[0],f.parentNode.insertBefore(b,f)):a.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0})},digg:function(b){var f=
b.options.buttons.digg;a(b.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+f.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent(""!==f.url?f.url:b.options.url)+'"></a></div>');"undefined"===typeof __DBW&&(b=c.createElement("SCRIPT"),f=c.getElementsByTagName("SCRIPT")[0],b.type="text/javascript",b.async=!0,b.src="//widgets.digg.com/buttons.js",f.parentNode.insertBefore(b,f))},delicious:function(b){if("tall"==b.options.buttons.delicious.size)var c=
"width:50px;",f="height:35px;width:50px;font-size:15px;line-height:35px;",g="height:18px;line-height:18px;margin-top:3px;";else c="width:93px;",f="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",g="float:left;height:20px;line-height:20px;";var h=b.shorterTotal(b.options.count.delicious);"undefined"===typeof h&&(h=0);a(b.element).find(".buttons").append('<div class="button delicious"><div style="'+c+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+
f+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+h+'</div><div style="'+g+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>');a(b.element).find(".delicious").on("click",function(){b.openPopup("delicious")})},
stumbleupon:function(f){var g=f.options.buttons.stumbleupon;a(f.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+g.layout+'" location="'+(""!==g.url?g.url:f.options.url)+'"></su:badge></div>');"undefined"===typeof STMBLPN?(f=c.createElement("script"),f.type="text/javascript",f.async=!0,f.src="//platform.stumbleupon.com/1/widgets.js",g=c.getElementsByTagName("script")[0],g.parentNode.insertBefore(f,g),s=b.setTimeout(function(){"undefined"!==typeof STMBLPN&&(STMBLPN.processWidgets(),
clearInterval(s))},500)):STMBLPN.processWidgets()},linkedin:function(f){var g=f.options.buttons.linkedin;a(f.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="'+(""!==g.url?g.url:f.options.url)+'" data-counter="'+g.counter+'"><\/script></div>');"undefined"===typeof b.IN?(f=c.createElement("script"),f.type="text/javascript",f.async=!0,f.src="//platform.linkedin.com/in.js",g=c.getElementsByTagName("script")[0],g.parentNode.insertBefore(f,g)):b.IN.init()},
pinterest:function(b){var f=b.options.buttons.pinterest;a(b.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url='+(""!==f.url?f.url:b.options.url)+"&media="+f.media+"&description="+f.description+'" class="pin-it-button" count-layout="'+f.layout+'">Pin It</a></div>');b=c.createElement("script");b.type="text/javascript";b.async=!0;b.src="//assets.pinterest.com/js/pinit.js";f=c.getElementsByTagName("script")[0];f.parentNode.insertBefore(b,
f)}},u={googlePlus:function(){},facebook:function(){fb=b.setInterval(function(){"undefined"!==typeof FB&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}),clearInterval(fb))},1E3)},twitter:function(){tw=b.setInterval(function(){"undefined"!==typeof twttr&&(twttr.events.bind("tweet",
function(a){a&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1E3)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){},pinterest:function(){}},p={googlePlus:function(a){b.open("https://plus.google.com/share?hl="+a.buttons.googlePlus.lang+"&url="+encodeURIComponent(""!==a.buttons.googlePlus.url?a.buttons.googlePlus.url:a.url),"","toolbar=0, status=0, width=900, height=500")},facebook:function(a){b.open("http://www.facebook.com/sharer/sharer.php?u="+
encodeURIComponent(""!==a.buttons.facebook.url?a.buttons.facebook.url:a.url)+"&t="+a.text+"","","toolbar=0, status=0, width=900, height=500")},twitter:function(a){b.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(a.text)+"&url="+encodeURIComponent(""!==a.buttons.twitter.url?a.buttons.twitter.url:a.url)+(""!==a.buttons.twitter.via?"&via="+a.buttons.twitter.via:"")+(""!==a.buttons.twitter.hashtags?"&hashtags="+a.buttons.twitter.hashtags:""),"","toolbar=0, status=0, width=650, height=360")},
digg:function(a){b.open("http://digg.com/tools/diggthis/submit?url="+encodeURIComponent(""!==a.buttons.digg.url?a.buttons.digg.url:a.url)+"&title="+a.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(a){b.open("http://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(""!==a.buttons.delicious.url?a.buttons.delicious.url:a.url)+"&title="+a.text,"delicious","toolbar=no,width=550,height=550")},stumbleupon:function(a){b.open("http://www.stumbleupon.com/badge/?url="+
encodeURIComponent(""!==a.buttons.stumbleupon.url?a.buttons.stumbleupon.url:a.url),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(a){b.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==a.buttons.linkedin.url?a.buttons.linkedin.url:a.url)+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(a){b.open("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(""!==a.buttons.pinterest.url?a.buttons.pinterest.url:a.url)+
"&media="+encodeURIComponent(a.buttons.pinterest.media)+"&description="+a.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")}};g.prototype.init=function(){var b=this;""!==this.options.urlCurl&&(k.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",k.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon");a(this.element).addClass(this.options.className);"undefined"!==typeof a(this.element).data("title")&&(this.options.title=a(this.element).attr("data-title"));
"undefined"!==typeof a(this.element).data("url")&&(this.options.url=a(this.element).data("url"));"undefined"!==typeof a(this.element).data("text")&&(this.options.text=a(this.element).data("text"));a.each(this.options.share,function(a,c){!0===c&&b.options.shareTotal++});!0===b.options.enableCounter?a.each(this.options.share,function(a,c){if(!0===c)try{b.getSocialJson(a)}catch(f){}}):""!==b.options.template?this.options.render(this,this.options):this.loadButtons();a(this.element).hover(function(){0===
a(this).find(".buttons").length&&!0===b.options.enableHover&&b.loadButtons();b.options.hover(b,b.options)},function(){b.options.hide(b,b.options)});a(this.element).click(function(){b.options.click(b,b.options);return!1})};g.prototype.loadButtons=function(){var b=this;a(this.element).append('<div class="buttons"></div>');a.each(b.options.share,function(a,c){if(!0==c&&(l[a](b),!0===b.options.enableTracking))u[a]()})};g.prototype.getSocialJson=function(b){var c=this,f=0,g=k[b].replace("{url}",encodeURIComponent(this.options.url));
!0===this.options.buttons[b].urlCount&&""!==this.options.buttons[b].url&&(g=k[b].replace("{url}",this.options.buttons[b].url));""!=g&&""!==c.options.urlCurl?a.getJSON(g,function(a){"undefined"!==typeof a.count?(a=a.count+"",a=a.replace("\u00c2\u00a0",""),f+=parseInt(a,10)):a.data&&0<a.data.length&&"undefined"!==typeof a.data[0].total_count?f+=parseInt(a.data[0].total_count,10):"undefined"!==typeof a[0]&&(f+=parseInt(a[0].total_posts,10));c.options.count[b]=f;c.options.total+=f;c.renderer();c.rendererPerso()}).error(function(){c.options.count[b]=
0;c.rendererPerso()}):(c.renderer(),c.options.count[b]=0,c.rendererPerso())};g.prototype.rendererPerso=function(){var a=0;for(e in this.options.count)a++;a===this.options.shareTotal&&this.options.render(this,this.options)};g.prototype.renderer=function(){var b=this.options.total,c=this.options.template;!0===this.options.shorterTotal&&(b=this.shorterTotal(b));""!==c?(c=c.replace("{total}",b),a(this.element).html(c)):a(this.element).html('<div class="box"><a class="count" href="#">'+b+"</a>"+(""!==
this.options.title?'<a class="share" href="#">'+this.options.title+"</a>":"")+"</div>")};g.prototype.shorterTotal=function(a){1E6<=a?a=(a/1E6).toFixed(2)+"M":1E3<=a&&(a=(a/1E3).toFixed(1)+"k");return a};g.prototype.openPopup=function(a){p[a](this.options);if(!0===this.options.enableTracking){var b={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",
action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"}};_gaq.push(["_trackSocial",b[a].site,b[a].action])}};g.prototype.simulateClick=function(){var b=a(this.element).html();a(this.element).html(b.replace(this.options.total,this.options.total+1))};g.prototype.update=function(a,b){""!==a&&(this.options.url=a);""!==b&&(this.options.text=b)};a.fn[h]=function(b){var c=arguments;if(b===f||"object"===typeof b)return this.each(function(){a.data(this,"plugin_"+h)||
a.data(this,"plugin_"+h,new g(this,b))});if("string"===typeof b&&"_"!==b[0]&&"init"!==b)return this.each(function(){var f=a.data(this,"plugin_"+h);f instanceof g&&"function"===typeof f[b]&&f[b].apply(f,Array.prototype.slice.call(c,1))})}})(jQuery,window,document);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function b(a){if(f[a])return f[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return f.bind.apply(this,arguments);c.error("Method "+a+" does not exist on jQuery.regula")}var c=a,f={bind:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&c.extend(!0,b,{elements:this.get()}));regula.bind(b);return this},unbind:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&
c.extend(!0,b,{elements:this.get()}));regula.unbind(b);return this},isBound:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&c.extend(!0,b,{element:this.get(0)}));regula.isBound(b);return this},validate:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&c.extend(!0,b,{elements:this.get()}));return regula.validate(b)},custom:function(a){regula.custom(a);return this},compound:function(a){regula.compound(a);return this},override:function(a){regula.override(a);return this}};
f.on=f.bind;f.off=f.unbind;c.fn.regula=b;c.regula=b});(function(a){a.fn.extend({leanModal:function(b){function c(b){a(b).css({display:"none"}).removeClass("visible-modal");0===a(".visible-modal").length?a("#lean_overlay").fadeOut(200):a(".visible-modal").css({zIndex:11E3})}var f=a("<div id='lean_overlay'></div>");a("body").append(f);b=a.extend({top:100,overlay:0.3,closeButton:null},b);return this.each(function(){var f=b;a(this).click(function(b){var j=a(this).attr("href");a("#lean_overlay").click(function(){c(j)});a(f.closeButton).click(function(){c(j)});
a(j).outerHeight();var k=a(j).outerWidth();a("#lean_overlay").css({display:"block",opacity:0});a("#lean_overlay").fadeTo(200,f.overlay);a(j).css({display:"block",position:"scroll"===f.top?"absolute":"fixed",opacity:0,"z-index":11E3,left:"50%","margin-left":-(k/2)+"px",top:("scroll"===f.top&&a.fn._scrollable?a(window)._scrollable().prop("scrollTop"):f.top)+"px"});a(".visible-modal").css({zIndex:9999});a(j).fadeTo(200,1).addClass("visible-modal");b.preventDefault()})})}})})(jQuery);(function(a){function b(){g=!1;for(var b=0;b<c.length;b++){var f=a(c[b]).filter(function(){return a(this).is(":appeared")});f.trigger("appear",[f]);if(k){var h=k.not(f);h.trigger("disappear",[h])}k=f}}var c=[],f=!1,g=!1,h={interval:250,force_process:!1},j=a(window),k;a.expr[":"].appeared=function(b){b=a(b);if(!b.is(":visible"))return!1;var c=j.scrollLeft(),f=j.scrollTop(),g=b.offset(),h=g.left,g=g.top;return g+b.height()>=f&&g-(b.data("appear-top-offset")||0)<=f+j.height()&&h+b.width()>=c&&h-(b.data("appear-left-offset")||
0)<=c+j.width()?!0:!1};a.fn.extend({appear:function(j){var k=a.extend({},h,j||{}),j=this.selector||this;if(!f){var p=function(){g||(g=!0,setTimeout(b,k.interval))};a(window).scroll(p).resize(p);f=!0}k.force_process&&setTimeout(b,k.interval);c.push(j);return a(j)}});a.extend({force_appear:function(){return f?(b(),!0):!1}})})(jQuery);later=function(){var a={version:"1.1.9"};return Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var c=Object(this),f=c.length>>>0;if(0===f)return-1;var g=0;if(1<arguments.length&&(g=Number(arguments[1]),g!=g?g=0:0!=g&&g!=1/0&&g!=-(1/0)&&(g=(0<g||-1)*Math.floor(Math.abs(g)))),g>=f)return-1;for(g=0<=g?g:Math.max(f-Math.abs(g),0);f>g;g++)if(g in c&&c[g]===a)return g;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")}),a.array={},a.array.sort=function(a,c){a.sort(function(a,b){return+a-+b});c&&0===a[0]&&a.push(a.shift())},a.array.next=function(a,c,f){for(var g,h=0!==f[0],j=0,k=c.length-1;-1<k;--k){if(g=c[k],g===a)return g;if(!(g>a||0===g&&h&&f[1]>a))break;j=k}return c[j]},a.array.nextInvalid=function(a,c,f){for(var g=f[0],f=f[1],h=c.length,j=0===c[h-1]&&0!==g?f:0,k=a,a=c.indexOf(a),l=k;k===(c[a]||j);)if(k++,k>f&&(k=g),a++,a===h&&(a=0),k===l)return;return k},a.array.prev=function(a,c,f){for(var g,h=c.length,
j=0!==f[0],k=h-1,l=0;h>l;l++){if(g=c[l],g===a)return g;if(!(a>g||0===g&&j&&f[1]<a))break;k=l}return c[k]},a.array.prevInvalid=function(a,c,f){for(var g=f[0],f=f[1],h=c.length,j=0===c[h-1]&&0!==g?f:0,k=a,a=c.indexOf(a),l=k;k===(c[a]||j);)if(k--,g>k&&(k=f),a--,-1===a&&(a=h-1),k===l)return;return k},a.day=a.D={name:"day",range:86400,val:function(b){return b.D||(b.D=a.date.getDate.call(b))},isValid:function(b,c){return a.D.val(b)===(c||a.D.extent(b)[1])},extent:function(b){if(b.DExtent)return b.DExtent;
var c=a.M.val(b),f=a.DAYS_IN_MONTH[c-1];return 2===c&&366===a.dy.extent(b)[1]&&(f+=1),b.DExtent=[1,f]},start:function(b){return b.DStart||(b.DStart=a.date.next(a.Y.val(b),a.M.val(b),a.D.val(b)))},end:function(b){return b.DEnd||(b.DEnd=a.date.prev(a.Y.val(b),a.M.val(b),a.D.val(b)))},next:function(b,c){var c=c>a.D.extent(b)[1]?1:c,f=a.date.nextRollover(b,c,a.D,a.M),g=a.D.extent(f)[1];return c=c>g?1:c||g,a.date.next(a.Y.val(f),a.M.val(f),c)},prev:function(b,c){var f=a.date.prevRollover(b,c,a.D,a.M),
g=a.D.extent(f)[1];return a.date.prev(a.Y.val(f),a.M.val(f),c>g?g:c||g)}},a.dayOfWeekCount=a.dc={name:"day of week count",range:604800,val:function(b){return b.dc||(b.dc=Math.floor((a.D.val(b)-1)/7)+1)},isValid:function(b,c){return a.dc.val(b)===c||0===c&&a.D.val(b)>a.D.extent(b)[1]-7},extent:function(b){return b.dcExtent||(b.dcExtent=[1,Math.ceil(a.D.extent(b)[1]/7)])},start:function(b){return b.dcStart||(b.dcStart=a.date.next(a.Y.val(b),a.M.val(b),Math.max(1,7*(a.dc.val(b)-1)+1||1)))},end:function(b){return b.dcEnd||
(b.dcEnd=a.date.prev(a.Y.val(b),a.M.val(b),Math.min(7*a.dc.val(b),a.D.extent(b)[1])))},next:function(b,c){var c=c>a.dc.extent(b)[1]?1:c,f=a.date.nextRollover(b,c,a.dc,a.M),g=a.dc.extent(f)[1],c=c>g?1:c,g=a.date.next(a.Y.val(f),a.M.val(f),0===c?a.D.extent(f)[1]-6:1+7*(c-1));return g.getTime()<=b.getTime()?(f=a.M.next(b,a.M.val(b)+1),a.date.next(a.Y.val(f),a.M.val(f),0===c?a.D.extent(f)[1]-6:1+7*(c-1))):g},prev:function(b,c){var f=a.date.prevRollover(b,c,a.dc,a.M),g=a.dc.extent(f)[1];return c=c>g?g:
c||g,a.dc.end(a.date.prev(a.Y.val(f),a.M.val(f),1+7*(c-1)))}},a.dayOfWeek=a.dw=a.d={name:"day of week",range:86400,val:function(b){return b.dw||(b.dw=a.date.getDay.call(b)+1)},isValid:function(b,c){return a.dw.val(b)===(c||7)},extent:function(){return[1,7]},start:function(b){return a.D.start(b)},end:function(b){return a.D.end(b)},next:function(b,c){return c=7<c?1:c||7,a.date.next(a.Y.val(b),a.M.val(b),a.D.val(b)+(c-a.dw.val(b))+(c<=a.dw.val(b)?7:0))},prev:function(b,c){return c=7<c?7:c||7,a.date.prev(a.Y.val(b),
a.M.val(b),a.D.val(b)+(c-a.dw.val(b))+(c>=a.dw.val(b)?-7:0))}},a.dayOfYear=a.dy={name:"day of year",range:86400,val:function(b){return b.dy||(b.dy=Math.ceil(1+(a.D.start(b).getTime()-a.Y.start(b).getTime())/a.DAY))},isValid:function(b,c){return a.dy.val(b)===(c||a.dy.extent(b)[1])},extent:function(b){var c=a.Y.val(b);return b.dyExtent||(b.dyExtent=[1,c%4?365:366])},start:function(b){return a.D.start(b)},end:function(b){return a.D.end(b)},next:function(b,c){var c=c>a.dy.extent(b)[1]?1:c,f=a.date.nextRollover(b,
c,a.dy,a.Y),g=a.dy.extent(f)[1];return c=c>g?1:c||g,a.date.next(a.Y.val(f),a.M.val(f),c)},prev:function(b,c){var f=a.date.prevRollover(b,c,a.dy,a.Y),g=a.dy.extent(f)[1];return c=c>g?g:c||g,a.date.prev(a.Y.val(f),a.M.val(f),c)}},a.hour=a.h={name:"hour",range:3600,val:function(b){return b.h||(b.h=a.date.getHour.call(b))},isValid:function(b,c){return a.h.val(b)===c},extent:function(){return[0,23]},start:function(b){return b.hStart||(b.hStart=a.date.next(a.Y.val(b),a.M.val(b),a.D.val(b),a.h.val(b)))},
end:function(b){return b.hEnd||(b.hEnd=a.date.prev(a.Y.val(b),a.M.val(b),a.D.val(b),a.h.val(b)))},next:function(b,c){var c=23<c?0:c,f=a.date.next(a.Y.val(b),a.M.val(b),a.D.val(b)+(c<=a.h.val(b)?1:0),c);return!a.date.isUTC&&f.getTime()<=b.getTime()&&(f=a.date.next(a.Y.val(f),a.M.val(f),a.D.val(f),c+1)),f},prev:function(b,c){return c=23<c?23:c,a.date.prev(a.Y.val(b),a.M.val(b),a.D.val(b)+(c>=a.h.val(b)?-1:0),c)}},a.minute=a.m={name:"minute",range:60,val:function(b){return b.m||(b.m=a.date.getMin.call(b))},
isValid:function(b,c){return a.m.val(b)===c},extent:function(){return[0,59]},start:function(b){return b.mStart||(b.mStart=a.date.next(a.Y.val(b),a.M.val(b),a.D.val(b),a.h.val(b),a.m.val(b)))},end:function(b){return b.mEnd||(b.mEnd=a.date.prev(a.Y.val(b),a.M.val(b),a.D.val(b),a.h.val(b),a.m.val(b)))},next:function(b,c){var f=a.m.val(b),g=a.s.val(b),f=59<c?60-f:f>=c?60-f+c:c-f,h=new Date(b.getTime()+f*a.MIN-g*a.SEC);return!a.date.isUTC&&h.getTime()<=b.getTime()&&(h=new Date(b.getTime()+(f+120)*a.MIN-
g*a.SEC)),h},prev:function(b,c){return c=59<c?59:c,a.date.prev(a.Y.val(b),a.M.val(b),a.D.val(b),a.h.val(b)+(c>=a.m.val(b)?-1:0),c)}},a.month=a.M={name:"month",range:2629740,val:function(b){return b.M||(b.M=a.date.getMonth.call(b)+1)},isValid:function(b,c){return a.M.val(b)===(c||12)},extent:function(){return[1,12]},start:function(b){return b.MStart||(b.MStart=a.date.next(a.Y.val(b),a.M.val(b)))},end:function(b){return b.MEnd||(b.MEnd=a.date.prev(a.Y.val(b),a.M.val(b)))},next:function(b,c){return c=
12<c?1:c||12,a.date.next(a.Y.val(b)+(c>a.M.val(b)?0:1),c)},prev:function(b,c){return c=12<c?12:c||12,a.date.prev(a.Y.val(b)-(c>=a.M.val(b)?1:0),c)}},a.second=a.s={name:"second",range:1,val:function(b){return b.s||(b.s=a.date.getSec.call(b))},isValid:function(b,c){return a.s.val(b)===c},extent:function(){return[0,59]},start:function(a){return a},end:function(a){return a},next:function(b,c){var f=a.s.val(b),f=59<c?60-f:f>=c?60-f+c:c-f,g=new Date(b.getTime()+f*a.SEC);return!a.date.isUTC&&g.getTime()<=
b.getTime()&&(g=new Date(b.getTime()+(f+7200)*a.SEC)),g},prev:function(b,c){return c=59<c?59:c,a.date.prev(a.Y.val(b),a.M.val(b),a.D.val(b),a.h.val(b),a.m.val(b)+(c>=a.s.val(b)?-1:0),c)}},a.time=a.t={name:"time",range:1,val:function(b){return b.t||(b.t=3600*a.h.val(b)+60*a.m.val(b)+a.s.val(b))},isValid:function(b,c){return a.t.val(b)===c},extent:function(){return[0,86399]},start:function(a){return a},end:function(a){return a},next:function(b,c){var c=86399<c?0:c,f=a.date.next(a.Y.val(b),a.M.val(b),
a.D.val(b)+(c<=a.t.val(b)?1:0),0,0,c);return!a.date.isUTC&&f.getTime()<b.getTime()&&(f=a.date.next(a.Y.val(f),a.M.val(f),a.D.val(f),a.h.val(f),a.m.val(f),c+7200)),f},prev:function(b,c){return c=86399<c?86399:c,a.date.next(a.Y.val(b),a.M.val(b),a.D.val(b)+(c>=a.t.val(b)?-1:0),0,0,c)}},a.weekOfMonth=a.wm={name:"week of month",range:604800,val:function(b){return b.wm||(b.wm=(a.D.val(b)+(a.dw.val(a.M.start(b))-1)+(7-a.dw.val(b)))/7)},isValid:function(b,c){return a.wm.val(b)===(c||a.wm.extent(b)[1])},
extent:function(b){return b.wmExtent||(b.wmExtent=[1,(a.D.extent(b)[1]+(a.dw.val(a.M.start(b))-1)+(7-a.dw.val(a.M.end(b))))/7])},start:function(b){return b.wmStart||(b.wmStart=a.date.next(a.Y.val(b),a.M.val(b),Math.max(a.D.val(b)-a.dw.val(b)+1,1)))},end:function(b){return b.wmEnd||(b.wmEnd=a.date.prev(a.Y.val(b),a.M.val(b),Math.min(a.D.val(b)+(7-a.dw.val(b)),a.D.extent(b)[1])))},next:function(b,c){var c=c>a.wm.extent(b)[1]?1:c,f=a.date.nextRollover(b,c,a.wm,a.M),g=a.wm.extent(f)[1];return c=c>g?1:
c||g,a.date.next(a.Y.val(f),a.M.val(f),Math.max(1,7*(c-1)-(a.dw.val(f)-2)))},prev:function(b,c){var f=a.date.prevRollover(b,c,a.wm,a.M),g=a.wm.extent(f)[1];return c=c>g?g:c||g,a.wm.end(a.date.next(a.Y.val(f),a.M.val(f),Math.max(1,7*(c-1)-(a.dw.val(f)-2))))}},a.weekOfYear=a.wy={name:"week of year (ISO)",range:604800,val:function(b){if(b.wy)return b.wy;var c=a.dw.next(a.wy.start(b),5),f=a.dw.next(a.Y.prev(c,a.Y.val(c)-1),5);return b.wy=1+Math.ceil((c.getTime()-f.getTime())/a.WEEK)},isValid:function(b,
c){return a.wy.val(b)===(c||a.wy.extent(b)[1])},extent:function(b){if(b.wyExtent)return b.wyExtent;var c=a.dw.next(a.wy.start(b),5),f=a.dw.val(a.Y.start(c)),c=a.dw.val(a.Y.end(c));return b.wyExtent=[1,5===f||5===c?53:52]},start:function(b){return b.wyStart||(b.wyStart=a.date.next(a.Y.val(b),a.M.val(b),a.D.val(b)-(1<a.dw.val(b)?a.dw.val(b)-2:6)))},end:function(b){return b.wyEnd||(b.wyEnd=a.date.prev(a.Y.val(b),a.M.val(b),a.D.val(b)+(1<a.dw.val(b)?8-a.dw.val(b):0)))},next:function(b,c){var c=c>a.wy.extent(b)[1]?
1:c,f=a.dw.next(a.wy.start(b),5),g=a.date.nextRollover(f,c,a.wy,a.Y);1!==a.wy.val(g)&&(g=a.dw.next(g,2));f=a.wy.extent(g)[1];g=a.wy.start(g);return c=c>f?1:c||f,a.date.next(a.Y.val(g),a.M.val(g),a.D.val(g)+7*(c-1))},prev:function(b,c){var f=a.dw.next(a.wy.start(b),5),g=a.date.prevRollover(f,c,a.wy,a.Y);1!==a.wy.val(g)&&(g=a.dw.next(g,2));f=a.wy.extent(g)[1];g=a.wy.end(g);return c=c>f?f:c||f,a.wy.end(a.date.next(a.Y.val(g),a.M.val(g),a.D.val(g)+7*(c-1)))}},a.year=a.Y={name:"year",range:31556900,val:function(b){return b.Y||
(b.Y=a.date.getYear.call(b))},isValid:function(b,c){return a.Y.val(b)===c},extent:function(){return[1970,2099]},start:function(b){return b.YStart||(b.YStart=a.date.next(a.Y.val(b)))},end:function(b){return b.YEnd||(b.YEnd=a.date.prev(a.Y.val(b)))},next:function(b,c){return c>a.Y.val(b)&&c<=a.Y.extent()[1]?a.date.next(c):a.NEVER},prev:function(b,c){return c<a.Y.val(b)&&c>=a.Y.extent()[0]?a.date.prev(c):a.NEVER}},a.fullDate=a.fd={name:"full date",range:1,val:function(a){return a.fd||(a.fd=a.getTime())},
isValid:function(b,c){return a.fd.val(b)===c},extent:function(){return[0,3250368E7]},start:function(a){return a},end:function(a){return a},next:function(b,c){return a.fd.val(b)<c?new Date(c):a.NEVER},prev:function(b,c){return a.fd.val(b)>c?new Date(c):a.NEVER}},a.modifier={},a.modifier.after=a.modifier.a=function(a,c){var f=c[0];return{name:"after "+a.name,range:(a.extent(new Date)[1]-f)*a.range,val:a.val,isValid:function(a){return this.val(a)>=f},extent:a.extent,start:a.start,end:a.end,next:function(c,
h){return h!=f&&(h=a.extent(c)[0]),a.next(c,h)},prev:function(c,h){return h=h===f?a.extent(c)[1]:f-1,a.prev(c,h)}}},a.modifier.before=a.modifier.b=function(a,c){var f=c[c.length-1];return{name:"before "+a.name,range:a.range*(f-1),val:a.val,isValid:function(a){return this.val(a)<f},extent:a.extent,start:a.start,end:a.end,next:function(c,h){return h=h===f?a.extent(c)[0]:f,a.next(c,h)},prev:function(c,h){return h=h===f?f-1:a.extent(c)[1],a.prev(c,h)}}},a.compile=function(b){var c,f=[],g=0,h;for(h in b){var j=
h.split("_"),k=j[0],l=j[1],j=b[h],k=l?a.modifier[l](a[k],j):a[k];f.push({constraint:k,vals:j});g++}return f.sort(function(a,b){var c=a.constraint.range,f=b.constraint.range;return c>f?-1:f>c?1:0}),c=f[g-1].constraint,{start:function(b,h){for(var j,k=h,l=a.array[b],I=1E3;I--&&!j&&k;){j=!0;for(var w=0;g>w;w++){var G=f[w].constraint,m=G.val(k),C=G.extent(k),m=l(m,f[w].vals,C);if(!G.isValid(k,m)){k=G[b](k,m);j=!1;break}}}return k!==a.NEVER&&(k="next"===b?c.start(k):c.end(k)),k},end:function(b,c){for(var h,
j=a.array[b+"Invalid"],k="next"===b?function(a,b){return a.getTime()>b.getTime()}:function(a,b){return b.getTime()>a.getTime()},l=g-1;0<=l;l--){var w,G=f[l].constraint,m=G.val(c),C=G.extent(c),m=j(m,f[l].vals,C);void 0!==m&&(w=G[b](c,m),!w||h&&!k(h,w)||(h=w))}return h},tick:function(b,f){return new Date("next"===b?c.end(f).getTime()+a.SEC:c.start(f).getTime()-a.SEC)},tickStart:function(a){return c.start(a)}}},a.schedule=function(b){function c(b,c,n,u,m){var C,z,B,x=j(b),J=c,P=1E3,v=[],N=[],L=[],y=
"next"===b,O=y?0:1,D=y?1:0;if(n=n?new Date(n):new Date,!n||!n.getTime())throw Error("Invalid start date.");for(var H=l,K=n,T=0,R=H.length;R>T;T++)v[T]=H[T].start(b,K);H=p;K=n;T=(j(b),0);for(R=H.length;R>T;T++){var S=H[T].start(b,K);S?N[T]=[S,H[T].end(b,S)]:N[T]=a.NEVER}for(;P--&&J&&(C=k(v,x))&&(!u||!x(C,u));){if(H=q){z=b;for(var H=p,K=N,T=C,R=j(z),S=0,Q=H.length;Q>S;S++)if(K[S]&&!R(K[S][0],T)){var U=H[S].start(z,T);U?K[S]=[U,H[S].end(z,U)]:K[S]=a.NEVER}z=N;H=C;K=void 0;T=j(b);R=0;for(S=z.length;S>
R;R++)Q=z[R],!Q||T(Q[0],H)||Q[1]&&!T(Q[1],H)||(!K||T(Q[1],K))&&(K=Q[1]);H=z=K}if(H)g(b,l,v,z);else{if(m){z=N;H=x;R=void 0;K=0;for(T=z.length;T>K;K++)!z[K]||R&&!H(R,z[K][0])||(R=z[K][0]);a:{z=b;for(var H=l,K=v,T=C,S=void 0,Q=j(z),U=0,na=H.length;na>U;U++){var Y=K[U];if(Y&&Y.getTime()===T.getTime()){Y=H[U].end(z,Y);if(R&&(!Y||Q(Y,R))){z=R;break a}(!S||Q(Y,S))&&(S=Y)}}z=S}H=y?[new Date(Math.max(n,C)),z?new Date(u?Math.min(z,u):z):void 0]:[z?new Date(u?Math.max(u,z.getTime()+a.SEC):z.getTime()+a.SEC):
void 0,new Date(Math.min(n,C.getTime()+a.SEC))];if(B&&H[O].getTime()===B[D].getTime()?(B[D]=H[D],J++):(B=H,L.push(B)),!z)break;g(b,l,v,z)}else{L.push(y?new Date(Math.max(n,C)):h(l,v,C,u));H=b;K=l;T=v;R=C;S=0;for(Q=K.length;Q>S;S++)T[S]&&T[S].getTime()===R.getTime()&&(T[S]=K[S].start(H,K[S].tick(H,R)))}J--}}b=0;for(n=L.length;n>b;b++)u=L[b],L[b]="[object Array]"===Object.prototype.toString.call(u)?[f(u[0]),f(u[1])]:f(u);return 0===L.length?a.NEVER:1===c?L[0]:L}function f(a){return a instanceof Date&&
!isNaN(a.valueOf())?new Date(a):void 0}function g(a,b,c,f){for(var g=j(a),h=0,k=b.length;k>h;h++)c[h]&&!g(c[h],f)&&(c[h]=b[h].start(a,f))}function h(a,b,c,f){for(var g,h=0,j=b.length;j>h;h++)if(b[h]&&b[h].getTime()===c.getTime()){var k=a[h].tickStart(c);if(f&&f>k)return f;(!g||k>g)&&(g=k)}return g}function j(a){return"next"===a?function(a,b){return!b||a.getTime()>b.getTime()}:function(a,b){return!a||b.getTime()>a.getTime()}}function k(a,b){for(var c=a[0],f=1,g=a.length;g>f;f++)a[f]&&b(c,a[f])&&(c=
a[f]);return c}if(!b)throw Error("Missing schedule definition.");if(!b.schedules)throw Error("Definition must include at least one schedule.");for(var l=[],u=b.schedules.length,p=[],q=b.exceptions?b.exceptions.length:0,n=0;u>n;n++)l.push(a.compile(b.schedules[n]));for(u=0;q>u;u++)p.push(a.compile(b.exceptions[u]));return{isValid:function(b){return c("next",1,b,b)!==a.NEVER},next:function(a,b,f){return c("next",a||1,b,f)},prev:function(a,b,f){return c("prev",a||1,b,f)},nextRange:function(a,b,f){return c("next",
a||1,b,f,!0)},prevRange:function(a,b,f){return c("prev",a||1,b,f,!0)}}},a.setTimeout=function(b,c){function f(){var a=Date.now(),c=h.next(2,a);if(!c[0]||!c[1])return void(g=void 0);var l=c[0].getTime()-a;1E3>l&&(l=c[1].getTime()-a);g=2147483647>l?setTimeout(b,l):setTimeout(f,2147483647)}var g,h=a.schedule(c);return b&&f(),{isDone:function(){return!g},clear:function(){clearTimeout(g)}}},a.setInterval=function(b,c){function f(){h||(b(),g=a.setTimeout(f,c))}if(b){var g=a.setTimeout(f,c),h=g.isDone();
return{isDone:function(){return g.isDone()},clear:function(){h=!0;g.clear()}}}},a.date={},a.date.timezone=function(b){a.date.build=b?function(a,b,c,f,l,u){return new Date(a,b,c,f,l,u)}:function(a,b,c,f,l,u){return new Date(Date.UTC(a,b,c,f,l,u))};var c=b?"get":"getUTC",f=Date.prototype;a.date.getYear=f[c+"FullYear"];a.date.getMonth=f[c+"Month"];a.date.getDate=f[c+"Date"];a.date.getDay=f[c+"Day"];a.date.getHour=f[c+"Hours"];a.date.getMin=f[c+"Minutes"];a.date.getSec=f[c+"Seconds"];a.date.isUTC=!b},
a.date.UTC=function(){a.date.timezone(!1)},a.date.localTime=function(){a.date.timezone(!0)},a.date.UTC(),a.SEC=1E3,a.MIN=60*a.SEC,a.HOUR=60*a.MIN,a.DAY=24*a.HOUR,a.WEEK=7*a.DAY,a.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],a.NEVER=0,a.date.next=function(b,c,f,g,h,j){return a.date.build(b,void 0!==c?c-1:0,void 0!==f?f:1,g||0,h||0,j||0)},a.date.nextRollover=function(b,c,f,g){var h=f.val(b),f=f.extent(b)[1];return h>=(c||f)||c>f?new Date(g.end(b).getTime()+a.SEC):g.start(b)},a.date.prev=function(b,
c,f,g,h,j){var k=arguments.length;return c=2>k?11:c-1,f=3>k?a.D.extent(a.date.next(b,c+1))[1]:f,g=4>k?23:g,h=5>k?59:h,j=6>k?59:j,a.date.build(b,c,f,g,h,j)},a.date.prevRollover=function(a,c,f,g){f=f.val(a);return c>=f||!c?g.start(g.prev(a,g.val(a)-1)):g.start(a)},a.parse={},a.parse.cron=function(a,c){function f(a,b,c){return isNaN(a)?l[a]||null:Math.min(+a+(b||0),c||9999)}function g(a){var b,c={};for(b in a)"dc"!==b&&"d"!==b&&(c[b]=a[b].slice(0));return c}function h(a,b,c,f,g){for(a[b]||(a[b]=[]);f>=
c;)0>a[b].indexOf(c)&&a[b].push(c),c+=g||1;a[b].sort(function(a,b){return a-b})}function j(a,b,c,f){(b.d&&!b.dc||b.dc&&0>b.dc.indexOf(f))&&(a.push(g(b)),b=a[a.length-1]);h(b,"d",c,c);h(b,"dc",f,f)}function k(a,b){return(-1<a.indexOf("#")||0<a.indexOf("L"))&&!(-1<b.indexOf("#")||0<b.indexOf("L"))?1:a-b}var l={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},u={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],
d:[5,1,7,1]},p=a.toUpperCase(),q=c?p:"0 "+p;"* * * * * *"===q&&(q="0/1 * * * * *");var n,A,I,p={schedules:[{}],exceptions:[]},w=q.replace(/(\s)+/g," ").split(" ");for(n in u)if(A=u[n],I=w[A[0]],I&&"*"!==I&&"?"!==I){var q=I.split(",").sort(k),G,m=q.length;for(G=0;m>G;G++){var C=q[G],z=p,B=n,x=A[1],J=A[2],P=A[3],v=void 0,N=void 0,L=z.schedules,y=L[L.length-1];"L"===C&&(C=x-1);null!==(v=f(C,P,J))?h(y,B,v,v):null!==(v=f(C.replace("W",""),P,J))?(B=v,P={},C={},1===B?(h(y,"D",1,3),h(y,"d",l.MON,l.FRI),h(P,
"D",2,2),h(P,"d",l.TUE,l.FRI),h(C,"D",3,3),h(C,"d",l.TUE,l.FRI)):(h(y,"D",B-1,B+1),h(y,"d",l.MON,l.FRI),h(P,"D",B-1,B-1),h(P,"d",l.MON,l.THU),h(C,"D",B+1,B+1),h(C,"d",l.TUE,l.FRI)),z.exceptions.push(P),z.exceptions.push(C)):null!==(v=f(C.replace("L",""),P,J))?j(L,y,v,x-1):2===(N=C.split("#")).length?(v=f(N[0],P,J),j(L,y,v,f(N[1]))):(z=x,x=C.split("/"),C=+x[1],x=x[0],"*"!==x&&"0"!==x&&(x=x.split("-"),z=f(x[0],P,J),J=f(x[1],P,J)||J),h(y,B,z,J,C))}}return p},a.parse.recur=function(){var b,c,f,g;function h(a,
h,w){if(a=p?a+"_"+p:a,j||(G.push({}),j=G[0]),j[a]||(j[a]=[]),k=j[a],u){l=[];for(A=h;w>=A;A+=u)l.push(A);b=a;c=u;f=k.length;g=w}l=q?[h]:n?[w]:l;a=l.length;for(A=0;a>A;A+=1)h=l[A],0>k.indexOf(h)&&k.push(h);l=u=p=q=n=0}var j,k,l,u,p,q,n,A,I=[],w=[],G=I;return{schedules:I,exceptions:w,on:function(){return l=arguments[0]instanceof Array?arguments[0]:arguments,this},every:function(a){return u=a||1,this},after:function(a){return p="a",l=[a],this},before:function(a){return p="b",l=[a],this},first:function(){return q=
1,this},last:function(){return n=1,this},time:function(){for(var a=0,b=l.length;b>a;a++){var c=l[a].split(":");3>c.length&&c.push(0);l[a]=3600*+c[0]+60*+c[1]+ +c[2]}return h("t"),this},second:function(){return h("s",0,59),this},minute:function(){return h("m",0,59),this},hour:function(){return h("h",0,23),this},dayOfMonth:function(){return h("D",1,n?0:31),this},dayOfWeek:function(){return h("d",1,7),this},onWeekend:function(){return l=[1,7],this.dayOfWeek()},onWeekday:function(){return l=[2,3,4,5,
6],this.dayOfWeek()},dayOfWeekCount:function(){return h("dc",1,n?0:5),this},dayOfYear:function(){return h("dy",1,n?0:366),this},weekOfMonth:function(){return h("wm",1,n?0:5),this},weekOfYear:function(){return h("wy",1,n?0:53),this},month:function(){return h("M",1,12),this},year:function(){return h("Y",1970,2450),this},fullDate:function(){for(var a=0,b=l.length;b>a;a++)l[a]=l[a].getTime();return h("fd"),this},customModifier:function(b,c){if(!a.modifier[b])throw Error("Custom modifier "+b+" not recognized!");
return p=b,l=c instanceof Array?c:[c],this},customPeriod:function(b){var c=a[b];if(!c)throw Error("Custom time period "+b+" not recognized!");return h(b,c.extent(new Date)[0],c.extent(new Date)[1]),this},startingOn:function(a){return this.between(a,g)},between:function(a,g){return j[b]=j[b].splice(0,f),u=c,h(b,a,g),this},and:function(){return j=G[G.push({})-1],this},except:function(){return G=w,j=null,this}}},a.parse.text=function(b){function c(a,b,c,f){return{startPos:a,endPos:b,text:c,type:f}}function f(a){var b,
f,g,h,j,m=a instanceof Array?a:[a],k=/\s+/;m.push(k);for(h=A;!b||b.type===k;){j=-1;a=I.substring(h);b=c(h,h,I.split(k)[0]);var l,n=m.length;for(l=0;n>l;l++)g=m[l],(f=g.exec(a))&&0===f.index&&f[0].length>j&&(j=f[0].length,b=c(h,h+j,a.substring(0,j),g));b.type===k&&(h=b.endPos)}return b}function g(a){a=f(a);return A=a.endPos,a}function h(a){for(var b=+p(a),a=l(w.through)?+p(a):b,c=[];a>=b;b++)c.push(b);return c}function j(a){for(var b=h(a);l(w.and);)b=b.concat(h(a));return b}function k(a){var b=u([w.second,
w.minute,w.hour,w.dayOfYear,w.dayOfWeek,w.dayInstance,w.day,w.month,w.year,w.weekOfMonth,w.weekOfYear]);switch(b.type){case w.second:a.second();break;case w.minute:a.minute();break;case w.hour:a.hour();break;case w.dayOfYear:a.dayOfYear();break;case w.dayOfWeek:a.dayOfWeek();break;case w.dayInstance:a.dayOfWeekCount();break;case w.day:a.dayOfMonth();break;case w.weekOfMonth:a.weekOfMonth();break;case w.weekOfYear:a.weekOfYear();break;case w.month:a.month();break;case w.year:a.year();break;default:q=
A}return b}function l(a){var b=f(a).type===a;return b&&g(a),b}function u(a){var b=g(a);if(b.type){var c=b.text,f=c;switch(a){case w.time:c=c.split(/(:|am|pm)/);a="pm"===c[3]&&12>c[0]?parseInt(c[0],10)+12:c[0];c=c[2].trim();f=(1===a.length?"0":"")+a+":"+c;break;case w.rank:f=parseInt(/^\d+/.exec(c)[0],10);break;case w.monthName:case w.dayName:f=G[c.substring(0,3)]}b.text=f}else q=A;return b}function p(a){return u(a).text}var q,n=a.parse.recur,A=0,I="",w={eof:/^$/,rank:/^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,
time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,
dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,last:/^last\b/,"in":/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},G={jan:1,feb:2,
mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,"for":4},b=b.toLowerCase(),A=0,I=b;q=-1;for(n=n();A<I.length&&0>q;)switch(u([w.every,w.after,w.before,w.onthe,w.on,w.of,w["in"],w.at,w.and,w.except,w.also]).type){case w.every:var b=n,m=void 0,C=void 0,z=void 0,B=void 0;l(w.weekend)?b.on(G.sun,G.sat).dayOfWeek():l(w.weekday)?b.on(G.mon,G.tue,G.wed,G.thu,G.fri).dayOfWeek():(m=p(w.rank),b.every(m),
C=k(b),l(w.start)?(m=p(w.rank),b.startingOn(m),u(C.type)):l(w.between)&&(z=p(w.rank),l(w.and)&&(B=p(w.rank),b.between(z,B))));break;case w.after:void 0!==f(w.time).type?(n.after(p(w.time)),n.time()):(n.after(p(w.rank)),k(n));break;case w.before:void 0!==f(w.time).type?(n.before(p(w.time)),n.time()):(n.before(p(w.rank)),k(n));break;case w.onthe:b=n;l(w.first)?b.first():l(w.last)?b.last():b.on(j(w.rank));k(b);break;case w.on:n.on(j(w.dayName)).dayOfWeek();break;case w.of:n.on(j(w.monthName)).month();
break;case w["in"]:n.on(j(w.yearIndex)).year();break;case w.at:for(n.on(p(w.time)).time();l(w.and);)n.on(p(w.time)).time();break;case w.and:break;case w.also:n.and();break;case w.except:n.except();break;default:q=A}return{schedules:n.schedules,exceptions:n.exceptions,error:q}},a}();/*
 New BSD License <http://creativecommons.org/licenses/BSD/>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 New BSD License <http://creativecommons.org/licenses/BSD/>
*/
(function(a,b){var c=a.History=a.History||{},f=a.jQuery;if("undefined"!==typeof c.Adapter)throw Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){f(a).bind(b,c)},trigger:function(a,b,c){f(a).trigger(b,c)},extractEventData:function(a,c,f){return c&&c.originalEvent&&c.originalEvent[a]||f&&f[a]||b},onDomLoad:function(a){f(a)}};"undefined"!==typeof c.init&&c.init()})(window);
(function(a,b){var c=a.console||b,f=a.document,g=a.navigator,h=a.sessionStorage||!1,j=a.setTimeout,k=a.clearTimeout,l=a.setInterval,u=a.clearInterval,p=a.JSON,q=a.alert,n=a.History=a.History||{},A=a.history;try{h.setItem("TEST","1"),h.removeItem("TEST")}catch(I){h=!1}p.stringify=p.stringify||p.encode;p.parse=p.parse||p.decode;if("undefined"!==typeof n.init)throw Error("History.js Core has already been loaded...");n.init=function(){if("undefined"===typeof n.Adapter)return!1;"undefined"!==typeof n.initCore&&
n.initCore();"undefined"!==typeof n.initHtml4&&n.initHtml4();return!0};n.initCore=function(){if("undefined"!==typeof n.initCore.initialized)return!1;n.initCore.initialized=!0;n.options=n.options||{};n.options.hashChangeInterval=n.options.hashChangeInterval||100;n.options.safariPollInterval=n.options.safariPollInterval||500;n.options.doubleCheckInterval=n.options.doubleCheckInterval||500;n.options.disableSuid=n.options.disableSuid||!1;n.options.storeInterval=n.options.storeInterval||1E3;n.options.busyDelay=
n.options.busyDelay||250;n.options.debug=n.options.debug||!1;n.options.initialTitle=n.options.initialTitle||f.title;n.options.html4Mode=n.options.html4Mode||!1;n.options.delayInit=n.options.delayInit||!1;n.intervalList=[];n.clearAllIntervals=function(){var a,b=n.intervalList;if("undefined"!==typeof b&&null!==b){for(a=0;a<b.length;a++)u(b[a]);n.intervalList=null}};n.debug=function(){n.options.debug&&n.log.apply(n,arguments)};n.log=function(){var a=!("undefined"===typeof c||"undefined"===typeof c.log||
"undefined"===typeof c.log.apply),b=f.getElementById("log"),g,h,j,k;a?(h=Array.prototype.slice.call(arguments),g=h.shift(),"undefined"!==typeof c.debug?c.debug.apply(c,[g,h]):c.log.apply(c,[g,h])):g="\n"+arguments[0]+"\n";h=1;for(j=arguments.length;h<j;++h){k=arguments[h];if("object"===typeof k&&"undefined"!==typeof p)try{k=p.stringify(k)}catch(l){}g+="\n"+k+"\n"}b?(b.value+=g+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||q(g);return!0};n.getInternetExplorerMajorVersion=function(){var a=
n.getInternetExplorerMajorVersion,b;if("undefined"!==typeof n.getInternetExplorerMajorVersion.cached)b=n.getInternetExplorerMajorVersion.cached;else{b=3;for(var c=f.createElement("div"),g=c.getElementsByTagName("i");(c.innerHTML="<\!--[if gt IE "+ ++b+"]><i></i><![endif]--\>")&&g[0];);b=4<b?b:!1}return a.cached=b};n.isInternetExplorer=function(){return n.isInternetExplorer.cached="undefined"!==typeof n.isInternetExplorer.cached?n.isInternetExplorer.cached:Boolean(n.getInternetExplorerMajorVersion())};
n.emulated=n.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(g.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(g.userAgent))),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in f)||n.isInternetExplorer()&&8>n.getInternetExplorerMajorVersion())};n.enabled=!n.emulated.pushState;n.bugs={setHash:Boolean(!n.emulated.pushState&&"Apple Computer, Inc."===g.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(g.userAgent)),
safariPoll:Boolean(!n.emulated.pushState&&"Apple Computer, Inc."===g.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(g.userAgent)),ieDoubleCheck:Boolean(n.isInternetExplorer()&&8>n.getInternetExplorerMajorVersion()),hashEscape:Boolean(n.isInternetExplorer()&&7>n.getInternetExplorerMajorVersion())};n.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};n.cloneObject=function(a){a?(a=p.stringify(a),a=p.parse(a)):a={};return a};n.getRootUrl=function(){var a=f.location.protocol+
"//"+(f.location.hostname||f.location.host);f.location.port&&(a+=":"+f.location.port);return a+"/"};n.getBaseHref=function(){var a=f.getElementsByTagName("base"),b=null,b="";1===a.length&&(b=a[0],b=b.href.replace(/[^\/]+$/,""));(b=b.replace(/\/+$/,""))&&(b+="/");return b};n.getBaseUrl=function(){return n.getBaseHref()||n.getBasePageUrl()||n.getRootUrl()};n.getPageUrl=function(){return((n.getState(!1,!1)||{}).url||n.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?
a:a+"/"})};n.getBasePageUrl=function(){return n.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"};n.getFullUrl=function(a,b){var c=a,f=a.substring(0,1),b="undefined"===typeof b?!0:b;/[a-z]+\:\/\//.test(a)||(c="/"===f?n.getRootUrl()+a.replace(/^\/+/,""):"#"===f?n.getPageUrl().replace(/#.*/,"")+a:"?"===f?n.getPageUrl().replace(/[\?#].*/,"")+a:b?n.getBaseUrl()+a.replace(/^(\.\/)+/,""):n.getBasePageUrl()+a.replace(/^(\.\/)+/,""));
return c.replace(/\#$/,"")};n.getShortUrl=function(a){var b=n.getBaseUrl(),c=n.getRootUrl();n.emulated.pushState&&(a=a.replace(b,""));a=a.replace(c,"/");n.isTraditionalAnchor(a)&&(a="./"+a);return a=a.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")};n.getLocationHref=function(a){a=a||f;return a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash||-1==a.URL.indexOf("#")&&-1!=
a.location.href.indexOf("#")?a.location.href:a.URL||a.location.href};n.store={};n.idToState=n.idToState||{};n.stateToId=n.stateToId||{};n.urlToId=n.urlToId||{};n.storedStates=n.storedStates||[];n.savedStates=n.savedStates||[];n.normalizeStore=function(){n.store.idToState=n.store.idToState||{};n.store.urlToId=n.store.urlToId||{};n.store.stateToId=n.store.stateToId||{}};n.getState=function(a,b){"undefined"===typeof a&&(a=!0);"undefined"===typeof b&&(b=!0);var c=n.getLastSavedState();!c&&b&&(c=n.createStateObject());
a&&(c=n.cloneObject(c),c.url=c.cleanUrl||c.url);return c};n.getIdByState=function(a){var b=n.extractId(a.url),c;if(!b)if(c=n.getStateString(a),"undefined"!==typeof n.stateToId[c])b=n.stateToId[c];else if("undefined"!==typeof n.store.stateToId[c])b=n.store.stateToId[c];else{for(;!(b=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"===typeof n.idToState[b]&&"undefined"===typeof n.store.idToState[b]););n.stateToId[c]=b;n.idToState[b]=a}return b};n.normalizeState=function(a){var b;
if(!a||"object"!==typeof a)a={};if("undefined"!==typeof a.normalized)return a;if(!a.data||"object"!==typeof a.data)a.data={};b={normalized:!0};b.title=a.title||"";b.url=n.getFullUrl(a.url?a.url:n.getLocationHref());b.hash=n.getShortUrl(b.url);b.data=n.cloneObject(a.data);b.id=n.getIdByState(b);b.cleanUrl=b.url.replace(/\??\&_suid.*/,"");b.url=b.cleanUrl;a=!n.isEmptyObject(b.data);if((b.title||a)&&!0!==n.options.disableSuid)b.hash=n.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||
(b.hash+="?"),b.hash+="&_suid="+b.id;b.hashedUrl=n.getFullUrl(b.hash);if((n.emulated.pushState||n.bugs.safariPoll)&&n.hasUrlDuplicate(b))b.url=b.hashedUrl;return b};n.createStateObject=function(a,b,c){a={data:a,title:b,url:c};return a=n.normalizeState(a)};n.getStateById=function(a){a=String(a);return n.idToState[a]||n.store.idToState[a]||b};n.getStateString=function(a){a={data:n.normalizeState(a).data,title:a.title,url:a.url};return p.stringify(a)};n.getStateId=function(a){return n.normalizeState(a).id};
n.getHashByState=function(a){return n.normalizeState(a).hash};n.extractId=function(a){a=-1!=a.indexOf("#")?a.split("#")[0]:a;return((a=/(.*)\&_suid=([0-9]+)$/.exec(a))?String(a[2]||""):"")||!1};n.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};n.extractState=function(a,b){var c=null,f,g,b=b||!1;(f=n.extractId(a))&&(c=n.getStateById(f));c||(g=n.getFullUrl(a),(f=n.getIdByUrl(g)||!1)&&(c=n.getStateById(f)),!c&&(b&&!n.isTraditionalAnchor(a))&&(c=n.createStateObject(null,null,g)));return c};
n.getIdByUrl=function(a){return n.urlToId[a]||n.store.urlToId[a]||b};n.getLastSavedState=function(){return n.savedStates[n.savedStates.length-1]||b};n.getLastStoredState=function(){return n.storedStates[n.storedStates.length-1]||b};n.hasUrlDuplicate=function(a){var b=!1;return b=(b=n.extractState(a.url))&&b.id!==a.id};n.storeState=function(a){n.urlToId[a.url]=a.id;n.storedStates.push(n.cloneObject(a));return a};n.isLastSavedState=function(a){var b=!1;n.savedStates.length&&(a=a.id,b=n.getLastSavedState(),
b=b.id,b=a===b);return b};n.saveState=function(a){if(n.isLastSavedState(a))return!1;n.savedStates.push(n.cloneObject(a));return!0};n.getStateByIndex=function(a){var b=null;return b="undefined"===typeof a?n.savedStates[n.savedStates.length-1]:0>a?n.savedStates[n.savedStates.length+a]:n.savedStates[a]};n.getCurrentIndex=function(){var a=null;return a=1>n.savedStates.length?0:n.savedStates.length-1};n.getHash=function(a){a=n.getLocationHref(a);return n.getHashByUrl(a)};n.unescapeHash=function(a){a=n.normalizeHash(a);
return a=decodeURIComponent(a)};n.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,"")};n.setHash=function(a,b){var c;if(!1!==b&&n.busy())return n.pushQueue({scope:n,callback:n.setHash,args:arguments,queue:b}),!1;n.busy(!0);(c=n.extractState(a,!0))&&!n.emulated.pushState?n.pushState(c.data,c.title,c.url,!1):n.getHash()!==a&&(n.bugs.setHash?(c=n.getPageUrl(),n.pushState(null,null,c+"#"+a,!1)):f.location.hash=a);return n};n.escapeHash=function(b){b=n.normalizeHash(b);b=a.encodeURIComponent(b);
n.bugs.hashEscape||(b=b.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?"));return b};n.getHashByUrl=function(a){a=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return a=n.unescapeHash(a)};n.setTitle=function(a){var b=a.title,c;b||(c=n.getStateByIndex(0))&&c.url===a.url&&(b=c.title||n.options.initialTitle);try{f.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(g){}f.title=b;return n};n.queues=[];
n.busy=function(a){"undefined"!==typeof a?n.busy.flag=a:"undefined"===typeof n.busy.flag&&(n.busy.flag=!1);if(!n.busy.flag){k(n.busy.timeout);var b=function(){var a,c;if(!n.busy.flag)for(a=n.queues.length-1;0<=a;--a)c=n.queues[a],0!==c.length&&(c=c.shift(),n.fireQueueItem(c),n.busy.timeout=j(b,n.options.busyDelay))};n.busy.timeout=j(b,n.options.busyDelay)}return n.busy.flag};n.busy.flag=!1;n.fireQueueItem=function(a){return a.callback.apply(a.scope||n,a.args||[])};n.pushQueue=function(a){n.queues[a.queue||
0]=n.queues[a.queue||0]||[];n.queues[a.queue||0].push(a);return n};n.queue=function(a,b){"function"===typeof a&&(a={callback:a});"undefined"!==typeof b&&(a.queue=b);n.busy()?n.pushQueue(a):n.fireQueueItem(a);return n};n.clearQueue=function(){n.busy.flag=!1;n.queues=[];return n};n.stateChanged=!1;n.doubleChecker=!1;n.doubleCheckComplete=function(){n.stateChanged=!0;n.doubleCheckClear();return n};n.doubleCheckClear=function(){n.doubleChecker&&(k(n.doubleChecker),n.doubleChecker=!1);return n};n.doubleCheck=
function(a){n.stateChanged=!1;n.doubleCheckClear();n.bugs.ieDoubleCheck&&(n.doubleChecker=j(function(){n.doubleCheckClear();n.stateChanged||a();return!0},n.options.doubleCheckInterval));return n};n.safariStatePoll=function(){var b=n.extractState(n.getLocationHref());if(!n.isLastSavedState(b))return b||n.createStateObject(),n.Adapter.trigger(a,"popstate"),n};n.back=function(a){if(!1!==a&&n.busy())return n.pushQueue({scope:n,callback:n.back,args:arguments,queue:a}),!1;n.busy(!0);n.doubleCheck(function(){n.back(!1)});
A.go(-1);return!0};n.forward=function(a){if(!1!==a&&n.busy())return n.pushQueue({scope:n,callback:n.forward,args:arguments,queue:a}),!1;n.busy(!0);n.doubleCheck(function(){n.forward(!1)});A.go(1);return!0};n.go=function(a,b){var c;if(0<a)for(c=1;c<=a;++c)n.forward(b);else if(0>a)for(c=-1;c>=a;--c)n.back(b);else throw Error("History.go: History.go requires a positive or negative integer passed.");return n};if(n.emulated.pushState){var w=function(){};n.pushState=n.pushState||w;n.replaceState=n.replaceState||
w}else n.onPopState=function(b,c){var f=!1,f=!1;n.doubleCheckComplete();if(f=n.getHash())return(f=n.extractState(f||n.getLocationHref(),!0))?n.replaceState(f.data,f.title,f.url,!1):(n.Adapter.trigger(a,"anchorchange"),n.busy(!1)),n.expectedStateId=!1;(f=(f=n.Adapter.extractEventData("state",b,c)||!1)?n.getStateById(f):n.expectedStateId?n.getStateById(n.expectedStateId):n.extractState(n.getLocationHref()))||(f=n.createStateObject(null,null,n.getLocationHref()));n.expectedStateId=!1;if(n.isLastSavedState(f))return n.busy(!1),
!1;n.storeState(f);n.saveState(f);n.setTitle(f);n.Adapter.trigger(a,"statechange");n.busy(!1);return!0},n.Adapter.bind(a,"popstate",n.onPopState),n.pushState=function(b,c,f,g){if(n.getHashByUrl(f)&&n.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==g&&n.busy())return n.pushQueue({scope:n,callback:n.pushState,args:arguments,queue:g}),!1;n.busy(!0);var h=n.createStateObject(b,c,f);n.isLastSavedState(h)?n.busy(!1):(n.storeState(h),
n.expectedStateId=h.id,A.pushState(h.id,h.title,h.url),n.Adapter.trigger(a,"popstate"));return!0},n.replaceState=function(b,c,f,g){if(n.getHashByUrl(f)&&n.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==g&&n.busy())return n.pushQueue({scope:n,callback:n.replaceState,args:arguments,queue:g}),!1;n.busy(!0);var h=n.createStateObject(b,c,f);n.isLastSavedState(h)?n.busy(!1):(n.storeState(h),n.expectedStateId=h.id,A.replaceState(h.id,
h.title,h.url),n.Adapter.trigger(a,"popstate"));return!0};if(h)try{n.store=p.parse(h.getItem("History.store"))||{}}catch(G){n.store={}}else n.store={};n.normalizeStore();n.Adapter.bind(a,"unload",n.clearAllIntervals);n.saveState(n.storeState(n.extractState(n.getLocationHref(),!0)));h&&(n.onUnload=function(){var a,b;try{a=p.parse(h.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{};a.urlToId=a.urlToId||{};a.stateToId=a.stateToId||{};for(b in n.idToState)n.idToState.hasOwnProperty(b)&&
(a.idToState[b]=n.idToState[b]);for(b in n.urlToId)n.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=n.urlToId[b]);for(b in n.stateToId)n.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=n.stateToId[b]);n.store=a;n.normalizeStore();a=p.stringify(a);try{h.setItem("History.store",a)}catch(f){if(f.code===DOMException.QUOTA_EXCEEDED_ERR)h.length&&(h.removeItem("History.store"),h.setItem("History.store",a));else throw f;}},n.intervalList.push(l(n.onUnload,n.options.storeInterval)),n.Adapter.bind(a,"beforeunload",
n.onUnload),n.Adapter.bind(a,"unload",n.onUnload));if(!n.emulated.pushState&&(n.bugs.safariPoll&&n.intervalList.push(l(n.safariStatePoll,n.options.safariPollInterval)),"Apple Computer, Inc."===g.vendor||"Mozilla"===(g.appCodeName||"")))if(n.Adapter.bind(a,"hashchange",function(){n.Adapter.trigger(a,"popstate")}),n.getHash())n.Adapter.onDomLoad(function(){n.Adapter.trigger(a,"hashchange")})};(!n.options||!n.options.delayInit)&&n.init()})(window);(function(a,b,c,f){var g=a(b);a.fn.lazyload=function(h){function j(){var b=0;k.each(function(){var c=a(this);if((!l.skip_invisible||c.is(":visible"))&&!a.abovethetop(this,l)&&!a.leftofbegin(this,l))if(!a.belowthefold(this,l)&&!a.rightoffold(this,l))c.trigger("appear"),b=0;else if(++b>l.failure_limit)return!1})}var k=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};
h&&(f!==h.failurelimit&&(h.failure_limit=h.failurelimit,delete h.failurelimit),f!==h.effectspeed&&(h.effect_speed=h.effectspeed,delete h.effectspeed),a.extend(l,h));h=l.container===f||l.container===b?g:a(l.container);0===l.event.indexOf("scroll")&&h.bind(l.event,function(){return j()});this.each(function(){var b=this,c=a(b);b.loaded=!1;(c.attr("src")===f||!1===c.attr("src"))&&c.is("img")&&c.attr("src",l.placeholder);c.one("appear",function(){this.loaded||(l.appear&&l.appear.call(b,k.length,l),a("<img />").bind("load",
function(){var f=c.attr("data-"+l.data_attribute);c.hide();c.is("img")?c.attr("src",f):c.css("background-image","url('"+f+"')");c[l.effect](l.effect_speed);b.loaded=!0;f=a.grep(k,function(a){return!a.loaded});k=a(f);l.load&&l.load.call(b,k.length,l)}).attr("src",c.attr("data-"+l.data_attribute)))});0!==l.event.indexOf("scroll")&&c.bind(l.event,function(){b.loaded||c.trigger("appear")})});g.bind("resize",function(){j()});/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&g.bind("pageshow",
function(b){b.originalEvent&&b.originalEvent.persisted&&k.each(function(){a(this).trigger("appear")})});a(c).ready(function(){j()});return this};a.belowthefold=function(c,j){return(j.container===f||j.container===b?(b.innerHeight?b.innerHeight:g.height())+g.scrollTop():a(j.container).offset().top+a(j.container).height())<=a(c).offset().top-j.threshold};a.rightoffold=function(c,j){return(j.container===f||j.container===b?g.width()+g.scrollLeft():a(j.container).offset().left+a(j.container).width())<=
a(c).offset().left-j.threshold};a.abovethetop=function(c,j){return(j.container===f||j.container===b?g.scrollTop():a(j.container).offset().top)>=a(c).offset().top+j.threshold+a(c).height()};a.leftofbegin=function(c,j){return(j.container===f||j.container===b?g.scrollLeft():a(j.container).offset().left)>=a(c).offset().left+j.threshold+a(c).width()};a.inviewport=function(b,c){return!a.rightoffold(b,c)&&!a.leftofbegin(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)};a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,
{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window,
document);(function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,h){a(window).scrollTo(b,c,h)};c.defaults={axis:"xy",duration:1.3<=parseFloat(a.fn.jquery)?0:1,limit:!0};c.window=function(){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==a.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||
"BackCompat"==b.compatMode?b.body:b.documentElement})};a.fn.scrollTo=function(f,g,h){"object"==typeof g&&(h=g,g=0);"function"==typeof h&&(h={onAfter:h});"max"==f&&(f=9E9);h=a.extend({},c.defaults,h);g=g||h.duration;h.queue=h.queue&&1<h.axis.length;h.queue&&(g/=2);h.offset=b(h.offset);h.over=b(h.over);return this._scrollable().each(function(){function j(a){l.animate(q,g,h.easing,a&&function(){a.call(this,u,h)})}if(null!=f){var k=this,l=a(k),u=f,p,q={},n=l.is("html,body");switch(typeof u){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=
b(u);break}u=a(u,this);if(!u.length)return;case "object":if(u.is||u.style)p=(u=a(u)).offset()}a.each(h.axis.split(""),function(a,b){var f="x"==b?"Left":"Top",g=f.toLowerCase(),m="scroll"+f,C=k[m],z=c.max(k,b);p?(q[m]=p[g]+(n?0:C-l.offset()[g]),h.margin&&(q[m]-=parseInt(u.css("margin"+f))||0,q[m]-=parseInt(u.css("border"+f+"Width"))||0),q[m]+=h.offset[g]||0,h.over[g]&&(q[m]+=u["x"==b?"width":"height"]()*h.over[g])):(f=u[g],q[m]=f.slice&&"%"==f.slice(-1)?parseFloat(f)/100*z:f);h.limit&&/^\d+$/.test(q[m])&&
(q[m]=0>=q[m]?0:Math.min(q[m],z));!a&&h.queue&&(C!=q[m]&&j(h.onAfterFirst),delete q[m])});j(h.onAfter)}}).end()};c.max=function(b,c){var h="x"==c?"Width":"Height",j="scroll"+h;if(!a(b).is("html,body"))return b[j]-a(b)[h.toLowerCase()]();var h="client"+h,k=b.ownerDocument.documentElement,l=b.ownerDocument.body;return Math.max(k[j],l[j])-Math.min(k[h],l[h])}})(jQuery);!function(a,b){"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports?module.exports=b():a.lscache=b()}(this,function(){function a(){if(void 0!==l)return l;if(!localStorage)return!1;try{c("__lscachetest__","__lscachetest__"),f("__lscachetest__"),l=!0}catch(a){l=!(!b(a)||!localStorage.length)}return l}function b(a){return!!(a&&"QUOTA_EXCEEDED_ERR"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name||"QuotaExceededError"===a.name)}function c(a,b){localStorage.removeItem(p+
w+a);localStorage.setItem(p+w+a,b)}function f(a){localStorage.removeItem(p+w+a)}function g(a){for(var b=RegExp("^"+p+w.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),c=localStorage.length-1;0<=c;--c){var f=localStorage.key(c);(f=(f=f&&f.match(b))&&f[1])&&0>f.indexOf(q)&&a(f,f+q)}}function h(a){var b=a+q;f(a);f(b)}function j(a){var b=a+q,c=localStorage.getItem(p+w+b);if(c&&(c=parseInt(c,n),Math.floor((new Date).getTime()/A)>=c))return f(a),f(b),!0}function k(a,b){G&&"console"in window&&"function"==
typeof window.console.warn&&(window.console.warn("lscache - "+a),b&&window.console.warn("lscache - The error was: "+b.message))}var l,u,p="lscache-",q="-cacheexpiration",n=10,A=6E4,I=Math.floor(864E13/A),w="",G=!1;return{set:function(j,l,G){if(a()&&(void 0===u&&(u=null!=window.JSON),u)){try{l=JSON.stringify(l)}catch(B){return}try{c(j,l)}catch(x){if(!b(x))return void k("Could not add item with key '"+j+"'",x);var J,P=[];g(function(a,b){var c=localStorage.getItem(p+w+b),c=c?parseInt(c,n):I;P.push({key:a,
size:(localStorage.getItem(p+w+a)||"").length,expiration:c})});P.sort(function(a,b){return b.expiration-a.expiration});for(var v=(l||"").length;P.length&&0<v;)J=P.pop(),k("Cache is full, removing item with key '"+j+"'"),h(J.key),v-=J.size;try{c(j,l)}catch(N){return void k("Could not add item with key '"+j+"', perhaps it's too big?",N)}}G?c(j+q,(Math.floor((new Date).getTime()/A)+G).toString(n)):f(j+q)}},get:function(b){if(!a()||j(b))return null;b=localStorage.getItem(p+w+b);if(!b||!(void 0===u&&(u=
null!=window.JSON),u))return b;try{return JSON.parse(b)}catch(c){return b}},remove:function(b){a()&&h(b)},supported:function(){return a()},flush:function(){a()&&g(function(a){h(a)})},flushExpired:function(){a()&&g(function(a){j(a)})},setBucket:function(a){w=a},resetBucket:function(){w=""},enableWarnings:function(a){G=a}}});var base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",makeDOMException:function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(a){var b=Error("DOM Exception 5");b.code=b.number=5;b.name=b.description="INVALID_CHARACTER_ERR";b.toString=function(){return"Error: "+b.name+": "+b.message};return b}},getbyte64:function(a,b){var c=base64.ALPHA.indexOf(a.charAt(b));if(-1===c)throw base64.makeDOMException();return c},decode:function(a){var a=
""+a,b=base64.getbyte64,c,f,g,h=a.length;if(0===h)return a;if(0!==h%4)throw base64.makeDOMException();c=0;a.charAt(h-1)===base64.PADCHAR&&(c=1,a.charAt(h-2)===base64.PADCHAR&&(c=2),h-=4);var j=[];for(f=0;f<h;f+=4)g=b(a,f)<<18|b(a,f+1)<<12|b(a,f+2)<<6|b(a,f+3),j.push(String.fromCharCode(g>>16,g>>8&255,g&255));switch(c){case 1:g=b(a,f)<<18|b(a,f+1)<<12|b(a,f+2)<<6;j.push(String.fromCharCode(g>>16,g>>8&255));break;case 2:g=b(a,f)<<18|b(a,f+1)<<12,j.push(String.fromCharCode(g>>16))}return j.join("")},
getbyte:function(a,b){var c=a.charCodeAt(b);if(255<c)throw base64.makeDOMException();return c},encode:function(a){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var b=base64.PADCHAR,c=base64.ALPHA,f=base64.getbyte,g,h,j=[],a=""+a,k=a.length-a.length%3;if(0===a.length)return a;for(g=0;g<k;g+=3)h=f(a,g)<<16|f(a,g+1)<<8|f(a,g+2),j.push(c.charAt(h>>18)),j.push(c.charAt(h>>12&63)),j.push(c.charAt(h>>6&63)),j.push(c.charAt(h&63));switch(a.length-k){case 1:h=f(a,g)<<16;j.push(c.charAt(h>>
18)+c.charAt(h>>12&63)+b+b);break;case 2:h=f(a,g)<<16|f(a,g+1)<<8,j.push(c.charAt(h>>18)+c.charAt(h>>12&63)+c.charAt(h>>6&63)+b)}return j.join("")}};serialize=function(a,b){var c=[],f;for(f in a)if(!goog.isString(a[f])||!goog.string.isEmpty(a[f]))if(!goog.isArray(a[f])||!goog.array.isEmpty(a[f])){var g=b?b+"["+f+"]":f,h=a[f];c.push("object"==typeof h?serialize(h,g):encodeURIComponent(g)+"="+encodeURIComponent(h))}return c.join("&")};function unserialize_param(a,b){var b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),c=RegExp("[\\?&]"+b+"=([^&#]*)").exec(a);return null!==c?decodeURIComponent(c[1].replace(/\+/g," ")):!1}
function _normalizeQuery(a){a=a.replace(/&$/,"").replace(/^&/,"");return a.length?"?"+a:""}function _paramToUrl(a){goog.array.forEach(["pr","xpr","category"],function(b){goog.isDef(a[b])&&goog.isArray(a[b])&&(a[b]=a[b].join("-"))});return _normalizeQuery(serialize(a))}(function(a){a.getQueryParam=function(a){return unserialize_param(window.location.href,a)}})(jQuery);window.Modernizr=function(a,b,c){var f={},g=b.documentElement,h=b.createElement("modernizr"),h=h.style,j=" -webkit- -moz- -o- -ms- ".split(" "),k={},l=[],u=l.slice,p,q=function(a,c,f,h){var j,k,m,l,n=b.createElement("div"),p=b.body,q=p||b.createElement("body");if(parseInt(f,10))for(;f--;)m=b.createElement("div"),m.id=h?h[f]:"modernizr"+(f+1),n.appendChild(m);return j=['&#173;<style id="smodernizr">',a,"</style>"].join(""),n.id="modernizr",(p?n:q).innerHTML+=j,q.appendChild(n),p||(q.style.background=
"",q.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(q)),k=c(n,a),p?n.parentNode.removeChild(n):(q.parentNode.removeChild(q),g.style.overflow=l),!!k},n={}.hasOwnProperty,A;"undefined"!==typeof n&&"undefined"!==typeof n.call?A=function(a,b){return n.call(a,b)}:A=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=u.call(arguments,
1),f=function(){if(this instanceof f){var g=function(){};g.prototype=b.prototype;var g=new g,h=b.apply(g,c.concat(u.call(arguments)));return Object(h)===h?h:g}return b.apply(a,c.concat(u.call(arguments)))};return f});k.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:q(["@media (",j.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c};k.svg=function(){return!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg",
"svg").createSVGRect};for(var I in k)A(k,I)&&(p=I.toLowerCase(),f[p]=k[I](),l.push((f[p]?"":"no-")+p));f.addTest=function(a,b){if("object"==typeof a)for(var h in a)A(a,h)&&f.addTest(h,a[h]);else{a=a.toLowerCase();if(f[a]!==c)return f;b="function"==typeof b?b():b;g.className+=" "+(b?"":"no-")+a;f[a]=b}return f};h.cssText="";var h=null,w=function(){var a=D.elements;return"string"==typeof a?a.split(" "):a},G=function(a){var b=P[a[x]];return b||(b={},J++,a[x]=J,P[J]=b),b},m=function(a,c,f){c||(c=b);if(v)return c.createElement(a);
f||(f=G(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():z.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!C.test(a)&&!g.tagUrn?f.frag.appendChild(g):g};p=function(a){a||(a=b);var c=G(a);if(D.shivCSS&&!B&&!c.hasCSS){var f,g=a;f=g.createElement("p");g=g.getElementsByTagName("head")[0]||g.documentElement;f=(f.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",
g.insertBefore(f.lastChild,g.firstChild));c.hasCSS=!!f}if(!v){var h=a;c.cache||(c.cache={},c.createElem=h.createElement,c.createFrag=h.createDocumentFragment,c.frag=c.createFrag());h.createElement=function(a){return D.shivMethods?m(a,h,c):c.createElem(a)};h.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+w().join().replace(/[\w\-]+/g,function(a){return c.createElem(a),c.frag.createElement(a),'c("'+a+'")'})+");return n}")(D,c.frag)}return a};
I=this.html5||{};var C=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,z=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,B,x="_html5shiv",J=0,P={},v;try{var N=b.createElement("a");N.innerHTML="<xyz></xyz>";B="hidden"in N;var L;if(!(L=1==N.childNodes.length)){b.createElement("a");var y=b.createDocumentFragment();L="undefined"==typeof y.cloneNode||"undefined"==typeof y.createDocumentFragment||"undefined"==typeof y.createElement}v=
L}catch(O){v=B=!0}var D={elements:I.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==I.shivCSS,supportsUnknownElements:v,shivMethods:!1!==I.shivMethods,type:"default",shivDocument:p,createElement:m,createDocumentFragment:function(a,c){a||(a=b);if(v)return a.createDocumentFragment();for(var c=c||G(a),f=c.frag.cloneNode(),g=0,h=w(),j=
h.length;g<j;g++)f.createElement(h[g]);return f}};this.html5=D;p(b);return f._version="2.7.1",f._prefixes=j,f.testStyles=q,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+l.join(" ")),f}(this,this.document);
(function(a,b,c){function f(a){return"[object Function]"==A.call(a)}function g(a){return"string"==typeof a}function h(){}function j(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function k(){var a=I.shift();w=1;a?a.t?q(function(){("c"==a.t?L.injectCss:L.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),k()):w=0}function l(a,c,f,h,l){w=0;c=c||"j";if(g(a)){var p="c"==c?B:z,u=this.i++,v=function(b){if(!A&&j(Q.readyState)&&(J.r=A=1,!w&&k(),Q.onload=Q.onreadystatechange=null,b)){"img"!=p&&q(function(){C.removeChild(Q)},
50);for(var c in P[a])P[a].hasOwnProperty(c)&&P[a][c].onload()}},l=l||L.errorTimeout,Q=b.createElement(p),A=0,x=0,J={t:c,s:a,e:f,a:h,x:l};1===P[a]&&(x=1,P[a]=[]);"object"==p?Q.data=a:(Q.src=a,Q.type=p);Q.width=Q.height="0";Q.onerror=Q.onload=Q.onreadystatechange=function(){v.call(this,x)};I.splice(u,0,J);"img"!=p&&(x||2===P[a]?(C.insertBefore(Q,m?null:n),q(v,l)):P[a].push(Q))}else I.splice(this.i++,0,a),1==I.length&&k();return this}function u(){var a=L;return a.loader={load:l,i:0},a}var p=b.documentElement,
q=a.setTimeout,n=b.getElementsByTagName("script")[0],A={}.toString,I=[],w=0,G="MozAppearance"in p.style,m=G&&!!b.createRange().compareNode,C=m?p:n.parentNode,p=a.opera&&"[object Opera]"==A.call(a.opera),p=!!b.attachEvent&&!p,z=G?"object":p?"script":"img",B=p?"script":z,x=Array.isArray||function(a){return"[object Array]"==A.call(a)},J=[],P={},v={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},N,L;L=function(a){function b(a,g,h,j,k){var m,l;l=a.split("!");var n=J.length,p=l.pop(),q=l.length,
p={url:p,origUrl:p,prefixes:l},K,D,H;for(D=0;D<q;D++)H=l[D].split("="),(K=v[H.shift()])&&(p=K(p,H));for(D=0;D<n;D++)p=J[D](p);m=p;var w=m.autoCallback;m.url.split(".").pop().split("?").shift();m.bypass||(g&&(g=f(g)?g:g[a]||g[j]||g[a.split("/").pop().split("?")[0]]),m.instead?m.instead(a,g,h,j,k):(P[m.url]?m.noexec=!0:P[m.url]=1,h.load(m.url,m.forceCSS||!m.forceJS&&"css"==m.url.split(".").pop().split("?").shift()?"c":c,m.noexec,m.attrs,m.timeout),(f(g)||f(w))&&h.load(function(){u();g&&g(m.origUrl,
k,j);w&&w(m.origUrl,k,j);P[m.url]=2})))}function j(a,c){function k(a,h){if(a)if(g(a))h||(n=function(){var a=[].slice.call(arguments);p.apply(this,a);q()}),b(a,n,c,0,m);else{if(Object(a)===a)for(K in u=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(K)&&(!h&&!--u&&(f(n)?n=function(){var a=[].slice.call(arguments);p.apply(this,a);q()}:n[K]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);q()}}(p[K])),b(a[K],n,c,K,m))}else!h&&q()}
var m=!!a.test,l=a.load||a.both,n=a.callback||h,p=n,q=a.complete||h,u,K;k(m?a.yep:a.nope,!!l);l&&k(l)}var k,m,l=this.yepnope.loader;if(g(a))b(a,0,l,0);else if(x(a))for(k=0;k<a.length;k++)m=a[k],g(m)?b(m,0,l,0):x(m)?L(m):Object(m)===m&&j(m,l);else Object(a)===a&&j(a,l)};L.addPrefix=function(a,b){v[a]=b};L.addFilter=function(a){J.push(a)};L.errorTimeout=1E4;null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",N=function(){b.removeEventListener("DOMContentLoaded",
N,0);b.readyState="complete"},0));a.yepnope=u();a.yepnope.executeStack=k;a.yepnope.injectJs=function(a,c,f,g,m,l){var p=b.createElement("script"),u,v,g=g||L.errorTimeout;p.src=a;for(v in f)p.setAttribute(v,f[v]);c=l?k:c||h;p.onreadystatechange=p.onload=function(){!u&&j(p.readyState)&&(u=1,c(),p.onload=p.onreadystatechange=null)};q(function(){u||(u=1,c(1))},g);m?p.onload():n.parentNode.insertBefore(p,n)};a.yepnope.injectCss=function(a,c,f,g,j,m){var g=b.createElement("link"),l,c=m?k:c||h;g.href=a;
g.rel="stylesheet";g.type="text/css";for(l in f)g.setAttribute(l,f[l]);j||(n.parentNode.insertBefore(g,n),q(c,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};/*
   http://www.opensource.org/licenses/mit-license.php
*/
var Base=function(){};
Base.extend=function(a,b){var c=Base.prototype.extend;Base._prototyping=!0;var f=new this;c.call(f,a);f.base=function(){};delete Base._prototyping;var g=f.constructor,h=f.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==h)this._constructing=!0,g.apply(this,arguments),delete this._constructing;else if(null!==arguments[0])return(arguments[0].extend||c).call(arguments[0],f)};h.ancestor=this;h.extend=this.extend;h.forEach=this.forEach;h.implement=this.implement;h.prototype=
f;h.toString=this.toString;h.valueOf=function(a){return"object"==a?h:g.valueOf()};c.call(h,b);"function"==typeof h.init&&h.init();return h};
Base.prototype={extend:function(a,b){if(1<arguments.length){var c=this[a];if(c&&"function"==typeof b&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\bbase\b/.test(b)){var f=b.valueOf(),b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=f.apply(this,arguments);this.base=a;return b};b.valueOf=function(a){return"object"==a?b:f};b.toString=Base.toString}this[a]=b}else if(a){var g=Base.prototype.extend;!Base._prototyping&&"function"!=typeof this&&(g=this.extend||g);for(var h={toSource:null},
j=["constructor","toString","valueOf"],k=Base._prototyping?0:1;l=j[k++];)a[l]!=h[l]&&g.call(this,l,a[l]);for(var l in a)h[l]||g.call(this,l,a[l])}return this}};
var Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,b,c){for(var f in a)void 0===this.prototype[f]&&b.call(c,a[f],f,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}}),FlipClock;
(function(a){FlipClock=function(a,c,f){c instanceof Object&&!1===c instanceof Date&&(f=c,c=0);return new FlipClock.Factory(a,c,f)};FlipClock.Lang={};FlipClock.Base=Base.extend({buildDate:"2014-12-12",version:"0.7.7",constructor:function(b,c){"object"!==typeof b&&(b={});"object"!==typeof c&&(c={});this.setOptions(a.extend(!0,{},b,c))},callback:function(a){if("function"===typeof a){for(var c=[],f=1;f<=arguments.length;f++)arguments[f]&&c.push(arguments[f]);a.apply(this,c)}},log:function(a){window.console&&
console.log&&console.log(a)},getOption:function(a){return this[a]?this[a]:!1},getOptions:function(){return this},setOption:function(a,c){this[a]=c},setOptions:function(a){for(var c in a)"undefined"!==typeof a[c]&&this.setOption(c,a[c])}})})(jQuery);
(function(a){FlipClock.Face=FlipClock.Base.extend({autoStart:!0,dividers:[],factory:!1,lists:[],constructor:function(a,c){this.dividers=[];this.lists=[];this.base(c);this.factory=a},build:function(){this.autoStart&&this.start()},createDivider:function(b,c,f){if("boolean"==typeof c||!c)f=c,c=b;var g=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join("");f&&(g="");b=this.factory.localize(b);b=['<span class="'+this.factory.classes.divider+
" "+(c?c:"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(b?b:"")+"</span>",g,"</span>"];b=a(b.join(""));this.dividers.push(b);return b},createList:function(a,c){"object"===typeof a&&(c=a,a=0);var f=new FlipClock.List(this.factory,a,c);this.lists.push(f);return f},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0,{minimumDigits:this.factory.minimumDigits});this.flip(this.factory.original,!1)},appendDigitToClock:function(a){a.$el.append(!1)},
addDigit:function(a){a=this.createList(a,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});this.appendDigitToClock(a)},start:function(){},stop:function(){},autoIncrement:function(){this.factory.countdown?this.decrement():this.increment()},increment:function(){this.factory.time.addSecond()},decrement:function(){0==this.factory.time.getTimeSeconds()?this.factory.stop():this.factory.time.subSecond()},flip:function(b,c){var f=this;a.each(b,
function(a,b){var j=f.lists[a];j?(!c&&b!=j.digit&&j.play(),j.select(b)):f.addDigit(b)})}})})(jQuery);
(function(a){FlipClock.Factory=FlipClock.Base.extend({animationRate:1E3,autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",countdown:!1,defaultClockFace:"HourlyCounter",defaultLanguage:"english",$el:!1,face:!0,lang:!1,language:"english",minimumDigits:0,
original:!1,running:!1,time:!1,timer:!1,$wrapper:!1,constructor:function(b,c,f){f||(f={});this.lists=[];this.running=!1;this.base(f);this.$wrapper=this.$el=a(b).addClass(this.classes.wrapper);this.original=c instanceof Date?c:c?Math.round(c):0;this.time=new FlipClock.Time(this,this.original,{minimumDigits:this.minimumDigits,animationRate:this.animationRate});this.timer=new FlipClock.Timer(this,f);this.loadLanguage(this.language);this.loadClockFace(this.clockFace,f);this.autoStart&&this.start()},loadClockFace:function(a,
c){var f,g=!1,a=a.ucfirst()+"Face";this.face.stop&&(this.stop(),g=!0);this.$el.html("");this.time.minimumDigits=this.minimumDigits;f=FlipClock[a]?new FlipClock[a](this,c):new FlipClock[this.defaultClockFace+"Face"](this,c);f.build();this.face=f;g&&this.start();return this.face},loadLanguage:function(a){return this.lang=FlipClock.Lang[a.ucfirst()]?FlipClock.Lang[a.ucfirst()]:FlipClock.Lang[a]?FlipClock.Lang[a]:FlipClock.Lang[this.defaultLanguage]},localize:function(a,c){var f=this.lang;if(!a)return null;
var g=a.toLowerCase();"object"==typeof c&&(f=c);return f&&f[g]?f[g]:a},start:function(a){var c=this;!c.running&&(!c.countdown||c.countdown&&0<c.time.time)?(c.face.start(c.time),c.timer.start(function(){c.flip();"function"===typeof a&&a()})):c.log("Trying to start timer when countdown already at 0")},stop:function(a){this.face.stop();this.timer.stop(a);for(var c in this.lists)this.lists.hasOwnProperty(c)&&this.lists[c].stop()},reset:function(a){this.timer.reset(a);this.face.reset()},setTime:function(a){this.time.time=
a;this.flip(!0)},getTime:function(){return this.time},setCountdown:function(a){var c=this.running;this.countdown=a?!0:!1;c&&(this.stop(),this.start())},flip:function(a){this.face.flip(!1,a)}})})(jQuery);
(function(a){FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$el:!1,$obj:!1,items:[],lastDigit:0,constructor:function(a,c){this.factory=a;this.lastDigit=this.digit=c;this.$obj=this.$el=this.createList();0<c&&this.select(c);this.factory.$el.append(this.$el)},select:function(a){"undefined"!==typeof a&&(this.digit=a);this.digit!=this.lastDigit&&(a=this.$el.find("."+this.classes.before).removeClass(this.classes.before),
this.$el.find("."+this.classes.active).removeClass(this.classes.active).addClass(this.classes.before),this.appendListItem(this.classes.active,this.digit),a.remove(),this.lastDigit=this.digit)},play:function(){this.$el.addClass(this.factory.classes.play)},stop:function(){var a=this;setTimeout(function(){a.$el.removeClass(a.factory.classes.play)},this.factory.timer.interval)},createListItem:function(a,c){return['<li class="'+(a?a:"")+'">','<a href="#"><div class="up"><div class="shadow"></div>','<div class="inn">'+
(c?c:"")+"</div>",'</div><div class="down"><div class="shadow"></div>','<div class="inn">'+(c?c:"")+"</div>","</div></a></li>"].join("")},appendListItem:function(a,c){var f=this.createListItem(a,c);this.$el.append(f)},createList:function(){var b=this.getPrevDigit()?this.getPrevDigit():this.digit;return a(['<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'">',this.createListItem(this.classes.before,b),this.createListItem(this.classes.active,this.digit),"</ul>"].join(""))},
getNextDigit:function(){return 9==this.digit?0:this.digit+1},getPrevDigit:function(){return 0==this.digit?9:this.digit-1}})})(jQuery);(function(a){String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)};a.fn.FlipClock=function(b,c){return new FlipClock(a(this),b,c)};a.fn.flipClock=function(b,c){return a.fn.FlipClock(b,c)}})(jQuery);
(function(a){FlipClock.Time=FlipClock.Base.extend({time:0,factory:!1,minimumDigits:0,constructor:function(a,c,f){"object"!=typeof f&&(f={});f.minimumDigits||(f.minimumDigits=a.minimumDigits);this.base(f);this.factory=a;c&&(this.time=c)},convertDigitsToArray:function(a){for(var c=[],a=a.toString(),f=0;f<a.length;f++)a[f].match(/^\d*$/g)&&c.push(a[f]);return c},digit:function(a){var c=this.toString(),f=c.length;return c[f-a]?c[f-a]:!1},digitize:function(b){var c=[];a.each(b,function(a,b){b=b.toString();
1==b.length&&(b="0"+b);for(var h=0;h<b.length;h++)c.push(b.charAt(h))});c.length>this.minimumDigits&&(this.minimumDigits=c.length);if(this.minimumDigits>c.length)for(b=c.length;b<this.minimumDigits;b++)c.unshift("0");return c},numberize:function(b){var c=[];a.each(b,function(a,b){b=b.toString();1==b.length&&(b="0"+b);c.push(b)});c.length>this.minimumDigits&&(this.minimumDigits=c.length);if(this.minimumDigits>c.length)for(b=c.length;b<this.minimumDigits;b++)c.unshift("0");return c},getDateObject:function(){return this.time instanceof
Date?this.time:new Date((new Date).getTime()+1E3*this.getTimeSeconds())},getDayCounter:function(a){var c=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];a&&c.push(this.getSeconds(!0));return this.digitize(c)},getDays:function(a){var c=this.getTimeSeconds()/60/60/24;a&&(c%=7);return Math.floor(c)},getHourCounter:function(){return this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)])},getRDHourlyCounter:function(){return this.numberize([this.getHours(),this.getMinutes(!0),
this.getSeconds(!0)])},getRDDailyCounter:function(){return this.numberize([this.getDays(),this.getHours(!0),this.getMinutes(!0),this.getSeconds(!0)])},getHourly:function(){return this.getHourCounter()},getHours:function(a){var c=this.getTimeSeconds()/60/60;a&&(c%=24);return Math.floor(c)},getMilitaryTime:function(a,c){"undefined"===typeof c&&(c=!0);a||(a=this.getDateObject());var f=[a.getHours(),a.getMinutes()];!0===c&&f.push(a.getSeconds());return this.digitize(f)},getMinutes:function(a){var c=this.getTimeSeconds()/
60;a&&(c%=60);return Math.floor(c)},getMinuteCounter:function(){return this.digitize([this.getMinutes(),this.getSeconds(!0)])},getTimeSeconds:function(a){a||(a=new Date);return this.time instanceof Date?this.factory.countdown?Math.max(this.time.getTime()/1E3-a.getTime()/1E3,0):a.getTime()/1E3-this.time.getTime()/1E3:this.time},getTime:function(a,c){"undefined"===typeof c&&(c=!0);a||(a=this.getDateObject());console.log(a);var f=a.getHours(),f=[12<f?f-12:0===f?12:f,a.getMinutes()];!0===c&&f.push(a.getSeconds());
return this.digitize(f)},getSeconds:function(a){var c=this.getTimeSeconds();a&&(c=60==c?0:c%60);return Math.ceil(c)},getWeeks:function(a){var c=this.getTimeSeconds()/60/60/24/7;a&&(c%=52);return Math.floor(c)},removeLeadingZeros:function(b,c){var f=0,g=[];a.each(c,function(a){a<b?f+=parseInt(c[a],10):g.push(c[a])});return 0===f?g:c},addSeconds:function(a){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()+a):this.time+=a},addSecond:function(){this.addSeconds(1)},subSeconds:function(a){this.time instanceof
Date?this.time.setSeconds(this.time.getSeconds()-a):this.time-=a},subSecond:function(){this.subSeconds(1)},toString:function(){return this.getTimeSeconds().toString()}})})(jQuery);
(function(){FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1E3,animationRate:1E3,constructor:function(a,b){this.base(b);this.factory=a;this.callback(this.callbacks.init);this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(a){clearInterval(this.timer);this.count=0;this._setInterval(a);
this.callback(this.callbacks.reset)},start:function(a){this.factory.running=!0;this._createTimer(a);this.callback(this.callbacks.start)},stop:function(a){this.factory.running=!1;this._clearInterval(a);this.callback(this.callbacks.stop);this.callback(a)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(a){this._setInterval(a)},_destroyTimer:function(a){this._clearInterval();this.timer=!1;this.callback(a);this.callback(this.callbacks.destroy)},_interval:function(a){this.callback(this.callbacks.interval);
this.callback(a);this.count++},_setInterval:function(a){var b=this;b._interval(a);b.timer=setInterval(function(){b._interval(a)},this.interval)}})})(jQuery);
(function(a){FlipClock.CounterFace=FlipClock.Face.extend({shouldAutoIncrement:!1,constructor:function(a,c){"object"!=typeof c&&(c={});a.autoStart=c.autoStart?!0:!1;c.autoStart&&(this.shouldAutoIncrement=!0);a.increment=function(){a.countdown=!1;a.setTime(a.getTime().getTimeSeconds()+1)};a.decrement=function(){a.countdown=!0;var c=a.getTime().getTimeSeconds();0<c&&a.setTime(c-1)};a.setValue=function(c){a.setTime(c)};a.setCounter=function(c){a.setTime(c)};this.base(a,c)},build:function(){var b=this,
c=this.factory.$el.find("ul"),f=this.factory.getTime().digitize([this.factory.getTime().time]);f.length>c.length&&a.each(f,function(a,c){b.createList(c).select(c)});a.each(this.lists,function(a,b){b.play()});this.base()},flip:function(a,c){this.shouldAutoIncrement&&this.autoIncrement();a||(a=this.factory.getTime().digitize([this.factory.getTime().time]));this.base(a,c)},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0);this.flip()}})})(jQuery);
(function(a){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:!0,constructor:function(a,c){this.base(a,c)},build:function(b){var c=this,f=this.factory.$el.find("ul"),g=0,b=b?b:this.factory.time.getDayCounter(this.showSeconds);b.length>f.length&&a.each(b,function(a,b){c.createList(b)});this.showSeconds?a(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el):g=2;a(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4+g].$el);a(this.createDivider("Hours")).insertBefore(this.lists[this.lists.length-
6+g].$el);a(this.createDivider("Days",!0)).insertBefore(this.lists[0].$el);this.base()},flip:function(a,c){a||(a=this.factory.time.getDayCounter(this.showSeconds));this.autoIncrement();this.base(a,c)}})})(jQuery);
(function(a){FlipClock.RDDailyCounterFace=FlipClock.Face.extend({constructor:function(a,c){this.options=c;this.base(a,c)},build:function(b,c){var f=this,c=c?c:this.factory.time.getRDDailyCounter();a.each(c,function(a,b){f.createList(b)});var g=this.options.labels;a.each(this.lists,function(b,c){$el=c.$el;var f=a('<div class="flip-wrapper">',!0);$el.wrap(f).parent().append('<span class="flip-clock-label">'+g[b]+"</span>")});this.base()},flip:function(a,c){a||(a=this.factory.time.getRDDailyCounter());
this.autoIncrement();this.base(a,c)}})})(jQuery);
(function(a){FlipClock.RDHourlyCounterFace=FlipClock.Face.extend({constructor:function(a,c){this.options=c;this.base(a,c)},build:function(b,c){var f=this,c=c?c:this.factory.time.getRDHourlyCounter();a.each(c,function(a,b){f.createList(b)});var g=this.options.labels;a.each(this.lists,function(b,c){$el=c.$el;var f=a('<div class="flip-wrapper">',!0);$el.wrap(f).parent().append('<span class="flip-clock-label">'+g[b]+"</span>")});this.base()},flip:function(a,c){a||(a=this.factory.time.getRDHourlyCounter());
this.autoIncrement();this.base(a,c)}})})(jQuery);(function(a){var b,c,f,g,h,j,k,l=function(){},u=!!window.jQuery,p=a(window),q=function(a,c){b.ev.on("mfp"+a+".mfp",c)},n=function(b,c,f,g){var h=document.createElement("div");return h.className="mfp-"+b,f&&(h.innerHTML=f),g?c&&c.appendChild(h):(h=a(h),c&&h.appendTo(c)),h},A=function(c,f){b.ev.triggerHandler("mfp"+c,f);b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(f)?f:[f]))},I=function(c){return c===k&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=
a(b.st.closeMarkup.replace("%title%",b.st.tClose)),k=c),b.currTemplate.closeBtn},w=function(){a.magnificPopup.instance||(b=new l,b.init(),a.magnificPopup.instance=b)},G=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};l.prototype={constructor:l,init:function(){var c=navigator.appVersion;b.isIE7=-1!==c.indexOf("MSIE 7.");b.isIE8=-1!==c.indexOf("MSIE 8.");b.isLowIE=b.isIE7||
b.isIE8;b.isAndroid=/android/gi.test(c);b.isIOS=/iphone|ipad|ipod/gi.test(c);b.supportsTransition=G();b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);f=a(document.body);g=a(document);b.popupsCache={}},open:function(c){var f;if(!1===c.isObj){b.items=c.items.toArray();b.index=0;var h,k=c.items;for(f=0;k.length>f;f++)if(h=k[f],h.parsed&&(h=h.el[0]),h===c.el[0]){b.index=f;break}}else b.items=a.isArray(c.items)?
c.items:[c.items],b.index=c.index||0;if(b.isOpen)return b.updateItemHTML(),void 0;b.types=[];j="";b.ev=c.mainEl&&c.mainEl.length?c.mainEl.eq(0):g;c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={};b.st=a.extend(!0,{},a.magnificPopup.defaults,c);b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos;b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1);
b.bgOverlay||(b.bgOverlay=n("bg").on("click.mfp",function(){b.close()}),b.wrap=n("wrap").attr("tabindex",-1).on("click.mfp",function(a){b._checkIfClose(a.target)&&b.close()}),b.container=n("container",b.wrap));b.contentContainer=n("content");b.st.preloader&&(b.preloader=n("preloader",b.container,b.st.tLoading));h=a.magnificPopup.modules;for(f=0;h.length>f;f++)k=h[f],k=k.charAt(0).toUpperCase()+k.slice(1),b["init"+k].call(b);A("BeforeOpen");b.st.showCloseBtn&&(b.st.closeBtnInside?(q("MarkupParse",
function(a,b,c,f){c.close_replaceWith=I(f.type)}),j+=" mfp-close-btn-in"):b.wrap.append(I()));b.st.alignTop&&(j+=" mfp-align-top");b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:p.scrollTop(),position:"absolute"});(!1===b.st.fixedBgPos||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:g.height(),position:"absolute"});b.st.enableEscapeKey&&g.on("keyup.mfp",function(a){27===a.keyCode&&b.close()});p.on("resize.mfp",
function(){b.updateSize()});b.st.closeOnContentClick||(j+=" mfp-auto-cursor");j&&b.wrap.addClass(j);f=b.wH=p.height();h={};b.fixedContentPos&&b._hasScrollBar(f)&&(k=b._getScrollbarSize())&&(h.marginRight=k);b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):h.overflow="hidden");k=b.st.mainClass;return b.isIE7&&(k+=" mfp-ie7"),k&&b._addClassToMFP(k),b.updateItemHTML(),A("BuildControls"),a("html").css(h),b.bgOverlay.add(b.wrap).prependTo(document.body),b._lastFocusedEl=document.activeElement,
setTimeout(function(){b.content?(b._addClassToMFP("mfp-ready"),b._setFocus()):b.bgOverlay.addClass("mfp-ready");g.on("focusin.mfp",b._onFocusIn)},16),b.isOpen=!0,b.updateSize(f),A("Open"),c},close:function(){b.isOpen&&(A("BeforeClose"),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP("mfp-removing"),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){A("Close");var c="mfp-removing mfp-ready ";if(b.bgOverlay.detach(),b.wrap.detach(),
b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos)c={marginRight:""},b.isIE7?a("body, html").css("overflow",""):c.overflow="",a("html").css(c);g.off("keyup.mfp focusin.mfp");b.ev.off(".mfp");b.wrap.attr("class","mfp-wrap").removeAttr("style");b.bgOverlay.attr("class","mfp-bg");b.container.attr("class","mfp-container");!b.st.showCloseBtn||b.st.closeBtnInside&&!0!==b.currTemplate[b.currItem.type]||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach();
b._lastFocusedEl&&a(b._lastFocusedEl).focus();b.currItem=null;b.content=null;b.currTemplate=null;b.prevHeight=0;A("AfterClose")},updateSize:function(a){b.isIOS?(a=window.innerHeight*(document.documentElement.clientWidth/window.innerWidth),b.wrap.css("height",a),b.wH=a):b.wH=a||p.height();b.fixedContentPos||b.wrap.css("height",b.wH);A("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach();b.content&&b.content.detach();c.parsed||(c=b.parseEl(b.index));var f=c.type;if(A("BeforeChange",
[b.currItem?b.currItem.type:"",f]),b.currItem=c,!b.currTemplate[f]){var g=b.st[f]?b.st[f].markup:!1;A("FirstMarkupParse",g);b.currTemplate[f]=g?a(g):!0}h&&h!==c.type&&b.container.removeClass("mfp-"+h+"-holder");g=b["get"+f.charAt(0).toUpperCase()+f.slice(1)](c,b.currTemplate[f]);b.appendContent(g,f);c.preloaded=!0;A("Change",c);h=c.type;b.container.prepend(b.contentContainer);A("AfterChange")},appendContent:function(a,c){(b.content=a)?b.st.showCloseBtn&&b.st.closeBtnInside&&!0===b.currTemplate[c]?
b.content.find(".mfp-close").length||b.content.append(I()):b.content=a:b.content="";A("BeforeAppend");b.container.addClass("mfp-"+c+"-holder");b.contentContainer.append(b.content)},parseEl:function(c){var f=b.items[c],g=f.type;if(f=f.tagName?{el:a(f)}:{data:f,src:f.src},f.el){for(var h=b.types,j=0;h.length>j;j++)if(f.el.hasClass("mfp-"+h[j])){g=h[j];break}f.src=f.el.attr("data-mfp-src");f.src||(f.src=f.el.attr("href"))}return f.type=g||b.st.type||"inline",f.index=c,f.parsed=!0,b.items[c]=f,A("ElementParse",
f),b.items[c]},addGroup:function(a,c){var f=function(f){f.mfpEl=this;b._openClick(f,a,c)};c||(c={});c.mainEl=a;c.items?(c.isObj=!0,a.off("click.magnificPopup").on("click.magnificPopup",f)):(c.isObj=!1,c.delegate?a.off("click.magnificPopup").on("click.magnificPopup",c.delegate,f):(c.items=a,a.off("click.magnificPopup").on("click.magnificPopup",f)))},_openClick:function(c,f,g){if((void 0!==g.midClick?g.midClick:a.magnificPopup.defaults.midClick)||2!==c.which&&!c.ctrlKey&&!c.metaKey){var h=void 0!==
g.disableOn?g.disableOn:a.magnificPopup.defaults.disableOn;if(h)if(a.isFunction(h)){if(!h.call(b))return!0}else if(h>p.width())return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation());g.el=a(c.mfpEl);g.delegate&&(g.items=f.find(g.delegate));b.open(g)}},updateStatus:function(a,f){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c);f||"loading"!==a||(f=b.st.tLoading);var g={status:a,text:f};A("UpdateStatus",g);a=g.status;f=g.text;b.preloader.html(f);b.preloader.find("a").on("click",
function(a){a.stopImmediatePropagation()});b.container.addClass("mfp-s-"+a);c=a}},_checkIfClose:function(c){if(!a(c).hasClass("mfp-prevent-close")){var f=b.st.closeOnContentClick,g=b.st.closeOnBgClick;if(f&&g||!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(f)return!0}else if(g&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a);b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a);
b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?g.height():document.body.scrollHeight)>(a||p.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,f){var g;f.data&&(c=a.extend(f.data,c));A("MarkupParse",[b,c,f]);a.each(c,function(a,c){if(void 0===c||!1===c)return!0;if(g=a.split("_"),1<g.length){var f=b.find(".mfp-"+
g[0]);if(0<f.length){var h=g[1];"replaceWith"===h?f[0]!==c[0]&&f.replaceWith(c):"img"===h?f.is("img")?f.attr("src",c):f.replaceWith('<img src="'+c+'" class="'+f.attr("class")+'" />'):f.attr(g[1],c)}}else b.find(".mfp-"+a).html(c)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.id="mfp-sbm";a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(a);b.scrollbarSize=a.offsetWidth-a.clientWidth;
document.body.removeChild(a)}return b.scrollbarSize}};a.magnificPopup={instance:null,proto:l.prototype,modules:[],open:function(b,c){return w(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options);a.extend(this.proto,c.proto);this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",
closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};a.fn.magnificPopup=function(c){w();var f=a(this);if("string"==typeof c)if("open"===c){var g,h=u?f.data("magnificPopup"):f[0].magnificPopup,j=parseInt(arguments[1],10)||0;h.items?g=h.items[j]:
(g=f,h.delegate&&(g=g.find(h.delegate)),g=g.eq(j));b._openClick({mfpEl:g},f,h)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),u?f.data("magnificPopup",c):f[0].magnificPopup=c,b.addGroup(f,c);return f};var m,C,z,B=function(){z&&(C.after(z.addClass(m)).detach(),z=null)};a.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push("inline");q("Close.inline",function(){B()})},
getInline:function(c,f){if(B(),c.src){var g=b.st.inline,h=a(c.src);if(h.length){var j=h[0].parentNode;j&&j.tagName&&(C||(m=g.hiddenClass,C=n(m),m="mfp-"+m),z=h.after(C).detach().removeClass(m));b.updateStatus("ready")}else b.updateStatus("error",g.tNotFound),h=a("<div>");return c.inlineElement=h,h}return b.updateStatus("ready"),b._parseMarkup(f,{},c),f}}});var x,J=function(){x&&f.removeClass(x);b.req&&b.req.abort()};a.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",
tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push("ajax");x=b.st.ajax.cursor;q("Close.ajax",J);q("BeforeChange.ajax",J)},getAjax:function(c){x&&f.addClass(x);b.updateStatus("loading");var g=a.extend({url:c.src,success:function(g,h,j){g={data:g,xhr:j};A("ParseAjax",g);b.appendContent(a(g.data),"ajax");c.finished=!0;x&&f.removeClass(x);b._setFocus();setTimeout(function(){b.wrap.addClass("mfp-ready")},16);b.updateStatus("ready");A("AjaxContentAdded")},
error:function(){x&&f.removeClass(x);c.finished=c.loadError=!0;b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(g),""}}});var P,v=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var f=b.st.image.titleSrc;if(f){if(a.isFunction(f))return f.call(b,c);if(c.el)return c.el.attr(f)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=b.st.image;b.types.push("image");q("Open.image",function(){"image"===b.currItem.type&&a.cursor&&f.addClass(a.cursor)});q("Close.image",function(){a.cursor&&f.removeClass(a.cursor);p.off("resize.mfp")});q("Resize.image",b.resizeImage);b.isLowIE&&q("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=
0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10));a.img.css("",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,P&&clearInterval(P),a.isCheckingImgSize=!1,A("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,f=a.img[0],g=function(h){P&&clearInterval(P);P=setInterval(function(){return 0<f.naturalWidth?(b._onImageHasSize(a),void 0):(200<c&&clearInterval(P),c++,3===
c?g(10):40===c?g(50):100===c&&g(500),void 0)},h)};g(1)},getImage:function(c,f){var g=0,h=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,A("ImageLoadComplete")):(g++,200>g?setTimeout(h,100):j()))},j=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",k.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},k=b.st.image,m=f.find(".mfp-img");
if(m.length){var l=document.createElement("img");l.className="mfp-img";c.img=a(l).on("load.mfploader",h).on("error.mfploader",j);l.src=c.src;m.is("img")&&(c.img=c.img.clone());l=c.img[0];0<l.naturalWidth?c.hasSize=!0:l.width||(c.hasSize=!1)}return b._parseMarkup(f,{title:v(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(P&&clearInterval(P),c.loadError?(f.addClass("mfp-loading"),b.updateStatus("error",k.tError.replace("%url%",c.src))):(f.removeClass("mfp-loading"),b.updateStatus("ready")),
f):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,f.addClass("mfp-loading"),b.findImageSize(c)),f)}}});var N;a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom;if(c.enabled&&b.supportsTransition){var f,g,h=c.duration,j=function(a){var a=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),b={position:"fixed",
zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"};return b["-webkit-transition"]=b["-moz-transition"]=b["-o-transition"]=b.transition="all "+c.duration/1E3+"s "+c.easing,a.css(b),a},k=function(){b.content.css("visibility","visible")};q("BuildControls.zoom",function(){if(b._allowZoom()){if(clearTimeout(f),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return k(),void 0;g=j(a);g.css(b._getOffset());b.wrap.append(g);f=setTimeout(function(){g.css(b._getOffset(!0));f=setTimeout(function(){k();
setTimeout(function(){g.remove();a=g=null;A("ZoomAnimationEnded")},16)},h)},16)}});q("BeforeClose.zoom",function(){if(b._allowZoom()){if(clearTimeout(f),b.st.removalDelay=h,!a){if(a=b._getItemToZoom(),!a)return;g=j(a)}g.css(b._getOffset(!0));b.wrap.append(g);b.content.css("visibility","hidden");setTimeout(function(){g.css(b._getOffset())},16)}});q("Close.zoom",function(){b._allowZoom()&&(k(),g&&g.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?
b.currItem.img:!1},_getOffset:function(c){var f;f=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var c=f.offset(),g=parseInt(f.css("padding-top"),10),h=parseInt(f.css("padding-bottom"),10);c.top-=a(window).scrollTop()-g;f={width:f.width(),height:(u?f.innerHeight():f[0].offsetHeight)-h-g};return(void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N)?f["-moz-transform"]=f.transform="translate("+c.left+"px,"+c.top+"px)":(f.left=c.left,f.top=c.top),f}}});var L=function(a){if(b.currTemplate.iframe){var c=
b.currTemplate.iframe.find("iframe");c.length&&(a||(c[0].src="//about:blank"),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},
gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push("iframe");q("BeforeChange",function(a,b,c){b!==c&&("iframe"===b?L():"iframe"===c&&L(!0))});q("Close.iframe",function(){L()})},getIframe:function(c,f){var g=c.src,h=b.st.iframe;a.each(h.patterns,function(){return-1<g.indexOf(this.index)?(this.id&&(g="string"==typeof this.id?g.substr(g.lastIndexOf(this.id)+this.id.length,g.length):this.id.call(this,g)),g=this.src.replace("%id%",g),!1):void 0});var j={};
return h.srcAction&&(j[h.srcAction]=g),b._parseMarkup(f,j,c),b.updateStatus("ready"),f}}});var y=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,
f=Boolean(a.fn.mfpFastClick);return b.direction=!0,c&&c.enabled?(j+=" mfp-gallery",q("Open.mfp-gallery",function(){c.navigateByImgClick&&b.wrap.on("click.mfp-gallery",".mfp-img",function(){return 1<b.items.length?(b.next(),!1):void 0});g.on("keydown.mfp-gallery",function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),q("UpdateStatus.mfp-gallery",function(a,c){c.text&&(c.text=c.text.replace(/%curr%/gi,b.currItem.index+1).replace(/%total%/gi,b.items.length))}),q("MarkupParse.mfp-gallery",function(a,
f,g,h){a=b.items.length;g.counter=1<a?c.tCounter.replace(/%curr%/gi,h.index+1).replace(/%total%/gi,a):""}),q("BuildControls.mfp-gallery",function(){if(1<b.items.length&&c.arrows&&!b.arrowLeft){var g=c.arrowMarkup,h=b.arrowLeft=a(g.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),g=b.arrowRight=a(g.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close"),j=f?"mfpFastClick":"click";h[j](function(){b.prev()});g[j](function(){b.next()});
b.isIE7&&(n("b",h[0],!1,!0),n("a",h[0],!1,!0),n("b",g[0],!1,!0),n("a",g[0],!1,!0));b.container.append(h.add(g))}}),q("Change.mfp-gallery",function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout);b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages();b._preloadTimeout=null},16)}),q("Close.mfp-gallery",function(){g.off(".mfp-gallery");b.wrap.off("click.mfp-gallery");b.arrowLeft&&f&&b.arrowLeft.add(b.arrowRight).destroyMfpFastClick();b.arrowRight=b.arrowLeft=null}),void 0):!1},next:function(){b.direction=
!0;b.index=y(b.index+1);b.updateItemHTML()},prev:function(){b.direction=!1;b.index=y(b.index-1);b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index;b.index=a;b.updateItemHTML()},preloadNearbyImages:function(){var a;a=b.st.gallery.preload;var c=Math.min(a[0],b.items.length),f=Math.min(a[1],b.items.length);for(a=1;(b.direction?f:c)>=a;a++)b._preloadItem(b.index+a);for(a=1;(b.direction?c:f)>=a;a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=y(c),!b.items[c].preloaded){var f=b.items[c];
f.parsed||(f=b.parseEl(c));A("LazyLoad",f);"image"===f.type&&(f.img=a('<img class="mfp-img" />').on("load.mfploader",function(){f.hasSize=!0}).on("error.mfploader",function(){f.hasSize=!0;f.loadError=!0;A("LazyLoadError",f)}).attr("src",f.src));f.preloaded=!0}}}});a.magnificPopup.registerModule("retina",{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var a=b.st.retina,c=a.ratio,c=isNaN(c)?
c():c;1<c&&(q("ImageHasSize.retina",function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),q("ElementParse.retina",function(b,f){f.src=a.replaceSrc(f,c)}))}}}});var O="ontouchstart"in window,D=function(){p.off("touchmove"+H+" touchend"+H)},H=".mfpFastClick";a.fn.mfpFastClick=function(b){return a(this).each(function(){var c,f=a(this);if(O){var g,h,j,k,m,l;f.on("touchstart"+H,function(a){k=!1;l=1;m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0];h=m.clientX;j=m.clientY;
p.on("touchmove"+H,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches;l=m.length;m=m[0];(10<Math.abs(m.clientX-h)||10<Math.abs(m.clientY-j))&&(k=!0,D())}).on("touchend"+H,function(a){D();k||1<l||(c=!0,a.preventDefault(),clearTimeout(g),g=setTimeout(function(){c=!1},1E3),b())})})}f.on("click"+H,function(){c||b()})})};a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+H+" click"+H);O&&p.off("touchmove"+H+" touchend"+H)};w()})(window.jQuery||window.Zepto);"function"!==typeof Object.create&&(Object.create=function(a){function b(){}b.prototype=a;return new b});
(function(a,b,c){var f={init:function(b,c){this.$elem=a(c);this.options=a.extend({},a.fn.owlCarousel.options,this.$elem.data(),b);this.userOptions=b;this.loadContent()},loadContent:function(){function b(a){var f,g="";if("function"===typeof c.options.jsonSuccess)c.options.jsonSuccess.apply(this,[a]);else{for(f in a.owl)a.owl.hasOwnProperty(f)&&(g+=a.owl[f].item);c.$elem.html(g)}c.logIn()}var c=this,f;"function"===typeof c.options.beforeInit&&c.options.beforeInit.apply(this,[c.$elem]);"string"===typeof c.options.jsonPath?
(f=c.options.jsonPath,a.getJSON(f,b)):c.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style"));this.$elem.data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible=null;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;
this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&
(this.options.autoPlay=5E3);this.play();this.$elem.find(".owl-wrapper").css("display","block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,
[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;b.setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(!1===a.$elem.is(":visible"))a.$elem.css({opacity:0}),
b.clearInterval(a.autoPlayInterval),b.clearInterval(a.checkVisible);else return!1;a.checkVisible=b.setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),b.clearInterval(a.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},
baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass);b||this.$elem.addClass(this.options.theme)},updateItems:function(){var b,c;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=
!1,this.options.itemsMobile=!1;b=a(this.options.responsiveBaseWidth).width();if(b>(this.options.itemsDesktop[0]||this.orignalItems))this.options.items=this.orignalItems;if(!1!==this.options.itemsCustom){this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]});for(c=0;c<this.options.itemsCustom.length;c+=1)this.options.itemsCustom[c][0]<=b&&(this.options.items=this.options.itemsCustom[c][1])}else b<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),
b<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),b<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),b<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),b<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&
!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var c=this,f,j;if(!0!==c.options.responsive)return!1;j=a(b).width();c.resizer=function(){a(b).width()!==j&&(!1!==c.options.autoPlay&&b.clearInterval(c.autoPlayInterval),b.clearTimeout(f),f=b.setTimeout(function(){j=a(b).width();c.updateVars()},c.options.responsiveRefreshRate))};a(b).resize(c.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var b=
this,c=0,f=b.itemsAmount-b.options.items;b.$owlItems.each(function(k){var l=a(this);l.css({width:b.itemWidth}).data("owl-item",Number(k));if(0===k%b.options.items||k===f)k>f||(c+=1);l.data("owl-roundPages",c)})},appendWrapperSizes:function(){var a=this.$owlItems.length*this.itemWidth;"rtl"==this.options.direction?cssObj={right:0,direction:"rtl"}:cssObj={left:0};this.$owlWrapper.css({width:a});this.$owlWrapper.css(cssObj);this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();
this.loops();this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a);return a},min:function(){return 0},loops:function(){var b=0,c=0,f,k;this.positionsInArray=[0];this.pagesInArray=[];for(f=0;f<this.itemsAmount;f+=
1)c+=this.itemWidth,this.positionsInArray.push(-c),!0===this.options.scrollPerPage&&(k=a(this.$owlItems[f]),k=k.data("owl-roundPages"),k!==b&&(this.pagesInArray[b]=this.positionsInArray[f],b=k))},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=a('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},
buildButtons:function(){var b=this,c=a('<div class="owl-buttons"/>');b.owlControls.append(c);b.buttonPrev=a("<div/>",{"class":"owl-prev",html:b.options.navigationText[0]||""});b.buttonNext=a("<div/>",{"class":"owl-next",html:b.options.navigationText[1]||""});c.append(b.buttonPrev).append(b.buttonNext);c.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()});c.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(c){c.preventDefault();
a(this).hasClass("owl-next")?b.next():b.prev()})},buildPagination:function(){var b=this;b.paginationWrapper=a('<div class="owl-pagination"/>');b.owlControls.append(b.paginationWrapper);b.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(c){c.preventDefault();Number(a(this).data("owl-page"))!==b.currentItem&&b.goTo(Number(a(this).data("owl-page")),!0)})},updatePagination:function(){var b,c,f,k,l,u;if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");
b=0;c=this.itemsAmount-this.itemsAmount%this.options.items;for(k=0;k<this.itemsAmount;k+=1)0===k%this.options.items&&(b+=1,c===k&&(f=this.itemsAmount-this.options.items),l=a("<div/>",{"class":"owl-page"}),u=a("<span></span>",{text:!0===this.options.paginationNumbers?b:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),l.append(u),l.data("owl-page",c===k?f:k),l.data("owl-roundPages",b),this.paginationWrapper.append(l));this.checkPagination()},checkPagination:function(){var b=this;if(!1===
b.options.pagination)return!1;b.paginationWrapper.find(".owl-page").each(function(){a(this).data("owl-roundPages")===a(b.$owlItems[b.currentItem]).data("owl-roundPages")&&(b.paginationWrapper.find(".owl-page").removeClass("active"),a(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&
0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():
this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,a="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;this.currentItem=
!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,a="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,a)},goTo:function(a,c,f){var k=this;if(k.isTransition)return!1;"function"===typeof k.options.beforeMove&&k.options.beforeMove.apply(this,[k.$elem]);a>=k.maximumItem?a=k.maximumItem:
0>=a&&(a=0);k.currentItem=k.owl.currentItem=a;if(!1!==k.options.transitionStyle&&"drag"!==f&&1===k.options.items&&!0===k.browser.support3d)return k.swapSpeed(0),!0===k.browser.support3d?k.transition3d(k.positionsInArray[a]):k.css2slide(k.positionsInArray[a],1),k.afterGo(),k.singleItemTransition(),!1;a=k.positionsInArray[a];!0===k.browser.support3d?(k.isCss3Finish=!1,!0===c?(k.swapSpeed("paginationSpeed"),b.setTimeout(function(){k.isCss3Finish=!0},k.options.paginationSpeed)):"rewind"===c?(k.swapSpeed(k.options.rewindSpeed),
b.setTimeout(function(){k.isCss3Finish=!0},k.options.rewindSpeed)):(k.swapSpeed("slideSpeed"),b.setTimeout(function(){k.isCss3Finish=!0},k.options.slideSpeed)),k.transition3d(a)):!0===c?k.css2slide(a,k.options.paginationSpeed):"rewind"===c?k.css2slide(a,k.options.rewindSpeed):k.css2slide(a,k.options.slideSpeed);k.afterGo()},jumpTo:function(a){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0);this.swapSpeed(0);
!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1);this.currentItem=this.owl.currentItem=a;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&
this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";b.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;a.apStatus="play";if(!1===a.options.autoPlay)return!1;b.clearInterval(a.autoPlayInterval);a.autoPlayInterval=b.setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):
"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){"rtl"==this.options.direction&&(a=
-a);return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){var b;"rtl"==this.options.direction?b={right:a}:b={left:a};this.$owlWrapper.css(b)},css2slide:function(a,b){var c=this,f;"rtl"==c.options.direction?f={right:a}:
f={left:a};c.isCssFinish=!1;c.$owlWrapper.stop(!0,!0).animate(f,{duration:b||c.options.slideSpeed,complete:function(){c.isCssFinish=!0}})},checkBrowser:function(){var a=c.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==
a&&1===a.length,isTouch:"ontouchstart"in b||b.navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var a=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl",
"touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=a[0];this.ev_types.move=a[1];this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(b){return a(b.target).is("input, textarea, select, option")})},gestures:function(){function f(a){if(void 0!==a.touches)return{x:a.touches[0].pageX,
y:a.touches[0].pageY};if(void 0===a.touches){if(void 0!==a.pageX)return{x:a.pageX,y:a.pageY};if(void 0===a.pageX)return{x:a.clientX,y:a.clientY}}}function h(b){"on"===b?(a(c).on(l.ev_types.move,j),a(c).on(l.ev_types.end,k)):"off"===b&&(a(c).off(l.ev_types.move),a(c).off(l.ev_types.end))}function j(h){h=h.originalEvent||h||b.event;"rtl"==l.options.direction?(l.newPosX=-f(h).x-u.offsetX,l.newPosY=f(h).y-u.offsetY,l.newRelativeX=l.newPosX+u.relativePos):(l.newPosX=f(h).x-u.offsetX,l.newPosY=f(h).y-u.offsetY,
l.newRelativeX=l.newPosX-u.relativePos);"function"===typeof l.options.startDragging&&(!0!==u.dragging&&0!==l.newRelativeX)&&(u.dragging=!0,l.options.startDragging.apply(l,[l.$elem]));if((8<l.newRelativeX||-8>l.newRelativeX)&&!0===l.browser.isTouch)void 0!==h.preventDefault?h.preventDefault():h.returnValue=!1,u.sliding=!0;(10<l.newPosY||-10>l.newPosY)&&!1===u.sliding&&a(c).off("touchmove.owl");l.newPosX=Math.max(Math.min(l.newPosX,l.newRelativeX/5),l.maximumPixels+l.newRelativeX/5);!0===l.browser.support3d?
l.transition3d(l.newPosX):l.css2move(l.newPosX)}function k(c){var c=c.originalEvent||c||b.event,f;c.target=c.target||c.srcElement;u.dragging=!1;!0!==l.browser.isTouch&&l.$owlWrapper.removeClass("grabbing");l.dragDirection=0>l.newRelativeX?l.owl.dragDirection="left":l.owl.dragDirection="right";0!==l.newRelativeX&&(f=l.getNewPosition(),l.goTo(f,!1,"drag"),u.targetElement===c.target&&!0!==l.browser.isTouch&&(a(c.target).on("click.disable",function(b){b.stopImmediatePropagation();b.stopPropagation();
b.preventDefault();a(b.target).off("click.disable")}),c=a._data(c.target,"events").click,f=c.pop(),c.splice(0,0,f)));h("off")}var l=this,u={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};l.isCssFinish=!0;l.$elem.on(l.ev_types.start,".owl-wrapper",function(c){var c=c.originalEvent||c||b.event,j;if(3===c.which)return!1;if(!(l.itemsAmount<=l.options.items)){if(!1===l.isCssFinish&&!l.options.dragBeforeAnimFinish||
!1===l.isCss3Finish&&!l.options.dragBeforeAnimFinish)return!1;!1!==l.options.autoPlay&&b.clearInterval(l.autoPlayInterval);!0!==l.browser.isTouch&&!l.$owlWrapper.hasClass("grabbing")&&l.$owlWrapper.addClass("grabbing");l.newPosX=0;l.newRelativeX=0;a(this).css(l.removeTransition());j=a(this).position();"rtl"==l.options.direction?(positionRight=l.$owlItems.eq(0).width()*l.currentItem,u.relativePos=positionRight,u.offsetX=-f(c).x+positionRight):(u.relativePos=j.left,u.offsetX=f(c).x-j.left);u.offsetY=
f(c).y-j.top;h("on");u.sliding=!1;u.targetElement=c.target||c.srcElement}})},getNewPosition:function(){var a=this.closestItem();a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=a=0);return a},closestItem:function(){var b=this,c=!0===b.options.scrollPerPage?b.pagesInArray:b.positionsInArray,f=b.newPosX,k=null;a.each(c,function(l,u){if(f-b.itemWidth/20>c[l+1]&&f-b.itemWidth/20<u&&"left"===b.moveDirection())k=u,b.currentItem=!0===b.options.scrollPerPage?a.inArray(k,
b.positionsInArray):l;else if(f+b.itemWidth/20<u&&f+b.itemWidth/20>(c[l+1]||c[l]-b.itemWidth)&&"right"===b.moveDirection())!0===b.options.scrollPerPage?(k=c[l+1]||c[c.length-1],b.currentItem=a.inArray(k,b.positionsInArray)):(k=c[l+1],b.currentItem=l+1)});return b.currentItem},moveDirection:function(){var a;0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev");return a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()});a.$elem.on("owl.prev",
function(){a.prev()});a.$elem.on("owl.play",function(b,c){a.options.autoPlay=c;a.play();a.hoverStatus="play"});a.$elem.on("owl.stop",function(){a.stop();a.hoverStatus="stop"});a.$elem.on("owl.goTo",function(b,c){a.goTo(c)});a.$elem.on("owl.jumpTo",function(b,c){a.jumpTo(c)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&(!0!==a.browser.isTouch&&!1!==a.options.autoPlay)&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},
lazyLoad:function(){var b=this,c,f,k,l;if(!1===b.options.lazyLoad)return!1;for(c=0;c<b.itemsAmount;c+=1)f=a(b.$owlItems[c]),"loaded"!==f.data("owl-loaded")&&(k=f.data("owl-item"),$lazyOwls=f.find(".lazyOwl"),$lazyOwls.each(function(c,h){var q=a(h);"string"!==typeof q.data("src")?f.data("owl-loaded","loaded"):(void 0===f.data("owl-loaded")&&(q.hide(),f.addClass("loading").data("owl-loaded","checked")),(l=!0===b.options.lazyFollow?k>=b.currentItem:!0)&&(k<b.currentItem+b.options.items&&q.length)&&b.lazyPreload(f,
q))}))},lazyPreload:function(a,c){function f(){a.data("owl-loaded","loaded").removeClass("loading");c.removeAttr("data-src");"fade"===l.options.lazyEffect?c.fadeIn(400):c.show();"function"===typeof l.options.afterLazyLoad&&l.options.afterLazyLoad.apply(this,[l.$elem])}function k(){u+=1;l.completeImg(c.get(0))||!0===p?f():100>=u?b.setTimeout(k,100):f()}var l=this,u=0,p;"DIV"===c.prop("tagName")?(c.css("background-image","url("+c.data("src")+")"),p=!0):c[0].src=c.data("src");k()},autoHeight:function(){function c(){var f=
a(j.$owlItems[j.currentItem]).height();j.wrapperOuter.css("height",f+"px");j.wrapperOuter.hasClass("autoHeight")||b.setTimeout(function(){j.wrapperOuter.addClass("autoHeight")},0)}function f(){l+=1;j.completeImg(k.get(0))?c():100>=l?b.setTimeout(f,100):j.wrapperOuter.css("height","")}var j=this,k=a(j.$owlItems[j.currentItem]).find("img"),l;void 0!==k.get(0)?(l=0,f()):c()},completeImg:function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},onVisibleItems:function(){var b;
!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(b=this.currentItem;b<this.currentItem+this.options.items;b+=1)this.visibleItems.push(b),!0===this.options.addClassActive&&a(this.$owlItems[b]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out";this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this,b=a.outClass,c=a.inClass,f=a.$owlItems.eq(a.currentItem),l=a.$owlItems.eq(a.prevItem),
u=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],p=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.isTransition=!0;a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":p+"px","-moz-perspective-origin":p+"px","perspective-origin":p+"px"});l.css({position:"relative",left:u+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0;l.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");
a.clearTransStyle(l,b)});f.addClass(c).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0;f.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(f,c)})},clearTransStyle:function(a,b){a.css({position:"",left:""}).removeClass(b);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,
userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");a(c).off(".owl owl");a(b).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());
this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();b.clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(b){b=a.extend({},this.userOptions,b);this.unWrap();this.init(b,this.$elem)},addItem:function(a,b){var c;if(!a)return!1;if(0===this.$elem.children().length)return this.$elem.append(a),this.setVars(),!1;this.unWrap();c=void 0===b||-1===b?-1:b;
c>=this.$userItems.length||-1===c?this.$userItems.eq(-1).after(a):this.$userItems.eq(c).before(a);this.setVars()},removeItem:function(a){if(0===this.$elem.children().length)return!1;a=void 0===a||-1===a?-1:a;this.unWrap();this.$userItems.eq(a).remove();this.setVars()}};a.fn.owlCarousel=function(b){return this.each(function(){if(!0===a(this).data("owl-init"))return!1;a(this).data("owl-init",!0);var c=Object.create(f);c.init(b,this);a.data(this,"owlCarousel",c)})};a.fn.owlCarousel.options={items:5,
itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:b,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,
jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);(function(a){"function"===typeof define&&define.amd?"undefined"!==typeof jQuery?define(["jquery"],a):define([],a):"undefined"!==typeof jQuery?a(jQuery):a()})(function(a,b){function c(a){a=a.tagName;return"undefined"!==typeof a?k[a.toLowerCase()]:a}function f(a,b,c,g){var j=a.shift();if(j){var k=b[c]=b[c]||[];if("]"==j)if(h(k))""!=g&&k.push(g);else if("object"==typeof k){b=a=k;c=[];for(prop in b)b.hasOwnProperty(prop)&&c.push(prop);a[c.length]=g}else b[c]=[b[c],g];else{~j.indexOf("]")&&(j=j.substr(0,
j.length-1));if(!q.test(j)&&h(k))if(0==b[c].length)k=b[c]={};else{var k={},l;for(l in b[c])k[l]=b[c][l];b[c]=k}f(a,k,j,g)}}else h(b[c])?b[c].push(g):b[c]="object"==typeof b[c]?g:"undefined"==typeof b[c]?g:[b[c],g]}function g(a){for(var a=String(a).split(/&|;/),c=function(a,c){try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(g){}var j=c.indexOf("="),k;a:{for(var l=c.length,n,p=0;p<l;++p)if(n=c[p],"]"==n&&(k=!1),"["==n&&(k=!0),"="==n&&!k){k=p;break a}k=void 0}l=c.substr(0,k||j);k=c.substr(k||j,
c.length);k=k.substr(k.indexOf("=")+1,k.length);""==l&&(l=c,k="");j=l;l=k;if(~j.indexOf("]")){var u=j.split("[");f(u,a,"base",l)}else{if(!q.test(j)&&h(a.base)){k={};for(u in a.base)k[u]=a.base[u];a.base=k}u=a.base;k=u[j];b===k?u[j]=l:h(k)?k.push(l):u[j]=[k,l]}return a},g=0,j=a.length>>0,k={base:{}};g<j;)g in a&&(k=c.call(b,k,a[g],g,a)),++g;return k.base}function h(a){return"[object Array]"===Object.prototype.toString.call(a)}function j(a,c){1===arguments.length&&!0===a&&(c=!0,a=b);for(var a=a||window.location.toString(),
f=c||!1,h=decodeURI(a),f=p[f?"strict":"loose"].exec(h),h={attr:{},param:{},seg:{}},j=14;j--;)h.attr[l[j]]=f[j]||"";h.param.query=g(h.attr.query);h.param.fragment=g(h.attr.fragment);h.seg.path=h.attr.path.replace(/^\/+|\/+$/g,"").split("/");h.seg.fragment=h.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");h.attr.base=h.attr.host?(h.attr.protocol?h.attr.protocol+"://"+h.attr.host:h.attr.host)+(h.attr.port?":"+h.attr.port:""):"";return{data:h,attr:function(a){a=u[a]||a;return"undefined"!==typeof a?
this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!==typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!==typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){if("undefined"===typeof a)return this.data.seg.path;a=0>a?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]},fsegment:function(a){if("undefined"===typeof a)return this.data.seg.fragment;a=0>a?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]}}}
var k={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},l="source protocol authority userInfo user password host port relative path directory file query fragment".split(" "),u={anchor:"fragment"},p={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},
q=/^[0-9]+$/;"undefined"!==typeof a?(a.fn.url=function(b){var f="";this.length&&(f=a(this).attr(c(this[0]))||"");return j(f,b)},a.url=j):window.purl=j});/*
 jQuery DateTimePicker plugin v2.3.4
 @homepage http://xdsoft.net/jqplugins/datetimepicker/
 (c) 2014, Chupurnov Valeriy.
*/
(function(a){var b={i18n:{ar:{months:"\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a;\u0634\u0628\u0627\u0637;\u0622\u0630\u0627\u0631;\u0646\u064a\u0633\u0627\u0646;\u0645\u0627\u064a\u0648;\u062d\u0632\u064a\u0631\u0627\u0646;\u062a\u0645\u0648\u0632;\u0622\u0628;\u0623\u064a\u0644\u0648\u0644;\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644;\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a;\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644".split(";"),
dayOfWeek:"\u0646\u062b\u0639\u062e\u062c\u0633\u062d".split("")},ro:{months:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),dayOfWeek:"l ma mi j v s d".split(" ")},id:{months:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),dayOfWeek:"Sen Sel Rab Kam Jum Sab Min".split(" ")},bg:{months:"\u042f\u043d\u0443\u0430\u0440\u0438 \u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438 \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0438\u043b \u041c\u0430\u0439 \u042e\u043d\u0438 \u042e\u043b\u0438 \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438 \u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438 \u041d\u043e\u0435\u043c\u0432\u0440\u0438 \u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split(" "),
dayOfWeek:"\u041d\u0434 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")},fa:{months:"\u0641\u0631\u0648\u0631\u062f\u06cc\u0646 \u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a \u062e\u0631\u062f\u0627\u062f \u062a\u06cc\u0631 \u0645\u0631\u062f\u0627\u062f \u0634\u0647\u0631\u06cc\u0648\u0631 \u0645\u0647\u0631 \u0622\u0628\u0627\u0646 \u0622\u0630\u0631 \u062f\u06cc \u0628\u0647\u0645\u0646 \u0627\u0633\u0641\u0646\u062f".split(" "),dayOfWeek:"\u06cc\u06a9\u0634\u0646\u0628\u0647;\u062f\u0648\u0634\u0646\u0628\u0647;\u0633\u0647 \u0634\u0646\u0628\u0647;\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647;\u067e\u0646\u062c\u0634\u0646\u0628\u0647;\u062c\u0645\u0639\u0647;\u0634\u0646\u0628\u0647".split(";")},
ru:{months:"\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),dayOfWeek:"\u0412\u0441\u043a \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")},
uk:{months:"\u0421\u0456\u0447\u0435\u043d\u044c \u041b\u044e\u0442\u0438\u0439 \u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c \u041a\u0432\u0456\u0442\u0435\u043d\u044c \u0422\u0440\u0430\u0432\u0435\u043d\u044c \u0427\u0435\u0440\u0432\u0435\u043d\u044c \u041b\u0438\u043f\u0435\u043d\u044c \u0421\u0435\u0440\u043f\u0435\u043d\u044c \u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c \u0416\u043e\u0432\u0442\u0435\u043d\u044c \u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434 \u0413\u0440\u0443\u0434\u0435\u043d\u044c".split(" "),
dayOfWeek:"\u041d\u0434\u043b \u041f\u043d\u0434 \u0412\u0442\u0440 \u0421\u0440\u0434 \u0427\u0442\u0432 \u041f\u0442\u043d \u0421\u0431\u0442".split(" ")},en:{months:"January February March April May June July August September October November December".split(" "),dayOfWeek:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},el:{months:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2 \u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2 \u039c\u03ac\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2 \u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2 \u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2 \u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split(" "),
dayOfWeek:"\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03b9 \u03a4\u03b5\u03c4 \u03a0\u03b5\u03bc \u03a0\u03b1\u03c1 \u03a3\u03b1\u03b2".split(" ")},de:{months:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),dayOfWeek:"So Mo Di Mi Do Fr Sa".split(" ")},nl:{months:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),dayOfWeek:"zo ma di wo do vr za".split(" ")},tr:{months:"Ocak \u015eubat Mart Nisan May\u0131s Haziran Temmuz A\u011fustos Eyl\u00fcl Ekim Kas\u0131m Aral\u0131k".split(" "),
dayOfWeek:"Paz Pts Sal \u00c7ar Per Cum Cts".split(" ")},fr:{months:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" "),dayOfWeek:"Dim Lun Mar Mer Jeu Ven Sam".split(" ")},es:{months:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),dayOfWeek:"Dom Lun Mar Mi\u00e9 Jue Vie S\u00e1b".split(" ")},th:{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21 \u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c \u0e21\u0e35\u0e19\u0e32\u0e04\u0e21 \u0e40\u0e21\u0e29\u0e32\u0e22\u0e19 \u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21 \u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19 \u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21 \u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21 \u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19 \u0e15\u0e38\u0e25\u0e32\u0e04\u0e21 \u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19 \u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split(" "),
dayOfWeek:"\u0e2d\u0e32. \u0e08. \u0e2d. \u0e1e. \u0e1e\u0e24. \u0e28. \u0e2a.".split(" ")},pl:{months:"stycze\u0144 luty marzec kwiecie\u0144 maj czerwiec lipiec sierpie\u0144 wrzesie\u0144 pa\u017adziernik listopad grudzie\u0144".split(" "),dayOfWeek:"nd pn wt \u015br cz pt sb".split(" ")},pt:{months:"Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),dayOfWeek:"Dom Seg Ter Qua Qui Sex Sab".split(" ")},ch:{months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),
dayOfWeek:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")},se:{months:"Januari Februari Mars April Maj Juni Juli Augusti September Oktober November December".split(" "),dayOfWeek:"S\u00f6n M\u00e5n Tis Ons Tor Fre L\u00f6r".split(" ")},kr:{months:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),dayOfWeek:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("")},it:{months:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),
dayOfWeek:"Dom Lun Mar Mer Gio Ven Sab".split(" ")},da:{months:"January Februar Marts April Maj Juni July August September Oktober November December".split(" "),dayOfWeek:"S\u00f8n Man Tir Ons Tor Fre L\u00f8r".split(" ")},no:{months:"Januar Februar Mars April Mai Juni Juli August September Oktober November Desember".split(" "),dayOfWeek:"S\u00f8n Man Tir Ons Tor Fre L\u00f8r".split(" ")},ja:{months:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
dayOfWeek:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split("")},vi:{months:"Th\u00e1ng 1;Th\u00e1ng 2;Th\u00e1ng 3;Th\u00e1ng 4;Th\u00e1ng 5;Th\u00e1ng 6;Th\u00e1ng 7;Th\u00e1ng 8;Th\u00e1ng 9;Th\u00e1ng 10;Th\u00e1ng 11;Th\u00e1ng 12".split(";"),dayOfWeek:"CN T2 T3 T4 T5 T6 T7".split(" ")},sl:{months:"Januar Februar Marec April Maj Junij Julij Avgust September Oktober November December".split(" "),dayOfWeek:"Ned Pon Tor Sre \u010cet Pet Sob".split(" ")},cs:{months:"Leden \u00danor B\u0159ezen Duben Kv\u011bten \u010cerven \u010cervenec Srpen Z\u00e1\u0159\u00ed \u0158\u00edjen Listopad Prosinec".split(" "),
dayOfWeek:"Ne Po \u00dat St \u010ct P\u00e1 So".split(" ")},hu:{months:"Janu\u00e1r Febru\u00e1r M\u00e1rcius \u00c1prilis M\u00e1jus J\u00fanius J\u00falius Augusztus Szeptember Okt\u00f3ber November December".split(" "),dayOfWeek:"Va H\u00e9 Ke Sze Cs P\u00e9 Szo".split(" ")}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,
defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,
lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],yearOffset:0,beforeShowDay:null};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var g=b||0,h=this.length;g<h;g++)if(this[g]===a)return g;return-1});Date.prototype.countDaysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};a.fn.xdsoftScroller=function(b){return this.each(function(){var f=a(this);
if(!a(this).hasClass("xdsoft_scroller_box")){var g=function(a){var b={x:0,y:0};if("touchstart"==a.type||"touchmove"==a.type||"touchend"==a.type||"touchcancel"==a.type)a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],b.x=a.pageX,b.y=a.pageY;else if("mousedown"==a.type||"mouseup"==a.type||"mousemove"==a.type||"mouseover"==a.type||"mouseout"==a.type||"mouseenter"==a.type||"mouseleave"==a.type)b.x=a.pageX,b.y=a.pageY;return b},h=0,j=f.children().eq(0),k=f[0].clientHeight,l=j[0].offsetHeight,
u=a('<div class="xdsoft_scrollbar"></div>'),p=a('<div class="xdsoft_scroller"></div>'),q=100,n=!1;u.append(p);f.addClass("xdsoft_scroller_box").append(u);p.on("mousedown.xdsoft_scroller",function(g){k||f.trigger("resize_scroll.xdsoft_scroller",[b]);var j=g.pageY,l=parseInt(p.css("margin-top")),n=u[0].offsetHeight;a(document.body).addClass("xdsoft_noselect");a([document.body,window]).on("mouseup.xdsoft_scroller",function C(){a([document.body,window]).off("mouseup.xdsoft_scroller",C).off("mousemove.xdsoft_scroller",
h).removeClass("xdsoft_noselect")});a(document.body).on("mousemove.xdsoft_scroller",h=function(a){a=a.pageY-j+l;0>a&&(a=0);a+p[0].offsetHeight>n&&(a=n-p[0].offsetHeight);f.trigger("scroll_element.xdsoft_scroller",[q?a/q:0])})});f.on("scroll_element.xdsoft_scroller",function(a,b){k||f.trigger("resize_scroll.xdsoft_scroller",[b,!0]);b=1<b?1:0>b||isNaN(b)?0:b;p.css("margin-top",q*b);j.css("marginTop",-parseInt((l-k)*b))}).on("resize_scroll.xdsoft_scroller",function(a,b,c){k=f[0].clientHeight;l=j[0].offsetHeight;
var a=k/l,g=a*u[0].offsetHeight;1<a?p.hide():(p.show(),p.css("height",parseInt(10<g?g:10)),q=u[0].offsetHeight-p[0].offsetHeight,!0!==c&&f.trigger("scroll_element.xdsoft_scroller",[b?b:Math.abs(parseInt(j.css("marginTop")))/(l-k)]))});f.mousewheel&&f.mousewheel(function(a,b){var c=Math.abs(parseInt(j.css("marginTop")));f.trigger("scroll_element.xdsoft_scroller",[(c-20*b)/(l-k)]);a.stopPropagation();return!1});f.on("touchstart",function(a){n=g(a)});f.on("touchmove",function(a){if(n){var b=g(a),c=Math.abs(parseInt(j.css("marginTop")));
f.trigger("scroll_element.xdsoft_scroller",[(c-(b.y-n.y))/(l-k)]);a.stopPropagation();a.preventDefault();n=g(a)}});f.on("touchend touchcancel",function(){n=!1})}f.trigger("resize_scroll.xdsoft_scroller",[b])})};a.fn.datetimepicker=function(c){var f=!1,g=a.isPlainObject(c)||!c?a.extend(!0,{},b,c):a.extend({},b),h=0,j=function(b){function c(){var a=!1;g.startDate?a=x.strToDate(g.startDate):(a=g.value?g.value:b&&b.val&&b.val()?b.val():"")?a=x.strToDateTime(a):g.defaultDate&&(a=x.strToDate(g.defaultDate));
a&&x.isValidDate(a)?h.data("changed",!0):a="";return a?a:0}var h=a("<div "+(g.id?'id="'+g.id+'"':"")+" "+(g.style?'style="'+g.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+(g.weeks?" xdsoft_showweeks":"")+g.className+'"></div>'),j=a('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),q=a('<div class="xdsoft_datepicker active"></div>'),n=a('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),
A=a('<div class="xdsoft_calendar"></div>'),I=a('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),w=I.find(".xdsoft_time_box").eq(0),G=a('<div class="xdsoft_time_variant"></div>'),m=a('<div class="xdsoft_scrollbar"></div>');a('<div class="xdsoft_scroller"></div>');var C=a('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),z=a('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');
n.find(".xdsoft_month span").after(C);n.find(".xdsoft_year span").after(z);n.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(b){n.find(".xdsoft_select").hide();var c=a(this).find(".xdsoft_select").eq(0),f=0,g=0;x.currentTime&&(f=x.currentTime[a(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]());c.show();for(var h=c.find("div.xdsoft_option"),j=0;j<h.length&&h.eq(j).data("value")!=f;j++)g+=h[0].offsetHeight;c.xdsoftScroller(g/(c.children()[0].offsetHeight-c[0].clientHeight));
b.stopPropagation();return!1});n.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(a){a.stopPropagation();a.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){if(x&&x.currentTime)x.currentTime[a(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](a(this).data("value"));a(this).parent().parent().hide();h.trigger("xchange.xdsoft");g.onChangeMonth&&g.onChangeMonth.call&&g.onChangeMonth.call(h,x.currentTime,h.data("input"))});h.setOptions=
function(c){g=a.extend(!0,{},g,c);c.allowTimes&&(a.isArray(c.allowTimes)&&c.allowTimes.length)&&(g.allowTimes=a.extend(!0,[],c.allowTimes));c.weekends&&(a.isArray(c.weekends)&&c.weekends.length)&&(g.weekends=a.extend(!0,[],c.weekends));(g.open||g.opened)&&!g.inline&&b.trigger("open.xdsoft");g.inline&&(v=!0,h.addClass("xdsoft_inline"),b.after(h).hide());g.inverseButton&&(g.next="xdsoft_prev",g.prev="xdsoft_next");g.datepicker?q.addClass("active"):q.removeClass("active");g.timepicker?I.addClass("active"):
I.removeClass("active");g.value&&(b&&b.val&&b.val(g.value),x.setCurrentTime(g.value));g.dayOfWeekStart=isNaN(g.dayOfWeekStart)?0:parseInt(g.dayOfWeekStart)%7;g.timepickerScrollbar||m.hide();g.minDate&&/^-(.*)$/.test(g.minDate)&&(g.minDate=x.strToDateTime(g.minDate).dateFormat(g.formatDate));g.maxDate&&/^\+(.*)$/.test(g.maxDate)&&(g.maxDate=x.strToDateTime(g.maxDate).dateFormat(g.formatDate));n.find(".xdsoft_today_button").css("visibility",!g.todayButton?"hidden":"visible");if(g.mask){var j=function(a,
b){var c=a.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(c).test(b)};b.off("keydown.xdsoft");switch(!0){case !0===g.mask:g.mask=g.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case "string"==a.type(g.mask):j(g.mask,b.val())||b.val(g.mask.replace(/[0-9]/g,
"_")),b.on("keydown.xdsoft",function(c){var h=this.value,m=c.which;switch(!0){case 48<=m&&57>=m||96<=m&&105>=m||8==m||46==m:var l;a:{try{if(document.selection&&document.selection.createRange){l=document.selection.createRange().getBookmark().charCodeAt(2)-2;break a}else if(this.setSelectionRange){l=this.selectionStart;break a}}catch(n){l=0;break a}l=void 0}var p=8!=m&&46!=m?String.fromCharCode(96<=m&&105>=m?m-48:m):"_";if((8==m||46==m)&&l)l--,p="_";for(;/[^0-9_]/.test(g.mask.substr(l,1))&&l<g.mask.length&&
0<l;)l+=8==m||46==m?-1:1;h=h.substr(0,l)+p+h.substr(l+1);if(""==a.trim(h))h=g.mask.replace(/[0-9]/g,"_");else if(l==g.mask.length)break;for(l+=8==m||46==m?0:1;/[^0-9_]/.test(g.mask.substr(l,1))&&l<g.mask.length&&0<l;)l+=8==m||46==m?-1:1;if(j(g.mask,h)){if(this.value=h,h=this,h="string"==typeof h||h instanceof String?document.getElementById(h):h)h.createTextRange?(h=h.createTextRange(),h.collapse(!0),h.moveEnd(l),h.moveStart(l),h.select()):h.setSelectionRange&&h.setSelectionRange(l,l)}else""==a.trim(h)?
this.value=g.mask.replace(/[0-9]/g,"_"):b.trigger("error_input.xdsoft");break;case !!~[65,67,86,90,89].indexOf(m)&&f:case !!~[27,38,40,37,39,116,17,9,13].indexOf(m):return!0}c.preventDefault();return!1})}}if(g.validateOnBlur)b.off("blur.xdsoft").on("blur.xdsoft",function(){g.allowBlank&&!a.trim(a(this).val()).length?(a(this).val(null),h.data("xdsoft_datetime").empty()):(Date.parseDate(a(this).val(),g.format)||a(this).val(x.now().dateFormat(g.format)),h.data("xdsoft_datetime").setCurrentTime(a(this).val()));
h.trigger("changedatetime.xdsoft")});g.dayOfWeekStartPrev=0==g.dayOfWeekStart?6:g.dayOfWeekStart-1;h.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")};h.data("options",g).on("mousedown.xdsoft",function(a){a.stopPropagation();a.preventDefault();z.hide();C.hide();return!1});var B=I.find(".xdsoft_time_box");B.append(G);B.xdsoftScroller();h.on("afterOpen.xdsoft",function(){B.xdsoftScroller()});h.append(q).append(I);!0!==g.withoutCopyright&&h.append(j);q.append(n).append(A);a("body").append(h);var x=
new function(){var a=this;a.now=function(b){var c=new Date;if(!b&&g.defaultDate){var f=a.strToDate(g.defaultDate);c.setFullYear(f.getFullYear());c.setMonth(f.getMonth());c.setDate(f.getDate())}g.yearOffset&&c.setFullYear(c.getFullYear()+g.yearOffset);!b&&g.defaultTime&&(b=a.strtotime(g.defaultTime),c.setHours(b.getHours()),c.setMinutes(b.getMinutes()));return c};a.isValidDate=function(a){return"[object Date]"!==Object.prototype.toString.call(a)?!1:!isNaN(a.getTime())};a.setCurrentTime=function(b){a.currentTime=
"string"==typeof b?a.strToDateTime(b):a.isValidDate(b)?b:a.now();h.trigger("xchange.xdsoft")};a.empty=function(){a.currentTime=null};a.getCurrentTime=function(){return a.currentTime};a.nextMonth=function(){var b=a.currentTime.getMonth()+1;12==b&&(a.currentTime.setFullYear(a.currentTime.getFullYear()+1),b=0);a.currentTime.setDate(Math.min((new Date(a.currentTime.getFullYear(),b+1,0)).getDate(),a.currentTime.getDate()));a.currentTime.setMonth(b);g.onChangeMonth&&g.onChangeMonth.call&&g.onChangeMonth.call(h,
x.currentTime,h.data("input"));h.trigger("xchange.xdsoft");return b};a.prevMonth=function(){var b=a.currentTime.getMonth()-1;-1==b&&(a.currentTime.setFullYear(a.currentTime.getFullYear()-1),b=11);a.currentTime.setDate(Math.min((new Date(a.currentTime.getFullYear(),b+1,0)).getDate(),a.currentTime.getDate()));a.currentTime.setMonth(b);g.onChangeMonth&&g.onChangeMonth.call&&g.onChangeMonth.call(h,x.currentTime,h.data("input"));h.trigger("xchange.xdsoft");return b};a.strToDateTime=function(b){if(b&&b instanceof
Date&&a.isValidDate(b))return b;var c=[];(c=/^(\+|\-)(.*)$/.exec(b))&&(c[2]=Date.parseDate(c[2],g.formatDate))?(b=c[2].getTime()-6E4*c[2].getTimezoneOffset(),c=new Date(x.now().getTime()+parseInt(c[1]+"1")*b)):c=b?Date.parseDate(b,g.format):a.now();a.isValidDate(c)||(c=a.now());return c};a.strToDate=function(b){if(b&&b instanceof Date&&a.isValidDate(b))return b;b=b?Date.parseDate(b,g.formatDate):a.now(!0);a.isValidDate(b)||(b=a.now(!0));return b};a.strtotime=function(b){if(b&&b instanceof Date&&a.isValidDate(b))return b;
b=b?Date.parseDate(b,g.formatTime):a.now();a.isValidDate(b)||(b=a.now(!0));return b};a.str=function(){return a.currentTime.dateFormat(g.format)};a.currentTime=this.now()};n.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){h.data("changed",!0);x.setCurrentTime(0);h.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){b.val(x.str());h.trigger("close.xdsoft")});n.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var b=a(this),c=0,f=!1;(function T(a){x.currentTime.getMonth();
b.hasClass(g.next)?x.nextMonth():b.hasClass(g.prev)&&x.prevMonth();g.monthChangeSpinner&&!f&&(c=setTimeout(T,a?a:100))})(500);a([document.body,window]).on("mouseup.xdsoft",function R(){clearTimeout(c);f=!0;a([document.body,window]).off("mouseup.xdsoft",R)})});I.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var b=a(this),c=0,f=!1,h=110;(function R(a){var j=w[0].clientHeight,k=G[0].offsetHeight,m=Math.abs(parseInt(G.css("marginTop")));b.hasClass(g.next)&&k-j-g.timeHeightInTimePicker>=
m?G.css("marginTop","-"+(m+g.timeHeightInTimePicker)+"px"):b.hasClass(g.prev)&&0<=m-g.timeHeightInTimePicker&&G.css("marginTop","-"+(m-g.timeHeightInTimePicker)+"px");w.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(G.css("marginTop"))/(k-j))]);h=10<h?10:h-10;!f&&(c=setTimeout(R,a?a:h))})(500);a([document.body,window]).on("mouseup.xdsoft",function S(){clearTimeout(c);f=!0;a([document.body,window]).off("mouseup.xdsoft",S)})});var J=0;h.on("xchange.xdsoft",function(b){clearTimeout(J);J=
setTimeout(function(){for(var b="",c=new Date(x.currentTime.getFullYear(),x.currentTime.getMonth(),1,12,0,0),f=0,j=x.now();c.getDay()!=g.dayOfWeekStart;)c.setDate(c.getDate()-1);b+="<table><thead><tr>";g.weeks&&(b+="<th></th>");for(var k=0;7>k;k++)b+="<th>"+g.i18n[g.lang].dayOfWeek[(k+g.dayOfWeekStart)%7]+"</th>";var b=b+"</tr></thead><tbody>",m=k=!1;!1!==g.maxDate&&(k=x.strToDate(g.maxDate),k=new Date(k.getFullYear(),k.getMonth(),k.getDate(),23,59,59,999));!1!==g.minDate&&(m=x.strToDate(g.minDate),
m=new Date(m.getFullYear(),m.getMonth(),m.getDate()));for(var l,p,q,v,w=[],y,J=!0;f<x.currentTime.countDaysInMonth()||c.getDay()!=g.dayOfWeekStart||x.currentTime.getMonth()==c.getMonth();)w=[],f++,l=c.getDate(),p=c.getFullYear(),q=c.getMonth(),v=c.getWeekOfYear(),w.push("xdsoft_date"),y=g.beforeShowDay&&g.beforeShowDay.call?g.beforeShowDay.call(h,c):null,(!1!==k&&c>k||!1!==m&&c<m||y&&!1===y[0])&&w.push("xdsoft_disabled"),y&&""!=y[1]&&w.push(y[1]),x.currentTime.getMonth()!=q&&w.push("xdsoft_other_month"),
(g.defaultSelect||h.data("changed"))&&x.currentTime.dateFormat(g.formatDate)==c.dateFormat(g.formatDate)&&w.push("xdsoft_current"),j.dateFormat(g.formatDate)==c.dateFormat(g.formatDate)&&w.push("xdsoft_today"),(0==c.getDay()||6==c.getDay()||~g.weekends.indexOf(c.dateFormat(g.formatDate)))&&w.push("xdsoft_weekend"),g.beforeShowDay&&"function"==typeof g.beforeShowDay&&w.push(g.beforeShowDay(c)),J&&(b+="<tr>",J=!1,g.weeks&&(b+="<th>"+v+"</th>")),b+='<td data-date="'+l+'" data-month="'+q+'" data-year="'+
p+'" class="xdsoft_date xdsoft_day_of_week'+c.getDay()+" "+w.join(" ")+'"><div>'+l+"</div></td>",c.getDay()==g.dayOfWeekStartPrev&&(b+="</tr>",J=!0),c.setDate(l+1);b+="</tbody></table>";A.html(b);n.find(".xdsoft_label span").eq(0).text(g.i18n[g.lang].months[x.currentTime.getMonth()]);n.find(".xdsoft_label span").eq(1).text(x.currentTime.getFullYear());var O="";q=b="";c=function(a,b){var c=x.now();c.setHours(a);a=parseInt(c.getHours());c.setMinutes(b);b=parseInt(c.getMinutes());w=[];(!1!==g.maxTime&&
x.strtotime(g.maxTime).getTime()<c.getTime()||!1!==g.minTime&&x.strtotime(g.minTime).getTime()>c.getTime())&&w.push("xdsoft_disabled");if((g.initTime||g.defaultSelect||h.data("changed"))&&parseInt(x.currentTime.getHours())==parseInt(a)&&(59<g.step||Math[g.roundTime](x.currentTime.getMinutes()/g.step)*g.step==parseInt(b)))g.defaultSelect||h.data("changed")?w.push("xdsoft_current"):g.initTime&&w.push("xdsoft_init_time");parseInt(j.getHours())==parseInt(a)&&parseInt(j.getMinutes())==parseInt(b)&&w.push("xdsoft_today");
O+='<div class="xdsoft_time '+w.join(" ")+'" data-hour="'+a+'" data-minute="'+b+'">'+c.dateFormat(g.formatTime)+"</div>"};if(!g.allowTimes||!a.isArray(g.allowTimes)||!g.allowTimes.length)for(k=f=0;f<(g.hours12?12:24);f++)for(k=0;60>k;k+=g.step)b=(10>f?"0":"")+f,q=(10>k?"0":"")+k,c(b,q);else for(f=0;f<g.allowTimes.length;f++)b=x.strtotime(g.allowTimes[f]).getHours(),q=x.strtotime(g.allowTimes[f]).getMinutes(),c(b,q);G.html(O);q="";f=0;for(f=parseInt(g.yearStart,10)+g.yearOffset;f<=parseInt(g.yearEnd,
10)+g.yearOffset;f++)q+='<div class="xdsoft_option '+(x.currentTime.getFullYear()==f?"xdsoft_current":"")+'" data-value="'+f+'">'+f+"</div>";z.children().eq(0).html(q);f=0;for(q="";11>=f;f++)q+='<div class="xdsoft_option '+(x.currentTime.getMonth()==f?"xdsoft_current":"")+'" data-value="'+f+'">'+g.i18n[g.lang].months[f]+"</div>";C.children().eq(0).html(q);a(h).trigger("generate.xdsoft")},10);b.stopPropagation()}).on("afterOpen.xdsoft",function(){if(g.timepicker){var a;G.find(".xdsoft_current").length?
a=".xdsoft_current":G.find(".xdsoft_init_time").length&&(a=".xdsoft_init_time");if(a){var b=w[0].clientHeight,c=G[0].offsetHeight;a=G.find(a).index()*g.timeHeightInTimePicker+1;c-b<a&&(a=c-b);w.trigger("scroll_element.xdsoft_scroller",[parseInt(a)/(c-b)])}else w.trigger("scroll_element.xdsoft_scroller",[0])}});var P=0;A.on("click.xdsoft","td",function(c){c.stopPropagation();P++;var c=a(this),f=x.currentTime;if(void 0===f||null===f)x.currentTime=x.now(),f=x.currentTime;if(c.hasClass("xdsoft_disabled"))return!1;
f.setDate(1);f.setFullYear(c.data("year"));f.setMonth(c.data("month"));f.setDate(c.data("date"));h.trigger("select.xdsoft",[f]);b.val(x.str());(1<P||!0===g.closeOnDateSelect||0===g.closeOnDateSelect&&!g.timepicker)&&!g.inline&&h.trigger("close.xdsoft");g.onSelectDate&&g.onSelectDate.call&&g.onSelectDate.call(h,x.currentTime,h.data("input"));h.data("changed",!0);h.trigger("xchange.xdsoft");h.trigger("changedatetime.xdsoft");setTimeout(function(){P=0},200)});G.on("click.xdsoft","div",function(b){b.stopPropagation();
var b=a(this),c=x.currentTime;if(void 0===c||null===c)x.currentTime=x.now(),c=x.currentTime;if(b.hasClass("xdsoft_disabled"))return!1;c.setHours(b.data("hour"));c.setMinutes(b.data("minute"));h.trigger("select.xdsoft",[c]);h.data("input").val(x.str());!g.inline&&h.trigger("close.xdsoft");g.onSelectTime&&g.onSelectTime.call&&g.onSelectTime.call(h,x.currentTime,h.data("input"));h.data("changed",!0);h.trigger("xchange.xdsoft");h.trigger("changedatetime.xdsoft")});h.mousewheel&&q.mousewheel(function(a,
b){if(!g.scrollMonth)return!0;0>b?x.nextMonth():x.prevMonth();return!1});h.mousewheel&&w.unmousewheel().mousewheel(function(a,b){if(!g.scrollTime)return!0;var c=w[0].clientHeight,f=G[0].offsetHeight,h=Math.abs(parseInt(G.css("marginTop"))),j=!0;0>b&&f-c-g.timeHeightInTimePicker>=h?(G.css("marginTop","-"+(h+g.timeHeightInTimePicker)+"px"),j=!1):0<b&&0<=h-g.timeHeightInTimePicker&&(G.css("marginTop","-"+(h-g.timeHeightInTimePicker)+"px"),j=!1);w.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(G.css("marginTop"))/
(f-c))]);a.stopPropagation();return j});var v=!1;h.on("changedatetime.xdsoft",function(){if(g.onChangeDateTime&&g.onChangeDateTime.call){var a=h.data("input");g.onChangeDateTime.call(h,x.currentTime,a);delete g.value;a.trigger("change")}}).on("generate.xdsoft",function(){g.onGenerate&&g.onGenerate.call&&g.onGenerate.call(h,x.currentTime,h.data("input"));v&&(h.trigger("afterOpen.xdsoft"),v=!1)}).on("click.xdsoft",function(a){a.stopPropagation()});var N=0;b.mousewheel&&b.mousewheel(function(a,c,f,j){if(!g.scrollInput)return!0;
if(!g.datepicker&&g.timepicker)return N=G.find(".xdsoft_current").length?G.find(".xdsoft_current").eq(0).index():0,0<=N+c&&N+c<G.children().length&&(N+=c),G.children().eq(N).length&&G.children().eq(N).trigger("mousedown"),!1;if(g.datepicker&&!g.timepicker)return q.trigger(a,[c,f,j]),b.val&&b.val(x.str()),h.trigger("changedatetime.xdsoft"),!1});var L=function(){var b=h.data("input").offset(),c=b.top+h.data("input")[0].offsetHeight-1,f=b.left,j="absolute";g.fixed?(c-=a(window).scrollTop(),f-=a(window).scrollLeft(),
j="fixed"):(c+h[0].offsetHeight>a(window).height()+a(window).scrollTop()&&(c=b.top-h[0].offsetHeight+1),0>c&&(c=0),f+h[0].offsetWidth>a(window).width()&&(f=b.left-h[0].offsetWidth+h.data("input")[0].offsetWidth));h.css({left:f,top:c,position:j})};h.on("open.xdsoft",function(){var b=!0;g.onShow&&g.onShow.call&&(b=g.onShow.call(h,x.currentTime,h.data("input")));if(!1!==b&&(h.show(),L(),a(window).off("resize.xdsoft",L).on("resize.xdsoft",L),g.closeOnWithoutClick))a([document.body,window]).on("mousedown.xdsoft",
function H(){h.trigger("close.xdsoft");a([document.body,window]).off("mousedown.xdsoft",H)})}).on("close.xdsoft",function(a){var b=!0;g.onClose&&g.onClose.call&&(b=g.onClose.call(h,x.currentTime,h.data("input")));!1!==b&&(!g.opened&&!g.inline)&&h.hide();a.stopPropagation()}).data("input",b);var y=0;h.data("xdsoft_datetime",x);h.setOptions(g);x.setCurrentTime(c());b.data("xdsoft_datetimepicker",h).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){if(!b.is(":disabled")&&!b.is(":hidden")&&
b.is(":visible")&&(!b.data("xdsoft_datetimepicker").is(":visible")||!g.closeOnInputClick))clearTimeout(y),y=setTimeout(function(){!b.is(":disabled")&&(!b.is(":hidden")&&b.is(":visible"))&&(v=!0,x.setCurrentTime(c()),h.trigger("open.xdsoft"))},100)}).on("keydown.xdsoft",function(b){b=b.which;switch(!0){case !!~[13].indexOf(b):return b=a("input:visible,textarea:visible"),h.trigger("close.xdsoft"),b.eq(b.index(this)+1).focus(),!1;case !!~[9].indexOf(b):return h.trigger("close.xdsoft"),!0}})};a(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",
function(a){17==a.keyCode&&(f=!0)}).on("keyup.xdsoftctrl",function(a){17==a.keyCode&&(f=!1)});return this.each(function(){var b;if(b=a(this).data("xdsoft_datetimepicker")){if("string"===a.type(c))switch(c){case "show":a(this).select().focus();b.trigger("open.xdsoft");break;case "hide":b.trigger("close.xdsoft");break;case "destroy":b=a(this);var f=b.data("xdsoft_datetimepicker");f&&(f.data("xdsoft_datetime",null),f.remove(),b.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),
a(window).off("resize.xdsoft"),a([window,document.body]).off("mousedown.xdsoft"),b.unmousewheel&&b.unmousewheel());break;case "reset":this.value=this.defaultValue,(!this.value||!b.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,g.format)))&&b.data("changed",!1),b.data("xdsoft_datetime").setCurrentTime(this.value)}else b.setOptions(c);return 0}if("string"!==a.type(c))if(!g.lazyInit||g.open||g.inline)j(a(this));else{var u=a(this);u.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function q(){!u.is(":disabled")&&
(!u.is(":hidden")&&u.is(":visible")&&!u.data("xdsoft_datetimepicker"))&&(clearTimeout(h),h=setTimeout(function(){u.data("xdsoft_datetimepicker")||j(u);u.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",q).trigger("open.xdsoft")},100))})}})};a.fn.datetimepicker.defaults=b})(jQuery);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?module.exports=a:a(jQuery)})(function(a){function b(b){var c=b||window.event,f=[].slice.call(arguments,1),j=0,q=0,n=0,A=0,A=0,b=a.event.fix(c);b.type="mousewheel";c.wheelDelta&&(j=c.wheelDelta);c.detail&&(j=-1*c.detail);c.deltaY&&(j=n=-1*c.deltaY);c.deltaX&&(q=c.deltaX,j=-1*q);void 0!==c.wheelDeltaY&&(n=c.wheelDeltaY);void 0!==c.wheelDeltaX&&(q=-1*c.wheelDeltaX);A=Math.abs(j);if(!g||A<g)g=A;A=Math.max(Math.abs(n),
Math.abs(q));if(!h||A<h)h=A;c=0<j?"floor":"ceil";j=Math[c](j/g);q=Math[c](q/h);n=Math[c](n/h);f.unshift(b,j,q,n);return(a.event.dispatch||a.event.handle).apply(this,f)}var c=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],f="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g,h;if(a.event.fixHooks)for(var j=c.length;j;)a.event.fixHooks[c[--j]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=
f.length;a;)this.addEventListener(f[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=f.length;a;)this.removeEventListener(f[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});Date.parseFunctions={count:0};Date.parseRegexes=[];Date.formatFunctions={count:0};
Date.prototype.dateFormat=function(a){if("unixtime"==a)return parseInt(this.getTime()/1E3);null==Date.formatFunctions[a]&&Date.createNewFormat(a);return this[Date.formatFunctions[a]]()};Date.createNewFormat=function(a){var b="format"+Date.formatFunctions.count++;Date.formatFunctions[a]=b;for(var b="Date.prototype."+b+" = function() {return ",c=!1,f="",g=0;g<a.length;++g)f=a.charAt(g),!c&&"\\"==f?c=!0:c?(c=!1,b+="'"+String.escape(f)+"' + "):b+=Date.getFormatCode(f);eval(b.substring(0,b.length-3)+";}")};
Date.getFormatCode=function(a){switch(a){case "d":return"String.leftPad(this.getDate(), 2, '0') + ";case "D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case "j":return"this.getDate() + ";case "l":return"Date.dayNames[this.getDay()] + ";case "S":return"this.getSuffix() + ";case "w":return"this.getDay() + ";case "z":return"this.getDayOfYear() + ";case "W":return"this.getWeekOfYear() + ";case "F":return"Date.monthNames[this.getMonth()] + ";case "m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";
case "M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case "n":return"(this.getMonth() + 1) + ";case "t":return"this.getDaysInMonth() + ";case "L":return"(this.isLeapYear() ? 1 : 0) + ";case "Y":return"this.getFullYear() + ";case "y":return"('' + this.getFullYear()).substring(2, 4) + ";case "a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case "A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case "g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case "G":return"this.getHours() + ";
case "h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case "H":return"String.leftPad(this.getHours(), 2, '0') + ";case "i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case "s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case "O":return"this.getGMTOffset() + ";case "T":return"this.getTimezone() + ";case "Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(a)+"' + "}};
Date.parseDate=function(a,b){if("unixtime"==b)return new Date(!isNaN(parseInt(a))?1E3*parseInt(a):0);null==Date.parseFunctions[b]&&Date.createParser(b);return Date[Date.parseFunctions[b]](a)};
Date.createParser=function(a){var b="parse"+Date.parseFunctions.count++,c=Date.parseRegexes.length,f=1;Date.parseFunctions[a]=b;for(var b="Date."+b+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+c+"]);\nif (results && results.length > 0) {",g="",h=!1,j="",k=0;k<a.length;++k)j=a.charAt(k),!h&&"\\"==j?h=!0:h?(h=!1,g+=String.escape(j)):(obj=
Date.formatCodeToRegex(j,f),f+=obj.g,g+=obj.s,obj.g&&obj.c&&(b+=obj.c));b+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}";
Date.parseRegexes[c]=RegExp("^"+g+"$");eval(b)};
Date.formatCodeToRegex=function(a,b){switch(a){case "D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case "j":case "d":return{g:1,c:"d = parseInt(results["+b+"], 10);\n",s:"(\\d{1,2})"};case "l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case "S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case "w":return{g:0,c:null,s:"\\d"};case "z":return{g:1,c:"z = parseInt(results["+b+"], 10);\n",s:"(\\d{1,3})"};case "W":return{g:0,c:null,s:"(?:\\d{2})"};case "F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+
b+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case "M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+b+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case "n":case "m":return{g:1,c:"m = parseInt(results["+b+"], 10) - 1;\n",s:"(\\d{1,2})"};case "t":return{g:0,c:null,s:"\\d{1,2}"};case "L":return{g:0,c:null,s:"(?:1|0)"};case "Y":return{g:1,c:"y = parseInt(results["+b+"], 10);\n",s:"(\\d{4})"};case "y":return{g:1,c:"var ty = parseInt(results["+b+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",
s:"(\\d{1,2})"};case "a":return{g:1,c:"if (results["+b+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case "A":return{g:1,c:"if (results["+b+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case "g":case "G":case "h":case "H":return{g:1,c:"h = parseInt(results["+b+"], 10);\n",s:"(\\d{1,2})"};case "i":return{g:1,c:"i = parseInt(results["+b+"], 10);\n",s:"(\\d{2})"};case "s":return{g:1,c:"s = parseInt(results["+b+"], 10);\n",
s:"(\\d{2})"};case "O":return{g:0,c:null,s:"[+-]\\d{4}"};case "T":return{g:0,c:null,s:"[A-Z]{3}"};case "Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(a)}}};Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")};
Date.prototype.getGMTOffset=function(){return(0<this.getTimezoneOffset()?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")};Date.prototype.getDayOfYear=function(){var a=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var b=0;b<this.getMonth();++b)a+=Date.daysInMonth[b];return a+this.getDate()};
Date.prototype.getWeekOfYear=function(){var a=this.getDayOfYear()+(4-this.getDay()),b=7-(new Date(this.getFullYear(),0,1)).getDay()+4;return String.leftPad(Math.ceil((a-b)/7)+1,2,"0")};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return 0==(a&3)&&(a%100||0==a%400&&a)};Date.prototype.getFirstDayOfMonth=function(){var a=(this.getDay()-(this.getDate()-1))%7;return 0>a?a+7:a};
Date.prototype.getLastDayOfMonth=function(){var a=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>a?a+7:a};Date.prototype.getDaysInMonth=function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};String.escape=function(a){return a.replace(/('|\\)/g,"\\$1")};
String.leftPad=function(a,b,c){a=new String(a);for(null==c&&(c=" ");a.length<b;)a=c+a;return a};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames="January February March April May June July August September October November December".split(" ");Date.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};
Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"};function defineService(a,b){if("function"===typeof a){b=a;if("undefined"!==typeof b.dependencyIdentities)return b;a=[]}else"string"===typeof a&&(a=[a]);if(!Array.isArray(a))throw Error("identitiesOrConstructor must be an array.");if("function"!==typeof b)throw Error("serviceConstructor must be a function.");b.dependencyIdentities=a;return b}
function ServiceKernel(){function a(b){if(!(b in h)){if(b in f)return f[b];if(b in g){if(b in h)throw Error("resolveInstance is already being called for the service '"+b+"'.");var c;try{h[b]=!0;var k=g[b],q=[];if(k.dependencyIdentities&&Array.isArray(k.dependencyIdentities))for(var n=0;n<k.dependencyIdentities.length;n++)c=a(k.dependencyIdentities[n]),q.push(c);n=function(a){return k.apply(this,a)};n.prototype=k.prototype;c=new n(q);f[b]=c}finally{delete h[b]}q=c;if(0!==j.length){for(var A,n=0;n<
j.length;n++)j[n].resolve(b,q)&&(A=A||[],A.push(n));if(A)for(n=0;n<A.length;n++)j.splice(A[n],1)}return c}throw Error("The service '"+b+"' has not been defined.","identity");}}function b(a,b,c,f){if(!Array.isArray(a))throw Error("identities must be an array.");if(!Array.isArray(b))throw Error("dependencies must be an array.");if("number"!==typeof c)throw Error("pending must be a number.");if("function"!==typeof f)throw Error("callback must be a function.");if(0>=c)throw Error("pending must be positive.");
return{resolve:function(g,h){var j=a.indexOf(g);if(-1===j)return!1;b[j]=h;return 0===--c?(f.apply({},b),!0):!1}}}function c(c,f){if("undefined"===typeof f){if("string"!==typeof c)throw Error("identities must be a string when no callback is specified.");var g=a(c);if("undefined"===typeof g)throw Error("The service '"+c+"' has not been defined.");return g}"string"===typeof c&&(c=[c]);if(!Array.isArray(c))throw Error("identities must be an array.");if("function"!==typeof f)throw Error("callback must be a function.");
for(var h=[],k=0,A=0;A<c.length;A++)g=a(c[A]),h.push(g),"undefined"===typeof g&&k++;0<k?j.push(b(c,h,k,f)):f.apply({},h)}var f={},g={},h={},j=[],k={define:function(a,b,c){if("string"!==typeof a)throw Error("identity must be a string.");if(0===a.length)throw Error("The identity string may not be empty.");if(a in g)throw Error("The service '"+a+"' has already been defined.");b=defineService(b,c);g[a]=b},defineInstance:function(a,b){this.define(a,function(){return b})},isDefined:function(a){return a in
h||a in f||a in g},undefine:function(a){if("string"!==typeof a)throw Error("identity must be a string.");return a in g?(delete g[a],a in f&&delete f[a],!0):!1},require:c};k.defineInstance("kernel",k);k.defineInstance("require",c.bind(this));return k};(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)})(function(a){var b=Array.prototype.slice,c=Array.prototype.splice,f={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1},g=a(window),h=a(document),j=[],k=g.height(),l=function(){for(var b=g.scrollTop(),c=h.height(),f=c-k,f=b>f?f-b:0,l=0,p=j.length;l<
p;l++){var u=j[l],m=u.stickyWrapper.offset().top-u.topSpacing-f;u.stickyWrapper.css("height",u.stickyElement.outerHeight());if(b<=m)null!==u.currentTop&&(u.stickyElement.css({width:"",position:"",top:""}),u.stickyElement.parent().removeClass(u.className),u.stickyElement.trigger("sticky-end",[u]),u.currentTop=null);else{m=c-u.stickyElement.outerHeight()-u.topSpacing-u.bottomSpacing-b-f;m=0>m?m+u.topSpacing:u.topSpacing;if(u.currentTop!==m){var C;u.getWidthFrom?C=a(u.getWidthFrom).width()||null:u.widthFromWrapper&&
(C=u.stickyWrapper.width());null==C&&(C=u.stickyElement.width());u.stickyElement.css("width",C).css("position","fixed").css("top",m);u.stickyElement.parent().addClass(u.className);null===u.currentTop?u.stickyElement.trigger("sticky-start",[u]):u.stickyElement.trigger("sticky-update",[u]);u.currentTop===u.topSpacing&&u.currentTop>m||null===u.currentTop&&m<u.topSpacing?u.stickyElement.trigger("sticky-bottom-reached",[u]):null!==u.currentTop&&(m===u.topSpacing&&u.currentTop<m)&&u.stickyElement.trigger("sticky-bottom-unreached",
[u]);u.currentTop=m}var z=u.stickyWrapper.parent();u.stickyElement.offset().top+u.stickyElement.outerHeight()>=z.offset().top+z.outerHeight()&&u.stickyElement.offset().top<=u.topSpacing?u.stickyElement.css("position","absolute").css("top","").css("bottom",0):u.stickyElement.css("position","fixed").css("top",m).css("bottom","")}}},u=function(){k=g.height();for(var b=0,c=j.length;b<c;b++){var f=j[b],h=null;f.getWidthFrom?f.responsiveWidth&&(h=a(f.getWidthFrom).width()):f.widthFromWrapper&&(h=f.stickyWrapper.width());
null!=h&&f.stickyElement.css("width",h)}},p={init:function(b){var c=a.extend({},f,b);return this.each(function(){var b=a(this),g=b.attr("id"),h=b.outerHeight(),g=g?g+"-"+f.wrapperClassName:f.wrapperClassName,g=a("<div></div>").attr("id",g).addClass(c.wrapperClassName);b.wrapAll(g);g=b.parent();c.center&&g.css({width:b.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"===b.css("float")&&b.css({"float":"none"}).parent().css({"float":"right"});g.css("height",h);c.stickyElement=b;c.stickyWrapper=
g;c.currentTop=null;j.push(c)})},update:l,unstick:function(){return this.each(function(){for(var b=a(this),f=-1,g=j.length;0<g--;)j[g].stickyElement.get(0)===this&&(c.call(j,g,1),f=g);-1!==f&&(b.unwrap(),b.css({width:"",position:"",top:"","float":""}))})}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",u,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",u));a.fn.sticky=function(c){if(p[c])return p[c].apply(this,
b.call(arguments,1));if("object"===typeof c||!c)return p.init.apply(this,arguments);a.error("Method "+c+" does not exist on jQuery.sticky")};a.fn.unstick=function(c){if(p[c])return p[c].apply(this,b.call(arguments,1));if("object"===typeof c||!c)return p.unstick.apply(this,arguments);a.error("Method "+c+" does not exist on jQuery.sticky")};a(function(){setTimeout(l,0)})});(function(a){function b(){var b=[],l,n=0;a.each(c,function(a,c){var f=c.data.selector,g=c.$element;b.push(f?g.find(f):g)});if(l=b.length){var u;if(!(u=f)){var I={height:j.innerHeight,width:j.innerWidth};if(!I.height&&((u=h.compatMode)||!a.support.boxModel))u="CSS1Compat"===u?k:h.body,I={height:u.clientHeight,width:u.clientWidth};u=I}f=u;for(g=g||{top:j.pageYOffset||k.scrollTop||h.body.scrollTop,left:j.pageXOffset||k.scrollLeft||h.body.scrollLeft};n<l;n++)if(a.contains(k,b[n][0])){u=a(b[n]);var w=
u.height(),G=u.width(),m=u.offset(),I=u.data("inview");if(!g||!f)break;m.top+w>g.top&&m.top<g.top+f.height&&m.left+G>g.left&&m.left<g.left+f.width?(G=g.left>m.left?"right":g.left+f.width<m.left+G?"left":"both",w=g.top>m.top?"bottom":g.top+f.height<m.top+w?"top":"both",m=G+"-"+w,(!I||I!==m)&&u.data("inview",m).trigger("inview",[!0,G,w])):I&&u.data("inview",!1).trigger("inview",[!1])}}}var c={},f,g,h=document,j=window,k=h.documentElement,l=a.expando,u;a.event.special.inview={add:function(f){c[f.guid+
"-"+this[l]]={data:f,$element:a(this)};!u&&!a.isEmptyObject(c)&&(u=setInterval(b,250))},remove:function(b){try{delete c[b.guid+"-"+this[l]]}catch(f){}a.isEmptyObject(c)&&(clearInterval(u),u=null)}};a(j).bind("scroll resize scrollstop",function(){f=g=null});!k.addEventListener&&k.attachEvent&&k.attachEvent("onfocusin",function(){g=null})})(jQuery);!function(a){function b(){var a=arguments[0],c=b.cache;return c[a]&&c.hasOwnProperty(a)||(c[a]=b.parse(a)),b.format.call(null,c[a],arguments)}function c(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var f=/[^s]/,g=/[dief]/,h=/[j]/,j=/[^j]/,k=/^[^\x25]+/,l=/^\x25{2}/,u=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fijosuxX])/,p=/^([a-z_][a-z_\d]*)/i,q=/^\.([a-z_][a-z_\d]*)/i,n=/^\[(\d+)\]/,A=/^[\+\-]/;b.format=function(a,k){var m,l,n,p,q,u,P,v=
1,I=a.length,L="",y=[],O=!0,D="";for(l=0;I>l;l++)if(L=c(a[l]),"string"===L)y[y.length]=a[l];else if("array"===L){if(p=a[l],p[2]){m=k[v];for(n=0;n<p[2].length;n++){if(!m.hasOwnProperty(p[2][n]))throw Error(b("[sprintf] property '%s' does not exist",p[2][n]));m=m[p[2][n]]}}else m=p[1]?k[p[1]]:k[v++];if("function"==c(m)&&(m=m()),f.test(p[8])&&j.test(p[8])&&"number"!=c(m)&&isNaN(m))throw new TypeError(b("[sprintf] expecting number but found %s",c(m)));switch(g.test(p[8])&&(O=0<=m),p[8]){case "b":m=m.toString(2);
break;case "c":m=String.fromCharCode(m);break;case "d":case "i":m=parseInt(m,10);break;case "j":m=JSON.stringify(m,null,p[6]?parseInt(p[6]):0);break;case "e":m=p[7]?m.toExponential(p[7]):m.toExponential();break;case "f":m=p[7]?parseFloat(m).toFixed(p[7]):parseFloat(m);break;case "o":m=m.toString(8);break;case "s":m=(m=String(m))&&p[7]?m.substring(0,p[7]):m;break;case "u":m>>>=0;break;case "x":m=m.toString(16);break;case "X":m=m.toString(16).toUpperCase()}h.test(p[8])?y[y.length]=m:(!g.test(p[8])||
O&&!p[3]?D="":(D=O?"+":"-",m=m.toString().replace(A,"")),u=p[4]?"0"===p[4]?"0":p[4].charAt(1):" ",P=p[6]-(D+m).length,q=p[6]&&0<P?Array(P+1).join(u):"",y[y.length]=p[5]?D+m+q:"0"===u?D+q+m:q+D+m)}return y.join("")};b.cache={};b.parse=function(a){for(var b=[],c=[],f=0;a;){if(null!==(b=k.exec(a)))c[c.length]=b[0];else if(null!==(b=l.exec(a)))c[c.length]="%";else{if(null===(b=u.exec(a)))throw new SyntaxError("[sprintf] unexpected placeholder");if(b[2]){var f=f|1,g=[],h=b[2],j=[];if(null===(j=p.exec(h)))throw new SyntaxError("[sprintf] failed to parse named argument key");
for(g[g.length]=j[1];""!==(h=h.substring(j[0].length));){if(null===(j=q.exec(h)))if(null===(j=n.exec(h)))throw new SyntaxError("[sprintf] failed to parse named argument key");g[g.length]=j[1]}b[2]=g}else f|=2;if(3===f)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c[c.length]=b}a=a.substring(b[0].length)}return c};var I=function(a,c,f){return f=(c||[]).slice(0),f.splice(0,0,a),b.apply(null,f)};"undefined"!=typeof exports?(exports.sprintf=b,exports.vsprintf=
I):(a.sprintf=b,a.vsprintf=I,"function"==typeof define&&define.amd&&define(function(){return{sprintf:b,vsprintf:I}}))}("undefined"==typeof window?this:window);!function(a,b,c,f){function g(b,c){this.element=b;this.options=a.extend({},j,c);this._defaults=j;this._name=h;this.init()}var h="stellar",j={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(a){a.hide()},showElement:function(a){a.show()}},k={scroll:{getLeft:function(a){return a.scrollLeft()},setLeft:function(a,b){a.scrollLeft(b)},
getTop:function(a){return a.scrollTop()},setTop:function(a,b){a.scrollTop(b)}},position:{getLeft:function(a){return-1*parseInt(a.css("left"),10)},getTop:function(a){return-1*parseInt(a.css("top"),10)}},margin:{getLeft:function(a){return-1*parseInt(a.css("margin-left"),10)},getTop:function(a){return-1*parseInt(a.css("margin-top"),10)}},transform:{getLeft:function(a){a=getComputedStyle(a[0])[A];return"none"!==a?-1*parseInt(a.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(a){a=getComputedStyle(a[0])[A];
return"none"!==a?-1*parseInt(a.match(/(-?[0-9]+)/g)[5],10):0}}},l={position:{setLeft:function(a,b){a.css("left",b)},setTop:function(a,b){a.css("top",b)}},transform:{setPosition:function(a,b,c,f,g){a[0].style[A]="translate3d("+(b-c)+"px, "+(f-g)+"px, 0)"}}},u,p=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,q=a("script")[0].style,n="";for(u in q)if(p.test(u)){n=u.match(p)[0];break}var A=("WebkitOpacity"in q&&(n="Webkit"),"KhtmlOpacity"in q&&(n="Khtml"),function(a){return n+(0<n.length?a.charAt(0).toUpperCase()+
a.slice(1):a)})("transform"),I=(u=a("<div />",{style:"background:#fff"}).css("background-position-x")!==f)?function(a,b,c){a.css({"background-position-x":b,"background-position-y":c})}:function(a,b,c){a.css("background-position",b+" "+c)},w=u?function(a){return[a.css("background-position-x"),a.css("background-position-y")]}:function(a){return a.css("background-position").split(" ")},G=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||
function(a){setTimeout(a,1E3/60)};g.prototype={init:function(){this.options.name=h+"_"+Math.floor(1E9*Math.random());this._defineElements();this._defineGetters();this._defineSetters();this._handleWindowLoadAndResize();this._detectViewport();this.refresh({firstLoad:!0});"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===c.body&&(this.element=b);this.$scrollElement=a(this.element);this.$element=this.element===b?a("body"):
this.$scrollElement;this.$viewportElement=this.options.viewportElement!==f?a(this.options.viewportElement):this.$scrollElement[0]===b||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var a=this,b=k[a.options.scrollProperty];this._getScrollLeft=function(){return b.getLeft(a.$scrollElement)};this._getScrollTop=function(){return b.getTop(a.$scrollElement)}},_defineSetters:function(){var b=this,c=k[b.options.scrollProperty],f=l[b.options.positionProperty],
g=c.setLeft,h=c.setTop;this._setScrollLeft="function"==typeof g?function(a){g(b.$scrollElement,a)}:a.noop;this._setScrollTop="function"==typeof h?function(a){h(b.$scrollElement,a)}:a.noop;this._setPosition=f.setPosition||function(a,c,g,h,j){b.options.horizontalScrolling&&f.setLeft(a,c,g);b.options.verticalScrolling&&f.setTop(a,h,j)}},_handleWindowLoadAndResize:function(){var c=this,f=a(b);c.options.responsive&&f.bind("load."+this.name,function(){c.refresh()});f.bind("resize."+this.name,function(){c._detectViewport();
c.options.responsive&&c.refresh()})},refresh:function(c){var f=this,g=f._getScrollLeft(),h=f._getScrollTop();c&&c.firstLoad||this._reset();this._setScrollLeft(0);this._setScrollTop(0);this._setOffsets();this._findParticles();this._findBackgrounds();c&&c.firstLoad&&/WebKit/.test(navigator.userAgent)&&a(b).load(function(){var a=f._getScrollLeft(),b=f._getScrollTop();f._setScrollLeft(a+1);f._setScrollTop(b+1);f._setScrollLeft(a);f._setScrollTop(b)});this._setScrollLeft(g);this._setScrollTop(h)},_detectViewport:function(){var a=
this.$viewportElement.offset(),b=null!==a&&a!==f;this.viewportWidth=this.$viewportElement.width();this.viewportHeight=this.$viewportElement.height();this.viewportOffsetTop=b?a.top:0;this.viewportOffsetLeft=b?a.left:0},_findParticles:function(){var b=this;this._getScrollLeft();this._getScrollTop();if(this.particles!==f)for(var c=this.particles.length-1;0<=c;c--)this.particles[c].$element.data("stellar-elementIsActive",f);this.particles=[];this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(){var c,
g,h,j,k,l,n,p=a(this),q=0,u=0,D=0,H=0;if(p.data("stellar-elementIsActive")){if(p.data("stellar-elementIsActive")!==this)return}else p.data("stellar-elementIsActive",this);b.options.showElement(p);p.data("stellar-startingLeft")?(p.css("left",p.data("stellar-startingLeft")),p.css("top",p.data("stellar-startingTop"))):(p.data("stellar-startingLeft",p.css("left")),p.data("stellar-startingTop",p.css("top")));h=p.position().left;j=p.position().top;k="auto"===p.css("margin-left")?0:parseInt(p.css("margin-left"),
10);c="auto"===p.css("margin-top")?0:parseInt(p.css("margin-top"),10);k=p.offset().left-k;n=p.offset().top-c;p.parents().each(function(){var b=a(this);return!0===b.data("stellar-offset-parent")?(q=D,u=H,l=b,!1):(D+=b.position().left,void(H+=b.position().top))});c=p.data("stellar-horizontal-offset")!==f?p.data("stellar-horizontal-offset"):l!==f&&l.data("stellar-horizontal-offset")!==f?l.data("stellar-horizontal-offset"):b.horizontalOffset;g=p.data("stellar-vertical-offset")!==f?p.data("stellar-vertical-offset"):
l!==f&&l.data("stellar-vertical-offset")!==f?l.data("stellar-vertical-offset"):b.verticalOffset;b.particles.push({$element:p,$offsetParent:l,isFixed:"fixed"===p.css("position"),horizontalOffset:c,verticalOffset:g,startingPositionLeft:h,startingPositionTop:j,startingOffsetLeft:k,startingOffsetTop:n,parentOffsetLeft:q,parentOffsetTop:u,stellarRatio:p.data("stellar-ratio")!==f?p.data("stellar-ratio"):1,width:p.outerWidth(!0),height:p.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var b,
c=this,g=this._getScrollLeft(),h=this._getScrollTop();this.backgrounds=[];this.options.parallaxBackgrounds&&(b=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(b=b.add(this.$element)),b.each(function(){var b,j,k,m,l,n=a(this),p=w(n),q=0,u=0,H=0,A=0;if(n.data("stellar-backgroundIsActive")){if(n.data("stellar-backgroundIsActive")!==this)return}else n.data("stellar-backgroundIsActive",this);n.data("stellar-backgroundStartingLeft")?I(n,n.data("stellar-backgroundStartingLeft"),
n.data("stellar-backgroundStartingTop")):(n.data("stellar-backgroundStartingLeft",p[0]),n.data("stellar-backgroundStartingTop",p[1]));k="auto"===n.css("margin-left")?0:parseInt(n.css("margin-left"),10);b="auto"===n.css("margin-top")?0:parseInt(n.css("margin-top"),10);k=n.offset().left-k-g;m=n.offset().top-b-h;n.parents().each(function(){var b=a(this);return!0===b.data("stellar-offset-parent")?(q=H,u=A,l=b,!1):(H+=b.position().left,void(A+=b.position().top))});b=n.data("stellar-horizontal-offset")!==
f?n.data("stellar-horizontal-offset"):l!==f&&l.data("stellar-horizontal-offset")!==f?l.data("stellar-horizontal-offset"):c.horizontalOffset;j=n.data("stellar-vertical-offset")!==f?n.data("stellar-vertical-offset"):l!==f&&l.data("stellar-vertical-offset")!==f?l.data("stellar-vertical-offset"):c.verticalOffset;c.backgrounds.push({$element:n,$offsetParent:l,isFixed:"fixed"===n.css("background-attachment"),horizontalOffset:b,verticalOffset:j,startingValueLeft:p[0],startingValueTop:p[1],startingBackgroundPositionLeft:isNaN(parseInt(p[0],
10))?0:parseInt(p[0],10),startingBackgroundPositionTop:isNaN(parseInt(p[1],10))?0:parseInt(p[1],10),startingPositionLeft:n.position().left,startingPositionTop:n.position().top,startingOffsetLeft:k,startingOffsetTop:m,parentOffsetLeft:q,parentOffsetTop:u,stellarRatio:n.data("stellar-background-ratio")===f?1:n.data("stellar-background-ratio")})}))},_reset:function(){var a,b,c,f;for(f=this.particles.length-1;0<=f;f--)a=this.particles[f],b=a.$element.data("stellar-startingLeft"),c=a.$element.data("stellar-startingTop"),
this._setPosition(a.$element,b,b,c,c),this.options.showElement(a.$element),a.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(f=this.backgrounds.length-1;0<=f;f--)a=this.backgrounds[f],a.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),I(a.$element,a.startingValueLeft,a.startingValueTop)},destroy:function(){this._reset();this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+
this.name);this._animationLoop=a.noop;a(b).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var c=this,f=a(b);f.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name);"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),f.bind("resize.horizontal-"+this.name,function(){c.horizontalOffset=c.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset;"function"==typeof this.options.verticalOffset?
(this.verticalOffset=this.options.verticalOffset(),f.bind("resize.vertical-"+this.name,function(){c.verticalOffset=c.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var a,b,c,f,g,h,j,k=this._getScrollLeft(),l=this._getScrollTop(),n=!0,p=!0;if(this.currentScrollLeft!==k||this.currentScrollTop!==l||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){this.currentScrollLeft=k;this.currentScrollTop=l;this.currentWidth=
this.viewportWidth;this.currentHeight=this.viewportHeight;for(j=this.particles.length-1;0<=j;j--)a=this.particles[j],b=a.isFixed?1:0,this.options.horizontalScrolling?(c=(k+a.horizontalOffset+this.viewportOffsetLeft+a.startingPositionLeft-a.startingOffsetLeft+a.parentOffsetLeft)*-(a.stellarRatio+b-1)+a.startingPositionLeft,g=c-a.startingPositionLeft+a.startingOffsetLeft):(c=a.startingPositionLeft,g=a.startingOffsetLeft),this.options.verticalScrolling?(f=(l+a.verticalOffset+this.viewportOffsetTop+a.startingPositionTop-
a.startingOffsetTop+a.parentOffsetTop)*-(a.stellarRatio+b-1)+a.startingPositionTop,h=f-a.startingPositionTop+a.startingOffsetTop):(f=a.startingPositionTop,h=a.startingOffsetTop),this.options.hideDistantElements&&(p=!this.options.horizontalScrolling||g+a.width>(a.isFixed?0:k)&&g<(a.isFixed?0:k)+this.viewportWidth+this.viewportOffsetLeft,n=!this.options.verticalScrolling||h+a.height>(a.isFixed?0:l)&&h<(a.isFixed?0:l)+this.viewportHeight+this.viewportOffsetTop),p&&n?(a.isHidden&&(this.options.showElement(a.$element),
a.isHidden=!1),this._setPosition(a.$element,c,a.startingPositionLeft,f,a.startingPositionTop)):a.isHidden||(this.options.hideElement(a.$element),a.isHidden=!0);for(j=this.backgrounds.length-1;0<=j;j--)a=this.backgrounds[j],b=a.isFixed?0:1,c=this.options.horizontalScrolling?(k+a.horizontalOffset-this.viewportOffsetLeft-a.startingOffsetLeft+a.parentOffsetLeft-a.startingBackgroundPositionLeft)*(b-a.stellarRatio)+"px":a.startingValueLeft,b=this.options.verticalScrolling?(l+a.verticalOffset-this.viewportOffsetTop-
a.startingOffsetTop+a.parentOffsetTop-a.startingBackgroundPositionTop)*(b-a.stellarRatio)+"px":a.startingValueTop,I(a.$element,c,b)}},_handleScrollEvent:function(){var a=this,b=!1,c=function(){a._repositionElements();b=!1},f=function(){b||(G(c),b=!0)};this.$scrollElement.bind("scroll."+this.name,f);f()},_startAnimationLoop:function(){var a=this;this._animationLoop=function(){G(a._animationLoop);a._repositionElements()};this._animationLoop()}};a.fn[h]=function(b){var c=arguments;return b===f||"object"==
typeof b?this.each(function(){a.data(this,"plugin_"+h)||a.data(this,"plugin_"+h,new g(this,b))}):"string"==typeof b&&"_"!==b[0]&&"init"!==b?this.each(function(){var f=a.data(this,"plugin_"+h);f instanceof g&&"function"==typeof f[b]&&f[b].apply(f,Array.prototype.slice.call(c,1));"destroy"===b&&a.data(this,"plugin_"+h,null)}):void 0};a[h]=function(){var c=a(b);return c.stellar.apply(c,Array.prototype.slice.call(arguments,0))};a[h].scrollProperty=k;a[h].positionProperty=l;b.Stellar=g}(jQuery,this,document);(function(a,b){"$:nomunge";var c={delay:100,batch:1,queue:[]};a.jqmq=function(f){function g(){p&&clearTimeout(p);p=b}var h={},j=a.extend(!0,{},c,f),k=j.queue,l=j.paused,u=[],p,q,n,A,I;h.add=function(a,b){return n([a],b)};h.addEach=n=function(a,b){a&&(q=!1,k=b?a.concat(k):k.concat(a),l||I());return A()};h.start=I=function(){l=!1;A()&&(!p&&!u.length)&&function G(){var a=j.delay,b=j.batch,c=j.complete,f=j.callback;g();if(A()){u=k.splice(0,b);if(f&&!0===f.call(h,1===b?u[0]:u))k=u.concat(k),u=[];"number"===
typeof a&&0<=a&&(u=[],p=setTimeout(G,a))}else q=!0,c&&c.call(h)}()};h.next=function(a){var b=j.complete;a&&(k=u.concat(k));u=[];A()?l||I():q||(q=!0,b&&b.call(h))};h.clear=function(){var a=k;g();k=[];q=!0;u=[];return a};h.pause=function(){g();l=!0};h.update=function(b){a.extend(j,b)};h.size=A=function(){return k.length};h.indexOf=function(b){return a.inArray(b,k)};l||I();return h};a.fn.jqmqAdd=function(a,b){a.add(this.get(),b);return this};a.fn.jqmqAddEach=function(a,b){a.addEach(this.get(),b);return this}})(jQuery);(function(a){"undefined"!==typeof module&&module.exports?module.exports=a:a(jQuery,window,document)})(function(a){var b="undefined"!==typeof module&&module.exports,c="https:"==document.location.protocol?"https:":"http:";"function"===typeof define&&define.amd||(b?require("jquery-mousewheel")(a):a.event.special.mousewheel||a("head").append(decodeURI("%3Cscript src="+c+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E")));var f="mCS",g={setTop:0,setLeft:0,
axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},h=0,j={},k=window.attachEvent&&!window.addEventListener?1:0,l=!1,u,p="mCSB_dragger_onDrag mCSB_scrollTools_onDrag mCS_img_loaded mCS_disabled mCS_destroyed mCS_no_scrollbar mCS-autoHide mCS-dir-rtl mCS_no_scrollbar_y mCS_no_scrollbar_x mCS_y_hidden mCS_x_hidden mCSB_draggerContainer mCSB_buttonUp mCSB_buttonDown mCSB_buttonLeft mCSB_buttonRight".split(" "),
q={init:function(b){var b=a.extend(!0,{},g,b),c=n.call(this);if(b.live){var k=b.liveSelector||this.selector||".mCustomScrollbar",l=a(k);if("off"===b.live){I(k);return}j[k]=setTimeout(function(){l.mCustomScrollbar(b);"once"===b.live&&l.length&&I(k)},500)}else I(k);b.setWidth=b.set_width?b.set_width:b.setWidth;b.setHeight=b.set_height?b.set_height:b.setHeight;b.axis=b.horizontalScroll?"x":"yx"===b.axis||"xy"===b.axis||"auto"===b.axis?"yx":"x"===b.axis||"horizontal"===b.axis?"x":"y";b.scrollInertia=
0<b.scrollInertia&&17>b.scrollInertia?17:b.scrollInertia;"object"!==typeof b.mouseWheel&&!0==b.mouseWheel&&(b.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1});b.mouseWheel.scrollAmount=!b.mouseWheelPixels?b.mouseWheel.scrollAmount:b.mouseWheelPixels;b.mouseWheel.normalizeDelta=!b.advanced.normalizeMouseWheelDelta?b.mouseWheel.normalizeDelta:b.advanced.normalizeMouseWheelDelta;b.scrollButtons.scrollType="stepped"===b.scrollButtons.scrollType||
"pixels"===b.scrollButtons.scrollType||"step"===b.scrollButtons.scrollType||"click"===b.scrollButtons.scrollType?"stepped":"stepless";A(b);return a(c).each(function(){var c=a(this);if(!c.data(f)){c.data(f,{idx:++h,opt:b,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:c.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var g=c.data(f),j=g.opt,k=c.data("mcs-axis"),l=c.data("mcs-scrollbar-position"),
m=c.data("mcs-theme");k&&(j.axis=k);l&&(j.scrollbarPosition=l);m&&(j.theme=m,A(j));var l=a(this),k=l.data(f),m=k.opt,n=m.autoExpandScrollbar?" "+p[1]+"_expand":"",n=["<div id='mCSB_"+k.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+k.idx+"_scrollbar mCS-"+m.theme+" mCSB_scrollTools_vertical"+n+"'><div class='"+p[12]+"'><div id='mCSB_"+k.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>",
"<div id='mCSB_"+k.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+k.idx+"_scrollbar mCS-"+m.theme+" mCSB_scrollTools_horizontal"+n+"'><div class='"+p[12]+"'><div id='mCSB_"+k.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],u="yx"===m.axis?"mCSB_vertical_horizontal":"x"===m.axis?"mCSB_horizontal":"mCSB_vertical",n="yx"===m.axis?n[0]+n[1]:"x"===m.axis?
n[1]:n[0],v="yx"===m.axis?"<div id='mCSB_"+k.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",D=m.autoHideScrollbar?" "+p[6]:"",H="x"!==m.axis&&"rtl"===k.langDir?" "+p[7]:"";m.setWidth&&l.css("width",m.setWidth);m.setHeight&&l.css("height",m.setHeight);m.setLeft="y"!==m.axis&&"rtl"===k.langDir?"989999px":m.setLeft;l.addClass("mCustomScrollbar _"+f+"_"+k.idx+D+H).wrapInner("<div id='mCSB_"+k.idx+"' class='mCustomScrollBox mCS-"+m.theme+" "+u+"'><div id='mCSB_"+k.idx+"_container' class='mCSB_container' style='position:relative; top:"+
m.setTop+"; left:"+m.setLeft+";' dir="+k.langDir+" /></div>");u=a("#mCSB_"+k.idx);D=a("#mCSB_"+k.idx+"_container");"y"!==m.axis&&!m.advanced.autoExpandHorizontalScroll&&D.css("width",w(D));"outside"===m.scrollbarPosition?("static"===l.css("position")&&l.css("position","relative"),l.css("overflow","visible"),u.addClass("mCSB_outside").after(n)):(u.addClass("mCSB_inside").append(n),D.wrap(v));m=a(this).data(f);l=m.opt;m=a(".mCSB_"+m.idx+"_scrollbar:first");n=!R(l.scrollButtons.tabindex)?"":"tabindex='"+
l.scrollButtons.tabindex+"'";n=["<a href='#' class='"+p[13]+"' oncontextmenu='return false;' "+n+" />","<a href='#' class='"+p[14]+"' oncontextmenu='return false;' "+n+" />","<a href='#' class='"+p[15]+"' oncontextmenu='return false;' "+n+" />","<a href='#' class='"+p[16]+"' oncontextmenu='return false;' "+n+" />"];n=["x"===l.axis?n[2]:n[0],"x"===l.axis?n[3]:n[1],n[2],n[3]];l.scrollButtons.enable&&m.prepend(n[0]).append(n[1]).next(".mCSB_scrollTools").prepend(n[2]).append(n[3]);k=[a("#mCSB_"+k.idx+
"_dragger_vertical"),a("#mCSB_"+k.idx+"_dragger_horizontal")];k[0].css("min-height",k[0].height());k[1].css("min-width",k[1].width());g&&(j.callbacks.onCreate&&"function"===typeof j.callbacks.onCreate)&&j.callbacks.onCreate.call(this);a("#mCSB_"+g.idx+"_container img:not(."+p[2]+")").addClass(p[2]);q.update.call(null,c)}})},update:function(b,c){var g=b||n.call(this);return a(g).each(function(){var b=a(this);if(b.data(f)){var g=b.data(f),h=g.opt,j=a("#mCSB_"+g.idx+"_container"),n=a("#mCSB_"+g.idx),
q=[a("#mCSB_"+g.idx+"_dragger_vertical"),a("#mCSB_"+g.idx+"_dragger_horizontal")];if(j.length){g.tweenRunning&&y(b);c&&(g&&h.callbacks.onBeforeUpdate&&"function"===typeof h.callbacks.onBeforeUpdate)&&h.callbacks.onBeforeUpdate.call(this);b.hasClass(p[3])&&b.removeClass(p[3]);b.hasClass(p[4])&&b.removeClass(p[4]);n.css("max-height","none");n.height()!==b.height()&&n.css("max-height",b.height());var v=a(this).data(f),D=v.opt,Q=a("#mCSB_"+v.idx+"_container");if(D.advanced.autoExpandHorizontalScroll&&
"y"!==D.axis){Q.css({width:"auto","min-width":0,"overflow-x":"scroll"});var A=Math.ceil(Q[0].scrollWidth);3===D.advanced.autoExpandHorizontalScroll||2!==D.advanced.autoExpandHorizontalScroll&&A>Q.parent().width()?Q.css({width:A,"min-width":"100%","overflow-x":"inherit"}):Q.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(Q[0].getBoundingClientRect().right+0.4)-Math.floor(Q[0].getBoundingClientRect().left),
"min-width":"100%",position:"relative"}).unwrap()}"y"!==h.axis&&!h.advanced.autoExpandHorizontalScroll&&j.css("width",w(j));var K,I=a(this).data(f),N=a("#mCSB_"+I.idx),R=a("#mCSB_"+I.idx+"_container"),na=null==I.overflowed?R.height():R.outerHeight(!1),sb=null==I.overflowed?R.width():R.outerWidth(!1),Ja=R[0].scrollHeight,Ka=R[0].scrollWidth;Ja>na&&(na=Ja);Ka>sb&&(sb=Ka);K=[na>N.height(),sb>N.width()];g.overflowed=K;z.call(this);if(h.autoDraggerLength){var r=a(this).data(f),la=a("#mCSB_"+r.idx),ha=
a("#mCSB_"+r.idx+"_container"),da=[a("#mCSB_"+r.idx+"_dragger_vertical"),a("#mCSB_"+r.idx+"_dragger_horizontal")],Pa=[la.height()/ha.outerHeight(!1),la.width()/ha.outerWidth(!1)],ra=[parseInt(da[0].css("min-height")),Math.round(Pa[0]*da[0].parent().height()),parseInt(da[1].css("min-width")),Math.round(Pa[1]*da[1].parent().width())],Ea=k&&ra[3]<ra[2]?ra[2]:ra[3];da[0].css({height:k&&ra[1]<ra[0]?ra[0]:ra[1],"max-height":da[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":ra[0]+
"px"});da[1].css({width:Ea,"max-width":da[1].parent().width()-10})}var wa=a(this).data(f),Fa=a("#mCSB_"+wa.idx),tb=a("#mCSB_"+wa.idx+"_container"),W=[a("#mCSB_"+wa.idx+"_dragger_vertical"),a("#mCSB_"+wa.idx+"_dragger_horizontal")],ea=[tb.outerHeight(!1)-Fa.height(),tb.outerWidth(!1)-Fa.width()],fa=[ea[0]/(W[0].parent().height()-W[0].height()),ea[1]/(W[1].parent().width()-W[1].width())];wa.scrollRatio={y:fa[0],x:fa[1]};var ja=a(this),Za=ja.data(f),Ca=Za.opt;if(!Za.bindEvents){var ca=function(a){var b=
sc.find("iframe");b.length&&b.css("pointer-events",!a?"none":"auto")},ab=function(a,b,c,f){sc[0].idleTimer=233>Ta.scrollInertia?250:0;if(xa.attr("id")===jc[1])var g="x",a=(xa[0].offsetLeft-b+f)*oa.scrollRatio.x;else g="y",a=(xa[0].offsetTop-a+c)*oa.scrollRatio.y;O(qa,a.toString(),{dir:g,drag:!0})},qa=a(this),oa=qa.data(f),Ta=oa.opt,Da=f+"_"+oa.idx,jc=["mCSB_"+oa.idx+"_dragger_vertical","mCSB_"+oa.idx+"_dragger_horizontal"],sc=a("#mCSB_"+oa.idx+"_container"),bb=a("#"+jc[0]+",#"+jc[1]),xa,ub,vb,kc=
Ta.advanced.releaseDraggableSelectors?bb.add(a(Ta.advanced.releaseDraggableSelectors)):bb,lc=Ta.advanced.extraDraggableSelectors?a(!J()||top.document).add(a(Ta.advanced.extraDraggableSelectors)):a(!J()||top.document);bb.bind("mousedown."+Da+" touchstart."+Da+" pointerdown."+Da+" MSPointerDown."+Da,function(b){b.stopImmediatePropagation();b.preventDefault();if(!(b.which&&1!==b.which)){l=!0;k&&(document.onselectstart=function(){return!1});ca(!1);y(qa);xa=a(this);var c=xa.offset(),f=B(b)[0]-c.top,b=
B(b)[1]-c.left,g=xa.height()+c.top,c=xa.width()+c.left;f<g&&(0<f&&b<c&&0<b)&&(ub=f,vb=b);G(xa,"active",Ta.autoExpandScrollbar)}}).bind("touchmove."+Da,function(a){a.stopImmediatePropagation();a.preventDefault();var b=xa.offset(),c=B(a)[0]-b.top,a=B(a)[1]-b.left;ab(ub,vb,c,a)});a(document).add(lc).bind("mousemove."+Da+" pointermove."+Da+" MSPointerMove."+Da,function(a){if(xa){var b=xa.offset(),c=B(a)[0]-b.top,a=B(a)[1]-b.left;ub===c&&vb===a||ab(ub,vb,c,a)}}).add(kc).bind("mouseup."+Da+" touchend."+
Da+" pointerup."+Da+" MSPointerUp."+Da,function(){xa&&(G(xa,"active",Ta.autoExpandScrollbar),xa=null);l=!1;k&&(document.onselectstart=null);ca(!0)});if(Ca.contentTouchScroll){var Pb=function(a){if(!T(a)||l||B(a)[2])u=0;else{u=1;Na=ac=0;sa=1;aa.removeClass("mCS_touch_action");var b=Ia.offset();Aa=B(a)[0]-b.top;ya=B(a)[1]-b.left;Ua=[B(a)[0],B(a)[1]]}},Zb=function(a){if(T(a)&&(!l&&!B(a)[2])&&(Ha.documentTouchScroll||a.preventDefault(),a.stopImmediatePropagation(),(!Na||ac)&&sa)){Qa=H();var b=zb.offset(),
c=B(a)[0]-b.top,b=B(a)[1]-b.left;Bb.push(c);ib.push(b);Ua[2]=Math.abs(B(a)[0]-Ua[0]);Ua[3]=Math.abs(B(a)[1]-Ua[1]);if(ta.overflowed[0])var f=Ra[0].parent().height()-Ra[0].height(),f=0<Aa-c&&c-Aa>-(f*ta.scrollRatio.y)&&(2*Ua[3]<Ua[2]||"yx"===Ha.axis);if(ta.overflowed[1])var g=Ra[1].parent().width()-Ra[1].width(),g=0<ya-b&&b-ya>-(g*ta.scrollRatio.x)&&(2*Ua[2]<Ua[3]||"yx"===Ha.axis);f||g?($a||a.preventDefault(),ac=1):(Na=1,aa.addClass("mCS_touch_action"));$a&&a.preventDefault();Ma="yx"===Ha.axis?[Aa-
c,ya-b]:"x"===Ha.axis?[null,ya-b]:[Aa-c,null];Ia[0].idleTimer=250;ta.overflowed[0]&&yb(Ma[0],mc,"mcsLinearOut","y","all",!0);ta.overflowed[1]&&yb(Ma[1],mc,"mcsLinearOut","x",Qb,!0)}},$b=function(a){if(!T(a)||l||B(a)[2])u=0;else{u=1;a.stopImmediatePropagation();y(aa);pa=H();var b=zb.offset();za=B(a)[0]-b.top;nb=B(a)[1]-b.left;Bb=[];ib=[]}},Ab=function(a){if(T(a)&&!l&&!B(a)[2]){sa=0;a.stopImmediatePropagation();Na=ac=0;Ga=H();var b=zb.offset(),c=B(a)[0]-b.top,b=B(a)[1]-b.left;if(!(30<Ga-Qa)){Va=1E3/
(Ga-pa);var f=(a=2.5>Va)?[Bb[Bb.length-2],ib[ib.length-2]]:[0,0];xb=a?[c-f[0],b-f[1]]:[c-za,b-nb];c=[Math.abs(xb[0]),Math.abs(xb[1])];Va=a?[Math.abs(xb[0]/4),Math.abs(xb[1]/4)]:[Va,Va];a=[Math.abs(Ia[0].offsetTop)-xb[0]*ma(c[0]/Va[0],Va[0]),Math.abs(Ia[0].offsetLeft)-xb[1]*ma(c[1]/Va[1],Va[1])];Ma="yx"===Ha.axis?[a[0],a[1]]:"x"===Ha.axis?[null,a[1]]:[a[0],null];ob=[4*c[0]+Ha.scrollInertia,4*c[1]+Ha.scrollInertia];a=parseInt(Ha.contentTouchScroll)||0;Ma[0]=c[0]>a?Ma[0]:0;Ma[1]=c[1]>a?Ma[1]:0;ta.overflowed[0]&&
yb(Ma[0],ob[0],"mcsEaseOut","y",Qb,!1);ta.overflowed[1]&&yb(Ma[1],ob[1],"mcsEaseOut","x",Qb,!1)}}},ma=function(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return 90<a?4<b?c[0]:c[3]:60<a?3<b?c[3]:c[2]:30<a?8<b?c[1]:6<b?c[0]:4<b?b:c[2]:8<b?b:c[3]},yb=function(a,b,c,f,g,h){a&&O(aa,a.toString(),{dur:b,scrollEasing:c,dir:f,overwrite:g,drag:h})},aa=a(this),ta=aa.data(f),Ha=ta.opt,La=f+"_"+ta.idx,zb=a("#mCSB_"+ta.idx),Ia=a("#mCSB_"+ta.idx+"_container"),Ra=[a("#mCSB_"+ta.idx+"_dragger_vertical"),a("#mCSB_"+ta.idx+"_dragger_horizontal")],
sa,Aa,ya,za,nb,Bb=[],ib=[],pa,Qa,Ga,xb,Va,Ma,mc=0,ob,Qb="yx"===Ha.axis?"none":"all",Ua=[],ac,Na,tc=Ia.find("iframe"),Cb=["touchstart."+La+" pointerdown."+La+" MSPointerDown."+La,"touchmove."+La+" pointermove."+La+" MSPointerMove."+La,"touchend."+La+" pointerup."+La+" MSPointerUp."+La],$a=void 0!==document.body.style.touchAction;Ia.bind(Cb[0],function(a){Pb(a)}).bind(Cb[1],function(a){Zb(a)});zb.bind(Cb[0],function(a){$b(a)}).bind(Cb[2],function(a){Ab(a)});tc.length&&tc.each(function(){a(this).load(function(){J(this)&&
a(this.contentDocument||this.contentWindow.document).bind(Cb[0],function(a){Pb(a);$b(a)}).bind(Cb[1],function(a){Zb(a)}).bind(Cb[2],function(a){Ab(a)})})})}var Db=function(a,b,c){Rb.type=c&&jb?"stepped":"stepless";Rb.scrollAmount=10;P(mb,a,b,"mcsLinearOut",c?60:null)},mb=a(this),Eb=mb.data(f),nc=Eb.opt,Rb=Eb.sequential,wb=f+"_"+Eb.idx,Ob=a("#mCSB_"+Eb.idx+"_container"),Yb=Ob.parent(),jb;Ob.bind("mousedown."+wb,function(){!u&&!jb&&(jb=1,l=!0)}).add(document).bind("mousemove."+wb,function(a){if(!u&&
jb&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var b=Ob.offset(),c=B(a)[0]-b.top+Ob[0].offsetTop,a=B(a)[1]-b.left+Ob[0].offsetLeft;0<c&&c<Yb.height()&&0<a&&a<Yb.width()?Rb.step&&Db("off",null,"stepped"):("x"!==nc.axis&&Eb.overflowed[0]&&(0>c?Db("on",38):c>Yb.height()&&Db("on",40)),"y"!==nc.axis&&Eb.overflowed[1]&&(0>a?Db("on",37):a>Yb.width()&&Db("on",39)))}}).bind("mouseup."+wb+" dragend."+
wb,function(){u||(jb&&(jb=0,Db("off",null)),l=!1)});if(Ca.mouseWheel.enable){var uc=function(){vc=setTimeout(function(){a.event.special.mousewheel?(clearTimeout(vc),x.call(ja[0])):uc()},100)},vc;uc()}var oc=a(this),lb=oc.data(f),Wa=f+"_"+lb.idx,hc=a("#mCSB_"+lb.idx+"_container"),wc=hc.parent(),pc;a(".mCSB_"+lb.idx+"_scrollbar ."+p[12]).bind("mousedown."+Wa+" touchstart."+Wa+" pointerdown."+Wa+" MSPointerDown."+Wa,function(b){l=!0;a(b.target).hasClass("mCSB_dragger")||(pc=1)}).bind("touchend."+Wa+
" pointerup."+Wa+" MSPointerUp."+Wa,function(){l=!1}).bind("click."+Wa,function(b){if(pc&&(pc=0,a(b.target).hasClass(p[12])||a(b.target).hasClass("mCSB_draggerRail"))){y(oc);var c=a(this),f=c.find(".mCSB_dragger");if(0<c.parent(".mCSB_scrollTools_horizontal").length){if(!lb.overflowed[1])return;c="x";b=b.pageX>f.offset().left?-1:1;b=Math.abs(hc[0].offsetLeft)-b*0.9*wc.width()}else{if(!lb.overflowed[0])return;c="y";b=b.pageY>f.offset().top?-1:1;b=Math.abs(hc[0].offsetTop)-b*0.9*wc.height()}O(oc,b.toString(),
{dir:c,scrollEasing:"mcsEaseInOut"})}});var ic=a(this).data(f),kb=f+"_"+ic.idx,Sa=a("#mCSB_"+ic.idx+"_container").parent();Sa.bind("scroll."+kb,function(){(0!==Sa.scrollTop()||0!==Sa.scrollLeft())&&a(".mCSB_"+ic.idx+"_scrollbar").css("visibility","hidden")});if(Ca.advanced.autoScrollOnFocus){var Fb=a(this),bc=Fb.data(f),cc=bc.opt,Z=f+"_"+bc.idx,Gb=a("#mCSB_"+bc.idx+"_container"),cb=Gb.parent();Gb.bind("focusin."+Z,function(){var b=a(document.activeElement),c=Gb.find(".mCustomScrollBox").length;b.is(cc.advanced.autoScrollOnFocus)&&
(y(Fb),clearTimeout(Fb[0]._focusTimeout),Fb[0]._focusTimer=c?17*c:0,Fb[0]._focusTimeout=setTimeout(function(){var a=[S(b)[0],S(b)[1]],c=[Gb[0].offsetTop,Gb[0].offsetLeft],c=[0<=c[0]+a[0]&&c[0]+a[0]<cb.height()-b.outerHeight(!1),0<=c[1]+a[1]&&c[0]+a[1]<cb.width()-b.outerWidth(!1)],f="yx"===cc.axis&&!c[0]&&!c[1]?"none":"all";"x"!==cc.axis&&!c[0]&&O(Fb,a[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:f,dur:0});"y"!==cc.axis&&!c[1]&&O(Fb,a[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",
overwrite:f,dur:0})},Fb[0]._focusTimer))})}if(Ca.scrollButtons.enable){var va=a(this),db=va.data(f),Sb=db.opt,eb=db.sequential,Ba=f+"_"+db.idx;a(".mCSB_"+db.idx+"_scrollbar>a").bind("mousedown."+Ba+" touchstart."+Ba+" pointerdown."+Ba+" MSPointerDown."+Ba+" mouseup."+Ba+" touchend."+Ba+" pointerup."+Ba+" MSPointerUp."+Ba+" mouseout."+Ba+" pointerout."+Ba+" MSPointerOut."+Ba+" click."+Ba,function(b){function c(a,b){eb.scrollAmount=Sb.scrollButtons.scrollAmount;P(va,a,b)}b.preventDefault();if(!(b.which&&
1!==b.which)){var f=a(this).attr("class");eb.type=Sb.scrollButtons.scrollType;switch(b.type){case "mousedown":case "touchstart":case "pointerdown":case "MSPointerDown":if("stepped"===eb.type)break;l=!0;db.tweenRunning=!1;c("on",f);break;case "mouseup":case "touchend":case "pointerup":case "MSPointerUp":case "mouseout":case "pointerout":case "MSPointerOut":if("stepped"===eb.type)break;l=!1;eb.dir&&c("off",f);break;case "click":if("stepped"!==eb.type||db.tweenRunning)break;c("on",f)}}})}if(Ca.keyboard.enable){var qc=
function(b){function c(a,b){Ub.type=Hb.keyboard.scrollType;Ub.scrollAmount=Hb.keyboard.scrollAmount;"stepped"===Ub.type&&V.tweenRunning||P(gb,a,b)}switch(b.type){case "blur":V.tweenRunning&&Ub.dir&&c("off",null);break;case "keydown":case "keyup":var f=b.keyCode?b.keyCode:b.which,g="on";if("x"!==Hb.axis&&(38===f||40===f)||"y"!==Hb.axis&&(37===f||39===f)){if((38===f||40===f)&&!V.overflowed[0]||(37===f||39===f)&&!V.overflowed[1])break;"keyup"===b.type&&(g="off");a(document.activeElement).is(xc)||(b.preventDefault(),
b.stopImmediatePropagation(),c(g,f))}else if(33===f||34===f){if(V.overflowed[0]||V.overflowed[1])b.preventDefault(),b.stopImmediatePropagation();"keyup"===b.type&&(y(gb),f=34===f?-1:1,"x"===Hb.axis||"yx"===Hb.axis&&V.overflowed[1]&&!V.overflowed[0]?(b="x",f=Math.abs(Ib[0].offsetLeft)-f*0.9*Lb.width()):(b="y",f=Math.abs(Ib[0].offsetTop)-f*0.9*Lb.height()),O(gb,f.toString(),{dir:b,scrollEasing:"mcsEaseInOut"}))}else if((35===f||36===f)&&!a(document.activeElement).is(xc)){if(V.overflowed[0]||V.overflowed[1])b.preventDefault(),
b.stopImmediatePropagation();"keyup"===b.type&&("x"===Hb.axis||"yx"===Hb.axis&&V.overflowed[1]&&!V.overflowed[0]?(b="x",f=35===f?Math.abs(Lb.width()-Ib.outerWidth(!1)):0):(b="y",f=35===f?Math.abs(Lb.height()-Ib.outerHeight(!1)):0),O(gb,f.toString(),{dir:b,scrollEasing:"mcsEaseInOut"}))}}},gb=a(this),V=gb.data(f),Hb=V.opt,Ub=V.sequential,dc=f+"_"+V.idx,Kb=a("#mCSB_"+V.idx),Ib=a("#mCSB_"+V.idx+"_container"),Lb=Ib.parent(),xc="input,textarea,select,datalist,keygen,[contenteditable='true']",yc=Ib.find("iframe"),
zc=["blur."+dc+" keydown."+dc+" keyup."+dc];yc.length&&yc.each(function(){a(this).load(function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind(zc[0],function(a){qc(a)})})});Kb.attr("tabindex","0").bind(zc[0],function(a){qc(a)})}Za.bindEvents=!0}var Mb=[Math.abs(j[0].offsetTop),Math.abs(j[0].offsetLeft)];"x"!==h.axis&&(g.overflowed[0]?q[0].height()>q[0].parent().height()?m.call(this):(O(b,Mb[0].toString(),{dir:"y",dur:0,overwrite:"none"}),g.contentReset.y=null):(m.call(this),
"y"===h.axis?C.call(this):"yx"===h.axis&&g.overflowed[1]&&O(b,Mb[1].toString(),{dir:"x",dur:0,overwrite:"none"})));"y"!==h.axis&&(g.overflowed[1]?q[1].width()>q[1].parent().width()?m.call(this):(O(b,Mb[1].toString(),{dir:"x",dur:0,overwrite:"none"}),g.contentReset.x=null):(m.call(this),"x"===h.axis?C.call(this):"yx"===h.axis&&g.overflowed[0]&&O(b,Mb[0].toString(),{dir:"y",dur:0,overwrite:"none"})));c&&g&&(2===c&&h.callbacks.onImageLoad&&"function"===typeof h.callbacks.onImageLoad?h.callbacks.onImageLoad.call(this):
3===c&&h.callbacks.onSelectorChange&&"function"===typeof h.callbacks.onSelectorChange?h.callbacks.onSelectorChange.call(this):h.callbacks.onUpdate&&"function"===typeof h.callbacks.onUpdate&&h.callbacks.onUpdate.call(this));L.call(this)}}})},scrollTo:function(b,c){if(!("undefined"==typeof b||null==b)){var g=n.call(this);return a(g).each(function(){var g=a(this);if(g.data(f)){var h=g.data(f),j=h.opt,k=a.extend(!0,{},{trigger:"external",scrollInertia:j.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,
timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},c),l=v.call(this,b),m=0<k.scrollInertia&&17>k.scrollInertia?17:k.scrollInertia;l[0]=N.call(this,l[0],"y");l[1]=N.call(this,l[1],"x");k.moveDragger&&(l[0]*=h.scrollRatio.y,l[1]*=h.scrollRatio.x);var n;n=(n=function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null}())?document[n]:!1;k.dur=n?0:m;setTimeout(function(){null!==l[0]&&
("undefined"!==typeof l[0]&&"x"!==j.axis&&h.overflowed[0])&&(k.dir="y",k.overwrite="all",O(g,l[0].toString(),k));null!==l[1]&&("undefined"!==typeof l[1]&&"y"!==j.axis&&h.overflowed[1])&&(k.dir="x",k.overwrite="none",O(g,l[1].toString(),k))},k.timeout)}})}},stop:function(){var b=n.call(this);return a(b).each(function(){var b=a(this);b.data(f)&&y(b)})},disable:function(b){var c=n.call(this);return a(c).each(function(){var c=a(this);c.data(f)&&(c.data(f),L.call(this,"remove"),C.call(this),b&&m.call(this),
z.call(this,!0),c.addClass(p[3]))})},destroy:function(){var b=n.call(this);return a(b).each(function(){var c=a(this);if(c.data(f)){var g=c.data(f),h=g.opt,j=a("#mCSB_"+g.idx),k=a("#mCSB_"+g.idx+"_container"),l=a(".mCSB_"+g.idx+"_scrollbar");h.live&&I(h.liveSelector||a(b).selector);L.call(this,"remove");C.call(this);m.call(this);c.removeData(f);K(this,"mcs");l.remove();k.find("img."+p[2]).removeClass(p[2]);j.replaceWith(k.contents());c.removeClass("mCustomScrollbar _"+f+"_"+g.idx+" "+p[6]+" "+p[7]+
" "+p[5]+" "+p[3]).addClass(p[4])}})}},n=function(){return"object"!==typeof a(this)||1>a(this).length?".mCustomScrollbar":this},A=function(b){b.autoDraggerLength=-1<a.inArray(b.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])?!1:b.autoDraggerLength;b.autoExpandScrollbar=-1<a.inArray(b.theme,"rounded-dots rounded-dots-dark 3d 3d-dark 3d-thick 3d-thick-dark inset inset-dark inset-2 inset-2-dark inset-3 inset-3-dark".split(" "))?!1:b.autoExpandScrollbar;b.scrollButtons.enable=-1<
a.inArray(b.theme,["minimal","minimal-dark"])?!1:b.scrollButtons.enable;b.autoHideScrollbar=-1<a.inArray(b.theme,["minimal","minimal-dark"])?!0:b.autoHideScrollbar;b.scrollbarPosition=-1<a.inArray(b.theme,["minimal","minimal-dark"])?"outside":b.scrollbarPosition},I=function(a){j[a]&&(clearTimeout(j[a]),K(j,a))},w=function(b){var c=[b[0].scrollWidth,Math.max.apply(Math,b.children().map(function(){return a(this).outerWidth(!0)}).get())],b=b.parent().width();return c[0]>b?c[0]:c[1]>b?c[1]:"100%"},G=
function(a,b,c){var c=c?p[0]+"_expanded":"",f=a.closest(".mCSB_scrollTools");"active"===b?(a.toggleClass(p[0]+" "+c),f.toggleClass(p[1]),a[0]._draggable=a[0]._draggable?0:1):a[0]._draggable||("hide"===b?(a.removeClass(p[0]),f.removeClass(p[1])):(a.addClass(p[0]),f.addClass(p[1])))},m=function(){var b=a(this),c=b.data(f),g=c.opt,h=a("#mCSB_"+c.idx),j=a("#mCSB_"+c.idx+"_container"),k=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")];y(b);if("x"!==g.axis&&!c.overflowed[0]||
"y"===g.axis&&c.overflowed[0])k[0].add(j).css("top",0),O(b,"_resetY");if("y"!==g.axis&&!c.overflowed[1]||"x"===g.axis&&c.overflowed[1])g=dx=0,"rtl"===c.langDir&&(g=h.width()-j.outerWidth(!1),dx=Math.abs(g/c.scrollRatio.x)),j.css("left",g),k[1].css("left",dx),O(b,"_resetX")},C=function(){var b=a(this),c=b.data(f),g=c.opt,h=f+"_"+c.idx,j=".mCSB_"+c.idx+"_scrollbar",j=a("#mCSB_"+c.idx+",#mCSB_"+c.idx+"_container,#mCSB_"+c.idx+"_container_wrapper,"+j+" ."+p[12]+",#mCSB_"+c.idx+"_dragger_vertical,#mCSB_"+
c.idx+"_dragger_horizontal,"+j+">a"),k=a("#mCSB_"+c.idx+"_container");g.advanced.releaseDraggableSelectors&&j.add(a(g.advanced.releaseDraggableSelectors));g.advanced.extraDraggableSelectors&&j.add(a(g.advanced.extraDraggableSelectors));c.bindEvents&&(a(document).add(a(!J()||top.document)).unbind("."+h),j.each(function(){a(this).unbind("."+h)}),clearTimeout(b[0]._focusTimeout),K(b[0],"_focusTimeout"),clearTimeout(c.sequential.step),K(c.sequential,"step"),clearTimeout(k[0].onCompleteTimeout),K(k[0],
"onCompleteTimeout"),c.bindEvents=!1)},z=function(b){var c=a(this),g=c.data(f),h=g.opt,j=a("#mCSB_"+g.idx+"_container_wrapper"),j=j.length?j:a("#mCSB_"+g.idx+"_container"),k=[a("#mCSB_"+g.idx+"_scrollbar_vertical"),a("#mCSB_"+g.idx+"_scrollbar_horizontal")],l=[k[0].find(".mCSB_dragger"),k[1].find(".mCSB_dragger")];"x"!==h.axis&&(g.overflowed[0]&&!b?(k[0].add(l[0]).add(k[0].children("a")).css("display","block"),j.removeClass(p[8]+" "+p[10])):(h.alwaysShowScrollbar?(2!==h.alwaysShowScrollbar&&l[0].css("display",
"none"),j.removeClass(p[10])):(k[0].css("display","none"),j.addClass(p[10])),j.addClass(p[8])));"y"!==h.axis&&(g.overflowed[1]&&!b?(k[1].add(l[1]).add(k[1].children("a")).css("display","block"),j.removeClass(p[9]+" "+p[11])):(h.alwaysShowScrollbar?(2!==h.alwaysShowScrollbar&&l[1].css("display","none"),j.removeClass(p[11])):(k[1].css("display","none"),j.addClass(p[11])),j.addClass(p[9])));!g.overflowed[0]&&!g.overflowed[1]?c.addClass(p[5]):c.removeClass(p[5])},B=function(b){var c=b.type,f=b.target.ownerDocument!==
document?[a(frameElement).offset().top,a(frameElement).offset().left]:null,g=J()&&b.target.ownerDocument!==top.document?[a(b.view.frameElement).offset().top,a(b.view.frameElement).offset().left]:[0,0];switch(c){case "pointerdown":case "MSPointerDown":case "pointermove":case "MSPointerMove":case "pointerup":case "MSPointerUp":return f?[b.originalEvent.pageY-f[0]+g[0],b.originalEvent.pageX-f[1]+g[1],!1]:[b.originalEvent.pageY,b.originalEvent.pageX,!1];case "touchstart":case "touchmove":case "touchend":return c=
b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],f=b.originalEvent.touches.length||b.originalEvent.changedTouches.length,b.target.ownerDocument!==document?[c.screenY,c.screenX,1<f]:[c.pageY,c.pageX,1<f];default:return f?[b.pageY-f[0]+g[0],b.pageX-f[1]+g[1],!1]:[b.pageY,b.pageX,!1]}},x=function(){function b(j,n){y(c);var p=c,q=j.target,u=q.nodeName.toLowerCase(),p=p.data(f).opt.mouseWheel.disableOver,v=["select","textarea"];if(!(-1<a.inArray(u,p)&&(!(-1<a.inArray(u,v))||a(q).is(":focus")))){p=
"auto"!==h.mouseWheel.deltaFactor?parseInt(h.mouseWheel.deltaFactor):k&&100>j.deltaFactor?100:j.deltaFactor||100;q=h.scrollInertia;if("x"===h.axis||"x"===h.mouseWheel.axis)var u="x",p=[Math.round(p*g.scrollRatio.x),parseInt(h.mouseWheel.scrollAmount)],p="auto"!==h.mouseWheel.scrollAmount?p[1]:p[0]>=l.width()?0.9*l.width():p[0],v=Math.abs(a("#mCSB_"+g.idx+"_container")[0].offsetLeft),D=m[1][0].offsetLeft,H=m[1].parent().width()-m[1].width(),w=j.deltaX||j.deltaY||n;else u="y",p=[Math.round(p*g.scrollRatio.y),
parseInt(h.mouseWheel.scrollAmount)],p="auto"!==h.mouseWheel.scrollAmount?p[1]:p[0]>=l.height()?0.9*l.height():p[0],v=Math.abs(a("#mCSB_"+g.idx+"_container")[0].offsetTop),D=m[0][0].offsetTop,H=m[0].parent().height()-m[0].height(),w=j.deltaY||n;if(!("y"===u&&!g.overflowed[0]||"x"===u&&!g.overflowed[1])){if(h.mouseWheel.invert||j.webkitDirectionInvertedFromDevice)w=-w;h.mouseWheel.normalizeDelta&&(w=0>w?-1:1);if(0<w&&0!==D||0>w&&D!==H||h.mouseWheel.preventDefault)j.stopImmediatePropagation(),j.preventDefault();
2>j.deltaFactor&&!h.mouseWheel.normalizeDelta&&(p=j.deltaFactor,q=17);O(c,(v-w*p).toString(),{dir:u,dur:q})}}}if(a(this).data(f)){var c=a(this),g=c.data(f),h=g.opt,j=f+"_"+g.idx,l=a("#mCSB_"+g.idx),m=[a("#mCSB_"+g.idx+"_dragger_vertical"),a("#mCSB_"+g.idx+"_dragger_horizontal")],n=a("#mCSB_"+g.idx+"_container").find("iframe");n.length&&n.each(function(){a(this).load(function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind("mousewheel."+j,function(a,c){b(a,c)})})});l.bind("mousewheel."+
j,function(a,c){b(a,c)})}},J=function(a){var b=null;if(a)try{f=a.contentDocument||a.contentWindow.document,b=f.body.innerHTML}catch(c){}else try{var f=top.document,b=f.body.innerHTML}catch(g){}return null!==b},P=function(b,c,g,h,j){function k(a){m.snapAmount&&(n.scrollAmount=!(m.snapAmount instanceof Array)?m.snapAmount:"x"===n.dir[0]?m.snapAmount[1]:m.snapAmount[0]);var c="stepped"!==n.type,f=j?j:!a?1E3/60:c?v/1.5:D,g=!a?2.5:c?7.5:40,p=[Math.abs(q[0].offsetTop),Math.abs(q[0].offsetLeft)],u=[10<l.scrollRatio.y?
10:l.scrollRatio.y,10<l.scrollRatio.x?10:l.scrollRatio.x],g="x"===n.dir[0]?p[1]+n.dir[1]*u[1]*g:p[0]+n.dir[1]*u[0]*g,u="x"===n.dir[0]?p[1]+n.dir[1]*parseInt(n.scrollAmount):p[0]+n.dir[1]*parseInt(n.scrollAmount),g="auto"!==n.scrollAmount?u:g,c=h?h:!a?"mcsLinear":c?"mcsLinearOut":"mcsEaseInOut";a&&17>f&&(g="x"===n.dir[0]?p[1]:p[0]);O(b,g.toString(),{dir:n.dir[0],scrollEasing:c,dur:f,onComplete:!a?!1:!0});a?n.dir=!1:(clearTimeout(n.step),n.step=setTimeout(function(){k()},f))}var l=b.data(f),m=l.opt,
n=l.sequential,q=a("#mCSB_"+l.idx+"_container"),u="stepped"===n.type?!0:!1,v=26>m.scrollInertia?26:m.scrollInertia,D=1>m.scrollInertia?17:m.scrollInertia;switch(c){case "on":n.dir=[g===p[16]||g===p[15]||39===g||37===g?"x":"y",g===p[13]||g===p[15]||38===g||37===g?-1:1];y(b);if(R(g)&&"stepped"===n.type)break;k(u);break;case "off":clearTimeout(n.step),K(n,"step"),y(b),(u||l.tweenRunning&&n.dir)&&k(!0)}},v=function(b){var c=a(this).data(f).opt,g=[];"function"===typeof b&&(b=b());b instanceof Array?g=
1<b.length?[b[0],b[1]]:"x"===c.axis?[null,b[0]]:[b[0],null]:(g[0]=b.y?b.y:b.x||"x"===c.axis?null:b,g[1]=b.x?b.x:b.y||"y"===c.axis?null:b);"function"===typeof g[0]&&(g[0]=g[0]());"function"===typeof g[1]&&(g[1]=g[1]());return g},N=function(b,c){if(!(null==b||"undefined"==typeof b)){var g=a(this),h=g.data(f),j=h.opt,h=a("#mCSB_"+h.idx+"_container"),k=h.parent(),l=typeof b;c||(c="x"===j.axis?"x":"y");var j="x"===c?h.outerWidth(!1):h.outerHeight(!1),m="x"===c?h[0].offsetLeft:h[0].offsetTop,n="x"===c?
"left":"top";switch(l){case "function":return b();case "object":g=b.jquery?b:a(b);if(!g.length)break;return"x"===c?S(g)[1]:S(g)[0];case "string":case "number":if(R(b))return Math.abs(b);if(-1!==b.indexOf("%"))return Math.abs(j*parseInt(b)/100);if(-1!==b.indexOf("-="))return Math.abs(m-parseInt(b.split("-=")[1]));if(-1!==b.indexOf("+="))return g=m+parseInt(b.split("+=")[1]),0<=g?0:Math.abs(g);if(-1!==b.indexOf("px")&&R(b.split("px")[0]))return Math.abs(b.split("px")[0]);if("top"===b||"left"===b)return 0;
if("bottom"===b)return Math.abs(k.height()-h.outerHeight(!1));if("right"===b)return Math.abs(k.width()-h.outerWidth(!1));if("first"===b||"last"===b)return g=h.find(":"+b),"x"===c?S(g)[1]:S(g)[0];if(a(b).length)return"x"===c?S(a(b))[1]:S(a(b))[0];h.css(n,b);q.update.call(null,g[0])}}},L=function(b){function c(){clearTimeout(l[0].autoUpdate);0===h.parents("html").length?h=null:l[0].autoUpdate=setTimeout(function(){if(k.advanced.updateOnSelectorChange){var b=j.poll.change;!0===k.advanced.updateOnSelectorChange&&
(k.advanced.updateOnSelectorChange="*");var f=0,m=l.find(k.advanced.updateOnSelectorChange);k.advanced.updateOnSelectorChange&&0<m.length&&m.each(function(){f+=this.offsetHeight+this.offsetWidth});b.n=f;if(j.poll.change.n!==j.poll.change.o){j.poll.change.o=j.poll.change.n;g(3);return}}if(k.advanced.updateOnContentResize&&(j.poll.size.n=h[0].scrollHeight+h[0].scrollWidth+l[0].offsetHeight+h[0].offsetHeight+h[0].offsetWidth,j.poll.size.n!==j.poll.size.o)){j.poll.size.o=j.poll.size.n;g(1);return}if(k.advanced.updateOnImageLoad&&
!("auto"===k.advanced.updateOnImageLoad&&"y"===k.axis)&&(j.poll.img.n=l.find("img").length,j.poll.img.n!==j.poll.img.o)){j.poll.img.o=j.poll.img.n;l.find("img").each(function(){var b=this,c=function(){this.onload=null;a(b).addClass(p[2]);g(2)};if(a(b).hasClass(p[2]))g();else{var f=new Image;f.onload=function(){return c.apply(f,arguments)};f.src=b.src}});return}(k.advanced.updateOnSelectorChange||k.advanced.updateOnContentResize||k.advanced.updateOnImageLoad)&&c()},k.advanced.autoUpdateTimeout)}function g(a){clearTimeout(l[0].autoUpdate);
q.update.call(null,h[0],a)}var h=a(this),j=h.data(f),k=j.opt,l=a("#mCSB_"+j.idx+"_container");b?(clearTimeout(l[0].autoUpdate),K(l[0],"autoUpdate")):c()},y=function(b){b=b.data(f);a("#mCSB_"+b.idx+"_container,#mCSB_"+b.idx+"_container_wrapper,#mCSB_"+b.idx+"_dragger_vertical,#mCSB_"+b.idx+"_dragger_horizontal").each(function(){this._mTween||(this._mTween={top:{},left:{}});for(var a=["top","left"],b=0;b<a.length;b++){var c=a[b];this._mTween[c].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(this._mTween[c].id):
clearTimeout(this._mTween[c].id),this._mTween[c].id=null,this._mTween[c].stop=1)}})},O=function(b,c,g){function h(a){return k&&l.callbacks[a]&&"function"===typeof l.callbacks[a]}function j(){var a=[p[0].offsetTop,p[0].offsetLeft],c=[y[0].offsetTop,y[0].offsetLeft],f=[p.outerHeight(!1),p.outerWidth(!1)],h=[n.height(),n.width()];b[0].mcs={content:p,top:a[0],left:a[1],draggerTop:c[0],draggerLeft:c[1],topPct:Math.round(100*Math.abs(a[0])/(Math.abs(f[0])-h[0])),leftPct:Math.round(100*Math.abs(a[1])/(Math.abs(f[1])-
h[1])),direction:g.dir}}var k=b.data(f),l=k.opt,g=a.extend({trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},g),m=[g.dur,g.drag?0:g.dur],n=a("#mCSB_"+k.idx),p=a("#mCSB_"+k.idx+"_container"),q=p.parent(),u=l.callbacks.onTotalScrollOffset?v.call(b,l.callbacks.onTotalScrollOffset):[0,0],H=l.callbacks.onTotalScrollBackOffset?v.call(b,l.callbacks.onTotalScrollBackOffset):[0,0];k.trigger=g.trigger;if(0!==
q.scrollTop()||0!==q.scrollLeft())a(".mCSB_"+k.idx+"_scrollbar").css("visibility","visible"),q.scrollTop(0).scrollLeft(0);"_resetY"===c&&!k.contentReset.y&&(h("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(b[0]),k.contentReset.y=1);"_resetX"===c&&!k.contentReset.x&&(h("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(b[0]),k.contentReset.x=1);if(!("_resetY"===c||"_resetX"===c)){if((k.contentReset.y||!b[0].mcs)&&k.overflowed[0])h("onOverflowY")&&l.callbacks.onOverflowY.call(b[0]),k.contentReset.x=
null;if((k.contentReset.x||!b[0].mcs)&&k.overflowed[1])h("onOverflowX")&&l.callbacks.onOverflowX.call(b[0]),k.contentReset.x=null;l.snapAmount&&(q=!(l.snapAmount instanceof Array)?l.snapAmount:"x"===g.dir?l.snapAmount[1]:l.snapAmount[0],c=Math.round(c/q)*q-l.snapOffset);switch(g.dir){case "x":var y=a("#mCSB_"+k.idx+"_dragger_horizontal"),w="left",A=p[0].offsetLeft,x=[n.width()-p.outerWidth(!1),y.parent().width()-y.width()],J=[c,0===c?0:c/k.scrollRatio.x],K=u[1],C=H[1],z=0<K?K/k.scrollRatio.x:0,r=
0<C?C/k.scrollRatio.x:0;break;case "y":y=a("#mCSB_"+k.idx+"_dragger_vertical"),w="top",A=p[0].offsetTop,x=[n.height()-p.outerHeight(!1),y.parent().height()-y.height()],J=[c,0===c?0:c/k.scrollRatio.y],K=u[0],C=H[0],z=0<K?K/k.scrollRatio.y:0,r=0<C?C/k.scrollRatio.y:0}0>J[1]||0===J[0]&&0===J[1]?J=[0,0]:J[1]>=x[1]?J=[x[0],x[1]]:J[0]=-J[0];b[0].mcs||(j(),h("onInit")&&l.callbacks.onInit.call(b[0]));clearTimeout(p[0].onCompleteTimeout);D(y[0],w,Math.round(J[1]),m[1],g.scrollEasing);(k.tweenRunning||!(0===
A&&0<=J[0]||A===x[0]&&J[0]<=x[0]))&&D(p[0],w,Math.round(J[0]),m[0],g.scrollEasing,g.overwrite,{onStart:function(){g.callbacks&&(g.onStart&&!k.tweenRunning)&&(h("onScrollStart")&&(j(),l.callbacks.onScrollStart.call(b[0])),k.tweenRunning=!0,G(y),k.cbOffsets=[l.callbacks.alwaysTriggerOffsets||A>=x[0]+K,l.callbacks.alwaysTriggerOffsets||A<=-C])},onUpdate:function(){g.callbacks&&g.onUpdate&&h("whileScrolling")&&(j(),l.callbacks.whileScrolling.call(b[0]))},onComplete:function(){g.callbacks&&g.onComplete&&
("yx"===l.axis&&clearTimeout(p[0].onCompleteTimeout),p[0].onCompleteTimeout=setTimeout(function(){h("onScroll")&&(j(),l.callbacks.onScroll.call(b[0]));h("onTotalScroll")&&(J[1]>=x[1]-z&&k.cbOffsets[0])&&(j(),l.callbacks.onTotalScroll.call(b[0]));h("onTotalScrollBack")&&(J[1]<=r&&k.cbOffsets[1])&&(j(),l.callbacks.onTotalScrollBack.call(b[0]));k.tweenRunning=!1;p[0].idleTimer=0;G(y,"hide")},p[0].idleTimer||0))}})}},D=function(a,b,c,f,g,h,j){function k(){x.stop||(D||n.call(),D=H()-u,l(),D>=x.time&&(x.time=
D>x.time?D+v-(D-x.time):D+v-1,x.time<D+1&&(x.time=D+1)),x.time<f?x.id=A(k):q.call())}function l(){0<f?(x.currVal=m(x.time,y,J,f,g),w[b]=Math.round(x.currVal)+"px"):w[b]=c+"px";p.call()}function m(a,b,c,f,g){switch(g){case "linear":case "mcsLinear":return c*a/f+b;case "mcsLinearOut":return a/=f,a--,c*Math.sqrt(1-a*a)+b;case "easeInOutSmooth":a/=f/2;if(1>a)return c/2*a*a+b;a--;return-c/2*(a*(a-2)-1)+b;case "easeInOutStrong":a/=f/2;if(1>a)return c/2*Math.pow(2,10*(a-1))+b;a--;return c/2*(-Math.pow(2,
-10*a)+2)+b;case "easeInOut":case "mcsEaseInOut":a/=f/2;if(1>a)return c/2*a*a*a+b;a-=2;return c/2*(a*a*a+2)+b;case "easeOutSmooth":return a/=f,a--,-c*(a*a*a*a-1)+b;case "easeOutStrong":return c*(-Math.pow(2,-10*a/f)+1)+b;default:return f=(a/=f)*a,g=f*a,b+c*(0.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a)}}a._mTween||(a._mTween={top:{},left:{}});var j=j||{},n=j.onStart||function(){},p=j.onUpdate||function(){},q=j.onComplete||function(){},u=H(),v,D=0,y=a.offsetTop,w=a.style,A,x=a._mTween[b];"left"===
b&&(y=a.offsetLeft);var J=c-y;x.stop=0;"none"!==h&&null!=x.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(x.id):clearTimeout(x.id),x.id=null);v=1E3/60;x.time=D+v;A=!window.requestAnimationFrame?function(a){l();return setTimeout(a,0.01)}:window.requestAnimationFrame;x.id=A(k)},H=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},
K=function(a,b){try{delete a[b]}catch(c){a[b]=null}},T=function(a){a=a.originalEvent.pointerType;return!(a&&"touch"!==a&&2!==a)},R=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},S=function(a){var b=a.parents(".mCSB_container");return[a.offset().top-b.offset().top,a.offset().left-b.offset().left]};a.fn.mCustomScrollbar=function(b){if(q[b])return q[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return q.init.apply(this,arguments);a.error("Method "+b+" does not exist")};
a.mCustomScrollbar=function(b){if(q[b])return q[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return q.init.apply(this,arguments);a.error("Method "+b+" does not exist")};a.mCustomScrollbar.defaults=g;window.mCustomScrollbar=!0;a(window).load(function(){a(".mCustomScrollbar").mCustomScrollbar();a.extend(a.expr[":"],{mcsInView:a.expr[":"].mcsInView||function(b){var b=a(b),c=b.parents(".mCSB_container"),f;if(c.length)return f=c.parent(),c=[c[0].offsetTop,c[0].offsetLeft],
0<=c[0]+S(b)[0]&&c[0]+S(b)[0]<f.height()-b.outerHeight(!1)&&0<=c[1]+S(b)[1]&&c[1]+S(b)[1]<f.width()-b.outerWidth(!1)},mcsOverflow:a.expr[":"].mcsOverflow||function(b){if(b=a(b).data(f))return b.overflowed[0]||b.overflowed[1]}})})});var Tm=Tm||{};window.bannerScriptLoad=$.Deferred();Tm.BannersController=function(){this.banner_zones=window.banner_zone||[];this.init_js_url=window.banner_zone_init||"";this.firstStart=!0;this.variables={membershipStatus:{name:"hasmembership",value:null},productTypeId:{name:"producttypeid",value:null},searchKeyWord:{name:"keywords",value:null},userHasPaid:{name:"userhaspaid",value:null},npsBannerShow:{name:"npsbannershow",value:null},socap:{name:"socap",value:null}}};
Tm.BannersController.prototype.show=function(){var a=this,b=setInterval(function(){a.firstStart&&(a.firstStart=!a.firstStart,a.getData());a.checkStatuses()&&(clearInterval(b),a.initBanners())},500)};
Tm.BannersController.prototype.initBanners=function(){if(!this.banner_zones.length)return!1;var a=this;if("undefined"!=typeof monsterbundle){var b=new monsterbundle.default.Promotion;_.each(this.banner_zones,function(c){var f=$(c.zone),g=document.createElement("script"),h=document.getElementById("banner_zone_init"),j=f.find("ins");$("#zone_"+c.id).after(f);_.each(a.variables,function(a){var b=new String(a.value);j.attr("data-revive-"+a.name,b.valueOf())});g.src=a.init_js_url;this.async&&(g.async=
!0);h.parentNode.insertBefore(g,h);g.onerror=function(){throw Error("Banner insert script is lost");};window.bannerScriptTrigerred=!1;document.documentElement.addEventListener("bannerScriptLoadEvent",function(){window.promotion=b.run();window.bannerScriptLoad.resolve();window.plasmaBannerScriptTrigerred=!0});!window.plasmaBannerScriptTrigerred&&window.plasmaBannerScriptLoadEvent&&window.bannerScriptLoad.resolve()})}};
Tm.BannersController.prototype.checkStatuses=function(){var a=!0;_.each(this.variables,function(b){null===b.value&&(a=!1)});return a};Tm.BannersController.prototype.getData=function(){this.getMembership_subscribe();this.getType();this.getKeywords();this.getUserHasPaid();this.getNpsBannerShow();this.setSocap()};
Tm.BannersController.prototype.getMembership_subscribe=function(){var a=this;if(!$.cookie("access_token"))return a.variables.membershipStatus.value="0",!0;"undefined"!==typeof monsterbundle?(new monsterbundle.default.MembershipsClient(Tm.Config.memberships.apiUrl.slice(0,-1),this.lang)).getListOfSubscriptions($.cookie("access_token"),{status:"active"}).then(function(b){a.variables.membershipStatus.value=b.length?"1":"0"}).catch(function(){a.variables.membershipStatus.value="0"}):a.variables.membershipStatus.value=
"0"};Tm.BannersController.prototype.getType=function(){this.variables.productTypeId.value=detectPreviewPage()?$(".js-template-id").data("property-type-id")||0:"undefined"!==typeof searchQuery?"undefined"!==typeof searchQuery.pr?1<searchQuery.pr.length?searchQuery.pr.join():tm.collection.plugin.type().model||0:tm.collection.plugin.type().model||0:0};Tm.BannersController.prototype.getKeywords=function(){this.variables.searchKeyWord.value="undefined"!==typeof searchQuery?searchQuery.keywords||"":""};
Tm.BannersController.prototype.setSocap=function(){var a=$.cookie("socialcapfbid");this.variables.socap.value="string"===typeof a?"1":"0"};
Tm.BannersController.prototype.getUserHasPaid=function(){$.cookie("access_token")?$.ajax({url:Tm.Config.orders.apiUrl+"orders",method:"HEAD",headers:{Authorization:$.cookie("access_token")},data:{paid_only:1,status:3},dataType:"json",success:function(a,b,c){a=c.getResponseHeader("X-Pagination-Total-Count");this.variables.userHasPaid.value=0<parseInt(a,10)}.bind(this),error:function(){this.variables.userHasPaid.value=!1}.bind(this)}):this.variables.userHasPaid.value=!1};
Tm.BannersController.prototype.getNpsBannerShow=function(){this.variables.npsBannerShow.value=$.cookie("promotionBanner_nps_vote_closed")?"0":$.cookie("nps-banner-show")?$.cookie("nps-banner-show"):"1"};Tm=Tm||{};Tm.AbstractBanner=function(){};Tm.AbstractBanner.prototype.receiveMessage=function(){};Tm.AbstractBanner.prototype.changePosition=function(){};var goog={object:{},array:{},string:{}};goog.array.ARRAY_PROTOTYPE_=Array.prototype;goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.isDef=function(a){return void 0!==a};
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isString=function(a){return"string"==typeof a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.object.getCount=function(a){var b=0,c;for(c in a)b++;return b};goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};
goog.array.isEmpty=function(a){return 0==a.length};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.isEmptySafe=function(a){return goog.string.isEmpty(goog.string.makeSafe(a))};goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.subs=function(a,b){for(var c=a.split("%s"),f="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)f+=c.shift()+g.shift();return f+c.join("%s")};
goog.array.forEach=function(a,b,c){for(var f=a.length,g=goog.isString(a)?a.split(""):a,h=0;h<f;h++)h in g&&b.call(c,g[h],h,a)};goog.object.forEach=function(a,b,c){for(var f in a)b.call(c,a[f],f,a)};goog.object.getValues=function(a){var b=[],c=0,f;for(f in a)b[c++]=a[f];return b};goog.object.getKeys=function(a){var b=[],c=0,f;for(f in a)b[c++]=f;return b};goog.object.map=function(a,b,c){var f={},g;for(g in a)f[g]=b.call(c,a[g],g,a);return f};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};
goog.object.createSet=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},f=0;f<b;f++)c[arguments[f]]=!0;return c};goog.object.filter=function(a,b,c){var f={},g;for(g in a)b.call(c,a[g],g,a)&&(f[g]=a[g]);return f};goog.isDefAndNotNull=function(a){return null!=a};goog.array.map=function(a,b,c){for(var f=a.length,g=Array(f),h=goog.isString(a)?a.split(""):a,j=0;j<f;j++)j in h&&(g[j]=b.call(c,h[j],j,a));return g};
goog.array.filter=function(a,b,c){for(var f=a.length,g=[],h=0,j=goog.isString(a)?a.split(""):a,k=0;k<f;k++)if(k in j){var l=j[k];b.call(c,l,k,a)&&(g[h++]=l)}return g};goog.array.concat=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.isNumber=function(a){return"number"==typeof a};goog.array.isNumeric=function(a){return goog.array.every(a,function(a){return null!==(""+a).match(/^[0-9]+$/)})};
goog.array.every=function(a,b,c){for(var f=a.length,g=goog.isString(a)?a.split(""):a,h=0;h<f;h++)if(h in g&&!b.call(c,g[h],h,a))return!1;return!0};goog.array.removeDuplicates=function(a,b,c){for(var b=b||a,c=c||function(){return goog.isObject(j)?"o"+goog.getUid(j):(typeof j).charAt(0)+j},f={},g=0,h=0;h<a.length;){var j=a[h++],k=c(j);Object.prototype.hasOwnProperty.call(f,k)||(f[k]=!0,b[g++]=j)}b.length=g};
goog.array.some=function(a,b,c){for(var f=a.length,g=goog.isString(a)?a.split(""):a,h=0;h<f;h++)if(h in g&&b.call(c,g[h],h,a))return!0;return!1};goog.array.find=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndex=function(a,b,c){for(var f=a.length,g=goog.isString(a)?a.split(""):a,h=0;h<f;h++)if(h in g&&b.call(c,g[h],h,a))return h;return-1};
goog.array.bucket=function(a,b,c){for(var f={},g=0;g<a.length;g++){var h=a[g],j=b.call(c,h,g,a);goog.isDef(j)&&(f[j]||(f[j]=[])).push(h)}return f};goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,h){var j=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,j)}};
goog.base=function(a,b,c){var f=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!f)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(f.superClass_)return f.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var g=Array.prototype.slice.call(arguments,2),h=!1,j=a.constructor;j;j=j.superClass_&&j.superClass_.constructor)if(j.prototype[b]===f)h=!0;else if(h)return j.prototype[b].apply(a,
g);if(a[b]===f)return a.constructor.prototype[b].apply(a,g);throw Error("goog.base called from a method of one name to a method of a different name");};goog.object.findKey=function(a,b,c){for(var f in a)if(b.call(c,a[f],f,a))return f};goog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};goog.object.some=function(a,b,c){for(var f in a)if(b.call(c,a[f],f,a))return!0;return!1};
goog.object.getValueByKeys=function(a,b){for(var c=goog.isArrayLike(b),f=c?b:arguments,c=c?0:1;c<f.length&&!(a=a[f[c]],!goog.isDef(a));c++);return a};goog.object.extend=function(a,b){for(var c,f,g=1;g<arguments.length;g++){f=arguments[g];for(c in f)a[c]=f[c];for(var h=0;h<goog.object.PROTOTYPE_FIELDS_.length;h++)c=goog.object.PROTOTYPE_FIELDS_[h],Object.prototype.hasOwnProperty.call(f,c)&&(a[c]=f[c])}};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};
goog.array.indexOf=function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(goog.isString(a))return!goog.isString(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};goog.array.remove=function(a,b){var c=goog.array.indexOf(a,b),f;(f=0<=c)&&goog.array.removeAt(a,c);return f};goog.array.removeAt=function(a,b){return 1==Array.prototype.splice.call(a,b,1).length};
goog.array.reduce=function(a,b,c,f){var g=c;goog.array.forEach(a,function(c,j){g=b.call(f,g,c,j,a)});return g};goog.object.create=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},f=0;f<b;f+=2)c[arguments[f]]=arguments[f+1];return c};
goog.array.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var f=arguments[c];if(goog.isArray(f))for(var g=0;g<f.length;g+=8192)for(var h=goog.array.slice(f,g,g+8192),h=goog.array.flatten.apply(null,h),j=0;j<h.length;j++)b.push(h[j]);else b.push(f)}return b};goog.array.slice=function(a,b,c){return 2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(a,b):goog.array.ARRAY_PROTOTYPE_.slice.call(a,b,c)};goog=goog||{};goog.crypt={};goog.crypt.Md5={};goog.crypt.md5hash=function(a){var b=new goog.crypt.Md5;b.update(a);return goog.crypt.byteArrayToHex(b.digest())};goog.crypt.byteArrayToHex=function(a){return goog.array.map(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};goog.crypt.Md5=function(){this.blockSize=64;this.chain_=Array(4);this.block_=Array(this.blockSize);this.totalLength_=this.blockLength_=0;this.reset()};
goog.crypt.Md5.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.totalLength_=this.blockLength_=0};
goog.crypt.Md5.prototype.compress_=function(a,b){b||(b=0);var c=Array(16);if(goog.isString(a))for(var f=0;16>f;++f)c[f]=a.charCodeAt(b++)|a.charCodeAt(b++)<<8|a.charCodeAt(b++)<<16|a.charCodeAt(b++)<<24;else for(f=0;16>f;++f)c[f]=a[b++]|a[b++]<<8|a[b++]<<16|a[b++]<<24;var f=this.chain_[0],g=this.chain_[1],h=this.chain_[2],j=this.chain_[3],k=0,k=f+(j^g&(h^j))+c[0]+3614090360&4294967295,f=g+(k<<7&4294967295|k>>>25),k=j+(h^f&(g^h))+c[1]+3905402710&4294967295,j=f+(k<<12&4294967295|k>>>20),k=h+(g^j&(f^
g))+c[2]+606105819&4294967295,h=j+(k<<17&4294967295|k>>>15),k=g+(f^h&(j^f))+c[3]+3250441966&4294967295,g=h+(k<<22&4294967295|k>>>10),k=f+(j^g&(h^j))+c[4]+4118548399&4294967295,f=g+(k<<7&4294967295|k>>>25),k=j+(h^f&(g^h))+c[5]+1200080426&4294967295,j=f+(k<<12&4294967295|k>>>20),k=h+(g^j&(f^g))+c[6]+2821735955&4294967295,h=j+(k<<17&4294967295|k>>>15),k=g+(f^h&(j^f))+c[7]+4249261313&4294967295,g=h+(k<<22&4294967295|k>>>10),k=f+(j^g&(h^j))+c[8]+1770035416&4294967295,f=g+(k<<7&4294967295|k>>>25),k=j+(h^
f&(g^h))+c[9]+2336552879&4294967295,j=f+(k<<12&4294967295|k>>>20),k=h+(g^j&(f^g))+c[10]+4294925233&4294967295,h=j+(k<<17&4294967295|k>>>15),k=g+(f^h&(j^f))+c[11]+2304563134&4294967295,g=h+(k<<22&4294967295|k>>>10),k=f+(j^g&(h^j))+c[12]+1804603682&4294967295,f=g+(k<<7&4294967295|k>>>25),k=j+(h^f&(g^h))+c[13]+4254626195&4294967295,j=f+(k<<12&4294967295|k>>>20),k=h+(g^j&(f^g))+c[14]+2792965006&4294967295,h=j+(k<<17&4294967295|k>>>15),k=g+(f^h&(j^f))+c[15]+1236535329&4294967295,g=h+(k<<22&4294967295|
k>>>10),k=f+(h^j&(g^h))+c[1]+4129170786&4294967295,f=g+(k<<5&4294967295|k>>>27),k=j+(g^h&(f^g))+c[6]+3225465664&4294967295,j=f+(k<<9&4294967295|k>>>23),k=h+(f^g&(j^f))+c[11]+643717713&4294967295,h=j+(k<<14&4294967295|k>>>18),k=g+(j^f&(h^j))+c[0]+3921069994&4294967295,g=h+(k<<20&4294967295|k>>>12),k=f+(h^j&(g^h))+c[5]+3593408605&4294967295,f=g+(k<<5&4294967295|k>>>27),k=j+(g^h&(f^g))+c[10]+38016083&4294967295,j=f+(k<<9&4294967295|k>>>23),k=h+(f^g&(j^f))+c[15]+3634488961&4294967295,h=j+(k<<14&4294967295|
k>>>18),k=g+(j^f&(h^j))+c[4]+3889429448&4294967295,g=h+(k<<20&4294967295|k>>>12),k=f+(h^j&(g^h))+c[9]+568446438&4294967295,f=g+(k<<5&4294967295|k>>>27),k=j+(g^h&(f^g))+c[14]+3275163606&4294967295,j=f+(k<<9&4294967295|k>>>23),k=h+(f^g&(j^f))+c[3]+4107603335&4294967295,h=j+(k<<14&4294967295|k>>>18),k=g+(j^f&(h^j))+c[8]+1163531501&4294967295,g=h+(k<<20&4294967295|k>>>12),k=f+(h^j&(g^h))+c[13]+2850285829&4294967295,f=g+(k<<5&4294967295|k>>>27),k=j+(g^h&(f^g))+c[2]+4243563512&4294967295,j=f+(k<<9&4294967295|
k>>>23),k=h+(f^g&(j^f))+c[7]+1735328473&4294967295,h=j+(k<<14&4294967295|k>>>18),k=g+(j^f&(h^j))+c[12]+2368359562&4294967295,g=h+(k<<20&4294967295|k>>>12),k=f+(g^h^j)+c[5]+4294588738&4294967295,f=g+(k<<4&4294967295|k>>>28),k=j+(f^g^h)+c[8]+2272392833&4294967295,j=f+(k<<11&4294967295|k>>>21),k=h+(j^f^g)+c[11]+1839030562&4294967295,h=j+(k<<16&4294967295|k>>>16),k=g+(h^j^f)+c[14]+4259657740&4294967295,g=h+(k<<23&4294967295|k>>>9),k=f+(g^h^j)+c[1]+2763975236&4294967295,f=g+(k<<4&4294967295|k>>>28),k=
j+(f^g^h)+c[4]+1272893353&4294967295,j=f+(k<<11&4294967295|k>>>21),k=h+(j^f^g)+c[7]+4139469664&4294967295,h=j+(k<<16&4294967295|k>>>16),k=g+(h^j^f)+c[10]+3200236656&4294967295,g=h+(k<<23&4294967295|k>>>9),k=f+(g^h^j)+c[13]+681279174&4294967295,f=g+(k<<4&4294967295|k>>>28),k=j+(f^g^h)+c[0]+3936430074&4294967295,j=f+(k<<11&4294967295|k>>>21),k=h+(j^f^g)+c[3]+3572445317&4294967295,h=j+(k<<16&4294967295|k>>>16),k=g+(h^j^f)+c[6]+76029189&4294967295,g=h+(k<<23&4294967295|k>>>9),k=f+(g^h^j)+c[9]+3654602809&
4294967295,f=g+(k<<4&4294967295|k>>>28),k=j+(f^g^h)+c[12]+3873151461&4294967295,j=f+(k<<11&4294967295|k>>>21),k=h+(j^f^g)+c[15]+530742520&4294967295,h=j+(k<<16&4294967295|k>>>16),k=g+(h^j^f)+c[2]+3299628645&4294967295,g=h+(k<<23&4294967295|k>>>9),k=f+(h^(g|~j))+c[0]+4096336452&4294967295,f=g+(k<<6&4294967295|k>>>26),k=j+(g^(f|~h))+c[7]+1126891415&4294967295,j=f+(k<<10&4294967295|k>>>22),k=h+(f^(j|~g))+c[14]+2878612391&4294967295,h=j+(k<<15&4294967295|k>>>17),k=g+(j^(h|~f))+c[5]+4237533241&4294967295,
g=h+(k<<21&4294967295|k>>>11),k=f+(h^(g|~j))+c[12]+1700485571&4294967295,f=g+(k<<6&4294967295|k>>>26),k=j+(g^(f|~h))+c[3]+2399980690&4294967295,j=f+(k<<10&4294967295|k>>>22),k=h+(f^(j|~g))+c[10]+4293915773&4294967295,h=j+(k<<15&4294967295|k>>>17),k=g+(j^(h|~f))+c[1]+2240044497&4294967295,g=h+(k<<21&4294967295|k>>>11),k=f+(h^(g|~j))+c[8]+1873313359&4294967295,f=g+(k<<6&4294967295|k>>>26),k=j+(g^(f|~h))+c[15]+4264355552&4294967295,j=f+(k<<10&4294967295|k>>>22),k=h+(f^(j|~g))+c[6]+2734768916&4294967295,
h=j+(k<<15&4294967295|k>>>17),k=g+(j^(h|~f))+c[13]+1309151649&4294967295,g=h+(k<<21&4294967295|k>>>11),k=f+(h^(g|~j))+c[4]+4149444226&4294967295,f=g+(k<<6&4294967295|k>>>26),k=j+(g^(f|~h))+c[11]+3174756917&4294967295,j=f+(k<<10&4294967295|k>>>22),k=h+(f^(j|~g))+c[2]+718787259&4294967295,h=j+(k<<15&4294967295|k>>>17),k=g+(j^(h|~f))+c[9]+3951481745&4294967295;this.chain_[0]=this.chain_[0]+f&4294967295;this.chain_[1]=this.chain_[1]+(h+(k<<21&4294967295|k>>>11))&4294967295;this.chain_[2]=this.chain_[2]+
h&4294967295;this.chain_[3]=this.chain_[3]+j&4294967295};goog.crypt.Md5.prototype.update=function(a,b){goog.isDef(b)||(b=a.length);for(var c=b-this.blockSize,f=this.block_,g=this.blockLength_,h=0;h<b;){if(0==g)for(;h<=c;)this.compress_(a,h),h+=this.blockSize;if(goog.isString(a))for(;h<b;){if(f[g++]=a.charCodeAt(h++),g==this.blockSize){this.compress_(f);g=0;break}}else for(;h<b;)if(f[g++]=a[h++],g==this.blockSize){this.compress_(f);g=0;break}}this.blockLength_=g;this.totalLength_+=b};
goog.crypt.Md5.prototype.digest=function(){var a=Array((56>this.blockLength_?this.blockSize:2*this.blockSize)-this.blockLength_);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;for(var c=8*this.totalLength_,b=a.length-8;b<a.length;++b)a[b]=c&255,c/=256;this.update(a);a=Array(16);for(b=c=0;4>b;++b)for(var f=0;32>f;f+=8)a[c++]=this.chain_[b]>>>f&255;return a};$(document).datetimepicker.defaults.lang="en";$(document).datetimepicker.defaults.lang=$(document).datetimepicker.defaults.lang;var tm=tm||{},Tm=Tm||{};tm.index=tm.index||{};var appDic=new ServiceKernel;(function(){function a(a){return function(){return this[a]}}function b(a){return function(){return a}}function c(a,b,c){a=a.split(".");c=c||kd;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var f;a.length&&(f=a.shift());)!a.length&&b!==pb?c[f]=b:c=c[f]?c[f]:c[f]={}}function f(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==
typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function g(a){return"array"==f(a)}function h(a){return"string"==typeof a}function j(a){var b=typeof a;return"object"==b&&a!=
E||"function"==b}function k(a,b,c){return a.call.apply(a.bind,arguments)}function l(a,b,c){if(!a)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,f);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function u(a,b,c){u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:l;return u.apply(E,arguments)}function p(a,b){c(a,
b,pb)}function q(a,b){function c(){}c.prototype=b.prototype;a.O=b.prototype;a.prototype=new c}function n(a,b){a!=E&&this.append.apply(this,arguments)}function A(a,b,c){for(var f in a)b.call(c,a[f],f,a)}function I(a){var b=[],c=0,f;for(f in a)b[c++]=a[f];return b}function w(a){var b=[],c=0,f;for(f in a)b[c++]=f;return b}function G(a,b){for(var c,f,g=1;g<arguments.length;g++){f=arguments[g];for(c in f)a[c]=f[c];for(var h=0;h<fd.length;h++)c=fd[h],Object.prototype.hasOwnProperty.call(f,c)&&(a[c]=f[c])}}
function m(a){return E===a||qb===a||pb===a||0===a?M:B(a)?0===x(a):qb}function C(a,b){G.apply(E,Array.prototype.slice.call(arguments,0));return a}function z(a,b,c,h,k){h=h||"any";k=k!==pb?k:qb;if(!j(a)&&!g(a))return k?qb:E;if(b in a){if("array"!==h&&"function"==f(a[b]))return k?M:a[b].apply(a,c||[]);if("method"!==h)return k?M:a[b]}if("array"===h||g(a))return k?qb:E;var b=b.toLowerCase(),l="get"+b,m="is"+b,n;a:{b=function(a,b){b=b.toLowerCase();return b===l||b===m};for(n in a)if(b.call(pb,0,n))break a;
n=pb}return n&&"function"==f(a[n])?k?M:a[n].apply(a,c||[]):k?qb:E}function B(a){return g(a)||h(a)||j(a)}function x(a){if(g(a))a=a.length;else if(h(a))a=a.length;else if(j(a)){var b=0,c;for(c in a)b++;a=b}else a=("number"===typeof a?a.toString():"").length;return a}function J(a,b,c){g(a)?gd(a,b,c):A(a,b,c)}function P(a){return a.replace(/[\.\\+*?\[\]<>(){}^$=!|:-]/g,"\\$&")}function v(a){this.N=a;this.e=[];this.o={}}function N(a){this.s=a}function L(a,b){for(var c in b){var f;f=P(c);a=a.replace(RegExp(f,
"g"),b[c])}return a}function y(a,b,c,f,g){if(g&&b instanceof N)return b.toString();b=b==E?"":String(b);if(nd===c){a=String(b);if(a.quote)b=a.quote();else{b=['"'];for(c=0;c<a.length;c++){var h=a.charAt(c),j=h.charCodeAt(0),f=b,g=c+1,k;if(!(k=Vb[h])){if(!(31<j&&127>j))if(h in Ec)h=Ec[h];else if(h in Vb)h=Ec[h]=Vb[h];else{k=h.charCodeAt(0);if(31<k&&127>k)j=h;else{if(256>k){if(j="\\x",16>k||256<k)j+="0"}else j="\\u",4096>k&&(j+="0");j+=k.toString(16).toUpperCase()}h=Ec[h]=j}k=h}f[g]=k}b.push('"');b=b.join("")}return b.substring(1,
b.length-1)}if(!c||Qc===c)return a=b,rc.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(ld,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(Jb,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace($c,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Ic,"&quot;"))),a;if(dd===c)return encodeURIComponent(b);throw Error("The type '"+c+"' is not supported.");}function O(a,b){return g(b)?b[0]:j(b)?b[Object.keys(b)[0]]:h(b)?b.charAt(0):""}function D(a,b){if(g(b))return b[b.length-1];if(j(b)){var c=Object.keys(b);return b[c[c.length-1]]}return h(b)?
b.charAt(b.length-1):""}function H(){this.c={};this.i={};this.j={};this.n={};this.h={};this.f={};this.q=qb;this.M="UTF-8"}function K(a){v.call(this,a)}function T(a){v.call(this,a)}function R(a){v.call(this,a)}function S(a){v.call(this,a)}function Q(a){v.call(this,a)}function U(a){v.call(this,a)}function na(a){v.call(this,a)}function Y(a){v.call(this,a)}function ia(a){v.call(this,a)}function ba(a){v.call(this,a)}function ua(a){v.call(this,a)}function ec(a){v.call(this,a)}function X(a){v.call(this,
a)}function fc(a){v.call(this,a)}function Wb(a){v.call(this,a)}function gc(a){v.call(this,a)}function Nb(a){v.call(this,a)}function Xa(a){v.call(this,a)}function Xb(a){v.call(this,a)}function Ya(a){v.call(this,a)}function Oa(a){v.call(this,a)}function rb(a){v.call(this,a)}function sb(a){v.call(this,a)}function Ja(a){v.call(this,a)}function Ka(a){v.call(this,a)}function r(a){v.call(this,a)}function la(a){v.call(this,a)}function ha(a){v.call(this,a)}function da(a){v.call(this,a)}function Pa(a){v.call(this,
a)}function ra(a){v.call(this,a)}function Ea(a){v.call(this,a)}function wa(a){v.call(this,a)}function Fa(a){v.call(this,a)}function tb(a){v.call(this,a)}function W(a){v.call(this,a)}function ea(a){v.call(this,a)}function fa(a){v.call(this,a)}function ja(a){v.call(this,a)}function Za(a){v.call(this,a)}function Ca(a){v.call(this,a)}function ca(a){v.call(this,a)}function ab(a){v.call(this,a)}function qa(a){v.call(this,a)}function oa(a){v.call(this,a)}function Ta(a){v.call(this,a)}function Da(a){v.call(this,
a)}function jc(a){v.call(this,a)}function sc(a){v.call(this,a)}function bb(a){v.call(this,a)}function xa(a){v.call(this,a)}function ub(a){v.call(this,a)}function vb(a){v.call(this,a)}function kc(a){v.call(this,a)}function lc(a){v.call(this,a)}function Pb(a){v.call(this,a)}function Zb(a){v.call(this,a)}function $b(a){v.call(this,a)}function Ab(a){v.call(this,a)}function ma(a){v.call(this,a)}function yb(a){v.call(this,a)}function aa(a){v.call(this,a)}function ta(a){v.call(this,a)}function Ha(a){v.call(this,
a)}function La(a){v.call(this,a)}function zb(a){v.call(this,a)}function Ia(a){v.call(this,a)}function Ra(a){v.call(this,a)}function sa(a){v.call(this,a)}function Aa(a){v.call(this,a)}function ya(a){v.call(this,a)}function za(a){v.call(this,a)}function nb(a){v.call(this,a)}function Bb(a){v.call(this,a)}function ib(a){v.call(this,a)}function pa(a){v.call(this,a)}function Qa(a){v.call(this,a)}function Ga(a){v.call(this,a)}function xb(a){v.call(this,a)}function Va(a){v.call(this,a)}function Ma(a){v.call(this,
a)}function mc(a){v.call(this,a)}function ob(a){v.call(this,a)}function Qb(a){v.call(this,a)}function Ua(a){v.call(this,a)}function ac(a){v.call(this,a)}function Na(a){v.call(this,a)}function tc(a){v.call(this,a)}function Cb(a){v.call(this,a)}function $a(a){v.call(this,a)}function Db(a){v.call(this,a)}function mb(a){v.call(this,a)}function Eb(a){v.call(this,a)}function nc(a){v.call(this,a)}function Rb(a){v.call(this,a)}function wb(a){v.call(this,a)}function Ob(a){v.call(this,a)}function Yb(a){v.call(this,
a)}function jb(a){v.call(this,a)}function uc(a){v.call(this,a)}function vc(a){v.call(this,a)}function oc(a){v.call(this,a)}function lb(a){v.call(this,a)}function Wa(a){v.call(this,a)}function hc(a){v.call(this,a)}function wc(a){v.call(this,a)}function pc(a){v.call(this,a)}function ic(a){v.call(this,a)}function kb(a){v.call(this,a)}function Sa(a){v.call(this,a)}function Fb(a){v.call(this,a)}function bc(a){v.call(this,a)}function cc(a){v.call(this,a)}function Z(a){v.call(this,a)}function Gb(a){v.call(this,
a)}function cb(a){v.call(this,a)}function va(a){v.call(this,a)}function db(a){v.call(this,a)}function Sb(a){v.call(this,a)}function eb(a){v.call(this,a)}function Ba(a){v.call(this,a)}function qc(a){v.call(this,a)}function gb(a){v.call(this,a)}function V(a){v.call(this,a)}function Hb(a){v.call(this,a)}function Ub(a){v.call(this,a)}function dc(a){v.call(this,a)}function Kb(a){v.call(this,a)}function Ib(a){v.call(this,a)}function Lb(a){v.call(this,a)}function xc(a){v.call(this,a)}function yc(a){v.call(this,
a)}function zc(a){v.call(this,a)}function Mb(a){v.call(this,a)}function Tb(a){v.call(this,a)}function Ac(a){v.call(this,a)}function Bc(a){v.call(this,a)}function Sc(a){v.call(this,a)}function Tc(a){v.call(this,a)}function Jc(a){v.call(this,a)}function Kc(a){v.call(this,a)}function Pc(a){v.call(this,a)}function Uc(a){v.call(this,a)}function Lc(a){v.call(this,a)}function Vc(a){v.call(this,a)}function Gc(a){v.call(this,a)}function Wc(a){v.call(this,a)}function Mc(a){v.call(this,a)}function Cc(a){v.call(this,
a)}function Nc(a){v.call(this,a)}var pb=void 0,M=!0,E=null,qb=!1,ka,kd=this,Dc="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),cd=0,ld=/&/g,Jb=/</g,$c=/>/g,Ic=/\"/g,rc=/[&<>\"]/,Vb={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},Ec={"'":"\\'"};n.prototype.d="";n.prototype.append=function(a,b,c){this.d+=a;if(b!=E)for(var f=1;f<arguments.length;f++)this.d+=arguments[f];return this};n.prototype.toString=a("d");var fd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),
Xc=Array.prototype,md=Xc.indexOf?function(a,b,c){return Xc.indexOf.call(a,b,c)}:function(a,b,c){c=c==E?0:0>c?Math.max(0,a.length+c):c;if(h(a))return!h(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},gd=Xc.forEach?function(a,b,c){Xc.forEach.call(a,b,c)}:function(a,b,c){for(var f=a.length,g=h(a)?a.split(""):a,j=0;j<f;j++)j in g&&b.call(c,g[j],j,a)},id=u,Dc="twig_ui_"+Math.floor(2147483648*Math.random()).toString(36);ka=v.prototype;ka.t=a("e");ka.D=function(a){this.e=
a};ka.L=function(a){this.o=a};ka.getParent=b(qb);ka.C=function(a,b,c){if(a in this.o){var f=new n;this.o[a](f,b,c||{});return f.toString()}f=this.getParent(b);if(qb!==f)return f.m(a,b,c);throw Error("The template '"+this.a()+"' has no parent, and no trait defining the block '"+a+"'.");};ka.m=function(a,b,c){if(c&&a in c){var f=new n,g=c[a];delete c[a];g(f,b,c);return f.toString()}if(a in this.e)return f=new n,this.e[a](f,b,c||E),f.toString();f=this.getParent(b);return qb!==f?f.m(a,b,c):""};ka.l=function(a,
b){var c=new n;this.b(c,a||{},b||{});return c.toString()};ka.r=function(a,b,c,f){if(!a["get"+b])throw Error("The macro "+b+" is not defined in "+a.a()+".");if(f===pb)return a["get"+b].apply(a,c);throw Error("Positional arguments, or default values in macro arguments are not supported, yet.");};N.prototype.toString=a("s");var Qc="html",nd="js",dd="url";ka=H.prototype;ka.l=function(a,b){var c=this.g(a);return c.l.call(c,C({},this.f,b||{}))};ka.filter=function(a,b,c){if(!(a in this.i))throw Error("The filter '"+
a+"' does not exist.");return this.i[a].apply(E,Array.prototype.slice.call(arguments,1))};ka.z=function(a,b,c){if(!(a in this.j))throw Error("The function '"+a+"' does not exist.");return this.j[a].apply(E,Array.prototype.slice.call(arguments,1))};ka.test=function(a,b,c){if(!(a in this.n))throw Error("The test '"+a+"' does not exist.");return this.n[a].apply(E,Array.prototype.slice.call(arguments,1))};ka.escape=function(a,b,c,f){return y(0,a,b,0,f)};ka.A=function(a,b,c){var f=this.g(a),g=f["get"+
b];if(!g)throw Error("The macro '"+b+"' does not exist on template '"+f.a()+"'.");return g.apply(f,Array.prototype.slice.call(arguments,2)).toString()};ka.G=function(a,b){this.i[a]=b};ka.H=function(a,b){this.j[a]=b};ka.K=function(a,b){this.n[a]=b};ka.J=function(a){this.f=a};ka.I=function(a,b){this.f[a]=b};ka.v=a("f");ka.k=function(){this.q=M;A(this.c,function(a){a.k()},this)};ka.w=function(a){return a in this.c};ka.getExtension=function(a){if(!(a in this.c))throw Error('The "'+a+'" extension is not enabled.');
return this.c[a]};ka.p=function(a){this.c[a.getName()]=a};ka.B=function(a){delete this.c[a]};ka.F=function(a){A(a,function(a){this.p(a)})};ka.u=a("c");ka.g=function(a){var b=a[Dc]||(a[Dc]=++cd);if(b in this.h)return this.h[b];qb===this.q&&this.k();a=new a(this);return this.h[b]=a};window.Twig=new H;p("goog.provide",function(a){c(a)});p("goog.require",function(){});p("twig.attr",z);p("twig.bind",id);p("twig.inherits",q);p("twig.extend",C);p("twig.spaceless",function(a){return a.replace(/>[\s\xa0]+</g,
"><").replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")});p("twig.range",function(a,b){for(var c=[];a<=b;a+=1)c.push(a);return c});p("twig.contains",function(a,b){var c;if(g(a))c=0<=md(a,b);else if(h(a))c=-1!=a.indexOf(b)&&(""!==b||""===a);else a:{for(c in a)if(a[c]==b){c=M;break a}c=qb}return c});p("twig.countable",B);p("twig.count",x);p("twig.forEach",J);p("twig.empty",m);p("twig.createObj",function(a){for(var b={},c=0;c<arguments.length;c+=2)b[arguments[c]]=arguments[c+1];return b});p("twig.pregQuote",P);p("twig.filter.capitalize",
function(a,b){return b.charAt(0).toUpperCase()+b.substring(1)});p("twig.filter.escape",y);p("twig.filter.first",O);p("twig.filter.length",function(a,b){return x(b)});p("twig.filter.def",function(a,b){return m(a)?b||"":a});p("twig.filter.replace",L);p("twig.filter.join",function(a,b){var c=b||"",f=new n,g=M;J(a,function(a){g||f.append(c);g=qb;f.append(a)});return f.toString()});p("twig.filter.keys",w);p("twig.filter.upper",function(a,b){return b.toUpperCase()});p("twig.filter.lower",function(a,b){return b.toLowerCase()});
p("twig.filter.nl2br",function(a){return a.replace(/\n/g,"<br />")});p("twig.filter.abs",function(a){return Math.abs(a)});p("twig.filter.title",function(a,b){return b.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}).join(" ")});p("twig.filter.trim",function(a,b){var c="\n ";b&&(c=P(b));a=a.replace(RegExp("^["+c+"]+"),"");return a.replace(RegExp("["+c+"]+$"),"")});p("twig.filter.json_encode",function(a){return JSON.stringify(a)});p("twig.filter.last",D);p("twig.filter.reverse",
function(a,b){if(g(b))return b.reverse();if(j(b)){for(var c={},f=w(b).reverse(),k=0;k<f.length;k++)c[f[k]]=b[f[k]];return c}return h(b)?b.split("").reverse().join(""):b});p("twig.filter.batch",function(a,b,c){for(var f=Array(Math.ceil(a.length/b)),g=f.length*b,j=0;j<g;j++){var k=Math.floor(j/b);"undefined"===typeof f[k]&&(f[k]=[]);"undefined"!==typeof a[j]?f[k].push(a[j]):h(c)&&f[k].push(c)}return f});p("twig.filter.merge",function(a,b){var c=[];if(g(a)&&g(b)){for(var f=c=a.concat(b),h={},k=0,l=0;l<
f.length;){var m=f[l++],n=j(m)?"o"+(m[Dc]||(m[Dc]=++cd)):(typeof m).charAt(0)+m;Object.prototype.hasOwnProperty.call(h,n)||(h[n]=M,f[k++]=m)}f.length=k}else if(j(a)&&j(b)){f={};for(h in a)f[h]=a[h];c=f;A(b,function(a,b){c[b]=a})}return c});p("twig.functions.max",function(a){return g(a)?Math.max.apply(E,a):j(a)?Math.max.apply(E,I(a)):Math.max.apply(E,arguments)});p("twig.functions.min",function(a){return g(a)?Math.min.apply(E,a):j(a)?Math.min.apply(E,I(a)):Math.min.apply(E,arguments)});p("twig.functions.random",
function(a,b){return g(b)||h(b)?b[Math.floor(Math.random()*b.length)]:"number"==typeof b?Math.floor(Math.random()*b):b===E||"undefined"===typeof b?Math.floor(2147483647*Math.random()):""});p("twig.StringBuffer",n);n.prototype.append=n.prototype.append;n.prototype.toString=n.prototype.toString;p("twig.Environment",H);H.prototype.createTemplate=H.prototype.g;H.prototype.filter=H.prototype.filter;H.prototype.invoke=H.prototype.z;H.prototype.test=H.prototype.test;H.prototype.escape=H.prototype.escape;
H.prototype.macro=H.prototype.A;H.prototype.setFilter=H.prototype.G;H.prototype.setFunction=H.prototype.H;H.prototype.setTest=H.prototype.K;H.prototype.render=H.prototype.l;H.prototype.getGlobals=H.prototype.v;H.prototype.setGlobals=H.prototype.J;H.prototype.setGlobal=H.prototype.I;H.prototype.initRuntime=H.prototype.k;H.prototype.hasExtension=H.prototype.w;H.prototype.getExtension=H.prototype.getExtension;H.prototype.addExtension=H.prototype.p;H.prototype.removeExtension=H.prototype.B;H.prototype.setExtensions=
H.prototype.F;H.prototype.getExtensions=H.prototype.u;p("twig.Template",v);v.prototype.setTraits=v.prototype.L;v.prototype.setBlocks=v.prototype.D;v.prototype.getBlocks=v.prototype.t;v.prototype.renderParentBlock=v.prototype.C;v.prototype.renderBlock=v.prototype.m;v.prototype.callMacro=v.prototype.r;p("twig.Markup",N);q(K,v);K.prototype.b=function(a,b){"searchByKeyword"in b&&b.searchByKeyword?(a.append('                                <h1 class="search-heading js-keywords-found" itemprop="name" data-count="'),
a.append(y(0,"templateTotalFound"in b?b.templateTotalFound:E,"html",0,M)),a.append('">We found <span class="num">'),a.append(y(0,"templateTotalFound"in b?b.templateTotalFound:E,"html",0,M)),a.append('</span> result(s) for "<span class="js-keywords">'),a.append(y(0,"keywords"in b?b.keywords:E,"html",0,M)),a.append('</span>"</h1>\n                            ')):"needsRendering"in b&&b.needsRendering||!("contentTitle"in b&&b.contentTitle)?(a.append('                                <h1 class="search-heading js-keywords-found" itemprop="name" data-count="'),
a.append(y(0,"templateTotalFound"in b?b.templateTotalFound:E,"html",0,M)),a.append('">We found <span class="num">'),a.append(y(0,"templateTotalFound"in b?b.templateTotalFound:E,"html",0,M)),a.append("</span> result(s)</h1>\n                            ")):(a.append('                                <h1 class="search-heading js-keywords-found" itemprop="name" data-count="'),a.append(y(0,"templateTotalFound"in b?b.templateTotalFound:E,"html",0,M)),a.append('">'),a.append(y(0,"contentTitle"in b?b.contentTitle:
E,"html",0,M)),a.append('</h1>\n                                <span class="num">('),a.append(y(0,"templateTotalFound"in b?b.templateTotalFound:E,"html",0,M)),a.append(")</span>\n                            "))};K.prototype.a=b("search_h1");p("search_h1",K);q(T,v);T.prototype.b=function(a,b){a.append('<div class="page_divider" id="page');a.append(y(0,"page"in b?b.page:E,"html",0,M));a.append('"><span>Page ');a.append(y(0,"page"in b?b.page:E,"html",0,M));a.append("</span></div>")};T.prototype.a=b("page_divider");
p("page_divider",T);q(R,v);R.prototype.b=function(a,b){a.append('<a href="#">+ See All ');a.append(y(0,"count"in b?b.count:E,"html",0,M));a.append(" Categories</a>")};R.prototype.a=b("topicSeeAll");p("topicSeeAll",R);q(S,v);S.prototype.b=function(a){a.append('<a href="#">&ndash; See Fewer Categories</a>')};S.prototype.a=b("topicSeeFewer");p("topicSeeFewer",S);q(Q,v);Q.prototype.b=function(a,b){a.append('<li id="bestseller-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n    <ins class="jstree-icon">&nbsp;</ins>\n    <a href="#" class="">\n        <ins class="jstree-checkbox svg icon-checkbox">&nbsp;</ins>\n        <ins class="jstree-icon">&nbsp;</ins>\n        ');
a.append(y(0,"title"in b?b.title:E,"html",0,M));a.append("<span>");a.append(y(0,"count"in b?b.count:E,"html",0,M));a.append("</span></a></li>")};Q.prototype.a=b("typeBestseller");p("typeBestseller",Q);q(U,v);U.prototype.b=function(a,b){a.append('<li id="bestseller-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n    <a href="#" class="">\n        ');a.append(y(0,"title"in b?b.title:E,"html",0,M));a.append("<span>");a.append(y(0,"count"in b?b.count:E,"html",0,M));a.append("</span></a></li>")};
U.prototype.a=b("typeBestsellerNoCheckboxes");p("typeBestsellerNoCheckboxes",U);q(na,v);na.prototype.b=function(a,b){if("(0)"!=("count"in b?b.count:E))a.append('    <li data-true-prop="'),a.append(y(0,"id"in b?b.id:E,"html",0,M)),a.append('">\n        <ins class="jstree-icon">&nbsp;</ins>\n        <a href="#" class="">\n            <ins class="jstree-checkbox svg icon-checkbox">&nbsp;</ins>\n            <ins class="jstree-icon">&nbsp;</ins>\n            '),a.append(y(0,"title"in b?b.title:E,"html",
0,M)),a.append("<span>"),a.append(y(0,"count"in b?b.count:E,"html",0,M)),a.append("</span>\n        </a>\n    </li>\n")};na.prototype.a=b("topFeature");p("topFeature",na);q(Y,v);Y.prototype.b=function(a){a.append("Please enter %s")};Y.prototype.a=b("pleaseEnter");p("pleaseEnter",Y);q(ia,v);ia.prototype.b=function(a){a.append("year")};ia.prototype.a=b("getYearText");p("getYearText",ia);q(ba,v);ba.prototype.b=function(a){a.append("Please enter your email")};ba.prototype.a=b("pleaseEnterEmail");p("pleaseEnterEmail",
ba);q(ua,v);ua.prototype.b=function(a){a.append("Please enter your password")};ua.prototype.a=b("pleaseEnterPassword");p("pleaseEnterPassword",ua);q(ec,v);ec.prototype.b=function(a){a.append("Server Error!")};ec.prototype.a=b("serverError");p("serverError",ec);q(X,v);X.prototype.b=function(a){a.append("Session is expired, please sign in again")};X.prototype.a=b("sessionExpired");p("sessionExpired",X);q(fc,v);fc.prototype.b=function(a){a.append("/cart.php")};fc.prototype.a=b("pageCartUrl");p("pageCartUrl",
fc);q(Wb,v);Wb.prototype.b=function(a){a.append("/templates.php")};Wb.prototype.a=b("pageSearchUrl");p("pageSearchUrl",Wb);q(gc,v);gc.prototype.b=function(){};gc.prototype.a=b("tmRoot");p("tmRoot",gc);q(Nb,v);Nb.prototype.b=function(a){a.append("Shopping Cart Is Empty")};Nb.prototype.a=b("messageShoppingCartIsEmpty");p("messageShoppingCartIsEmpty",Nb);q(Xa,v);Xa.prototype.b=function(a){a.append("Item")};Xa.prototype.a=b("cartItem");p("cartItem",Xa);q(Xb,v);Xb.prototype.b=function(a){a.append("items")};
Xb.prototype.a=b("cartItems");p("cartItems",Xb);q(Ya,v);Ya.prototype.b=function(a){a.append("Added to Cart")};Ya.prototype.a=b("messageAddedToCart");p("messageAddedToCart",Ya);q(Oa,v);Oa.prototype.b=function(a){a.append("Added")};Oa.prototype.a=b("messageAdded");p("messageAdded",Oa);q(rb,v);rb.prototype.b=function(a){a.append("added")};rb.prototype.a=b("messageAddedLC");p("messageAddedLC",rb);q(sb,v);sb.prototype.b=function(a){a.append("Add to Cart")};sb.prototype.a=b("messageAddToCart");p("messageAddToCart",
sb);q(Ja,v);Ja.prototype.b=function(a){a.append("add to cart")};Ja.prototype.a=b("messageAddToCartLC");p("messageAddToCartLC",Ja);q(Ka,v);Ka.prototype.b=function(a){a.append("The server is temporarily unavailable")};Ka.prototype.a=b("messageServerTempUnavailable");p("messageServerTempUnavailable",Ka);q(r,v);r.prototype.b=function(a){a.append("Error creating order")};r.prototype.a=b("messageErrorCreatingOrder");p("messageErrorCreatingOrder",r);q(la,v);la.prototype.b=function(a){a.append("You are not authorized to perform the current operation.<br/>Redirecting to login page...")};
la.prototype.a=b("accountNotAuthorized");p("accountNotAuthorized",la);q(ha,v);ha.prototype.b=function(a){a.append("JAJAX url not set")};ha.prototype.a=b("jajaxUrlError");p("jajaxUrlError",ha);q(da,v);da.prototype.b=function(a){a.append("loading")};da.prototype.a=b("messageLoading");p("messageLoading",da);q(Pa,v);Pa.prototype.b=function(a){a.append("Method does not exist on jQuery.tooltip")};Pa.prototype.a=b("jqueryMethodNotExist");p("jqueryMethodNotExist",Pa);q(ra,v);ra.prototype.b=function(a){a.append("No data available")};
ra.prototype.a=b("noDataAvailable");p("noDataAvailable",ra);q(Ea,v);Ea.prototype.b=function(a){a.append("Previous page")};Ea.prototype.a=b("messagePreviousPage");p("messagePreviousPage",Ea);q(wa,v);wa.prototype.b=function(a){a.append("Page")};wa.prototype.a=b("messagePage");p("messagePage",wa);q(Fa,v);Fa.prototype.b=function(a){a.append("View all %s templates")};Fa.prototype.a=b("messageWizardButtonResult");p("messageWizardButtonResult",Fa);q(tb,v);tb.prototype.b=function(a){a.append("Show More")};
tb.prototype.a=b("messageShowMore");p("messageShowMore",tb);q(W,v);W.prototype.b=function(a){a.append("Show Less")};W.prototype.a=b("messageShowLess");p("messageShowLess",W);q(ea,v);ea.prototype.b=function(a){a.append("Sale")};ea.prototype.a=b("messageBadgeSale");p("messageBadgeSale",ea);q(fa,v);fa.prototype.b=function(a){a.append("On Facebook")};fa.prototype.a=b("messageOnFacebook");p("messageOnFacebook",fa);q(ja,v);ja.prototype.b=function(a){a.append("On Twitter")};ja.prototype.a=b("messageOnTwitter");
p("messageOnTwitter",ja);q(Za,v);Za.prototype.b=function(a){a.append("On Google+")};Za.prototype.a=b("messageOnGooglePlus");p("messageOnGooglePlus",Za);q(Ca,v);Ca.prototype.b=function(a){a.append("On Pinterest")};Ca.prototype.a=b("messageOnPinterest");p("messageOnPinterest",Ca);q(ca,v);ca.prototype.b=function(a){a.append("Start enter country")};ca.prototype.a=b("searchPhoneInputPlaceholder");p("searchPhoneInputPlaceholder",ca);q(ab,v);ab.prototype.b=function(a){a.append("Previous review")};ab.prototype.a=
b("tooltipReviewsPreview");p("tooltipReviewsPreview",ab);q(qa,v);qa.prototype.b=function(a){a.append("Next review")};qa.prototype.a=b("tooltipReviewsNext");p("tooltipReviewsNext",qa);q(oa,v);oa.prototype.b=function(a){a.append("##%")};oa.prototype.a=b("percentLocation");p("percentLocation",oa);q(Ta,v);Ta.prototype.b=function(a){a.append("Your Price")};Ta.prototype.a=b("yourPrice");p("yourPrice",Ta);q(Da,v);Da.prototype.b=function(a){a.append("Old Price")};Da.prototype.a=b("oldPrice");p("oldPrice",
Da);q(jc,v);jc.prototype.b=function(a){a.append("You Save")};jc.prototype.a=b("youSave");p("youSave",jc);q(sc,v);sc.prototype.b=function(a){a.append("%d% off")};sc.prototype.a=b("discount");p("discount",sc);q(bb,v);bb.prototype.b=function(a){a.append("Previous product")};bb.prototype.a=b("previousProduct");p("previousProduct",bb);q(xa,v);xa.prototype.b=function(a){a.append("Next product")};xa.prototype.a=b("nextProduct");p("nextProduct",xa);q(ub,v);ub.prototype.b=function(a){a.append("hours")};ub.prototype.a=
b("hours");p("hours",ub);q(vb,v);vb.prototype.b=function(a){a.append("minutes")};vb.prototype.a=b("minutes");p("minutes",vb);q(kc,v);kc.prototype.b=function(a){a.append("seconds")};kc.prototype.a=b("t_seconds");p("t_seconds",kc);q(lc,v);lc.prototype.b=function(a){a.append("Go to %s")};lc.prototype.a=b("messageGoToMail");p("messageGoToMail",lc);q(Pb,v);Pb.prototype.b=function(a){a.append("Hurry up! It&apos;s a limited time proposition.")};Pb.prototype.a=b("hurryOn");p("hurryOn",Pb);q(Zb,v);Zb.prototype.b=
function(a){a.append('Save <span class="highlighted"><b class="percent">%d</b>% OFF</span> on this product')};Zb.prototype.a=b("productOfTheDayWith");p("productOfTheDayWith",Zb);q($b,v);$b.prototype.b=function(a){a.append("days")};$b.prototype.a=b("days");p("days",$b);q(Ab,v);Ab.prototype.b=function(a){a.append("hrs")};Ab.prototype.a=b("hrs");p("hrs",Ab);q(ma,v);ma.prototype.b=function(a){a.append("min")};ma.prototype.a=b("min");p("min",ma);q(yb,v);yb.prototype.b=function(a){a.append("sec")};yb.prototype.a=
b("sec");p("sec",yb);q(aa,v);aa.prototype.b=function(a){a.append("Hold to show password")};aa.prototype.a=b("holdToShowPassword");p("holdToShowPassword",aa);q(ta,v);ta.prototype.b=function(a){a.append("\u0421lose")};ta.prototype.a=b("closeText");p("closeText",ta);q(Ha,v);Ha.prototype.b=function(a){a.append("Hide bar")};Ha.prototype.a=b("toggleText");p("toggleText",Ha);q(La,v);La.prototype.b=function(a,b){a.append('<div class="suggested-item js-suggested-item  js-btn link-click" data-href="');a.append(y(0,
"url"in b?b.url:E,"html",0,M));a.append('" data-target="_blank">\n    <div class="suggested-item-icon grow-2 svg tm-icon ');a.append(y(0,"icon"in b?b.icon:E,"html",0,M));a.append('"></div>\n    <div class="suggested-item-info grow-1">\n        <div class="suggested-item-name"><strong class="tt-highlight">');a.append("name"in b?b.name:E);a.append('</strong></div>\n        <div class="suggested-item-descr">');a.append(y(0,"descr"in b?b.descr:E,"html",0,M));a.append('</div>\n    </div>\n    <div class="suggested-item-additional">\n        <span class="suggestion-count">');
a.append(y(0,"count"in b?b.count:E,"html",0,M));a.append("</span>\n    </div>\n</div>")};La.prototype.a=b("panel_item_search");p("panel_item_search",La);q(zb,v);zb.prototype.b=function(a,b){a.append('<div class="suggested-item js-suggested-item js-btn link-click" data-tid="');a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('"\n     data-js_icon="');a.append(y(0,"icon"in b?b.icon:E,"html",0,M));a.append('"\n     data-url="');a.append(y(0,"url"in b?b.url:E,"html",0,M));a.append('"\n     data-name="');
a.append(y(0,"name"in b?b.name:E,"html",0,M));a.append('"\n     data-descr="');a.append(y(0,"descr"in b?b.descr:E,"html",0,M));a.append('"\n     data-license="');a.append(y(0,"license"in b?b.license:E,"html",0,M));a.append('"\n     data-price="');a.append("price"in b?b.price:E);a.append('"\n     data-href="');a.append(y(0,"url"in b?b.url:E,"html",0,M));a.append('"\n     data-element_id="');a.append(y(0,"element_id"in b?b.element_id:E,"html",0,M));a.append('"\n     data-target="_blank"\n>\n    <img class="suggested-item-icon grow-2" src="');
a.append(y(0,"icon"in b?b.icon:E,"html",0,M));a.append('">\n    <div class="suggested-item-info grow-1">\n        <div class="suggested-item-name "><strong class="tt-highlight">');a.append("name"in b?b.name:E);a.append('</strong></div>\n        <div class="suggested-item-descr">');a.append("descr"in b?b.descr:E);a.append('</div>\n    </div>\n    <div class="suggested-item-additional">\n        <span class="new-price">');a.append("price"in b?b.price:E);a.append('</span>\n        <b id="fl-panel-preview-');
a.append(y(0,"namespace"in b?b.namespace:E,"html",0,M));a.append("-");a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('" class="tm-icon icon-heart-empty js-favorite js-favorite-btn favorite-btn js-none"\n           data-tid="');a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('" data-item_name="template-');a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('"\n           data-title-favorite="Delete from Collection"\n           data-title-not-favorite="Add to Collection">\n        </b>\n    </div>\n</div>')};
zb.prototype.a=b("panel_item_template");p("panel_item_template",zb);q(Ia,v);Ia.prototype.b=function(a){a.append('<div class="gdprBannerWrapper js-gdpr-info">\n    <img src="https://s.tmimgcdn.com/wp-content/uploads/cookie-icon.png" alt="cookie" />\n    <span>We use cookies to make your experience better and provide you with relevant information. If you continue to browse our site we\u2019ll assume you agree with our <a href="https://www.templatemonster.com/cookie-policy.php">Cookie Policy</a>.</span>\n    <div class="closeButton"></div>\n</div>')};
Ia.prototype.a=b("banner_cookie");p("banner_cookie",Ia);q(Ra,v);Ra.prototype.b=function(a){a.append('<div class="float-panel empty-cart-block">\n    <div class="flex-row">\n        <div class="wrapper-items cart-item">\n            <div id="viewed-cart" class="js-btn js-cart-float panel-item cart-item center js-panel-item flex-row">\n                <span class="panel-inner t5 js-panel-acknowledgement">\n                    <span class="number js-count">0</span><span>Items in Cart</span> <span class="currency js-amount js-none">0</span><i class="tm-icon icon-arrow"></i>\n                </span>\n\n                <span data-href="');
a.append("/checkout/step0/");a.append('" class="js-btn button btn-important action-button t5 js-float-panel-checkout" id="float-panel-checkout">Checkout</span>\n\n                <div class="popover-extended js-popover-cart">\n                </div>\n            </div>\n        </div>\n        <div class="wrapper-items">\n            <div class="wrapper-five-item flex-row vertical-center center">\n                <div id="viewed-items" class="panel-item viewed-item js-panel-item js-template grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>Viewed Items</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n                    <div class="popover-extended js-popover-with-scroll js-popover-template">\n\n                    </div>\n                </div>\n\n                <div id="viewed-types" class="panel-item types-item js-panel-item js-type grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>Viewed Types</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n                    <div class="popover-extended   js-popover-with-scroll js-popover-type">\n\n                    </div>\n                </div>\n\n                <div id="viewed-categories" class="panel-item categories-item js-panel-item js-topic grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>Viewed Categories</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n                    <div class="popover-extended   js-popover-with-scroll js-popover-topic" >\n\n                    </div>\n                </div>\n\n                <div id="viewed-search-history" class="panel-item search-history-item  js-panel-item js-keyword grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>in Search History</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n                    <div class="popover-extended js-popover-with-scroll js-popover-keyword" >\n\n                    </div>\n                </div>\n\n                <div id="viewed-collections" class="panel-item collection-item js-panel-item js-collection grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>in Collection</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n                    <div class="popover-extended js-popover-collection">\n                        <div class="wrap-panel-btn js-popover-button-collection js-none">\n                            <span data-href="');
a.append("/collection/");a.append('"  data-target="_blank"  class="js-btn button btn-main btn-full-width">View <span class="js-count">0</span> More Items in Collection</span>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>')};Ra.prototype.a=b("panel_bottom");p("panel_bottom",Ra);q(sa,v);sa.prototype.b=function(a){a.append("Category")};sa.prototype.a=b("categoryText");p("categoryText",sa);q(Aa,v);Aa.prototype.b=
function(a){a.append("Sub-Category")};Aa.prototype.a=b("subCategoryText");p("subCategoryText",Aa);q(ya,v);ya.prototype.b=function(a){a.append("Unfortunately, all chat support operators are busy right now. Please contact us later, or try %sto create a ticket%s!")};ya.prototype.a=b("busyMsgDefault");p("busyMsgDefault",ya);q(za,v);za.prototype.b=function(a){a.append('<option value="XX">Outside U.S./Canada<option>')};za.prototype.a=b("defaultStateOptionValue");p("defaultStateOptionValue",za);q(nb,v);
nb.prototype.b=function(a,b){a.append('<div class="alert alert-warning alert-dismissable">\n        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n        ');a.append(y(0,"error"in b?b.error:E,"html",0,M));a.append("\n    </div>")};nb.prototype.a=b("paymentInlineError");p("paymentInlineError",nb);q(Bb,v);Bb.prototype.b=function(a){a.append('<div class="modal loader-modal-backdrop fade in">\n        <div class="loader-modal text-center">\n            <div class="loading"></div>\n            <div class="loader-description bold h3">Please wait a few seconds,<br> we\u2019re trying to proccess your order</div>\n        </div>\n    </div>')};
Bb.prototype.a=b("paymentProgressPopup");p("paymentProgressPopup",Bb);q(ib,v);ib.prototype.b=function(a,b){a.append('<div class="suggested-item suggested-item-cart js-suggested-item js-btn link-click js-suggested-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('"\n         data-tid="');a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('"\n         data-js_icon="');a.append(y(0,"icon"in b?b.icon:E,"html",0,M));a.append('"\n         data-url="');a.append(y(0,"url"in b?b.url:E,"html",0,
M));a.append('"\n         data-name="');a.append(y(0,"name"in b?b.name:E,"html",0,M));a.append('"\n         data-descr="');a.append(y(0,"descr"in b?b.descr:E,"html",0,M));a.append('"\n         data-price="');a.append("price_str"in b?b.price_str:E);a.append('"\n         data-href="');a.append(y(0,"url"in b?b.url:E,"html",0,M));a.append('"\n         data-element_id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('"\n         data-target="_blank"\n         data-namespace="template"\n         data-purchase_price="');
a.append(y(0,"purchase_price"in b?b.purchase_price:E,"html",0,M));a.append('"\n         data-license="');a.append(y(0,"license"in b?b.license:E,"html",0,M));a.append('"\n         data-full_price="');a.append(y(0,"full_price"in b?b.full_price:E,"html",0,M));a.append('"\n    >\n        ');a.append('        <img class="suggested-item-icon grow-2" src="');a.append(y(0,"icon"in b?b.icon:E,"html",0,M));a.append('"/>\n        <div class="suggested-item-info grow-1">\n            <div class="suggested-item-name"><strong class="tt-highlight">');
a.append("name"in b?b.name:E);a.append('</strong></div>\n            <div class="suggested-item-descr">');a.append("descr"in b?b.descr:E);a.append('</div>\n        </div>\n        <div class="suggested-item-additional">\n            <span class="js-price suggested-price" data-tid="');a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('" data-price="');a.append(y(0,"price"in b?b.price:E,"html",0,M));a.append('">');a.append("purchase_price_str"in b?b.purchase_price_str:E);a.append('</span>\n            <span class="btn-remove-from-cart js-btn-remove-from-cart js-hint-tooltip tm-icon icon-remove-circle"\n                  id="remove-from-cart-');
a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('"\n                  data-title="Delete from Cart"\n                  data-title-stored="Delete from Cart"\n                  data-title-back="Put Back to Cart"\n                  data-placement="left"\n                  data-hide-on-tablet="true"></span>\n            <b id="fl-panel-preview-favorite-');a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('" class="tm-icon favorite-btn icon-heart-empty js-favorite js-favorite-btn js-none"\n               data-tid="');
a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('" data-item_name="template-');a.append(y(0,"model"in b?b.model:E,"html",0,M));a.append('"\n               data-placement="left"\n               data-hide-on-tablet="true"\n               data-title-not-favorite="Add to Collection"\n               data-title-favorite="Delete from Collection"\n            >\n            </b>\n        </div>\n        <div class="js-subitems suggested-subitems"></div>\n    </div>')};ib.prototype.a=b("panel_item_in_cart_template");
p("panel_item_in_cart_template",ib);q(pa,v);pa.prototype.b=function(a,b){a.append('<div class="suggested-item js-suggested-item js-suggested-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append(' suggested-item-cart item-cart-oncart"\n         data-namespace="offer"\n         data-element_id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('"\n         data-purchase_price="');a.append(y(0,"purchase_price"in b?b.purchase_price:E,"html",0,M));a.append('"\n\n    >\n        ');a.append("        ");
a.append('        <div class="suggested-item-icon grow-2 offer-icon">\n            ');"icon"in b&&b.icon&&(a.append('                <img src="'),a.append(y(0,"icon"in b?b.icon:E,"html",0,M)),a.append('" width="36"/>\n            '));a.append('        </div>\n        <div class="suggested-item-info grow-1">\n            <div class="suggested-item-name">\n                ');"name"in b&&b.name?(a.append('                    <strong class="tt-highlight">'),a.append("name"in b?b.name:E),a.append("</strong>\n                ")):
a.append('                    <strong class="tt-highlight js-hint-tooltip"\n                            data-mode="multi-line"\n                            data-title="Sorry, this product description for your language is not yet available.">No product description</strong>\n                ');a.append('            </div>\n            <div class="suggested-item-descr">');a.append("descr"in b?b.descr:E);a.append('</div>\n        </div>\n        <div class="suggested-item-additional suggested-item-oncart">\n            ');
if("price"in b&&b.price&&("price"in b?b.price:E)>("purchase_price"in b?b.purchase_price:E))a.append('                <span class="old-price">'),a.append("price_str"in b?b.price_str:E),a.append("</span>\n            ");a.append('            <span class="new-price">');a.append("purchase_price_str"in b?b.purchase_price_str:E);a.append('</span>\n            <span class="btn-remove-from-cart js-btn-remove-from-cart js-hint-tooltip tm-icon icon-remove-circle"\n                  data-title="Delete from Cart"\n                  data-title-stored="Delete from Cart"\n                  data-title-back="Put Back to Cart"\n                  data-placement="left"\n                  data-hide-on-tablet="true"\n                  id="remove-from-cart-');
a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('"\n            ></span>\n\n        </div>\n    </div>')};pa.prototype.a=b("panel_item_in_cart_offer");p("panel_item_in_cart_offer",pa);q(Qa,v);Qa.prototype.b=function(a,b){a.append('<div class="js-suggested-item js-ontemplate-offer js-suggested-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append(' suggested-subitems__offer"\n         data-namespace="offer"\n         data-element_id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('"\n         data-purchase_price="');
a.append(y(0,"purchase_price"in b?b.purchase_price:E,"html",0,M));a.append('"\n    >\n        <div class="suggested-item-info grow-1">\n            <div class="suggested-item-count">+');a.append(y(0,"count"in b?b.count:E,"html",0,M));a.append('</div>\n            <div class="suggested-item-name">\n                ');"name"in b&&b.name?(a.append('                    <strong class="tt-highlight">'),a.append("name"in b?b.name:E),a.append("</strong>\n                ")):a.append('                    <strong class="tt-highlight js-hint-tooltip"\n                            data-mode="multi-line"\n                            data-title="Sorry, this product description for your language is not yet available.">No product description</strong>\n                ');
a.append('            </div>\n        </div>\n        <div class="suggested-item-additional">\n            ');if("price"in b&&b.price&&("price"in b?b.price:E)>("purchase_price"in b?b.purchase_price:E))a.append('                <span class="old-price">'),a.append("price_str"in b?b.price_str:E),a.append("</span>\n            ");a.append('            <span class="new-price">');a.append("purchase_price_str"in b?b.purchase_price_str:E);a.append('</span>\n            <span class="btn-remove-from-cart js-btn-remove-from-cart js-hint-tooltip tm-icon icon-remove-circle"\n                  data-title="Delete from Cart"\n                  data-title-stored="Delete from Cart"\n                  data-title-back="Put Back to Cart"\n                  data-placement="left"\n                  data-hide-on-tablet="true"\n                  id="remove-from-cart-');
a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('"\n            ></span>\n\n        </div>\n    </div>')};Qa.prototype.a=b("panel_item_in_cart_ontemplate_offer");p("panel_item_in_cart_ontemplate_offer",Qa);q(Ga,v);Ga.prototype.b=function(a){a.append('<div class="wrap-panel-btn js-none js-cart-view-more-btn">\n        <span data-href="/cart.php"  data-target="_blank" class="js-btn button btn-main btn-full-width">View <span class="js-count">0</span> More Item in Cart</span>\n    </div>')};Ga.prototype.a=
b("panel_cart_button");p("panel_cart_button",Ga);q(xb,v);xb.prototype.b=function(a,b){a.append('<b class="discount-price line-through">');a.append("full_price"in b?b.full_price:E);a.append("</b>");a.append("finalPrice"in b?b.finalPrice:E)};xb.prototype.a=b("discount_bottom_panel");p("discount_bottom_panel",xb);q(Va,v);Va.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div id="notification-message-');
a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('" class="notification ');a.append(y(0,"className"in b?b.className:E,"html",0,M));a.append(' js-notification-box" data-id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n        <span class="notification__icon tm-icon icon-download"></span>\n        <div class="notification__body">\n            <div class="notification__content js-notification-content">\n                <a id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",
0,M));a.append('-template" href="');a.append(y(0,z("params"in b?b.params:E,"templateUrl"),"html",0,M));a.append('" class="t3 highlighted-important bold js-highlighted-important" target="_blank">\n                    ');a.append(y(0,z("params"in b?b.params:E,"templateName"),"html",0,M));a.append('\n                </a>\n                 is ready to download!\n            </div>\n            <a id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('-download" href="');a.append(y(0,
z("params"in b?b.params:E,"url"),"html",0,M));a.append('" class="notification__button button btn-important btn-full-width js-notification-button">\n                 Get Template\n            </a>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};Va.prototype.a=b("downloadLinkMessage");p("downloadLinkMessage",Va);q(Ma,v);Ma.prototype.b=
function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('" class="notification ');a.append(y(0,"className"in b?b.className:E,"html",0,M));a.append(' js-notification-box" data-id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n        <span class="notification__icon tm-icon icon-letter"></span>\n        <div class="notification__body">\n            <div class="notification__content js-notification-content">\n\t\t\t\t<span class="t3 t3__dark-theme bold">\n\t\t\t\t\t Confirmation Letter Was Sent\n\t\t\t\t</span>\n                <br>\n                 Please confirm your registration\n            </div>\n        </div>\n    </div>')};
Ma.prototype.a=b("confirmRegisterMessage");p("confirmRegisterMessage",Ma);q(mc,v);mc.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('" class="notification ');a.append(y(0,"className"in b?b.className:E,"html",0,M));a.append(' js-notification-box" data-id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n        <span class="notification__icon tm-icon ');
a.append(y(0,"icon"in b?b.icon:E,"html",0,M));a.append('"></span>\n        <div class="notification__body">\n            <div class="notification__content js-notification-content">\n                ');b.innerText='<span class="t3 t3__dark-theme bold">'+L(" New %SMTH%",{"%SMTH%":"fieldName"in b?b.fieldName:E})+"</span>";a.append("                ");2==("type"in b?b.type:E)?(a.append("                    Email was changed, please verify your "),a.append("innerText"in b?b.innerText:E)):(a.append("                    "),
a.append(L("  %SMTH% needs confirmation",{"%SMTH%":"innerText"in b?b.innerText:E})));a.append("\n                ");a.append("            </div>\n\n            ");"url"in b&&b.url&&"buttonClass"in b&&b.buttonClass&&(a.append('                <a id="notification-message-'),a.append(y(0,"id"in b?b.id:E,"html",0,M)),a.append('-mail" href="'),a.append(y(0,"url"in b?b.url:E,"html",0,M)),a.append('" target="_blank" class="notification__button button '),a.append(y(0,"buttonClass"in b?b.buttonClass:E,"html",
0,M)),a.append(' btn-full-width js-notification-button">\n                    Go to Mail Client\n                </a>\n            '));a.append('\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};mc.prototype.a=b("confirmBillingInfoMessage");p("confirmBillingInfoMessage",mc);q(ob,v);ob.prototype.b=function(a,b){"viewed_at"in b&&
b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('" class="notification ');a.append(y(0,"className"in b?b.className:E,"html",0,M));a.append(' js-notification-box" data-id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n        <span class="notification__icon tm-icon ');a.append(y(0,"icon"in b?b.icon:E,"html",0,M));a.append('"></span>\n        <div class="notification__body">\n            <div class="notification__content js-notification-content">\n                <span class="t3 t3__dark-theme bold">');
a.append(y(0,L(" New %SMTH%",{"%SMTH%":"fieldName"in b?b.fieldName:E}),"html",0,M));a.append('</span>  is confirmed!\n            </div>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};ob.prototype.a=b("billingInfoConfirmedMessage");p("billingInfoConfirmedMessage",ob);q(Qb,v);Qb.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||
(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('" class="notification ');a.append(y(0,"className"in b?b.className:E,"html",0,M));a.append(' js-notification-box" data-id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n        <span class="notification__icon tm-icon icon-message"></span>\n        <div class="notification__body">\n            <div class="notification__content js-notification-content Notification__description">\n                Your comment to\n                <a class="t3 t3__dark-theme"\n                   href="/templates.php?keywords=');
a.append(y(0,z("params"in b?b.params:E,"template_id"),"html",0,M));a.append('#tab-questions"\n                >\n                    ');a.append(y(0,z("params"in b?b.params:E,"content"),"html",0,M));a.append('\n                </a>   was\n                <span class="t3 t3__dark-theme textSuccess"> approved</span>!\n            </div>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};
Qb.prototype.a=b("reviewsQaApprovedMessage");p("reviewsQaApprovedMessage",Qb);q(Ua,v);Ua.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('" class="notification ');a.append(y(0,"className"in b?b.className:E,"html",0,M));a.append(' js-notification-box" data-id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n        <span class="notification__icon tm-icon icon-message"></span>\n        <div class="notification__body">\n            <div class="notification__content js-notification-content">\n                <span class="t3 t3__dark-theme bold">');
a.append(y(0,z("params"in b?b.params:E,"user_name"),"html",0,M));a.append(' replied to your comment:</span>\n                <p class="t3 t3__dark-theme">"');a.append(y(0,z("params"in b?b.params:E,"content"),"html",0,M));a.append('"\n                    <a class="t3 t3__dark-theme bold"\n                       href="/templates.php?keywords=');a.append(y(0,z("params"in b?b.params:E,"template_id"),"html",0,M));a.append('#tab-questions"\n                    >\n                        Read more\n                    </a>\n                </p>\n            </div>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');
a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};Ua.prototype.a=b("reviewsQaRepliedMessage");p("reviewsQaRepliedMessage",Ua);q(ac,v);ac.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('" class="notification ');a.append(y(0,"className"in b?b.className:
E,"html",0,M));a.append(' js-notification-box" data-id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n        <span class="notification__icon tm-icon icon-message"></span>\n        <div class="notification__body">\n            <div class="notification__content js-notification-content Notification__description">\n                 Here is your <span class="t3 t3__dark-theme textSuccess bold">');a.append(y(0,z("params"in b?b.params:E,"discount"),"html",0,M));a.append('</span>discount!\n                <p class="t3 t3__dark-theme bold">\n                    ');
a.append(y(0,z("params"in b?b.params:E,"code"),"html",0,M));a.append('\n                </p>\n                <p class="t3 t3__dark-theme">\n                    Thank you for being with us!\n                </p>\n            </div>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};ac.prototype.a=b("reviewsCreatedMessage");p("reviewsCreatedMessage",
ac);q(Na,v);Na.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div id="notification-message-');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('" class="notification ');a.append(y(0,"className"in b?b.className:E,"html",0,M));a.append(' js-notification-box" data-id="');a.append(y(0,"id"in b?b.id:E,"html",0,M));a.append('">\n        <span class="notification__icon tm-icon icon-message"></span>\n        <div class="notification__body">\n            <div class="notification__content js-notification-content Notification__description">\n                  Get <span class="t3 t3__dark-theme textSuccess">  25% discount</span>!\n                <p class="t3 t3__dark-theme">\n                    <a class="t3 t3__dark-theme bold" href="/templates.php?keywords=');
a.append(y(0,z(z(z("params"in b?b.params:E,"products"),0,pb,"array"),"id"),"html",0,M));a.append('#tab-reviews">\n                        Just write the review for your ');a.append(y(0,z(z(z(z("params"in b?b.params:E,"products"),0,pb,"array"),"properties"),"Name of the template",pb,"array"),"html",0,M));a.append('\n                    </a>\n                </p>\n            </div>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');a.append(y(0,"created_at"in
b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};Na.prototype.a=b("orderApprovedMessage");p("orderApprovedMessage",Na);q(tc,v);tc.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div class="notification">\n        <span class="notification__icon tm-icon icon-wallet"></span>\n        <div class="notification__body">\n            <p class="Notification__description"><b class="Notification__cashback">');
a.append(y(0,z("params"in b?b.params:E,"formatAmount"),"html",0,M));a.append('</b>  are successfuly added to your loyalty balance for order <b class="Notification__order">\n                  ');a.append(y(0,z("params"in b?b.params:E,"order_id"),"html",0,M));a.append('\n                </b></p>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};
tc.prototype.a=b("loyaltyProgramBonusAddMessage");p("loyaltyProgramBonusAddMessage",tc);q(Cb,v);Cb.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div class="notification">\n        <span class="notification__icon tm-icon icon-wallet"></span>\n        <div class="notification__body">\n            <p class="Notification__description">');a.append(y(0,z("params"in b?b.params:E,"event"),"html",0,M));a.append('</p>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');
a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};Cb.prototype.a=b("notificationDefaultMessage");p("notificationDefaultMessage",Cb);q($a,v);$a.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div class="notification">\n        <span class="notification__icon tm-icon icon-wallet"></span>\n        <div class="notification__body">\n            <p class="Notification__description"><b class="Notification__cashback Notification__cashback--js">');
a.append(y(0,z("params"in b?b.params:E,"formatAmount"),"html",0,M));a.append("</b>  in your loyalty balance expire on <b>");a.append(y(0,z("params"in b?b.params:E,"formatDate"),"html",0,M));a.append('</b>  as they were added a year ago.</p>\n            <div class="notification__gone t5 t5-secondary js-notification-gone">\n                ');a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M));a.append("\n            </div>\n        </div>\n    </div>")};$a.prototype.a=b("loyaltyProgramExpireBonusMessage");
p("loyaltyProgramExpireBonusMessage",$a);q(Db,v);Db.prototype.b=function(a,b){"viewed_at"in b&&b.viewed_at||(a.append("        "),b.className=" notification_not-seen",a.append("    "));a.append('    <div class="notification">\n        ');if(z("params"in b?b.params:E,"level",pb,pb,M))a.append("            "),"true"==z("params"in b?b.params:E,"manual_bonuses")&&0<z("params"in b?b.params:E,"custom_percent")?(a.append('                <span class="notification__icon tm-icon icon-loyalty-program"></span>\n                <div class="notification__body">\n                    <p class="Notification__description"> Your level was changed to <a href="'),
a.append(y(0,z("params"in b?b.params:E,"cashback"),"html",0,M)),a.append('" target="_blank" class="Notification__custom">Custom.</a>\n                         It\u2019s special level for you. You\u2019ll get <b class="Notification__custom">'),a.append(y(0,z("params"in b?b.params:E,"custom_percent"),"html",0,M)),a.append('%</b> back for any order!</p>\n                    <div class="notification__gone t5 t5-secondary js-notification-gone">\n                        '),a.append(y(0,"created_at"in b?
b.created_at:E,"html",0,M)),a.append("\n                    </div>\n                </div>\n\n                ")):(a.append('                    <span class="notification__icon tm-icon icon-loyalty-program"></span>\n                    <div class="notification__body">\n                        <p class="Notification__description"> Your level was changed to <a href="'),a.append(y(0,z("params"in b?b.params:E,"cashback"),"html",0,M)),a.append('" target="_blank" class="Notification__userLevel">'),a.append(y(0,
z(z("params"in b?b.params:E,"level"),"name"),"html",0,M)),a.append('</a>\n                             Make an order and get <b class="Notification__percent">'),a.append(y(0,z(O(0,z(z("params"in b?b.params:E,"level"),"ranges")),"value"),"html",0,M)),a.append("-"),a.append(y(0,z(D(0,z(z("params"in b?b.params:E,"level"),"ranges")),"value"),"html",0,M)),a.append('%</b>  of bonuses to your loyalty balance.</p>\n                        <div class="notification__gone t5 t5-secondary js-notification-gone">\n                            '),
a.append(y(0,"created_at"in b?b.created_at:E,"html",0,M)),a.append("\n                        </div>\n                    </div>\n            ")),a.append("        ");a.append("    </div>")};Db.prototype.a=b("loyaltyProgramReceiptLevelMessage");p("loyaltyProgramReceiptLevelMessage",Db);q(mb,v);mb.prototype.b=function(a){a.append("Email")};mb.prototype.a=b("emailText");p("emailText",mb);q(Eb,v);Eb.prototype.b=function(a){a.append("Password")};Eb.prototype.a=b("passwordText");p("passwordText",Eb);q(nc,
v);nc.prototype.b=function(a){a.append("Phone Number")};nc.prototype.a=b("phoneNumberText");p("phoneNumberText",nc);q(Rb,v);Rb.prototype.b=function(a){a.append("Now")};Rb.prototype.a=b("nowText");p("nowText",Rb);q(wb,v);wb.prototype.b=function(a){a.append("%m% minutes ago")};wb.prototype.a=b("time1MinutesText");p("time1MinutesText",wb);q(Ob,v);Ob.prototype.b=function(a){a.append("%h% hour ago")};Ob.prototype.a=b("time1HourText");p("time1HourText",Ob);q(Yb,v);Yb.prototype.b=function(a){a.append("%h% hours ago")};
Yb.prototype.a=b("time1HoursText");p("time1HoursText",Yb);q(jb,v);jb.prototype.b=function(a){a.append("Yesterday at %h%:%mm%")};jb.prototype.a=b("time1YesterdayText");p("time1YesterdayText",jb);q(uc,v);uc.prototype.b=function(a){a.append("Today at %h%:%mm%")};uc.prototype.a=b("time1TodayText");p("time1TodayText",uc);q(vc,v);vc.prototype.b=function(a){a.append("%MMM% %D%, %YYYY% at %h%:%mm%")};vc.prototype.a=b("time1FullText");p("time1FullText",vc);q(oc,v);oc.prototype.b=function(a){a.append("Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec")};
oc.prototype.a=b("time1Month");p("time1Month",oc);q(lb,v);lb.prototype.b=function(a){a.append("Next Slide")};lb.prototype.a=b("instanceSliderArrowNext");p("instanceSliderArrowNext",lb);q(Wa,v);Wa.prototype.b=function(a){a.append("Previous Slide")};Wa.prototype.a=b("instanceSliderArrowPrev");p("instanceSliderArrowPrev",Wa);q(hc,v);hc.prototype.b=function(a){a.append("Go to Cart")};hc.prototype.a=b("go_to_cart");p("go_to_cart",hc);q(wc,v);wc.prototype.b=function(a){a.append("Add to Cart &amp; Buy Later")};
wc.prototype.a=b("add_to_cart_delayed");p("add_to_cart_delayed",wc);q(pc,v);pc.prototype.b=function(a){a.append('<span class="tm-icon icon-bell bell-big-size js-bell-big-size animated zoomOut"></span>')};pc.prototype.a=b("iconBellBigSize");p("iconBellBigSize",pc);q(ic,v);ic.prototype.b=function(a,b){a.append('<span class="discount">');a.append("price"in b?b.price:E);a.append("</span> ");a.append("finalPrice"in b?b.finalPrice:E)};ic.prototype.a=b("discount_simple");p("discount_simple",ic);q(kb,v);
kb.prototype.b=function(a,b){a.append('<span class="discount">+');a.append("price"in b?b.price:E);a.append("</span> +");a.append("finalPrice"in b?b.finalPrice:E)};kb.prototype.a=b("discount_simple_with_plus");p("discount_simple_with_plus",kb);q(Sa,v);Sa.prototype.b=function(a,b){a.append('<div class="');a.append(y(0,"elementClass"in b?b.elementClass:E,"html",0,M));a.append('"><span class="num">');a.append(y(0,"interval"in b?b.interval:E,"html",0,M));a.append("</span>");a.append("intervalMeasure"in
b?b.intervalMeasure:E);a.append("</div>")};Sa.prototype.a=b("discount_countDownTimer_time_interval");p("discount_countDownTimer_time_interval",Sa);q(Fb,v);Fb.prototype.b=function(a,b){a.append('<span class="price price_type_new js-template-price js-new-price" >');a.append("new_price_str"in b?b.new_price_str:E);a.append('</span>\n    <span class="price price_type_old js-old-price">');a.append("old_price_str"in b?b.old_price_str:E);a.append("</span>")};Fb.prototype.a=b("discount_itemPageSingle");p("discount_itemPageSingle",
Fb);q(bc,v);bc.prototype.b=function(a,b){a.append('<span class="price price_type_new js-template-price">');a.append("price"in b?b.price:E);a.append("</span>")};bc.prototype.a=b("discount_itemPageSingle_simple");p("discount_itemPageSingle_simple",bc);q(cc,v);cc.prototype.b=function(a,b){a.append('<div class="countdown-block js-countdown-block rd-notice rd-notice-tooltip rd-notice-position-top alert rd-closing">\n        <div class="popover-content rd-notice-content">\n            <strong class="countdown-block-heading js-countdown-block-heading"> ');
a.append("title"in b?b.title:E);a.append('</strong>\n            <p class="countdown-block-content">Hurry up! It&apos;s a limited time proposition.</p>\n            <div class="countdown-block-footer flex-row">\n                <div class="countdown-timer js-countdown-timer flex-row">\n                    ');a.append("pieces"in b?b.pieces:E);a.append('\n                </div>\n                <div class="price">Old Price: <span class="js-countdown-price line-through">');a.append("price"in b?b.price:
E);a.append('</span></div>\n            </div>\n        </div>\n        <span id="countdown-close" class="close"></span>\n    </div>')};cc.prototype.a=b("discount_countDownTimer");p("discount_countDownTimer",cc);q(Z,v);Z.prototype.b=function(a){a.append("Get It Now & You\u2019ll Love It!")};Z.prototype.a=b("messageAddedToCartItemPage");p("messageAddedToCartItemPage",Z);q(Gb,v);Gb.prototype.b=function(a){a.append("Get It Now")};Gb.prototype.a=b("messageGetItNowItemPage");p("messageGetItNowItemPage",
Gb);q(cb,v);cb.prototype.b=function(a,b){a.append('<div class="rd-notice rd-notice-tooltip limited-width rd-notice-position-');a.append(y(0,"placement"in b?b.placement:E,"html",0,M));a.append('"\n         role="tooltip">\n        <div class="arrow"></div>\n        <div class="popover-content rd-notice-content"></div>\n    </div>')};cb.prototype.a=b("questionTooltip");p("questionTooltip",cb);q(va,v);va.prototype.b=function(a,b){a.append('<div class="rd-notice rd-notice-tooltip rd-notice-position-');
a.append(y(0,"placement"in b?b.placement:E,"html",0,M));a.append(' tooltip-animate"\n         role="tooltip">\n        <div class="arrow"></div>\n        <div class="popover-content rd-notice-content"></div>\n    </div>')};va.prototype.a=b("questionTooltipAnimate");p("questionTooltipAnimate",va);q(db,v);db.prototype.b=function(a){a.append("Choose one of the options")};db.prototype.a=b("chooseOneOfTheOptions");p("chooseOneOfTheOptions",db);q(Sb,v);Sb.prototype.b=function(a){a.append("Oops, something went wrong. Please try again")};
Sb.prototype.a=b("oopsSomethingWrong");p("oopsSomethingWrong",Sb);q(eb,v);eb.prototype.b=function(a){a.append("%d users are viewing this product right now.")};eb.prototype.a=b("users_are_browsing");p("users_are_browsing",eb);q(Ba,v);Ba.prototype.b=function(a){a.append('<b style="color:#76d48f">%s</b> were spent producing this product. It can be yours for <b style="color:#76d48f">only %s</b>.')};Ba.prototype.a=b("where_spen_on_producing");p("where_spen_on_producing",Ba);q(qc,v);qc.prototype.b=function(a){a.append('Contact our <b style="color:#ffca28">24/7 support</b> service, and we\'ll help you deal with any difficulty that might occur with the purchased product.')};
qc.prototype.a=b("you_could_turn_to_support");p("you_could_turn_to_support",qc);q(gb,v);gb.prototype.b=function(a){a.append("%d users from California recommend this template.")};gb.prototype.a=b("users_from_california");p("users_from_california",gb);q(V,v);V.prototype.b=function(a){a.append("This template was purchased %d hours ago.")};V.prototype.a=b("this_template_was_last");p("this_template_was_last",V);q(Hb,v);Hb.prototype.b=function(a){a.append("This template is gaining popularity: for the last 24 hours it was sold %d times.")};
Hb.prototype.a=b("the_product_is_gaining");p("the_product_is_gaining",Hb);q(Ub,v);Ub.prototype.b=function(a){a.append("99% of our customers are satisfied with their purchases.")};Ub.prototype.a=b("customers_dont_regret_the_money");p("customers_dont_regret_the_money",Ub);q(dc,v);dc.prototype.b=function(a){a.append('<b style="color:#ffca28">Highly-qualified specialists</b> with more than 8 years of expertise have developed the template you\'re looking at.')};dc.prototype.a=b("our_template_are_developed");
p("our_template_are_developed",dc);q(Kb,v);Kb.prototype.b=function(a){a.append('This product was purchased only <b style="color:#ffca28">%d times</b>. If you buy it out, we\'ll remove it from our inventory.')};Kb.prototype.a=b("this_could_purchase_it");p("this_could_purchase_it",Kb);q(Ib,v);Ib.prototype.b=function(a){a.append("For sure you'll be happy with your purchase. In any case, you can exchange it or get your money back.")};Ib.prototype.a=b("you_will_be_content_with_purchased");p("you_will_be_content_with_purchased",
Ib);q(Lb,v);Lb.prototype.b=function(a){a.append("Got it, thank you, %s")};Lb.prototype.a=b("got_it_thank_you");p("got_it_thank_you",Lb);q(xc,v);xc.prototype.b=function(a){a.append("Cuckoo! I'm <b>Cara, a PrestaShop Monster</b>. My duty is to supply you with useful information.")};xc.prototype.a=b("greeting_cara");p("greeting_cara",xc);q(yc,v);yc.prototype.b=function(a){a.append("Splat Splat! I'm <b>Dro, an OpenCart Monster</b>. My duty is to supply you with useful information.")};yc.prototype.a=b("greeting_dro");
p("greeting_dro",yc);q(zc,v);zc.prototype.b=function(a){a.append("Boom! I'm <b>Waz, a Magento Monster</b>. My duty is to supply you with useful information.")};zc.prototype.a=b("greeting_waz");p("greeting_waz",zc);q(Mb,v);Mb.prototype.b=function(a){a.append("<b>Chan is a WooCommerce Monster</b>. He's outwardly silent, but he's thinking loudly. His duty is to supply you with useful information.")};Mb.prototype.a=b("greeting_chan");p("greeting_chan",Mb);q(Tb,v);Tb.prototype.b=function(a){a.append("You\u2019ve already downloaded this template <br />on %s. <br />You\u2019re able to get it repeatedly without it <br />counting as a download.")};
Tb.prototype.a=b("downloaded_text");p("downloaded_text",Tb);q(Ac,v);Ac.prototype.b=function(a){a.append("You have %s Subscription <br />until %s.<br />You have <b>%d</b> from %d downloads.")};Ac.prototype.a=b("download_text");p("download_text",Ac);q(Bc,v);Bc.prototype.b=function(a){a.append("You have %s Subscription <br />until %s.<br />You have <b>unlimited</b> downloads.")};Bc.prototype.a=b("unlim_download_text");p("unlim_download_text",Bc);q(Sc,v);Sc.prototype.b=function(a,b){a.append('<div class="popup-outdated">\n        <div class="popup-outdated__info">\n            <div class="popup-outdated__img"></div>\n            <p class="popup-outdated__text h1">This template is from prehistoric era. Please take a look at similar new ones</p>\n        </div>\n        <div id="newer-templates">\n            <ul id="preview-page-newer-templates" class="slides thumbnails">\n                ');
a.append("newerTemplates"in b?b.newerTemplates:E);a.append("\n            </ul>\n        </div>\n        ");"isButtonViewMoreShow"in b&&b.isButtonViewMoreShow&&(a.append('            <a id="view-modern-template"\n               class="button btn-main js-simple-progress-button"\n               href="'),a.append(y(0,"viewMoreUrl"in b?b.viewMoreUrl:E,"html",0,M)),a.append('">View More Modern Templates</a>\n        '));a.append("    </div>")};Sc.prototype.a=b("popupOutdatedTemplate");p("popupOutdatedTemplate",
Sc);q(Tc,v);Tc.prototype.b=function(a){a.append('Hello! I\u2019ll gladly assist you in choosing the template. You could contact me in\n    <a href="#live-chat-tab" class="js-start-chat" data-toggle="tab">chat</a> or I could give you a\n    <a href="#call-back-tab" class="js-start-callback" data-toggle="tab">callback!</a>')};Tc.prototype.a=b("callBackNotification");p("callBackNotification",Tc);q(Jc,v);Jc.prototype.b=function(a){a.append('<div class="modal fade js-special-modal rd-trial-popup-holder"\n         id="rd-trial-popup-wrapper"\n         tabindex="-1"\n         role="dialog"\n         aria-labelledby="trialPopup" aria-hidden="false">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <a href="javascript:;"\n                       class="close-popup tm-icon icon-cross"\n                       data-dismiss="modal"\n                       aria-hidden="true"\n                       id="close-trial-popup"></a>\n                </div>\n\n                <div class="modal-body js-content">\n                    <div class="modal-inner js-modal-inner">%s</div>\n                </div>\n\n            </div>\n        </div>\n    </div>')};
Jc.prototype.a=b("popupWrapper");p("popupWrapper",Jc);q(Kc,v);Kc.prototype.b=function(a,b){b.replacement=L("   Wrong code. Please try again or %s\n",{"%s":'<span class="link-click t4__dark-theme js-start-chat__room_presales">contact us</span>'});a.append("    ");a.append("replacement"in b?b.replacement:E)};Kc.prototype.a=b("wrongCode");p("wrongCode",Kc);q(Pc,v);Pc.prototype.b=function(a,b){a.append('<article class="dbl-payment-popup">\n        <header class="dbl-payment-popup__header">\n        <span class="dbl-payment-popup__title">\n            We may have a problem!\n        </span>\n        </header>\n        <main class="dbl-payment-popup__body">\n            <p class="dbl-payment-popup__description">\n                ');
b.popupDescr1=L("  It looks like you are trying to purchase the same product(s) again. It is possible that you have not received an e-mail with download instructions, or your order is still in progress and you may need assistance. Please check the status of your order in your %s and contact billing department if necessary.\n",{"%s":'<a href="https://account.templatemonster.com/#/downloads" target="_blank" class="dbl-payment-popup__contact">account->downloads</a>'});a.append("                ");a.append("popupDescr1"in
b?b.popupDescr1:E);a.append('\n            </p>\n            <p class="dbl-payment-popup__description">\n                  In case you intend to purchase a new usage license, please proceed to checkout to complete the purchase. We apologize for this precaution then.\n            </p>\n        </main>\n        <footer class="dbl-payment-popup__footer">\n            <button class="dbl-payment-popup__button button btn-important btn-full-width btn-big-height">\n                Proceed to payment\n            </button>\n        </footer>\n    </article>')};
Pc.prototype.a=b("duplicatePaymentPopupInner");p("duplicatePaymentPopupInner",Pc);q(Uc,v);Uc.prototype.b=function(a,b){a.append('<article class="failed-payment-popup">\n        <header class="failed-payment-popup__header">\n            <div class="failed-payment-popup__title">\n                 Unfortunately we were unable to complete the payment :(\n            </div>\n        </header>\n        <main class="failed-payment-popup__body">\n            <section class="failed-payment-popup__reasons">\n                <div class="failed-payment-popup__subtitle">\n                      It could happen due to:\n                </div>\n                <ul class="reasons-grid">\n                    <li class="reasons-grid__item icn-money">Insufficient card balance</li>\n                    <li class="reasons-grid__item icn-blocked-card-2">  Transaction exceeds payment limit of the card</li>\n                    <li class="reasons-grid__item icn-blocked-card">  \u0421ard is blocked for online payments</li>\n                    <li class="reasons-grid__item icn-wrong-data">Wrong data on previous steps</li>\n                </ul>\n            </section>\n            <section class="failed-payment-popup__advice">\n                <div class="failed-payment-popup__subtitle">\n                      Please make sure none of the above occurred and try again or choose another payment method\n                </div>\n                <p class="failed-payment-popup__description">\n                    ');
b.popupDescr1=L(" If the situation repeats itself please contact your bank or %s\n",{"%s":'<span class="bold link-click js-start-chat__room_billing"> write us in chat</span>'});a.append("                    ");a.append("popupDescr1"in b?b.popupDescr1:E);a.append('\n                </p>\n            </section>\n        </main>\n        <footer class="failed-payment-popup__footer">\n            <button class="failed-payment-popup__button button btn-main btn-full-width btn-big-height" data-dismiss="modal">\n                OK, Thanks For Your Care\n            </button>\n        </footer>\n    </article>')};
Uc.prototype.a=b("checkoutFailedPopupInner");p("checkoutFailedPopupInner",Uc);q(Lc,v);Lc.prototype.b=function(a,b){a.append('<article class="segmentation-inner">\n        <div class="segmentation-inner__step1">\n            <header class="segmentation-inner__header">\n                <div class="segmentation-inner__pager t3 t3-secondary">\n                    ');b.title=L("Question %x% of %y%\n",{"%x%":"1","%y%":"2"});a.append("                    ");a.append(y(0,"title"in b?b.title:E,"html",0,M));
a.append('\n                </div>\n                <h1 class="segmentation-inner__question h2 uppercase bold">\n                    Please tell us: have you ever built websites before?\n                </h1>\n                <div class="segmentation-inner__hint t1 t1-secondary">\n                    ');b.people_answered1=L("%PART% of users from your country answered & helped us to improve our service\n",{"%PART%":""});a.append('                    <i class="iti-flag js-segmentation-flag"></i>\n                    <span class="js-segment-hint-step1">%part%</span>% ');
a.append(y(0,"people_answered1"in b?b.people_answered1:E,"html",0,M));a.append('\n                </div>\n            </header>\n            <main class="options js-options-1">\n                <div class="option option-yes js-option-yes" data-customer="personal">\n                    <div class="option__icon option__icon--yes"></div>\n                    <div class="option__content">\n                        <div class="option__title">Yes, I have</div>\n                        <div class="option__description">I have created sites before, not only for myself but for others.</div>\n                    </div>\n                </div>\n                <div class="option option-no js-option-no" data-customer="business">\n                    <div class="option__icon option__icon--no"></div>\n                    <div class="option__content">\n                        <div class="option__title">No, I have not</div>\n                        <div class="option__description">I have never created a site by myself and I don\'t know how to do this.</div>\n                    </div>\n                </div>\n            </main>\n        </div>\n        <div class="segmentation-inner__step2">\n            <header class="segmentation-inner__header">\n                <div class="segmentation-inner__pager t3 t3-secondary">\n                    ');
b.title=L("Question %x% of %y%\n",{"%x%":"2","%y%":"2"});a.append("                    ");a.append(y(0,"title"in b?b.title:E,"html",0,M));a.append('\n                </div>\n                <h1 class="segmentation-inner__question h2 uppercase bold">\n                    Please, let us get to know you. what describes you best?\n                </h1>\n                <div class="segmentation-inner__hint t1 t1-secondary">\n                    ');b.people_answered2=L("%PART% of users from your country responded and helped us to improve our service\n",
{"%PART%":""});a.append('                    <i class="iti-flag js-segmentation-flag"></i>\n                    <span class="js-segment-hint-step2">%part%</span>% ');a.append(y(0,"people_answered2"in b?b.people_answered2:E,"html",0,M));a.append('\n                </div>\n            </header>\n            <main class="options js-options-2">\n                <div class="option option-dev js-option-developer">\n                    <div class="option__icon option__icon--dev"></div>\n                    <div class="option__content">\n                        <div class="option__title">\n                            ');
a.append("I\u2019m a Developer\n");a.append('\n                        </div>\n                        <div class="option__description">\n                            I know how to program and can change front-end of the template.\n                        </div>\n                    </div>\n                </div>\n                <div class="option option-designer js-option-designer">\n                    <div class="option__icon option__icon--designer"></div>\n                    <div class="option__content">\n                        <div class="option__title">\n                            ');
a.append("I\u2019m a Designer\n");a.append('\n                        </div>\n                        <div class="option__description">\n                            I can prototype and design interfaces for sites.\n                        </div>\n                    </div>\n                </div>\n                <div class="option option-business js-option-business-owner">\n                    <div class="option__icon option__icon--business"></div>\n                    <div class="option__content">\n                        <div class="option__title">\n                            ');
a.append("I\u2019m a Business Owner\n");a.append('\n                        </div>\n                        <div class="option__description">\n                            I have my own business and I need a web site for it.\n                        </div>\n                    </div>\n                </div>\n                <div class="option option-manager js-option-manager">\n                    <div class="option__icon option__icon--manager"></div>\n                    <div class="option__content">\n                        <div class="option__title">\n                            ');
a.append("I\u2019m a Manager\n");a.append('\n                        </div>\n                        <div class="option__description">\n                            I act as an intermediary between the client and a team of developers.\n                        </div>\n                    </div>\n                </div>\n            </main>\n        </div>\n        <div class="segmentation-inner__step3">\n            <div class="segmentation-success__icon"></div>\n            <h2 class="segmentation-success__title uppercase">\n                Thank you for your feedback!\n            </h2>\n            <p class="segmentation-success__text t1">\n                Your answers are important and we\u2019ll use them for TemplateMonster improvement.\n            </p>\n            <p class="segmentation-success__text t1">\n                If you have something to add \u2014 please contact us via <span class="bold link-click js-start-chat__room_presales">24/7 Live Chat</span>.\n            </p>\n        </div>\n    </article>')};
Lc.prototype.a=b("segmentationPopup");p("segmentationPopup",Lc);q(Vc,v);Vc.prototype.b=function(a,b){b._parent=b;var c="topics"in b?b.topics:E;J(c,function(c,f){b._key=f;b.topic=c;a.append("            ");z("topic"in b?b.topic:E,"href")?(a.append('            <span class="bc-item"><a href="'),a.append(y(0,z("topic"in b?b.topic:E,"href"),"html",0,M)),a.append('">'),a.append(y(0,z("topic"in b?b.topic:E,"title"),"html",0,M)),a.append("</a>\n            ")):(a.append('            <span class="bc-item bc-item-last">'),
a.append(y(0,z("topic"in b?b.topic:E,"title"),"html",0,M)),a.append("\n            "));a.append("        ")},this);a.append("        ");b._parent=b;c="topics"in b?b.topics:E;J(c,function(c,f){b._key=f;b.topic=c;a.append("            </span>\n        ")},this)};Vc.prototype.a=b("topicBreadcrumbs");p("topicBreadcrumbs",Vc);q(Gc,v);Gc.prototype.b=function(a,b){!("showMore"in b)||"showMore"in b&&b.showMore?a.append('<span class="bestseller-closed">+&nbsp;</span>See All Product Types'):a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Product Types')};
Gc.prototype.a=b("moreProductTypes");p("moreProductTypes",Gc);q(Wc,v);Wc.prototype.b=function(a,b){!("showMore"in b)||"showMore"in b&&b.showMore?a.append('<span class="bestseller-closed">+&nbsp;</span>See All Features'):a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Features')};Wc.prototype.a=b("showMoreFeatures");p("showMoreFeatures",Wc);q(Mc,v);Mc.prototype.b=function(a,b){b._parent=b;var c="topics"in b?b.topics:E;J(c,function(c,f){b._key=f;b.topic=c;a.append("        ");
z("topic"in b?b.topic:E,"href")?(a.append('        <span class="bc-item"><a href="'),a.append(y(0,z("topic"in b?b.topic:E,"href"),"html",0,M)),a.append('">'),a.append(y(0,z("topic"in b?b.topic:E,"title"),"html",0,M)),a.append("</a>\n            ")):(a.append('            <span class="bc-item bc-item-last">'),a.append(y(0,z("topic"in b?b.topic:E,"title"),"html",0,M)),a.append("\n                "));a.append("                ")},this);a.append("                ");b._parent=b;c="topics"in b?b.topics:
E;J(c,function(c,f){b._key=f;b.topic=c;a.append("            </span>\n            ")},this)};Mc.prototype.a=b("mobileTopicBreadcrumbs");p("mobileTopicBreadcrumbs",Mc);q(Cc,v);Cc.prototype.b=function(a,b){!("showMore"in b)||"showMore"in b&&b.showMore?a.append('<span class="bestseller-closed">+&nbsp;</span>See All Product Types'):a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Product Types')};Cc.prototype.a=b("mobileMoreProductTypes");p("mobileMoreProductTypes",Cc);q(Nc,v);
Nc.prototype.b=function(a,b){!("showMore"in b)||"showMore"in b&&b.showMore?a.append('<span class="bestseller-closed">+&nbsp;</span>See All Features'):a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Features')};Nc.prototype.a=b("mobileShowMoreFeatures");p("mobileShowMoreFeatures",Nc)})();CLS78=function(){this.lang="en";this.currency="$###,###.##";this.route="en"};CLS78.prototype.getCode=function(){return this.lang};CLS78.prototype.urlPrefix=function(a){a=a||"";return this.isDefault()?a:"/"+this.route+a};CLS78.prototype.isDefault=function(){return"en"==this.lang};CLS78.prototype.formatMoney=function(a,b){var c=this._parseFormat(this.currency),f=b?b:0;d=c[1].match(/(.)##$/)[1];t=c[1].match(/[^#]/)[0];return c[0]+this._formatMoney(a,f,d,t)+c[2]};
CLS78.prototype._formatMoney=function(a,b,c,f){var b=isNaN(b=Math.abs(b))?2:b,c=goog.isDef(c)?c:".",f=goog.isDef(f)?f:",",g=0>a?"-":"",h=parseInt(a=Math.abs(+a||0).toFixed(b))+"",j=3<(j=h.length)?j%3:0;return g+(j?h.substr(0,j)+f:"")+h.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+f)+(b?c+Math.abs(a-h).toFixed(b).slice(2):"")};CLS78.prototype._parseFormat=function(a){a=a.match(/(.*?)(#.*#)(.*)/);a.shift();return a};var __ui_types={state:"open",data:[{data:"Web Templates",state:"open",attr:{"data-url":"web-templates.php"},children:[{data:"Website Templates",attr:{"data-type":50108,"data-url":"website-templates.php"}},{data:"PSD Templates",attr:{"data-type":67711,"data-url":"psd-templates.php"}},{data:"Landing Page Templates",attr:{"data-type":168633,"data-url":"landing-page-templates.php"}},{data:"Unbounce Templates",attr:{"data-type":168645,"data-url":"unbounce-templates.php"}},{data:"Photo Gallery Templates",
attr:{"data-type":50112,"data-url":"photo-gallery-templates.php"}},{data:"Newsletter Templates",attr:{"data-type":109856,"data-url":"newsletter-email-templates.php"}},{data:"Muse Templates",attr:{"data-type":120709,"data-url":"adobe-muse-templates.php"}},{data:"Admin Templates",attr:{"data-type":207799,"data-url":"admin-templates.php"}}]},{data:"E-commerce Templates",state:"open",attr:{"data-url":"ecommerce-templates.php"},children:[{data:"Magento Themes",attr:{"data-type":50115,"data-url":"magento-themes.php"}},
{data:"PrestaShop Themes",attr:{"data-type":50116,"data-url":"prestashop-themes.php"}},{data:"VirtueMart Templates",attr:{"data-type":50118,"data-url":"virtuemart-templates.php"}},{data:"Jigoshop Themes",attr:{"data-type":50119,"data-url":"jigoshop-themes.php"}},{data:"osCommerce Templates",attr:{"data-type":50120,"data-url":"oscommerce-templates.php"}},{data:"ZenCart Templates",attr:{"data-type":50121,"data-url":"zencart-templates.php"}},{data:"OpenCart Templates",attr:{"data-type":50122,"data-url":"opencart-templates.php"}},
{data:"WooCommerce Themes",attr:{"data-type":61529,"data-url":"woocommerce-themes.php"}},{data:"Shopify Themes",attr:{"data-type":67280,"data-url":"shopify-themes.php"}},{data:"Loaded7 Templates",attr:{"data-type":89070,"data-url":"loaded7-templates.php"}},{data:"MotoCMS Ecommerce Templates",attr:{"data-type":208727,"data-url":"motocms-ecommerce-templates.php"}}]},{data:"CMS Templates",state:"open",attr:{"data-url":"cms-blog-templates.php"},children:[{data:"WordPress Themes",attr:{"data-type":50125,
"data-url":"wordpress-themes.php"}},{data:"Joomla Templates",attr:{"data-type":50126,"data-url":"joomla-templates.php"}},{data:"Drupal Templates",attr:{"data-type":50127,"data-url":"drupal-themes.php"}},{data:"Moto CMS 3 Templates",attr:{"data-type":168158,"data-url":"moto-cms-3-templates.php"}},{data:"Moto CMS HTML Templates",attr:{"data-type":50128,"data-url":"moto-cms-html-templates.php"}},{data:"Flash CMS Templates",attr:{"data-type":50110,"data-url":"flash-cms-templates.php"}},{data:"Turnkey Websites 2.0",
attr:{"data-type":50150,"data-url":"turnkey-websites-2-0.php"}}]},{data:"Corporate Design",state:"open",attr:{"data-url":"corporate-design.php"},children:[{data:"PowerPoint Templates",attr:{"data-type":50132,"data-url":"powerpoint-templates.php"}},{data:"Logo Templates",attr:{"data-type":50133,"data-url":"logo-templates.php"}},{data:"Corporate Identity",attr:{"data-type":50134,"data-url":"corporate-identity.php"}},{data:"Logosets",attr:{"data-type":50135,"data-url":"logosets.php"}},{data:"Icon Sets",
attr:{"data-type":50136,"data-url":"iconsets.php"}}]},{data:"Flash & Media",state:"open",children:[{data:"Flash Intro Templates",attr:{"data-type":50111,"data-url":"flash-intro.php"}},{data:"Flash Templates",attr:{"data-type":50109,"data-url":"flash-templates.php"}},{data:"SWiSH Templates",attr:{"data-type":50113,"data-url":"swish-templates.php"}},{data:"After Effects Intros",attr:{"data-type":50146,"data-url":"after-effects-intros.php"}},{data:"After Effects Logo Reveals",attr:{"data-type":50147,
"data-url":"after-effects-logo-reveals.php"}},{data:"Video Ecards",attr:{"data-type":50148,"data-url":"video-ecards.php"}},{data:"HD Graphics Packages",attr:{"data-type":50149,"data-url":"hd-graphics-packages.php"}},{data:"Music",attr:{"data-type":50137,"data-url":"stock-music.php"}},{data:"Silverlight Templates",attr:{"data-type":50138,"data-url":"silverlight-templates.php"}},{data:"Silverlight Intro Templates",attr:{"data-type":50139,"data-url":"silverlight-intro-templates.php"}}]},{data:"Facebook Layouts",
state:"open",attr:{"data-url":"facebook-layouts.php"},children:[{data:"Facebook Flash Templates",attr:{"data-type":50141,"data-url":"facebook-flash-templates.php"}},{data:"Facebook Flash CMS Templates",attr:{"data-type":50142,"data-url":"facebook-flash-cms-templates.php"}},{data:"Facebook Templates",attr:{"data-type":50143,"data-url":"facebook-templates.php"}},{data:"Facebook HTML CMS Templates",attr:{"data-type":50145,"data-url":"facebook-html-cms-templates.php"}}]}]};Tm=Tm||{};Tm.abstractCheckout=function(){};Tm.abstractCheckout.prototype.steps=$("#content");Tm.abstractCheckout.prototype.checkField=function(a){for(var b=[],c=regula.validate(),f=0;f<c.length;f++)$(c[f].failingElements).hasClass(a)&&-1===$.inArray(c[f].message,b)&&b.push(c[f].message);return b};Tm.abstractCheckout.prototype.signChecking=function(a){var b=this.getStep(),c=(new Tm.Signin).getCheckOutStep(),f=$.getQueryParam("_force_redirect");(a||!f&&b!==b)&&this.switchStep(c)};
Tm.abstractCheckout.prototype.switchStep=function(a,b){this.steps.checkoutSteps("switch",a,b)};Tm.abstractCheckout.prototype.getStep=function(){return this.steps.checkoutSteps("get-step")};Tm.abstractCheckout.prototype.showLoginError=function(a){var b=$(".js-checkout-login-error:first");a?b.html('<div class="alert" style="width: 225px;">'+a+"</div>"):b.html("")};
Tm.abstractCheckout.prototype.goToSignin=function(a,b){"undefined"==typeof a&&(a=!1);"undefined"==typeof b&&(b="");this.switchStep("step1",{email:b});a&&this.fillSigninForm(b);return this};Tm.abstractCheckout.prototype.fillSigninForm=function(a){var b=document.forms.signin;b&&($(b).formHandler("hide-errors"),a?($(b.email).val(a),$(b.password).val("").focus(),$("#returning-customer-radio").click()):($(b.email).val("").focus(),$(b.password).val(""),$("#new-customer-radio").click()))};
Tm.abstractCheckout.prototype.checkBillingInfoForm=function(){var a=document.forms.billingInfo;$(a).formHandler("validate");return $(a).formHandler("get-errors")};Tm.abstractCheckout.prototype.signinCallback=function(a){"undefined"!=typeof a.breadcrumbsHTML&&this.changeBredcrumbs(a.breadcrumbsHTML);this.checkBillingInfoForm()};Tm.abstractCheckout.prototype.changeform=function(){};Tm.abstractCheckout.prototype.changeBredcrumbs=function(a){$(".js-checkout-step-links").replaceWith(a)};
Tm.abstractCheckout.prototype.createOrder=function(a,b){$.ajax({url:appDic.require("language").urlPrefix("/checkout-ajax/create-order.php"),type:"POST",data:a,datatype:"json",success:function(a){var f=new CLS47;goog.isDefAndNotNull(a.error)?goog.isDefAndNotNull(a.location)?location.href=a.location:(b.paymentSelector("show-server-error",a.error),b.paymentSelector("enable-selector"),b.paymentSelector("enable-submit-button")):goog.isDefAndNotNull(a.paymentForm)?(f.pushData(4),
$("body:first").html(a.paymentForm),$("form:first").submit()):goog.isDefAndNotNull(a.paymentLink)?(f.pushData(4),location.href=a.paymentLink):goog.isDefAndNotNull(a.redirectUrl)&&(f.pushData(4),location.href=a.redirectUrl)},error:function(){b.paymentSelector("enable-selector");b.paymentSelector("enable-submit-button");b.paymentSelector("show-server-error",Twig.render(messageServerTempUnavailable))}})};Tm.abstractCheckout.prototype.isFree=function(){return!1};
(function(a){function b(b){var c=!1;h.each(function(){var f=a(this);f.is(".js-step-link-"+b)?(c=!0,f.addClass("active")):f.removeClass("active");c?f.removeClass("step-passed"):f.addClass("step-passed")})}function c(c){var f=g.filter(".js-step-"+c);g.hide();f.show();b(c);a(window.document).scrollTop(0)}function f(b,c){if(a.isFunction(j[b])){var f=g.filter(".js-step-"+c).get(0);return j[b](window.History,f,c)}}var g,h,j={initial_step:"step1",before_tab_switching:a.noop,after_tab_switching:a.noop};a.fn.checkoutSteps=
function(k,l,u){g=a(this).find("div.js-step");h=a(this).find(".js-checkout-step-links .js-step-link");var p=window.History;switch(k){case "switch":a:if(k=g.filter(".js-step-"+l),k.size()){var q=k.data("url"),n="TemplateMonster.com";if(q){if(p.enabled)"undefined"!==typeof k.data("title")&&(n+=": "+k.data("title")),p.pushState({step:l},n,q),window.location.pathname!=q&&(g.hide(),k.show());else if(window.location.pathname!=q){a.isPlainObject(u)||(u={});u._force_redirect=1;window.location.href=q+"?"+
a.param(u);break a}b(l)}}break;case "get-step":return h.filter(".active").data("step");case "redrawNavigationLinks":b(l);break;default:j=a.extend(j,a.isPlainObject(k)?k:{}),l=p.enabled?j.initial_step:a(this).checkoutSteps("get-step"),f("before_tab_switching",l),u=j.initial_step,p.enabled&&(p.replaceState({step:u}),p.Adapter.bind(window,"statechange",function(){var a=p.getState();f("before_tab_switching",a.data.step);c(a.data.step);f("after_tab_switching",a.data.step)}),c(u)),f("after_tab_switching",
l)}return this}})(jQuery);(function(a){var b={status_index:"selector_status",item_selector:".item.panel",handler_selector:".js-radio-collapse",submit_button_selector:".js-choose-payment-system",server_error_container:".js-checkout3-error-block:first",item_input_name:"paymentCheck"};a.fn.paymentSelector=function(c,f){b=a.extend(b,a.isPlainObject(c)?c:{});switch(c){case "show-server-error":a(b.server_error_container).html('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+
f+"</div>");break;case "hide-server-error":a(b.server_error_container).html("");break;case "enable-selector":var g=b;a(this).data(g.status_index,!0);break;case "disable-selector":g=b;a(this).data(g.status_index,!1);break;case "enable-submit-button":var h=a(b.submit_button_selector,this);a(document).trigger("stop.cart.load",{button:h,callbackFunk:function(){h.prop("disabled",!1)}});break;case "disable-submit-button":var j=a(b.submit_button_selector,this);a(document).trigger("start.cart.load",{button:j,
callbackFunk:function(){j.prop("disabled",!0)}});break;default:var k=this,l=b;a(k).data(l.status_index,!0);a(l.handler_selector,k).attr("data-toggle","collapse");a(k).on("show.bs.collapse",function(b){if(!a(k).data(l.status_index))return!1;a(l.item_selector,k).removeClass("selected").find('input[name="'+l.item_input_name+'"]').removeProp("checked");a(b.target).parents(l.item_selector+":first").addClass("selected").find('input[name="'+l.item_input_name+'"]').prop("checked",!0);return!0}).on("hide.bs.collapse",
function(b){return a(b.target).parents(l.item_selector+".selected").length?!1:!0})}return this}})(jQuery);Tm=Tm||{};Tm.Checkout=function(){Tm.abstractCheckout.call(this)};Tm.Checkout.prototype=new Tm.abstractCheckout;Tm.Checkout.prototype.constructor=Tm.Checkout;Tm.Checkout.prototype.countries_with_states=["US","CA"];Tm.Checkout.prototype._payment_selector=null;Tm.Checkout.prototype._order_data=null;
Tm.Checkout.prototype.fillInfoForm=function(a){var b=document.forms.billingInfo;if("undefined"!==typeof b){$(b).formHandler("disable-validation");$.isPlainObject(a)||(a={});$("fullName email postalCode cityName address phone contactPhone".split(" ")).each(function(c,f){var j="";"undefined"!==typeof b[f]&&"undefined"!==typeof a[f]&&(j=a[f]);$(b[f]).val(j)});var c=$(b.contactMe).filter(":checkbox");$(b.phone).val()===$(b.contactPhone).val()?c.attr("checked","checked"):c.removeAttr("checked");c.trigger("change");
var f=c="";"undefined"!==typeof a.countryISO2&&(c=a.countryISO2);c||(c=$.cookie("country_code"));"undefined"!==typeof a.stateISO2&&(a.stateISO2.length&&"XX"!==a.stateISO2)&&(f=a.stateISO2);$(b.stateISO2).val(f).change();$(b.countryISO2).val(c).change();$(b).formHandler("reset-errors");$(b).formHandler("enable-validation")}};
Tm.Checkout.prototype.initSignInForms=function(a,b){var c=new Tm.Signin;$(a).formHandler({on_submit_success:function(a,b,h){$(a).formHandler("show-ajax-progress");c.signInCallback(h,function(){$(a).formHandler("hide-ajax-progress")})},autofocus_first_field:!c.getUserEmail()});$(":input",b).removeAttr("disabled");$(b.customer).click(function(){var a=$(".js-customer-new-from"),b=$(".js-customer-sigin-from");switch(this.value){case "new":b.hide();a.show();break;case "existing":b.show(100,function(){var a=
$(":input[name=email]",this),b=$(":input[name=password]",this);a.val().length?b.focus():a.focus()}),a.hide()}})};Tm.Checkout.prototype.refreshSubscriptionFormGroup=function(){var a=$(document.forms.billingInfo),b=new Tm.Signin,a=$(a).find(".js-newsletersubscription-checkbox"),c=a.find("input[name=newsletersubscription]");b.isSignedIn()?(c.prop("disabled",!0),a.hide()):(c.prop("disabled",!1),a.show())};
Tm.Checkout.prototype.initBillingInfoForm=function(a,b,c){var f=this;$(".js-checkout-calback-step2:first").click(function(){$(a).data("submitInProgress",!1);f.switchStep("step2");return!1});var g=$(a.countryISO2),h=$(a.stateISO2);g.val()||g.val($.cookie("country_code"));renameCompleteButton();h.change(function(){$(this).trigger("chosen:updated")});g.change(function(){var a=!0,b="",c="",g="";-1!==$.inArray(this.value,f.countries_with_states)?($(this).is(":disabled")||(a=!1),c="",h.val()&&"XX"!==h.val()&&
(g=h.val())):this.value.length&&(b=Twig.render(defaultStateOptionValue),g=c="XX");h.find("option:first").replaceWith(b).val(c).end().attr("disabled",a);h.val(g).data("validation-value",-1);h.change();$(this).trigger("chosen:updated")}).change();g.chosen({placeholder_text_single:" ",width:g.css("width")});h.chosen({placeholder_text_single:" ",width:h.css("width")});$(a).find("#js-contactme-checkbox-text").on("click",function(b){b.stopPropagation();b=document.forms.billingInfo;$(b.phone).change();$(a.contactPhone).trigger("keyup");
$(a.contactMe).filter(":checkbox").is(":checked")?$(".js-contact-phone-container",b).hide():$(".js-contact-phone-container",b).show()});$.isPlainObject(b)||(b={});$(a).formHandler($.extend({},b,{on_empty_checks_callbacks:{phone:function(a){$(a.contactMe).filter(":checkbox").is(":checked")?(a.contactPhone.value=a.phone.value,$(".js-contact-phone-container").hide()):$(".js-contact-phone-container").show()},contactPhone:function(a){return $(a.contactMe).filter(":checkbox").is(":checked")?!0:null}},on_before_validate:function(a){$([a.phone,
a.contactPhone]).each(function(){this.value=this.value.replace(/[^\d]/gi,"")})},on_after_validate:function(a){var b=(new Date).toString();$(a.localtime).val(b);if(-1===$.inArray(a.countryISO2.value,f.countries_with_states)&&$(a.stateISO2).is(":disabled")){var b=$(a).data("validation-errors"),c;for(c in b)"stateISO2"===b[c].name&&delete b[c];$(a).data("validation-errors",b)}},on_submit_success:c}));$(".js-new-customer-link",f.steps).click(function(){f.showLoginError("");f.resetBillingForm();var a=
new Tm.Signin;if(a.isLoggedIn()){var b=this;$(b).prop("disabled",!0);a.signOut({on_success:function(){$(b).prop("disabled",!1);f.switchStep("step2");appDic.require("cart").recalculate()}})}else f.switchStep("step2"),appDic.require("cart").recalculate();return!1}).removeAttr("disabled").removeClass("disabled");$("#billinginfo-form").on("click",".js-goto-login",function(){f.goToSignin(!0,a.email.value);return!1})};
Tm.Checkout.prototype.changeform=function(){$(".js-billing-details").not(":visible")&&"billingInfo"in document.forms&&($(".js-user-details").addClass("js-none"),$(".js-billing-details").removeClass("js-none"),this.initBillingInfoForm(document.forms.billingInfo,{},this._onBillingInfoSubmitSuccess))};
Tm.Checkout.prototype._sendOrder=function(a){var b=a.attr("data-payment"),a=a.attr("data-offer-id"),c=$(".js-total-redeemed-bonus-amount").attr("data-amount"),f=$(".js-total-price").attr("data-price"),g=(new Date).toString(),h=(new ClientJS).getFingerprint(),b={mode:"checkout",payment:b,cartAmount:f,bonusesAmount:c,localTime:g,dbilled:!0,fingerprint:h};"undefined"!==typeof a&&(b.addOffer=a);this.createOrder(b,this._payment_selector)};
Tm.Checkout.prototype.initPaymentMethodsContainer=function(){var a=this;$("#payment-collapse").paymentSelector();$("#payment-methods-container").on("click",".js-choose-payment-system",$.proxy(function(b){b=$(b.target);a._payment_selector=$("#payment-collapse, .js-payment-form-block");a._payment_selector.paymentSelector("disable-submit-button");a._payment_selector.paymentSelector("disable-selector");this._sendOrder(b);return!1},this))};
Tm.Checkout.prototype.init=function(){var a=document.forms.billingInfo,b=document.forms.signin_mode,c=document.forms.signin,f={before_tab_switching:$.proxy(this._onBeforeStepSwitching,this),after_tab_switching:$.proxy(this._onAfterStepSwitching,this)},g=$(".js-checkout-step-links .js-step-link-step4.active");g.length&&(f.initial_step=g.data("step"));if(g=window.location.href.match(/step([0-9]+)\.html/))f.initial_step="step"+g[1];a&&this.initBillingInfoForm(a,{},this._onBillingInfoSubmitSuccess);c&&
b&&this.initSignInForms(c,b);this.initPaymentMethodsContainer();this.steps.checkoutSteps(f);this.signChecking()};Tm.Checkout.prototype.resetBillingForm=function(){this.fillInfoForm({});$(document.forms.billingInfo).formHandler("show-errors",[])};
Tm.Checkout.prototype._onBeforeStepSwitching=function(a,b,c){-1!==$.inArray(c,["step2","step3"])&&(a=$(b).find(".js-cart-summary-container"),0===a.children("form").size()&&(b=$(".js-cart-summary-container .js-cart-summary"),a.append(b)));"step2"===c&&this.refreshSubscriptionFormGroup();-1!==$.inArray(c,["step3"])&&$("#payment-collapse, .js-payment-form-block").paymentSelector("hide-server-error")};
Tm.Checkout.prototype._onAfterStepSwitching=function(a,b,c){"step1"===c&&(a=new Tm.Signin,this.fillSigninForm(a.getUserEmail()),(new CLS47).pushData(1));"step2"==c&&(a=document.forms.billingInfo,$(a).formHandler("enable-validation"),$(a).formHandler("reset-errors"),$(a).formHandler("focus-first"),(new CLS47).pushData(2));"step3"==c&&(appDic.require("bonus").focusFirst(),(new CLS47).pushData(3));this.steps.checkoutSteps("redrawNavigationLinks",
c)};
Tm.Checkout.prototype._onBillingInfoSubmitSuccess=function(a,b,c){$(a).formHandler("show-ajax-progress",!0);$(".js-billinginfo-details").html(c.billingInfoHTML);$("#payment-methods-container").html(c.paymentMethodsFormHtml);$("#payment-collapse").paymentSelector();(new Tm.Signin)._autoSignIn();$(document).trigger("Gtag.userRegistration.push",{email:a.email.value,name:a.fullName.value});0==$(".js-cart-summary .js-total-price").attr("data-price")?($(a).formHandler("show-ajax-progress"),$(".js-payment-complete-order .js-choose-payment-system").click()):($(a).formHandler("hide-ajax-progress"),
(new Tm.Checkout).switchStep("step3"));return!1};Tm.Checkout.prototype.isFree=function(){return!1};$(document).on("TM_JS_LOADED",function(){$(".payment-methods .item").click(function(){$(this).find('input[type="radio"]').attr("checked",!0);$(this).siblings().find('input[type="radio"]').attr("checked",!1)})});Tm=Tm||{};
Tm.Checkout3=function(a,b){this._config={container:"#checkout3-accordion",steps_selector:".js-step",step_label_selector:".js-step-label",step_marker_selector:".js-rd-step",step_handler_class:"js-step-handler",step_active_selector_class:"js-active",step_active_class:"active",step_large_class:"rd-step-large",step_visited_marker_class:"blue",step_visited_class:"visited",step_finished_class:"finished",signin_form:document.forms.signin3,signin_email_block_selector:".js-signin-email-block",signin_password_block_selector:".js-signin-password-block",signin_fgt_pswd_selector:".js-fgt_pswd",
signin_switch_account_selector:".js-signin-switch-account",signin_pseudoBtn:".js-signin-pseudoBtn",signin_check_account_url:"/account-ajax/check-account.php",signin_email_wrapper_selector:".js-signin-email-wrapper",signin_email_block:".js-signin-email-block",signin_email_description:".js-email-description",signin_gravatar_holder:".gravatar-holder",billing_info_form:document.forms.billinginfo3,billing_info_state_default_title:Twig.render(defaultStateOptionValue),billing_info_state_default_value:"XX",
payment_create_order_url:"/checkout-ajax/create-order.php",payment_system_selector:"#payment-methods-container",payment_button_selector:".js-choose-payment-system",payment_recurrent_selector:".js-recurrent",payment_error_block_selector:".js-payment-error-block",payment_chat_button_selector:".js-chat-btn",payment_chat_window_width:800,payment_chat_window_height:695,payment_chat_window_name:"tmBillingChat",countries_with_prefered_states:{US:"CA",CA:"ON"},new_customer_selector:"#signin3-new-customer",
billing_info_details_selector:".js-billing-info-details",stripe_button:"#checkout-payment-buy-Stripe",accordion_animation_timeout:1E3};this._language=a;this._bonus=b;this._stepHandlers={signin:new Tm.Checkout3.SignIn(this),information:new Tm.Checkout3.BillingInfo(this),payment:new Tm.Checkout3.Payment(this)};this._container=$(this._config.container).get(0);this._stepWrappers=$(this._config.steps_selector,this._container).get();this._ecommerceWatcher=new CLS47};
defineService(["language","bonus3","cart"],Tm.Checkout3);Tm.Checkout3.prototype.init=function(){for(var a in this._stepHandlers)if(this._stepHandlers.hasOwnProperty(a)){var b=$(this._stepWrappers).filter("[data-step="+a+"]").get(0);this._stepHandlers[a].init(b)}this._paymentWasFailed()&&this._createFailPopup(Twig.render(checkoutFailedPopupInner)).show();this._initAccordeon();this._route()};Tm.Checkout3.prototype.getConfig=function(){return this._config};Tm.Checkout3.prototype.getLanguage=function(){return this._language};
Tm.Checkout3.prototype.getBonus=function(){return this._bonus};Tm.Checkout3.prototype.getStep=function(){return $(this._stepWrappers).filter("."+this._config.step_active_selector_class).data("step")};Tm.Checkout3.prototype.getSignInHandler=function(){return this._stepHandlers.signin};Tm.Checkout3.prototype.getBillingInfoHandler=function(){return this._stepHandlers.information};Tm.Checkout3.prototype.getPaymentHandler=function(){return this._stepHandlers.payment};
Tm.Checkout3.prototype.getStepWrappers=function(){return this._stepWrappers};Tm.Checkout3.prototype.getEcommerceWatcher=function(){return this._ecommerceWatcher};Tm.Checkout3.prototype.redirect=function(a,b){$.isEmptyObject(b)||(a+="?"+$.param(b));window.location.href=a};
Tm.Checkout3.prototype._initAccordeon=function(){$(this._stepWrappers).find("."+this._config.step_handler_class).on("hide.bs.collapse",function(a){var b=this._getAccordionEventHandler(a);if(b.hasClass(this._config.step_active_selector_class))return!1;b.data("is-shown",!1);return this._stepHandlers[b.data("step")].onBeforeDeactivate(a)}.bind(this)).on("hidden.bs.collapse",function(a){var b=this._getAccordionEventHandler(a);return this._stepHandlers[b.data("step")].onDeactivate(a)}.bind(this)).on("show.bs.collapse",
function(a){var b=this._getAccordionEventHandler(a);return this._stepHandlers[b.data("step")].onBeforeActivate(a)}.bind(this)).on("shown.bs.collapse",function(a){var b=this._getAccordionEventHandler(a);if(!b.data("is-shown"))return b.data("is-shown",!0),a.data=$.extend({},$(a.target).data("activate-params")),$(a.target).data("activate-params",null),this._stepHandlers[b.data("step")].onActivate(a)}.bind(this));$(this._config.steps_selector,this._container).on("click",function(a){return $(a.delegateTarget).hasClass(this._config.step_visited_class)}.bind(this))};
Tm.Checkout3.prototype._route=function(){var a=this.getSignInHandler(),b=this.getBillingInfoHandler();a.isSignedIn()?b.isDataValid()?this.getPaymentHandler().activate():this.getBillingInfoHandler().activate():this.getSignInHandler().activate()};Tm.Checkout3.prototype._getAccordionEventHandler=function(a){return $(a.target).parents(this._config.steps_selector)};
Tm.Checkout3.prototype._createFailPopup=function(a){this.failPopup=new Tm.RDPopup({multiple_open:!0,on_show:function(){var a=$(".failed-payment-popup").parents(".modal-dialog"),c=a.find(".close-popup");a.addClass("failed-payment-popup__wrap");c.addClass("failed-payment-popup__close")}});this.failPopup.initModal(a);return this.failPopup};Tm.Checkout3.prototype._paymentWasFailed=function(){var a=window.location.search.match(/fail\s?=\s?(true|false|\d*)/),b=null;a&&(b=a[1]);return"1"===b||"true"===b};Tm=Tm||{};Tm.Checkout3.Step=function(a){this._checkout=a;this._modalProgress=this._wrapper=this._form=null};Tm.Checkout3.Step.prototype.init=function(a){this._wrapper=a};Tm.Checkout3.Step.prototype.isActive=function(){var a=this._checkout.getConfig();return $(this._wrapper).hasClass(a.step_active_selector_class)};
Tm.Checkout3.Step.prototype.setLabel=function(a){var b=this._checkout.getConfig(),b=$(b.step_label_selector,this._wrapper).html(a);if("string"===typeof a&&a.length)return b.removeClass("hidden"),!0;b.addClass("hidden");return!1};Tm.Checkout3.Step.prototype.deactivate=function(){var a=this._checkout.getConfig(),b=$("."+a.step_handler_class,this._wrapper).get(0);$(b).collapse("hide");if(!$(b).hasClass("non-transition"))$(b).one("hidden.bs.collapse",function(){$(b).removeAttr("style")})};
Tm.Checkout3.Step.prototype.activate=function(a){var b=this._checkout.getConfig(),b=$("."+b.step_handler_class,this._wrapper).get(0);this.isActive()?(a=jQuery.Event("already-shown",{target:b,data:$.extend({},a)}),this.onBeforeActivate(a),this.onActivate(a)):$(b).data("activate-params",a).collapse("show")};
Tm.Checkout3.Step.prototype.markAsVisited=function(a){var b=this._checkout.getConfig(),c=$(this._wrapper),f=c.find(b.step_marker_selector);if(a)return c.addClass(b.step_visited_class),f.addClass(b.step_visited_marker_class),this;c.removeClass(b.step_visited_class);f.removeClass(b.step_visited_marker_class);this.markAsFinished(!1);return this};Tm.Checkout3.Step.prototype.isVisited=function(){return $(this._wrapper).hasClass(this._checkout.getConfig().step_visited_class)};
Tm.Checkout3.Step.prototype.markAsFinished=function(a){var b=this._checkout.getConfig(),c=$(this._wrapper);if(a)return c.addClass(b.step_finished_class),this;c.removeClass(b.step_finished_class);return this};Tm.Checkout3.Step.prototype.trackActivation=function(){};Tm.Checkout3.Step.prototype.onActivate=function(a){a.data.skipTracking||this.trackActivation();this._logEvent("onActivate",a)};Tm.Checkout3.Step.prototype.onBeforeActivate=function(a){this._logEvent("onBeforeActivate",a);this._markActive(!0)};
Tm.Checkout3.Step.prototype.onBeforeDeactivate=function(a){this._logEvent("onBeforeDeactivate",a);this._markActive(!1)};Tm.Checkout3.Step.prototype.onDeactivate=function(a){this._logEvent("onDeactivate",a)};Tm.Checkout3.Step.prototype._callAsync=function(a,b){"undefined"===typeof b&&(b=10);setTimeout(a.bind(this),b)};Tm.Checkout3.Step.prototype._initForm=function(a){$(document).trigger("MainEvents.virtualCart.initForm",{form:this._form});$(this._form).rdFormHandler(a)};
Tm.Checkout3.Step.prototype._markActive=function(a){var b=this._checkout.getConfig(),c=$(this._wrapper),f=c.find(b.step_marker_selector);if(a)return $(this._checkout.getStepWrappers()).removeClass([b.step_active_selector_class,b.step_active_class].join(" ")),c.addClass([b.step_active_selector_class,b.step_active_class].join(" ")),f.addClass([b.step_large_class,b.step_active_class].join(" ")),this.markAsVisited(!0),this;f.removeClass([b.step_large_class,b.step_active_class].join(" "));return this};
Tm.Checkout3.Step.prototype._enableForm=function(a,b){"undefined"===typeof b&&(b=!0);$(this._form).rdFormHandler("enable-submit");$(this._form).rdFormHandler("hide-ajax-progress",function(){$.isFunction(a)&&a()}.bind(this),b)};Tm.Checkout3.Step.prototype._hideFormMarks=function(){$(this._form).rdFormHandler("hide-errors").rdFormHandler("hide-success");return this};
Tm.Checkout3.Step.prototype._disableForm=function(a,b){this._hideFormMarks();b||$(this._form).rdFormHandler("disable-submit");$(this._form).rdFormHandler("show-ajax-progress",!!a,null,!b)};Tm.Checkout3.Step.prototype._isFormEnabled=function(){return!$(this._form).find(":input:not([type=hidden]):first").is(":disabled")};Tm.Checkout3.Step.prototype._getFormErrors=function(){return $(this._form).rdFormHandler("get-errors")};
Tm.Checkout3.Step.prototype._showFormSuccess=function(){$(this._form).rdFormHandler("show-success");return this};Tm.Checkout3.Step.prototype._showModalProgress=function(){this._modalProgress?$(this._modalProgress).show():this._modalProgress=$(Twig.render(paymentProgressPopup)).appendTo(document.body).get()};Tm.Checkout3.Step.prototype._hideModalProgress=function(){this._modalProgress&&$(this._modalProgress).hide()};
Tm.Checkout3.Step.prototype._shake=function(a){$(a).addClass("element-animation-shake");setTimeout(function(){$(a).removeClass("element-animation-shake")},1500)};Tm.Checkout3.Step.prototype._logEvent=function(){};Tm=Tm||{};
Tm.Checkout3.SignIn=function(a){Tm.Checkout3.Step.call(this,a);a=a.getConfig();this._signin=new Tm.Signin;this._form=a.signin_form;this._passwordBlockSelector=a.signin_password_block_selector;this._forgotLinkSelector=a.signin_fgt_pswd_selector;this._newButtonSelector=a.new_customer_selector;this._switchLinkSelector=a.signin_switch_account_selector;this._emailBlockSelector=a.signin_email_block;this._emailDescriptionSeelctor=a.signin_email_description;this._checkAccountUrl=a.signin_check_account_url;this.billingInfoSelector=
a.billing_info_details_selector};goog.inherits(Tm.Checkout3.SignIn,Tm.Checkout3.Step);Tm.Checkout3.SignIn.prototype.init=function(a){Tm.Checkout3.SignIn.superClass_.init.call(this,a);this._initForm();this._initSwitchAccount();this._initNewCustomerButton();this._handleAutoSignIn();!this.isActive()&&this.isSignedIn()&&this.setLabel(this.getEmail());$(this._form.email).attr("data-validation-callback",this._checkAccountUrl)};Tm.Checkout3.SignIn.prototype.isReturningUser=function(){return!!$.cookie("cid")};
Tm.Checkout3.SignIn.prototype.isSignedIn=function(){return!!$(this._form).data("signed-in")};Tm.Checkout3.SignIn.prototype.getEmail=function(){return $(this._form.email).val()};
Tm.Checkout3.SignIn.prototype.setEmail=function(a){if(!this.isActive())return $(this._form.email).val(a),this;$(this._form).rdFormHandler("hide-ajax-progress").rdFormHandler("disable-validation");this._hideFormMarks();$(this._form.email).val(a).attr("disabled",!!a).data("validation-value",a?a:null).trigger("rd-gravatar-redraw").trigger("filled.rd");$(this._form).rdFormHandler("enable-validation").rdFormHandler("validate");this._hideNewCustomerLoader();return this};
Tm.Checkout3.SignIn.prototype.setSuppositiveAvatar=function(a){$(this._form.email).data("avatar-url",a);return this};Tm.Checkout3.SignIn.prototype.getSuppositiveAvatar=function(){return $(this._form.email).data("avatar-url")};Tm.Checkout3.SignIn.prototype.getSuppositiveEmail=function(){return $(this._form.email).data("email")};Tm.Checkout3.SignIn.prototype.setSignedIn=function(a){$(this._form).data("signed-in",!!a+0);return this};
Tm.Checkout3.SignIn.prototype.setSuppositiveEmail=function(a){$(this._form.email).data("email",a);return this};Tm.Checkout3.SignIn.prototype.setSuppositiveName=function(a){$(this._form.email).data("full-name",a).data("gravatar-full-name",a);return this};Tm.Checkout3.SignIn.prototype.trackActivation=function(){this._checkout.getEcommerceWatcher().pushData(1)};
Tm.Checkout3.SignIn.prototype.onBeforeActivate=function(a){Tm.Checkout3.SignIn.superClass_.onBeforeActivate.call(this,a);this.setLabel("");this.isSignedIn()?this._hideFormMarks()._expandEmailBlock()._showSwitchAccountLink()._hidePasswordBlock()._hideNewCustomerButton()._disableEmail()._redrawGravatar(function(){this._showGravatar()}.bind(this)):(a=this.isReturningUser()?this.getSuppositiveEmail():"",this.setEmail(a),this._checkout.getBillingInfoHandler().markAsVisited(!1),this._checkout.getPaymentHandler().markAsVisited(!1),
this.getEmail()?(this._disableEmail(),this._redrawGravatar(this.onGravatarLoad.bind(this))):this._hidePasswordBlock()._expandEmailBlock(function(){this._enableEmail()}.bind(this))._hideSwitchAccountLink()._showNewCustomerButton())};Tm.Checkout3.SignIn.prototype.onActivate=function(a){Tm.Checkout3.SignIn.superClass_.onActivate.call(this,a);this._callAsync(function(){$(this._form).rdFormHandler("focus-first")}.bind(this))};
Tm.Checkout3.SignIn.prototype.onBeforeDeactivate=function(a){Tm.Checkout3.SignIn.superClass_.onBeforeDeactivate.call(this,a);this._hideSwitchAccountLink()};Tm.Checkout3.SignIn.prototype.onDeactivate=function(a){Tm.Checkout3.SignIn.superClass_.onDeactivate.call(this,a);this.setLabel(this.getEmail())};Tm.Checkout3.SignIn.prototype.onGravatarLoad=function(){this.getEmail()&&this._compactEmailBlock(function(){this._showPasswordBlock();this._showSwitchAccountLink()}.bind(this))._showGravatar()._hideNewCustomerButton()._disableEmail()._changeFloatingTooltipText("getPassText")};
Tm.Checkout3.SignIn.prototype.updateLabel=function(){this.setLabel(this.getEmail())};
Tm.Checkout3.SignIn.prototype.handleRestoreSession=function(){this._signin.signOut({on_success:function(){this.setSignedIn(!1)._hideNewCustomerLoader()._compactEmailBlock(function(){this._showPasswordBlock();this._showSwitchAccountLink();var a=Twig.render(sessionExpired);$(this._form).rdFormHandler("show-field-error",this._form.password,a)}.bind(this))._showGravatar()._hideNewCustomerButton()._disableEmail();this._checkout.getBillingInfoHandler().setData({}).setDataValid(!1).updateLabel().markAsVisited(!1);this._checkout.getPaymentHandler().markAsVisited(!1);
this.activate()}.bind(this)});this.activate()};
Tm.Checkout3.SignIn.prototype._initSwitchAccount=function(){$(this._switchLinkSelector).on("click",function(){this.setEmail("").setSuppositiveName("")._expandEmailBlock()._hideSwitchAccountLink()._hidePasswordBlock()._showNewCustomerButton();this._checkout.getBonus().doNotApply();this.isSignedIn()&&(this._disableEmail()._showNewCustomerLoader().markAsFinished(!1),this._signin.signOut({on_success:function(){this.setSignedIn(!1)._hideNewCustomerLoader()._enableEmail();this._checkout.getBillingInfoHandler().setData({}).setDataValid(!1).updateLabel().markAsVisited(!1);
this._checkout.getPaymentHandler().markAsVisited(!1);$(document).trigger("MainEvents.user.logout")}.bind(this),on_error:function(){this._enableEmail()}.bind(this)}));this._changeFloatingTooltipText("getEmailText");return!1}.bind(this))};
Tm.Checkout3.SignIn.prototype._initNewCustomerButton=function(){$(this._newButtonSelector,this._wrapper).on("click",function(){var a=this._form.email;if(this._isEmailValid()&&this._isNewCustomer())return this.markAsFinished(!0),this._checkout.getBillingInfoHandler().setData({email:$(a).val()}).activate(),!1;$(this._form.email).trigger(jQuery.Event("keydown",{keyCode:13})).focus();return!1}.bind(this))};
Tm.Checkout3.SignIn.prototype._initForm=function(){Tm.Checkout3.SignIn.superClass_._initForm.call(this,{autofocus_first_field:!1,skip_success_mark:["password"],autocheck_fields:["email"],autoscroll_on_form_error:!1,common_errors_html_classes:"alert fade in rd-notice rd-notice-tooltip rd-notice-type-error rd-notice-position-top rd-closing",default_error_message:"Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",
on_before_validate:function(){this._setNewCustomer(!1)}.bind(this),on_after_validate:function(){if(!this._isPasswordBlockVisible())return!1}.bind(this),on_submit_success:function(a,b,c){var f=this._checkout.getBillingInfoHandler(),g=this._checkout.getPaymentHandler(),h=c.billingInfoIsValid,a=$.extend({email:c.userData.email,fullName:c.userData.email===c.userData.fullName?"":c.userData.fullName,phone:c.userInfo.contactPhone},c.billingInfo);$(document).one("cart.block.update.finish",function(){h?g.trackActivation():
f.trackActivation()}.bind(this));updateCart(!0);$(document).trigger("MainEvents.user.login");this.setSignedIn(!0).setSuppositiveEmail(c.userData.email).setSuppositiveName(c.userData.fullName).setSuppositiveAvatar(c.avatar).markAsFinished(!0);this._checkout.getBonus().setAvailableAmount(c.bonusesAvailable);f.setData(a).setDataValid(c.billingInfoIsValid).updateLabel().markAsVisited(!0);h?(f.markAsFinished(!0),g.setPaymentMethodsHTML(c.paymentMethodsHTML).activate({skipTracking:!0})):f.activate({skipTracking:!0})}.bind(this),
on_show_errors:function(a,b,c){c.length&&(this._shake(this._form),a=$(this._form).find(".signIn-part1 .button").outerWidth(),$(this._form).find(".signIn-part1 .rd-notice").css({"margin-left":a+20+"px"}))}.bind(this),on_before_ajax_callback:{email:function(){this.getEmail().length&&this._showNewCustomerLoader()}.bind(this)},on_after_ajax_callback:{email:function(a,b,c,f){this.setSuppositiveAvatar(f.avatar);if(!f.status&&!f.available)return $(a).rdFormHandler("hide-field-progress",a.email).rdFormHandler("enable-submit"),
this._redrawGravatar(this.onGravatarLoad.bind(this)),!1;this._checkout.getBillingInfoHandler().setSubscriptionStatus(0);this._setNewCustomer(!0);$(this._newButtonSelector).trigger("click")}.bind(this)},on_ajax_response:function(a,b,c){var f,g;c.wacError&&(-1!==$.inArray(c.wacError,[102,103])&&(f=c.errors),-1!==$.inArray(c.wacError,[104])&&(g=c.errors),c.errors=[]);$(c.errors).map(function(a,b){return"email"===b.name?(f=b.messages,null):b});this._callAsync(function(){f?($(this._form).rdFormHandler("show-field-error",
this._form.email,f),this._shake(this._form)):g?($(this._form).rdFormHandler("show-field-error",this._form.password,g),this._shake(this._form)):this._isFormEnabled()&&this._showFormSuccess()}.bind(this),50);return c}.bind(this)});$(this._form.email).on("keydown",function(a){if(13===a.keyCode){if(!$(this._form.email).val().length)return $(this._form).submit(),!1;$(a.target).trigger("rd-check-field",{hideErrorsForEmpty:!1});return!1}}.bind(this));$(this._form).on("mousedown touchstart",".js-password-toggle",
function(){$(this).siblings("input").attr("type","text")});$(this._form).on("mouseup touchend mouseleave",".js-password-toggle",function(){$(this).siblings("input").attr("type","password")});this._enableForm(function(){this._disableEmail()}.bind(this))};Tm.Checkout3.SignIn.prototype._showNewCustomerLoader=function(){$(this._newButtonSelector,this._wrapper).addClass("loading");return this};
Tm.Checkout3.SignIn.prototype._hideNewCustomerLoader=function(){$(this._newButtonSelector,this._wrapper).removeClass("loading");return this};Tm.Checkout3.SignIn.prototype._isPasswordBlockVisible=function(){return!$(this._passwordBlockSelector,this._wrapper).hasClass("widthZero")};
Tm.Checkout3.SignIn.prototype._showPasswordBlock=function(a){"undefined"===typeof a&&(a=!0);$(this._form.password).val("");$(this._passwordBlockSelector,this._wrapper).removeClass("widthZero").dequeue();this._hideEmailDescription();$(this._forgotLinkSelector,this._wrapper).fadeIn(250,"easeInOutQuint");a&&this._callAsync(function(){$(this._form).rdFormHandler("focus",this._form.password)}.bind(this),500);return this};
Tm.Checkout3.SignIn.prototype._hidePasswordBlock=function(a){"undefined"===typeof a&&(a=!0);$(this._passwordBlockSelector,this._wrapper).addClass("widthZero");$(this._forgotLinkSelector,this._wrapper).fadeOut(5,"easeInOutQuint");this._showEmailDescription();a&&$(this._form).rdFormHandler("focus",this._form.email);return this};Tm.Checkout3.SignIn.prototype._showNewCustomerButton=function(){$(this._newButtonSelector,this._wrapper).removeClass("hidden");return this};
Tm.Checkout3.SignIn.prototype._hideNewCustomerButton=function(){$(this._newButtonSelector,this._wrapper).addClass("hidden");return this};Tm.Checkout3.SignIn.prototype._showSwitchAccountLink=function(){$(this._switchLinkSelector).removeClass("hidden").fadeIn(250,"easeInOutQuint");return this};Tm.Checkout3.SignIn.prototype._hideSwitchAccountLink=function(){$(this._switchLinkSelector).fadeOut(250,"easeInOutQuint");return this};
Tm.Checkout3.SignIn.prototype._compactEmailBlock=function(a){$(this._emailBlockSelector,this._wrapper).addClass("half-width").delay(500).queue(function(){$.isFunction(a)&&a();$(this).dequeue()});return this};Tm.Checkout3.SignIn.prototype._expandEmailBlock=function(a){$(this._emailBlockSelector,this._wrapper).removeClass("half-width").delay(500).queue(function(){$.isFunction(a)&&a();$(this).dequeue()});return this};
Tm.Checkout3.SignIn.prototype._isEmailValid=function(){return 0===$(this._getFormErrors()).filter(function(a,b){return"email"===b.name}).length};Tm.Checkout3.SignIn.prototype._isNewCustomer=function(){return $(this._form.email).data("is-new")};Tm.Checkout3.SignIn.prototype._setNewCustomer=function(a){$(this._form.email).data("is-new",a);return this};
Tm.Checkout3.SignIn.prototype._redrawGravatar=function(a){var b=new Tm.RdEmailInput({triggerOnFocus:!1,onSuccessDraw:function(b){$.isFunction(a)&&a(b)},onErrorDraw:function(b){$.isFunction(a)&&a(b)}});$(this._form.email).data("custom-gravatar-url",this.getSuppositiveAvatar());b.init(this._form.email);$(this._form.email).trigger("rd-gravatar-redraw");return this};
Tm.Checkout3.SignIn.prototype._showGravatar=function(){setTimeout(function(){$(this._form).find(".gravatar-holder").addClass("showed")}.bind(this),500);return this};Tm.Checkout3.SignIn.prototype._enableEmail=function(){$(this._form.email).attr("disabled",!1);$(this._form).rdFormHandler("focus",this._form.email);return this};Tm.Checkout3.SignIn.prototype._disableEmail=function(){$(this._form.email).attr("disabled",!0);return this};
Tm.Checkout3.SignIn.prototype._changeFloatingTooltipText=function(a){var b=$(this.billingInfoSelector).data("floating-text-pass"),c=$(this.billingInfoSelector).data("floating-text-email");"getPassText"==a?$(this.billingInfoSelector).data("floating-text",b):"getEmailText"==a&&$(this.billingInfoSelector).data("floating-text",c);return this};
Tm.Checkout3.SignIn.prototype._showEmailDescription=function(){$(this._emailDescriptionSeelctor,this._wrapper).removeClass("hidden").fadeIn(250,"easeInOutQuint");return this};Tm.Checkout3.SignIn.prototype._hideEmailDescription=function(){$(this._emailDescriptionSeelctor,this._wrapper).fadeOut(0,"easeInOutQuint");return this};
Tm.Checkout3.SignIn.prototype._handleAutoSignIn=function(){$(document).on("MainEvents.user.checkCookie",function(){if(this._signin.isSignedIn()){var a=this._signin.getUserEmail(),b=this._signin.getUserFullName(),c=this._signin.getAvatarUrl(),f=this._checkout.getBillingInfoHandler();this.setEmail(a).setSuppositiveEmail(a).setSuppositiveName(b).setSuppositiveAvatar(c).updateLabel();f.setData($.extend({email:a,fullName:b},this._signin.getBillingInfo()));f.isActive()&&f.updateForm(!0);f.updateLabel()}else(this._signin.isLoggedIn()||
!this.isActive())&&this.handleRestoreSession()}.bind(this))};Tm=Tm||{};Tm.Checkout3.BillingInfo=function(a){Tm.Checkout3.Step.call(this,a);a=a.getConfig();this._form=a.billing_info_form;this._countriesWithPreferedStates=a.countries_with_prefered_states;this._stateOptions=null;this._defaultStateOption=a.billing_info_state_default_title;this._newStateValue=a.billing_info_state_default_value};goog.inherits(Tm.Checkout3.BillingInfo,Tm.Checkout3.Step);
Tm.Checkout3.BillingInfo.prototype.init=function(a){Tm.Checkout3.BillingInfo.superClass_.init.call(this,a);this._initForm();!this.isActive()&&this._checkout.getSignInHandler().isSignedIn()&&this.updateLabel()};Tm.Checkout3.BillingInfo.prototype.trackActivation=function(){this._checkout.getEcommerceWatcher().pushData(2)};
Tm.Checkout3.BillingInfo.prototype.onBeforeActivate=function(a){Tm.Checkout3.BillingInfo.superClass_.onBeforeActivate.call(this,a);var b=this._checkout.getSignInHandler(),c=b.getEmail(),f=$(this._form.newsletersubscription).parents(".js-rd-checkbox"),g=$(".js-rd-checkbox-label");$(this._form.email).val(c);!this.getSubscriptionStatus()&&!b.isSignedIn()?(f.removeClass("hidden"),g.on("mouseenter",function(){$(this._form).data("subscription-delay",3E3)}.bind(this)).on("mouseout",function(){$(this._form).data("subscription-delay",
0)}.bind(this))):f.addClass("hidden");"show"===a.type&&this.updateForm();this.setLabel("")};Tm.Checkout3.BillingInfo.prototype.onActivate=function(a){Tm.Checkout3.BillingInfo.superClass_.onActivate.call(this,a);this._callAsync(function(){$(this._form).rdFormHandler("focus-first");this._showFormSuccess()}.bind(this))};Tm.Checkout3.BillingInfo.prototype.onBeforeDeactivate=function(a){this._hideFormMarks();Tm.Checkout3.BillingInfo.superClass_.onBeforeDeactivate.call(this,a)};
Tm.Checkout3.BillingInfo.prototype.onDeactivate=function(a){Tm.Checkout3.BillingInfo.superClass_.onDeactivate.call(this,a);this.updateLabel()};Tm.Checkout3.BillingInfo.prototype.setData=function(a){$(this._form).data("info",$.extend({email:"",fullName:"",countryISO2:this._getCookieCountry(),stateISO2:null,postalCode:"",cityName:"",phone:"",password:""},a));return this};Tm.Checkout3.BillingInfo.prototype.getData=function(){return $(this._form).data("info")};
Tm.Checkout3.BillingInfo.prototype.isDataValid=function(){return!!$(this._form).data("info-valid")};Tm.Checkout3.BillingInfo.prototype.setDataValid=function(a){$(this._form).data("info-valid",!!a+0);return this};
Tm.Checkout3.BillingInfo.prototype.updateForm=function(a){$(this._form).rdFormHandler("hide-ajax-progress").rdFormHandler("hide-errors").rdFormHandler("disable-validation");var b=$(this._form).data("info"),c;for(c in b)b.hasOwnProperty(c)&&this._form.hasOwnProperty(c)&&null!==b[c]&&$(this._form[c]).val(b[c]).trigger("filled").filter(".js-chosen").change().end().filter(".js-phone").trigger("input");$(this._form).rdFormHandler("enable-validation").rdFormHandler("validate");a&&this._showFormSuccess();
return this};Tm.Checkout3.BillingInfo.prototype.updateLabel=function(){var a="";if(this._checkout.getSignInHandler().isSignedIn()){var a=this.getData(),b=$(this._form.countryISO2).find("option[value="+a.countryISO2+"]").text(),c="XX"!==a.stateISO2?a.stateISO2:"",f="";a.phone&&(f=(new Tm.RdPhoneInput).formatInternational(a.phone));a=this._joinInfo([this._joinInfo([a.fullName,f],", "),this._joinInfo([a.cityName,c,a.postalCode,b],", ")],"<br/>")}this.setLabel(a);return this};
Tm.Checkout3.BillingInfo.prototype.getSubscriptionStatus=function(){return $(this._form).data("show-subscription-checkbox")};Tm.Checkout3.BillingInfo.prototype.setSubscriptionStatus=function(a){$(this._form).data("show-subscription-checkbox",a)};Tm.Checkout3.BillingInfo.prototype._joinInfo=function(a,b){return $(a).filter(function(a,b){return"string"===typeof b&&$.trim(b).length}).get().join(b)};
Tm.Checkout3.BillingInfo.prototype._initForm=function(){this._enableForm(function(){this._initCountryState()}.bind(this));$(document).trigger("MainEvents.virtualCart.initForm",{form:this._form});$('<input type="hidden" name="email"/>').prependTo(this._form);Tm.Checkout3.BillingInfo.superClass_._initForm.call(this,{autofocus_first_field:!1,autocheck_fields:["fullName","postalCode","cityName","phone"],common_errors_html_classes:"alert fade in rd-notice rd-notice-tooltip rd-notice-type-error rd-notice-position-top rd-closing",
default_error_message:"Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",on_before_ajax_callback:{postalCode:function(a){$(a.cityName).attr("disabled","disabled")}},skip_disabled_fields_validation:!0,on_after_ajax_callback:{postalCode:function(a,b,c,f){b=$(a.countryISO2);c=$(a.stateISO2);a=$(a.cityName);f.state_code&&this._isCountryWithSates(f.country_code)&&c.val(f.state_code).change();b.change();
f.city&&a.val(f.city).change();a.removeAttr("disabled");this._callAsync(function(){this._showFormSuccess()}.bind(this))}.bind(this)},on_ajax_response:function(a,b,c){c.status||(c.errors=$(c.errors).filter(function(a,b){return"email"===b.name?($(this._form).formHandler("show-form-error",b.messages),!1):!0}.bind(this)).get());return c}.bind(this),on_after_validate:function(a,b,c){b=(new Date).toString();$(a.localTime).val(b);this.isActive()&&(!c.length&&!this._checkout.getPaymentHandler().isVisited()&&
!$(this._form).rdFormHandler("is-submit-in-progress"))&&(a=parseInt($(this._form).data("subscription-delay")),setTimeout(function(){$(this._form).rdFormHandler("submit")}.bind(this),a))}.bind(this),on_show_errors:function(a,b,c){c.length&&this._shake(this._form)}.bind(this),on_submit_success:function(a,b,c){$(document).trigger("Gtag.userRegistration.push",{email:a.email.value,name:a.fullName.value});this.setDataValid(!0).setData(c.billingInfo).markAsFinished(!0);this._checkout.getSignInHandler().setSignedIn(!0).setSuppositiveEmail(a.email.value).setSuppositiveName(a.fullName.value);
this._checkout.getPaymentHandler().setPaymentMethodsHTML(c.paymentMethodsHTML).activate();this._checkout.getBillingInfoHandler().deactivate()}.bind(this)})};
Tm.Checkout3.BillingInfo.prototype._initCountryState=function(){this._stateOptions=$(this._form.stateISO2).find('option[value!=""]');$(this._form.stateISO2).change(function(){$(this).trigger("chosen:updated")});$(this._form.countryISO2).change(function(a){var b=this._defaultStateOption,c=this._newStateValue,f=!0,g=$(a.target).val(),h=$(this._stateOptions).filter(function(){return $(this).data("country-code")==g}).get();h.length&&(b=$(h).map(function(){return $(this).val()}).get(),-1!==$.inArray($(this._form.stateISO2).val(),
b)?c=$(this._form.stateISO2).val():this._isCountryWithSates(a.target.value)&&(c=this._getPreferedCountrySate(g)),b=h,f=!1);$(this._form.stateISO2).html(b).attr("disabled",f).val(c).trigger("chosen:updated");$(a.target).trigger("chosen:updated")}.bind(this));!$(this._form.countryISO2).val()&&$.cookie("country_code")&&$(this._form.countryISO2).val(this._getCookieCountry()).change()};Tm.Checkout3.BillingInfo.prototype._isCountryWithSates=function(a){return this._countriesWithPreferedStates.hasOwnProperty(a)};
Tm.Checkout3.BillingInfo.prototype._getPreferedCountrySate=function(a){return this._isCountryWithSates(a)?this._countriesWithPreferedStates[a]:null};Tm.Checkout3.BillingInfo.prototype._getCookieCountry=function(){var a=$.cookie("country_code");$(this._form.countryISO2).find("option[value="+a+"]").length||(a="US");return a};Tm=Tm||{};Tm.Checkout3.Payment=function(a){Tm.Checkout3.Step.call(this,a);a=a.getConfig();this._paymentSystemSelector=a.payment_system_selector;this._buttonSelector=a.payment_button_selector;this._errorBlockSelector=a.payment_error_block_selector;this._recurrentSelector=a.payment_recurrent_selector;this._createOrderUrl=a.payment_create_order_url;this._stripe_button=a.stripe_button};goog.inherits(Tm.Checkout3.Payment,Tm.Checkout3.Step);
Tm.Checkout3.Payment.prototype.init=function(a){Tm.Checkout3.Payment.superClass_.init.call(this,a);this._initCardsTooltip();this._initPaymentSubmit();this._initErrorPopup();this._initBonusForm()};Tm.Checkout3.Payment.prototype.trackActivation=function(){this._checkout.getEcommerceWatcher().pushData(3)};Tm.Checkout3.Payment.prototype.setPaymentMethodsHTML=function(a){$(this._paymentSystemSelector,this._wrapper).html(a);this._initCardsTooltip();return this};
Tm.Checkout3.Payment.prototype.enablePaymentButtons=function(){$(this._paymentSystemSelector).find("[id^=checkout-payment-buy]").removeClass("disabled")};Tm.Checkout3.Payment.prototype.disablePaymentButtons=function(){$(this._paymentSystemSelector).find("[id^=checkout-payment-buy]").addClass("disabled")};Tm.Checkout3.Payment.prototype._initBonusForm=function(){this._checkout.getBonus().init({on_bonus_payment_disable:this.enablePaymentButtons.bind(this),on_bonus_payment_enable:this.disablePaymentButtons.bind(this)})};
Tm.Checkout3.Payment.prototype._initPaymentSubmit=function(){$(this._wrapper).on("click",this._buttonSelector,function(a){this._disablePaymentSubmit(a.target);this._sendOrder(a.target);return!1}.bind(this))};Tm.Checkout3.Payment.prototype._enablePaymentSubmit=function(){$(this._buttonSelector,this._wrapper).attr("disabled",!1).removeClass("disabled loading");this._hideModalProgress()};
Tm.Checkout3.Payment.prototype._disablePaymentSubmit=function(a){var b=$(this._buttonSelector,this._wrapper),a=b.filter(a);b.attr("disabled",!0).addClass("disabled");a.is(this._recurrentSelector)?this._showModalProgress():a.addClass("loading")};
Tm.Checkout3.Payment.prototype._createDoubleOrderPopup=function(a){this.dblOrderPopup=new Tm.RDPopup({multiple_open:!0,on_show:this._onPopupShow.bind(this)});this.dblOrderPopup.initModal(a);$("body").on("click",".dbl-payment-popup__button",this._onDblPopupButtonClick.bind(this));return this.dblOrderPopup};Tm.Checkout3.Payment.prototype._onPopupShow=function(){$(".dbl-payment-popup").parents(".modal-content").find(".close-popup").addClass("dbl-payment-popup__close")};
Tm.Checkout3.Payment.prototype._onDblPopupButtonClick=function(a){$(a.target).prop("disabled","disabled").addClass("loading");this._sendOrder(null,!0)};
Tm.Checkout3.Payment.prototype._sendOrder=function(a,b){this.paymentBtn=a||this.paymentBtn;var c=b||!1,f=$(this.paymentBtn).attr("data-payment"),g=$(this.paymentBtn).attr("data-offer-id"),h=$(".js-total-redeemed-bonus-amount").attr("data-amount"),j=$(".js-total-price").attr("data-price"),k=(new Date).toString(),l=(new ClientJS).getFingerprint(),c={mode:"checkout3",payment:f,cartAmount:j,bonusesAmount:h,localTime:k,dbilled:c,fingerprint:l};"undefined"!==typeof g&&(c.addOffer=g);g=$.url().param()[CLS11.VIRTUAL_CART_QUERY_PARAM];
"undefined"!==typeof g&&(c[CLS11.VIRTUAL_CART_QUERY_PARAM]=g);$.ajax({url:this._checkout.getLanguage().urlPrefix(this._createOrderUrl),type:"POST",data:c,datatype:"json",success:function(a){if(a.dbilled)return this._createDoubleOrderPopup(Twig.render(duplicatePaymentPopupInner)),this.dblOrderPopup.show(),this._enablePaymentSubmit(),!0;var b=this._checkout.getEcommerceWatcher();goog.isString(a.error)?goog.isDefAndNotNull(a.code)&&115==a.code?(this._enablePaymentSubmit(),this._checkout.getSignInHandler().handleRestoreSession()):
goog.isDefAndNotNull(a.location)?this._checkout.redirect(a.location):(this._enablePaymentSubmit(),this.dblOrderPopup&&this.dblOrderPopup.hide(),this._showError(a.error,a.errorPopupHTML)):goog.isDefAndNotNull(a.paymentForm)?(b.pushData(4),$("body:first").html(a.paymentForm),$("form:first").submit()):goog.isDefAndNotNull(a.paymentLink)?(b.pushData(4),this._checkout.redirect(a.paymentLink)):goog.isDefAndNotNull(a.redirectUrl)&&(b.pushData(4),this._checkout.redirect(a.redirectUrl))}.bind(this),error:function(){this._enablePaymentSubmit();
if("undefined"===typeof a)var a="Server Error";this._showError(Twig.render(a))}.bind(this)})};Tm.Checkout3.Payment.prototype._initErrorPopup=function(){var a=this._checkout.getConfig();$(document.body).on("click",a.payment_chat_button_selector,function(b){b=$(b.target).data("href");window.open(b,a.payment_chat_window_name,"width="+a.payment_chat_window_width+", height="+a.payment_chat_window_height);return!1}.bind(this))};
Tm.Checkout3.Payment.prototype._showError=function(a,b){b?$(b).appendTo(document.body).modal():$(this._errorBlockSelector,this._wrapper).html(Twig.render(paymentInlineError,a))};
Tm.Checkout3.Payment.prototype._merchantsListUpdate=function(a,b,c,f,g,h){a.each(function(a){var k=$(this).find(".js-merchant-system__info"),l=parseInt($(this).css("padding-left"))+parseInt($(this).css("padding-right")),k=parseInt(k.css("padding-left"))+parseInt(k.css("padding-right")),u=$(this).find(".js-merchant-system__brand"),p=u.outerWidth(),u=parseInt(u.css("margin-left"))+parseInt(u.css("margin-right")),q=$(this).find(".js-choose-payment-system").outerWidth(),l=Math.floor((b-l-p-u-c-q-f-k)/
g);h[a]=h[a]?h[a]:$(this).find(".js-payment-systems__item");l=h[a].slice(0,l);$(this).find(".js-payment-systems__list").html(l);a=h[a].length-l.length;l=$(this).find(".js-payment-systems__counter").html(0<a?"+"+a:"");if(a){var n=null;l.parent().on("mouseenter",".js-payment-systems__counter, .js-payment-systems__popover",function(a){a.target.classList.contains("js-payment-systems__counter")?$(this).siblings(".js-payment-systems__popover").removeClass("hidden"):(clearTimeout(n),$(this).removeClass("hidden"))}).on("mouseleave",
".js-payment-systems__counter, .js-payment-systems__popover",function(a){n=setTimeout(function(){a.target.classList.contains("js-payment-systems__counter")?$(this).siblings(".js-payment-systems__popover").addClass("hidden"):$(this).addClass("hidden")}.bind(this),100)})}})};
Tm.Checkout3.Payment.prototype._initCardsTooltip=function(){var a=[],b=$(".js-merchant-system"),c=$(".js-payment-systems"),f=c.find(".js-payment-systems__counter").outerWidth(!0)||25,g=parseInt(c.css("margin-left"))+parseInt(c.css("margin-right")),h=$(".js-payment-systems__item")[1],c=$(h).outerWidth(),h=parseInt($(h).css("margin-left"))+parseInt($(h).css("margin-right")),j=c+h,c=b.outerWidth();this._merchantsListUpdate(b,c,g,f,j,a);setTimeout(function(){$(window).resize(function(){var c=b.outerWidth();
this._merchantsListUpdate(b,c,g,f,j,a)}.bind(this)).resize()}.bind(this),1E3);$(".js-payment-systems__popover .js-dropdown-list").mCustomScrollbar({advanced:{updateOnContentResize:!0},axis:"y",autoHideScrollbar:!0,scrollbarPosition:"inside",autoDraggerLength:!0,snapAmount:"50",mouseWheel:{enable:!0},scrollButtons:{enable:!1},keyboard:{enable:!1,scrollAmount:80,scrollType:"stepless"}})};Tm.Checkout3.Payment.Bonus=function(a,b){this._language=a;this._cart=b;this._formBonus=(this._form=document.forms.bonuses3)?$(this._form.bonus):0;this._loyaltyPrice=this._cart.getTotalLoyaltyPrice();this._config={total_redeemed_bonus_amount:".js-total-redeemed-bonus-amount",on_bonus_payment_disable:$.noop,on_bonus_payment_enable:$.noop,total_redeemed_bonus:".js-total-redeemed-bonus",form_wrap_container:".js-\u0441heckout3-bonuses",bonus_tooltip:".js-bonus-tooltip",bonuses_tooltip:".js-bonuses-tooltip",
order_button:"#complate-order-bonus",bonus_diff:".js-bonus-diff",bonus_text:".js-bonus-text",checkbox:"#bonus-check",totalLoyaltyProduct:".NotProductLoyalty"};this._form&&(this._loyaltyBonus=parseFloat(this._formBonus.attr("data-bonus-balance")),this._vendorBonus=parseFloat(this._formBonus.attr("data-vendor-balance")),null===this._loyaltyPrice&&(this._cart.getCashback(),this._loyaltyPrice=this._cart.getTotalLoyaltyPrice()),this._bonusses=this._loyaltyPrice>=this._cart.getTotal()||0!==this._loyaltyPrice?
this._loyaltyBonus>this._loyaltyPrice?Math.round(this._loyaltyPrice+this._vendorBonus):this._formBonus.val():this._vendorBonus)};defineService(["language","cart"],Tm.Checkout3.Payment.Bonus);
Tm.Checkout3.Payment.Bonus.prototype.init=function(a){if(this._form&&!(1>this._formBonus.val())){var b=this._formBonus,c=$(this._config.checkbox);this._config=$.extend(this._config,a);this.getAvailableAmount()||(a=b.val(),this.setAvailableAmount(a));$(document).on("cart.block.update.start",function(){c.prop("disabled",!0)}.bind(this)).on("cart.block.update.finish",function(){c.prop("disabled",!1)}.bind(this));b.on("change",function(a){var a=a.target.value.replace(/[^\d.,]/g,"").replace(",","."),a=
Math.round(a),b=this.getAvailableAmount();b<a&&(a=b);!a||0==a||isNaN(a)?this.doNotApply():this.apply(a)}.bind(this));$(this._config.checkbox).on("change",function(a){var b=$(this._form).parent();this.hideBonusText();$(a.target).is(":checked")?(this.apply(this.getAvailableAmount()),b.removeClass("bonus-disabled"),this._formBonus.focus()):(this.doNotApply(),this.showBonusText(),b.addClass("bonus-disabled"),this._hideBonusPopover(),this._hideBonusesPopover())}.bind(this));this.showBonusText();$(this._config.bonus_tooltip).on("click",
".js-bonus-tooltip-close",function(){this._hideBonusPopover()}.bind(this));$(this._config.bonuses_tooltip).on("click",".js-bonuses-tooltip-close",function(){this._hideBonusesPopover()}.bind(this));$(this._form).submit(function(){return!1});return this}};Tm.Checkout3.Payment.Bonus.prototype.apply=function(a){this._setBonus(a);this.isPopupShown()?(this._showBonusPopover(!0),this._displayBuyButton(!1)):(this._showBonusPopover(!1),this._displayBuyButton(!0));this._cart.recalculate();return this};
Tm.Checkout3.Payment.Bonus.prototype.doNotApply=function(){if(this._form)return this._setBonus(0),this._cart.recalculate(),this._displayBuyButton(!1),$(this._config.checkbox).attr("checked",!1),$(this._form).parent().addClass("bonus-disabled"),this._setBonusFieldValue(this.getAvailableAmount()).blur(),this._hideBonusPopover(),this._hideBonusesPopover(),this.showBonusText(),this};Tm.Checkout3.Payment.Bonus.prototype.isPopupShown=function(){var a=this.getAmount();return this._cart.getTotal()>a};
Tm.Checkout3.Payment.Bonus.prototype.setAmount=function(a){if(this._form)return this._formBonus.data("amount",a),this};Tm.Checkout3.Payment.Bonus.prototype.getAmount=function(){if(this._form)return parseInt(this._formBonus.data("amount"))};
Tm.Checkout3.Payment.Bonus.prototype.setAvailableAmount=function(a){if(this._form){var b=$(this._form).parents(this._config.form_wrap_container),c=$(this._config.checkbox).parents(".flex-row");if(0!=a)return this._formBonus.data("available-amount",a),b.removeClass("hidden"),0!=this._loyaltyPrice||this._vendorBonus?c.removeClass("js-none"):$(this._config.totalLoyaltyProduct).removeClass("js-none"),this._setBonusFieldValue(a),this;c.addClass("js-none");b.addClass("hidden");return this}};
Tm.Checkout3.Payment.Bonus.prototype.getAvailableAmount=function(){if(this._form)return parseInt(this._formBonus.data("available-amount"))};Tm.Checkout3.Payment.Bonus.prototype.showBonusText=function(){$(this._config.bonus_text).removeClass("hidden");return this};Tm.Checkout3.Payment.Bonus.prototype.hideBonusText=function(){$(this._config.bonus_text).addClass("hidden");return this};
Tm.Checkout3.Payment.Bonus.prototype._showBonusPopover=function(a){a?(a=this._cart.getTotal()-this._loyaltyPrice,0===this._vendorBonus&&this._loyaltyBonus>=this._loyaltyPrice&&0<a?($(this._config.bonus_tooltip).addClass("hidden"),$(this._config.bonuses_tooltip).removeClass("hidden").find(this._config.bonus_diff).html(this._language.formatMoney(a))):($(this._config.bonuses_tooltip).addClass("hidden"),$(this._config.bonus_tooltip).removeClass("hidden").find(this._config.bonus_diff).html(this._language.formatMoney(this._cart.getTotal()-
this.getAmount())))):($(this._config.bonus_tooltip).addClass("hidden"),$(this._config.bonuses_tooltip).addClass("hidden"));return this};Tm.Checkout3.Payment.Bonus.prototype._hideBonusPopover=function(){$(this._config.bonus_tooltip).addClass("hidden");return this};Tm.Checkout3.Payment.Bonus.prototype._hideBonusesPopover=function(){$(this._config.bonuses_tooltip).addClass("hidden");return this};
Tm.Checkout3.Payment.Bonus.prototype._correctAmount=function(a){var b=0>this._cart.getTotal()-this._bonusses?this._cart.getTotal():this._bonusses;return b<a?b:a};Tm.Checkout3.Payment.Bonus.prototype._setBonus=function(a){a=this._correctAmount(a);$(this._config.total_redeemed_bonus_amount).attr("data-amount",a).html(this._language.formatMoney(a));this._setBonusFieldValue(a);return this};Tm.Checkout3.Payment.Bonus.prototype._setBonusFieldValue=function(a){if(this._form)return this.setAmount(a),this._formBonus.val(this._language.formatMoney(a))};
Tm.Checkout3.Payment.Bonus.prototype._displayBuyButton=function(a){if(a){$(this._config.order_button).removeClass("js-none");if($.isFunction(this._config.on_bonus_payment_enable))this._config.on_bonus_payment_enable();return this}$(this._config.order_button).addClass("js-none");if($.isFunction(this._config.on_bonus_payment_disable))this._config.on_bonus_payment_disable();return this};Tm=Tm||{};Tm.RdPhoneInput=function(a){var b="https://s.tmimgcdn.com/";"undefined"===typeof Tm.Config&&"undefined"===typeof Tm.Config.defaultCDN||(b=Tm.Config.defaultCDN);this.options=$.extend({utilsUrl:b+"js/imported/intel_tel_input/utils.js",countryCodeClass:".js-dial-code",userCountry:"us",countryCodes:{}},a)};
Tm.RdPhoneInput.prototype.init=function(a,b){var c=this;this._loadUtils(function(){var f=$(a),g=f.prev("select").val(c.options.userCountry);f.on("input",function(){c._formatNumber(this)});c._processCountryCodes(g);c._initCountryCodeSelect(g,f,b)});return this};Tm.RdPhoneInput.prototype.getNumber=function(a){var b=$(a).val(),a=this._getCountrySelect(a).val();return intlTelInputUtils.formatNumber(b,a,intlTelInputUtils.numberFormat.E164).slice(1)};
Tm.RdPhoneInput.prototype.getCleanNumber=function(a){return $(a).val().replace(/[\-\(\)\s]/g,"")};Tm.RdPhoneInput.prototype.formatInternational=function(a){return intlTelInputUtils.formatNumber("+"+a,null,intlTelInputUtils.numberFormat.INTERNATIONAL)};Tm.RdPhoneInput.prototype.getCountryCodeByNumber=function(a){a=this._getDialCode(a);if($.isNumeric(a))return this.options.countryCodes[a][0]};
Tm.RdPhoneInput.prototype._detectPosition=function(a,b,c){var a=a.substring(0,b).match(/[\s\(\)\-]/gim),f=0;$.isArray(a)&&(f=a.length);return c?b-f:b+f};
Tm.RdPhoneInput.prototype._formatNumber=function(a){var b=$(a).val();if(b){var c=this._getCountrySelect(a).val(),f=intlTelInputUtils.formatNumber(b.replace(/\(([^\d]+)\)|[-\(\)]{2,}|[^\d\s\(\)\-]/gim,""),c,intlTelInputUtils.numberFormat.NATIONAL),g=this._getSelectedCountryDialCode(a),g=this.getCountryCodeByNumber(g+f),h=a.selectionEnd,j=b.length>f.length,k=this._detectPosition(j?b:f,a.selectionStart,j);$(a).val(f);b.length!=h&&setTimeout(function(){a.setSelectionRange(k,k)},10);g!==c&&"undefined"!==
typeof g&&this._getCountrySelect(a).val(g).change()}};Tm.RdPhoneInput.prototype._initCountryCodeSelect=function(a,b,c){var f=b.val(),g=f?this.getCountryCodeByNumber(f):a.val();a.on("change",function(){b.trigger("input")});a.data("linked-input",b).val(g).change();f=f.replace(this._getSelectedCountryDialCode(b),"");b.val(f);$.isFunction(c)&&c(a)};Tm.RdPhoneInput.prototype._getSelectedCountryDialCode=function(a){return this._getCountrySelect(a).find("option:selected").data("dial-code")};
Tm.RdPhoneInput.prototype._getCountrySelect=function(a){"undefined"==typeof this.countrySelector&&(this.countrySelector=$(a).parent().find(this.options.countryCodeClass));return this.countrySelector};Tm.RdPhoneInput.prototype._getDialCode=function(a){for(var b="",c="",f=0;f<a.length;f++){var g=a.charAt(f);if($.isNumeric(g)&&(c+=g,this.options.countryCodes[c]&&(b=a.substr(0,f+1)),4==c.length))break}return b};
Tm.RdPhoneInput.prototype._processCountryCodes=function(a){var b=this;a.find("option").each(function(){var a=$(this).val(),f=$(this).data("dial-code"),g=$(this).data("priority"),h=$(this).data("area-code");b._addCountryCode(a,f,g);if(""!==h){h=h.split(",");for(g=0;g<h.length;g++)b._addCountryCode(a,f+h[g])}})};Tm.RdPhoneInput.prototype._addCountryCode=function(a,b,c){b in this.options.countryCodes||(this.options.countryCodes[b]=[]);this.options.countryCodes[b][c||0]=a};
Tm.RdPhoneInput.prototype._loadUtils=function(a){"undefined"!==typeof intlTelInputUtils&&$.isFunction(a)&&a();$.ajax({url:this.options.utilsUrl,dataType:"script",cache:!0,success:function(){$.isFunction(a)&&a()}})};Tm=Tm||{};Tm.RdEmailInput=function(a){this.options=$.extend({triggerOnFocus:!0,containerClass:"gravatar-holder",userNameAttr:"gravatar-full-name",avatarUrlAttr:"custom-gravatar-url",avatarSize:60,cidUserNameAttr:"full-name",isInitializedAttr:"rd-email-initialized",redrawEvent:"rd-gravatar-redraw",listenOnFields:[],onSuccessDraw:$.noop,onErrorDraw:$.noop},a)};
Tm.RdEmailInput.prototype.init=function(a){this._emailInput=$(a);this._oldUserName=void 0;var b=(this.options.triggerOnFocus?"focusout ":"")+this.options.redrawEvent;this._emailInput.data(this.options.isInitializedAttr)&&this._emailInput.unbind(b);this._emailInput.on(b,$.proxy(function(){var a=this._emailInput.val();a!=this._oldUserName&&(this._drawGravatar(),this._oldUserName=a)},this)).data(this.options.userNameAttr,this.getCidUserName()).data(this.options.isInitializedAttr,1).trigger(this.options.redrawEvent);
$.each(this.options.listenOnFields,$.proxy(function(a,f){$(f).on(b,$.proxy(function(){var a=$(f).val();/.+\s.+/.test(a)&&(this._emailInput.data(this.options.userNameAttr,a),this._drawGravatar())},this))},this))};Tm.RdEmailInput.prototype.getCidUserName=function(){return this._emailInput.data(this.options.cidUserNameAttr)};Tm.RdEmailInput.prototype.getAvatarUrl=function(){return this._emailInput.data(this.options.avatarUrlAttr)};Tm.RdEmailInput.prototype.getUserName=function(){return this._emailInput.data(this.options.userNameAttr)};
Tm.RdEmailInput.prototype.update=function(a){"undefined"===typeof a&&(a="");this._updateUserName(a)};Tm.RdEmailInput.prototype.restore=function(){this._updateUserName(this.getCidUserName())};
Tm.RdEmailInput.prototype._drawGravatar=function(){var a=this._emailInput.val(),b=this.getUserName(),c=this.getAvatarUrl(),f=this._createGravatarHolder();(new Tm.RdGravatar).draw(a,b,c,this.options.avatarSize).done(function(a){$(this._emailInput).val().length&&(f.html(a.html).css("background",a.background).addClass("gravatar-holder").show(),this.options.onSuccessDraw(this.options))}.bind(this)).fail(function(){f.remove();this.options.onErrorDraw(this.options)}.bind(this))};
Tm.RdEmailInput.prototype._createGravatarHolder=function(){var a=$(this._emailInput).parent().find("."+this.options.containerClass).remove().end();return $("<div/>").prependTo(a).hide()};Tm.RdEmailInput.prototype._updateUserName=function(a){this._emailInput.data(this.options.userNameAttr,a)};Tm=Tm||{};Tm.RdGravatar=function(){};Tm.RdGravatar.GRAVATAR_IMAGE_SIZE=40;
Tm.RdGravatar.prototype.draw=function(a,b,c,f){var b=b||a||"",f=f||Tm.RdGravatar.GRAVATAR_IMAGE_SIZE,g=function(a,b){b&&(a+="?s="+b);return{background:"",html:$("<img>").attr("src",a).prop("outerHTML")}};if(c)return $.Deferred().resolve(g(c));var h=function(a,b){var c=Tm.RdGravatar.getTextAvatar(a).toUpperCase(),c=$('<span class="char" />').html(c).prop("outerHTML");return{background:Tm.RdGravatar.getTextAvatarBackground(a,b)||"",html:c}},j=$.Deferred();goog.string.isEmptySafe(a)&&j.resolve(h(b));
c="//en.gravatar.com/"+goog.crypt.md5hash(a)+".json";$.ajax({method:"GET",dataType:"JSONP",crossDomain:!0,timeout:1E3,url:c}).done(function(a){j.resolve(g(a.entry[0].thumbnailUrl,f))}).fail(function(){j.resolve(h(b,a))});return j};Tm.RdGravatar.getTextAvatar=function(a){if(goog.string.isEmptySafe(a))return"";var b=a.match(/(\S+)(\s+)(\S+)/);return!b?a.substring(0,2):_.first(b[1])+_.first(b[3])};Tm.RdGravatar.getTextAvatarBackground=function(a,b){return"#"+goog.crypt.md5hash((b?b:"")+a).substr(0,6)};$.fn.tabSlidingAnimation=function(a){var b=$.extend({items:1,autoPlay:!1,responsive:!0,slideSpeed:700,lazyLoad:!0,dragBeforeAnimFinish:!1,navigationText:["",""],navigation:!1,pagination:!1,touchDrag:!1,mouseDrag:!1,autoHeight:!0,itemsDesktop:[1599,1],itemsDesktopSmall:!1,itemsTablet:!1,itemsMobile:!1,loops:!1},a);this.owlCarousel(b);var c=this.find("."+a.tabClass),b=$("."+a.switcherClass);$("."+a.switcherClass+".active").data("slide-id");var f=this.data("owlCarousel");c.css("display","block");a.startPosition&&
f.jumpTo(a.startPosition);b.on("click",function(){var a=$(this).data("slide-id");c.removeClass("active");$(".js-banner-slide[data-slide-id='"+a+"']").find(c).addClass("active");f.goTo(a)});b.addActiveClassOnClick();return this.data("owlCarousel")};Tm=Tm||{};Tm.PINField=function(a){this._config={digitClassName:".js-pin-field__digit",hiddenFieldClassName:".js-pin-field__input"};this.pinField=$(a);this._pin=[];this._count=0};Tm.PINField.prototype.init=function(){this._initInputHandlers()};
Tm.PINField.prototype._initInputHandlers=function(){this.digitFields=this.pinField.find(this._config.digitClassName);this._digitFieldsCount=this.digitFields.length;this.pinField.on("paste",this._config.digitClassName,this._digitPasteHandler.bind(this)).on("PINField:focusFirstEmpty",this.focusFirstEmptyField.bind(this));this.digitFields.on("keypress",this._digitKeyPressHandler.bind(this)).on("keyup",this._digitKeyUpHandler.bind(this)).on("focus",function(a){$(a.target).attr("placeholder","")}).on("blur",
function(a){$(a.target).attr("placeholder","x")})};Tm.PINField.prototype._updateSequence=function(a,b){this._pin[a]=b};Tm.PINField.prototype._saveSequence=function(){var a=this.getPIN();$(this.pinField).find(this._config.hiddenFieldClassName).attr("value",a).val(a)};Tm.PINField.prototype._removeFromSequence=function(a){this._pin[a]&&(delete this._pin[a],this._saveSequence(),this._count--)};Tm.PINField.prototype.getPIN=function(){return this._pin.join("")};
Tm.PINField.prototype.isFull=function(){return this._count===this._digitFieldsCount};Tm.PINField.prototype.updatePIN=function(a,b,c){this._count++;this._updateSequence(a,b);this._saveSequence();c&&$(c).val(b).focus()};Tm.PINField.prototype.focusFirstEmptyField=function(){for(var a=$(this.pinField).find(this._config.digitClassName),b=0;b<a.length;b++){var c=$(a).get(b);if(""===$(c).val())return this.focusField(c),!0}};
Tm.PINField.prototype.clean=function(){$(this.pinField).find(this._config.digitClassName).each(function(a,b){$(b).val("")})};Tm.PINField.prototype.focusField=function(a){$(a).focus()};
Tm.PINField.prototype._digitKeyPressHandler=function(a){var b=$(a.target),c=b.data("index"),a=String.fromCharCode(a.keyCode||a.which),f=!!a.match(/[\d]/);if(f)if(void 0===this._pin[c])this.updatePIN(c,a),$(document).trigger("PINField:update"),setTimeout(function(){this._jumpToNextField(b,!1,function(a){a.val()||a.focus()})}.bind(this),50);else return!1;return f};
Tm.PINField.prototype._digitKeyUpHandler=function(a){var b=$(a.target),c=b.data("index"),f=a.keyCode||a.which,g=!!String.fromCharCode(f).match(/[\d]/),h=8===f||46===f||46===f,j=13===f,k=37===f||38===f||39===f||40===f;if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return!0;if(j||g||h||9===f||k){if(j)return!0;if(k){switch(f){case 37:this._jumpToNextField(b,!0);break;case 39:this._jumpToNextField(b)}return!0}if(h){this._removeFromSequence(c);switch(!b.val()&&f){case 8:this._jumpToNextField(b,!0);break;
case 46:this._jumpToNextField(b)}$(document).trigger("PINField:update");return!0}}return!1};Tm.PINField.prototype._jumpToNextField=function(a,b,c){setTimeout(function(){var f=a.parent(),f=b?f.prev().find(this._config.digitClassName):f.next().find(this._config.digitClassName);c?c(f):f.focus()}.bind(this),1)};
Tm.PINField.prototype._digitPasteHandler=function(a){a.stopPropagation();a.preventDefault();var b=(a.originalEvent.clipboardData||window.clipboardData).getData("Text").match(/\d+/);if(b=b?b[0].split(""):null)this.digitFields.each(function(a,f){if(!$(f).val()){var g=b.shift();g&&this.updatePIN(a,g,f)}}.bind(this)),$(document).trigger("PINField:update")};
(function(a){a(document).on("PINField:init",function(){var b=a(".js-pin-field");b.length&&b.each(function(b,f){if(!a(f).data("PINField")){var g=new Tm.PINField(f);g.init();a(f).data("PINField",g)}})})})(jQuery);Tm=Tm||{};Tm.Notice=function(){this._params={};this._positions=["fullWidth","corner","static"];this._settings={id:(new Date).getTime(),classes:"",type:"default",text:"",position:"fullWidth",container:$("#header"),textStyle:"t1",timeOut:0,beforeShow:function(){},afterShow:function(){},beforeHide:function(){},afterHide:function(){}}};
Tm.Notice.prototype.init=function(a){"undefined"!=a.position&&(a.position=this._checkParamPosition(a.position)?a.position:"fullWidth");this._params=$.extend(this._settings,a);this._drawNotice();this.notice.find(".js-close-icon").on("click",this._destroyNotice.bind(this))};
Tm.Notice.prototype._drawNotice=function(){var a=this;if(a._params.container.length){a.notice=$(a._getHtmlTemplate());a.wrap=$(".rd-wrapper-position-"+this._params.position).length?$(".rd-wrapper-position-"+this._params.position):$("<div class='rd-notice-wrapper rd-wrapper-position-"+this._params.position+"'></div>");a.notice.find(".js-rd-notice-content").html(a._params.text);"corner"==a._params.position&&a.notice.css("margin-top",-1*a._getNoticeHeight());"function"==typeof a._params.beforeShow&&
a._params.beforeShow.apply(a);a._params.container.after(a.wrap);a.scrollTop=a._params.container.offset().top+a._params.container.height();a.scrollTop<$(window).scrollTop()&&"static"!=a._params.position&&a.wrap.addClass("notice-fixed");a.wrap.prepend(a.notice);switch(a._params.position){case "fullWidth":case "corner":a._scrollEvent()}setTimeout(function(){$("[data-id="+a._params.id+"]").addClass("animate");"function"==typeof a._params.afterShow&&a._params.afterShow.apply(a)},200);0!=a._params.timeOut&&
setTimeout(function(){a._destroyNotice()},a._params.timeOut)}};Tm.Notice.prototype._getNoticeHeight=function(){var a=this.notice.clone(),b;$("body").append(a);b=a.outerHeight()+parseInt(a.css("margin-bottom"));a.remove();return b};
Tm.Notice.prototype._destroyNotice=function(){var a=this;"function"==typeof a._params.beforeHide&&a._params.beforeHide.apply(a);a.notice.removeClass("animate").delay(500).queue(function(){var b=a.wrap;a.notice.remove().dequeue();b.find(".rd-notice").length||b.remove();"function"==typeof a._params.afterHide&&a._params.afterHide.apply(a)});delete a};
Tm.Notice.prototype._scrollEvent=function(){var a=this;parseInt(a.notice.css("margin-bottom"));$(window).on("scroll",function(){$(window).scrollTop()>=a.scrollTop?a.wrap.addClass("notice-fixed"):a.wrap.removeClass("notice-fixed")})};
Tm.Notice.prototype._getHtmlTemplate=function(){var a="";switch(this._params.type){case "default":a="icon-help-bubble";break;case "error":a="icon-trash";break;case "success":a="icon-success";break;case "warning":case "alert":a="icon-alert";break;default:this._params.type="default",a="icon-help-bubble"}switch(this._params.position){case "fullWidth":this._params.classes+=" center vertical-center flex-row";break;case "corner":case "static":this._params.classes+=" top-left flex-row";break;default:this._params.classes+=
""}return'<div class="rd-notice rd-notice-type-'+this._params.type+" "+this._params.classes+" rd-notice-position-"+this._params.position+'" data-id="'+this._params.id+'"><div class="rd-notice-type-icon tm-icon '+a+'"></div><div class="rd-notice-content js-rd-notice-content '+this._params.textStyle+'"></div><div class="rd-close-icon js-close-icon"></div></div>'};Tm.Notice.prototype._checkParamPosition=function(a){return-1===this._positions.indexOf(a)?!1:!0};Tm=Tm||{};
Tm.StatusDownload=function(){return{init:function(){var a=this,b=detectOldIe()?1E4:3E4;a.initMerchantSystem();this.checkAutoUpdate()&&(this.updateStatusDownloadMarker=setInterval(function(){a.getStatusDownload()},b));b=this.getOrderInfoBlock();a.initApvForm(b);a.checkOffersPopup(b)},skipApvForm:function(a){var b=this.getOrderInfoBlock(),c=this;if(!$(a).data("disabled")){$(a).data("disabled",1).parents("div:first").append('<span class="js-apv-progress">&nbsp;&nbsp;<img src="/img/progress.gif"></span>');var f=
new CLS78;$.ajax({url:f.urlPrefix()+"/checkout-ajax/skip-apv.php",type:"post",data:{order_id:c.getOrderId()},datatype:"json",success:function(f){$(a).data("disabled",0);$(".js-apv-progress").remove();c.onStatusAjaxSuccess(b,f)},error:function(){$(a).data("disabled",0);$(".js-apv-progress").remove()}})}return!1},initApvForm:function(a){var b=this,c=this.getOrderInfoBlock(),f=this.getApvForm(a);f.length&&!f.data("is_form_initialized")&&f.formHandler({popover_placement:"top",enable_inputs_on_load:!0,
on_before_validate:function(a){$(a).find("input[name=phone]").each(function(){this.value=this.value.replace(/[^\d]/gi,"")});$(a).find("#apv-request-form-submit").removeClass("disabled").removeAttr("disabled");$(a).find("#apv-confirm-form-submit").removeClass("disabled").removeAttr("disabled")},on_submit_success:function(c,f,j){b.onStatusAjaxSuccess(a,j)}}).data("is_form_initialized",1);c=c.find(".js-apv-skip");detectOldIe()?c.attr("onclick","(new Tm.StatusDownload()).skipApvForm(); return false;"):
c.click(function(){b.skipApvForm(this);return!1})},onStatusAjaxSuccess:function(a,b){b.status&&("undefined"!==typeof b.orderInfoHTML&&a.html(b.orderInfoHTML),"undefined"!==typeof b.trackingCodeHTML&&$("#order-tracking").html(b.trackingCodeHTML),"undefined"!==typeof b.offersListHTML&&($("#status-download-offers-popup-content").html(b.offersListHTML).data("show-popup",!!b.offersListHTML.length),$(document).trigger("Gtag.ee.push.product.offer.impressions",{from:"static.impressions.offer"})),this.initApvForm(a),
this.checkOffersPopup(a));this.checkAutoUpdate()},getOrderInfoBlock:function(){return $(".js-order-info")},getApvForm:function(a){return a.find("form")},getStatusDownload:function(){var a=this,b=a.getOrderInfoBlock(),c=new CLS78;$.ajax({url:c.urlPrefix()+"/checkout-ajax/status-download.php",type:"post",datatype:"json",data:{order_id:a.getOrderId(),subscription_id:a.getSubscriptionId(),status_id:a.getOrderStatusId(),referer:location.href},success:function(c){a.onStatusAjaxSuccess(b,c)},error:function(){}})},
getOrderId:function(){return $.url().param("order_id")},getSubscriptionId:function(){return $.url().param("subscription_id")},getOrderStatusId:function(){return $(".js-order-info .js-order-page").data("status-id")},isAutoUpdate:function(){return!!$(".js-order-info .js-order-page").data("autoupdate")},checkAutoUpdate:function(){var a=this.isAutoUpdate();!a&&this.updateStatusDownloadMarker&&clearInterval(this.updateStatusDownloadMarker);return a},initRadioButtons:function(){$("li.js-payment-wrapper").click(function(){$(this).addClass("payment-selected").find('input[type="radio"]').attr("checked",
!0);$(this).siblings().removeClass("payment-selected").find('input[type="radio"]').attr("checked",!1)})},checkOffersPopup:function(){var a=$("#status-download-offers-popup-content");a.length&&a.data("show-popup")&&(this.initRadioButtons(),this.initRecurrentMerchantSystem(),$("#js-cart-short-description-block").modal({backdrop:"static"}),$("#js-cart-short-description-block").modal("show"))},enablePaymentMethod:function(){$(".js-buy-now").css("cursor","pointer").removeAttr("disabled");$(".js-payment-wrapper").bind("click",
this.initRadioButtons());$(".js-change-card").removeAttr("disabled","disabled").css("pointer-events","auto");$(".js-buy-clicked").removeClass("js-buy-clicked").children().addClass("js-none")},initMerchantSystem:function(){var a=this;$(".js-order-info").on("click",".js-buy-now",function(){$(".js-buy-now").css("cursor","default").attr("disabled","disabled");$(this).addClass("js-buy-clicked").children().removeClass("js-none");var b={order_id:$("#payment-methods-container").attr("data-order"),pay_type:$(this).attr("data-payment")};
$.ajax({url:"/jajaxserver.php?app=SystemCart&controller=CheckFormDetails&action=checkAlternativeCheckout",type:"POST",data:b,datatype:"json",success:function(b){"redirect"in b?location.href=b.redirect:(a.enablePaymentMethod(),a.errorResponse("ams"))},error:function(){a.enablePaymentMethod();a.errorResponse("ams")}})})},errorResponse:function(a){var b='<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+Twig.render(messageErrorCreatingOrder)+
"</div>";$(".js-status-download-"+a+"-error-block").html(b)},initRecurrentMerchantSystem:function(){var a=this;$(".js-choose-payment-system").on("click",function(){var b=$('input[name="paymentCheck"]:checked',"#payment-methods-container").attr("data-payment"),c=(new Date).toString(),f=(new ClientJS).getFingerprint(),g=$("#payment-methods-container").attr("data-offer-id"),h=$("#payment-methods-container").attr("data-offer-channel-id"),b={payment:b,bonusesAmount:0,localTime:c,addOffer:g,channelId:h,
fingerprint:f};$(".js-buy-now").css("cursor","default").attr("disabled","disabled");$(".js-payment-wrapper").css("cursor","default").unbind("click",a.initRadioButtons());$(".js-change-card").css("cursor","default").attr("disabled","disabled").css("pointer-events","none");$(this).addClass("js-buy-clicked").children().removeClass("js-none");c=new CLS78;$.ajax({url:c.urlPrefix()+"/checkout-ajax/create-order.php",type:"POST",data:b,datatype:"json",success:function(b){"undefined"!=typeof b.error?
(a.enablePaymentMethod(),a.errorResponse("rms")):"undefined"!=typeof b.paymentForm?($("body:first").html(b.paymentForm),$("form:first").submit()):"undefined"!=typeof b.paymentLink?location.href=b.paymentLink:"undefined"!=typeof b.redirectUrl?location.href=b.redirectUrl:(a.enablePaymentMethod(),a.errorResponse("rms"))},error:function(){a.enablePaymentMethod();a.errorResponse("rms")}})})}}};regula._modules.DOMUtils.friendlyInputNames.email="Email";regula.override({name:"NotBlank",defaultMessage:"{label} cannot be blank.",constraintType:regula.Constraint.NotBlank});regula.override({name:"HTML5Required",defaultMessage:"{label} is required.",constraintType:regula.Constraint.HTML5Required});regula.override({name:"Length",defaultMessage:"{label} length must be between {min} and {max}.",constraintType:regula.Constraint.Length});
regula.override({name:"Email",defaultMessage:"{label} is not a valid email.",constraintType:regula.Constraint.Email});regula.override({name:"HTML5Email",defaultMessage:"{label} is not a valid email.",constraintType:regula.Constraint.HTML5Email});regula.override({name:"Integer",defaultMessage:"{label} must be an integer.",constraintType:regula.Constraint.Integer});regula.override({name:"Pattern",defaultMessage:"{label} needs to match {regex}{flags}.",constraintType:regula.Constraint.Pattern});
regula.override({name:"Max",defaultMessage:"{label} needs to be lesser than or equal to {value}.",constraintType:regula.Constraint.Max});regula.override({name:"Min",defaultMessage:"{label} needs to be greater than or equal to {value}.",constraintType:regula.Constraint.Min});regula.override({name:"Checked",defaultMessage:"{label} needs to be checked.",constraintType:regula.Constraint.Checked});(function(a){function b(b,c,f){if(l(b)){var g=a(c).val(),h=a(c).data("validation-value");if(g!==h||a(c).is(":checkbox")){var h=[],j=a(c).attr("name");if(a(c).is("[required]")&&c&&0===a.trim(a(c).val()).length){var k=sprintf,p=f.please_enter_message,z=a.trim(a(c).parents(".form-group:first").find("label").data("label"));z.length||(z=a.trim(a(c).data("label")));z.length||(z=a.trim(a(c).parents(".form-group:first").find("label").html()));z.length||(z=a.trim(a(c).data("label")));z.length||(z=a.trim(a(c).attr("placeholder")));
z.length&&":"===z.substr(-1)&&(z=z.substr(0,z.length-1));k=k(p,z);h.push(k)}else{var z=[],B=[];f.disable_regula||a(a.regula("validate")).each(function(a,c){for(var f in c.failingElements)if(c.failingElements[f].form===b)a:{var g=B,h=c.failingElements[f].name,j=c.constraintName,k=c.message,l=void 0;for(l in g)if(g[l].name===h){g[l].messages[j]=k;break a}l={};l[j]=k;g.push({name:h,messages:l})}});for(p in B)if(B[p].name===j){z=B[p].messages;break}p=z;for(k in p)-1===a.inArray(p[k],h)&&(h.push(p[k]),
a(b).formValidation("google-tag-track-event",j,p[k].substr(0,255)))}0===h.length&&(a.isPlainObject(f.validator_callbacks)&&a.isFunction(f.validator_callbacks[j]))&&(h=f.validator_callbacks[j](b,c,f));var k={name:j,messages:h},f=a(b).data("validation-errors"),p=!1,x;for(x in f)if("undefined"!==typeof f[x]&&f[x].name===k.name){f[x]=k;p=!0;break}p||f.push(k);k=[];for(x in f)f[x].messages&&0<f[x].messages.length&&k.push(f[x]);f=k;a(b).data("validation-errors",f);u(b,"mergeFormErrors ",f);a(c).data("validation-value",
g);u(b,'checkField "'+j+'",  messages: ',h)}}}function c(b,c,f){var h=[],j=g(b),k=a(b).data("validation-errors");a.isArray(f)||(f=[]);var l=[],p;for(p in j)if("undefined"!==typeof j[p]){var z=a(j[p]).attr("name");if(!(f.length&&-1===a.inArray(z,f))){var B=0===a.trim(a(j[p]).val()).length,x=a(j[p]).is(":checkbox");if(!c.hide_errors_for_empty||!B&&!x)for(var J in k)if(k[J].name===z)h.push(k[J]);else if("undefined"===typeof k[J].name||null===k[J].name&&a.isArray(k[J].messages))for(var P in k[J].messages)-1===
a.inArray(k[J].messages[P],l)&&l.push(k[J].messages[P])}}l.length&&h.push({name:null,messages:l});u(b,"getFormErrors: ",h);return h}function f(b){a(b).data("validation-errors",[]);var c=g(b),f;for(f in c)"undefined"!==typeof c[f]&&a(c[f]).data("validation-value",null===a(c[f]).val()?"":null);u(b,"resetFormErrors")}function g(b){return a(b).find(":input").get()}function h(b){return a(g(b)).filter("[data-constraints]").get()}function j(b){a(b).data("form-validation",!0);u(b,"enableFormValidation");
return l(b)}function k(b){a(b).data("form-validation",!1);u(b,"disableFormValidation");return l(b)}function l(b){return a(b).data("form-validation")}function u(b,c,f){"object"===typeof window.console&&("function"===typeof window.console.info&&a.cookie("form-validation-debug"))&&window.console.info("FV("+a(b).attr("name")+"): ",c,f)}var p={disable_regula:!1,autovalidate_fields:[],please_enter_message:"Please enter %s",validator_callbacks:null,on_before_validate:a.noop,on_after_validate:a.noop,on_after_ajax_validate:a.noop};
a.fn.formValidation=function(q,n,u){if(!this.size())return this;var I={},w=this.get(0);a.isPlainObject(q)||"undefined"===typeof q?(I=q,q="init"):a.isPlainObject(n)&&(I=n);var G="init"===q,m=a.extend({},p);if(!G){var C=a(w).data("validation-options");a.isPlainObject(C)&&a.extend(m,C)}a.isPlainObject(I)&&a.extend(m,I);m.common_errors_container||(m.common_errors_container="#"+a(w).attr("id")+"-errors");m.submit_button||(m.submit_button=a("button,:input[type=button]:input[type=submit]",w));G&&a(w).data("validation-options",
m);var z;switch(q){case "validate":if(a.isFunction(m.on_before_validate))m.on_before_validate(w,m);if("undefined"!==typeof n)b(w,n,m);else{z=h(w);for(var B in z)"undefined"!==typeof z[B]&&b(w,z[B],m)}a.isFunction(m.on_after_validate)&&(z=c(w,m),m.on_after_validate(w,m,z));break;case "get-constraints":z={};w="string"==typeof n?w[n]:n;if("undefined"!=typeof w&&(n=a(w).attr("data-constraints"),"undefined"!=typeof n&&(w=regula._modules.Parser.parse(w,n),w.successful&&null!==w.data&&"object"==typeof w&&
"object"==typeof w.data)))for(i in w.data)z[w.data[i].constraintName]=w.data[i].definedParameters;return z;case "get-errors":return z=a.isArray(u)?u:[],c(w,m,z);case "reset-errors":f(w);break;case "enable":j(w);break;case "disable":k(w);break;case "is-enabled":return l(w);case "init":m.disable_regula||a.regula("bind");a(g(w)).on("invalid",function(){return!1});f(w);n=h(w);a.isPlainObject(m.validator_callbacks)||(m.validator_callbacks={});for(z in n)a(n[z]).data("validation-callback")&&(B=a(n[z]).attr("name"),
"undefined"!==typeof B&&"undefined"===typeof m.validator_callbacks[B]&&(m.validator_callbacks[B]=function(b,c){var f=a(c).data("validation-callback"),g=a(c).data("validation-callback-key");if(f){a(b).formHandler("disable-submit");var h=a(c).data("validation-callback-data");a.isPlainObject(h)||(h={});g||(g=a(c).attr("name"));h[g]=a(c).val();a.ajax({url:f,type:"POST",data:h,dataType:detectOldIe()?null:"json",async:!0,success:function(f){f.status?a(b).formHandler("show-field-success",c):a(b).formHandler("show-errors",
[{name:a(c).attr("name"),messages:f.messages}],[],!0);if(a.isFunction(m.on_after_ajax_validate))m.on_after_ajax_validate(b,m,c,f);a(b).formHandler("enable-submit");a(b).data("submitInProgress")&&a(b).submit()},error:function(){a(b).formHandler("enable-submit")}});return[]}}));m.disable_validation?k(w):j(w);break;case "google-tag-track-event":"undefined"!=typeof n&&"undefined"!=typeof dataLayer&&dataLayer.push({event:"trackEvent",eventCategory:"Forms errors",eventAction:a(w).attr("id"),eventLabel:n+
" : "+u})}return this}})(jQuery);(function(a){function b(a){if("function"===typeof a){var b=[].slice.call(arguments,1);setTimeout(function(){a.apply(this,b)},0)}}function c(b,c){c.disable_submit_on_empty||(c.hide_errors_for_empty=!1);"undefined"==typeof c.disable_regula&&(c.disable_regula=detectOldIe());if(c.show_chosen_selects){var g=C(b);a(g).filter(c.chosen_selector).each(function(){var b={placeholder_text_single:" "};a(this).css("width")&&(b.width=a(this).css("width"));a(this).data("disable-search-threshold")&&(b.disable_search_threshold=
a(this).data("disable-search-threshold"));a(this).find('option[value=""]').length&&(b.allow_single_deselect=!0);a(this).chosen(b)}).change(function(){a(this).trigger("chosen:updated")})}a(b).formValidation(c);g=a(C(b)).filter("[data-constraints]").get();a(b).formHandler("validate");if(c.show_submit_button_hint){var j=m(b,c);a(j).after(c.submit_hint_template);h(b,c)}j=C(b);a(j).filter(":not(select,:checkbox,:radio)").keyup(function(){h(b,c)});a(j).filter("select,:checkbox,:radio").change(function(){h(b,
c)});a(j).filter(".rd-field").on("keypress paste",function(){a(this).hasClass("filled")||a(this).addClass("filled")});a(j).filter(".rd-field").on("keyup cut",function(){a(this).val()||a(this).removeClass("filled")});a(j).filter(".rd-field").each(function(){var c=a(this).attr("id");a(b).find('label[for="'+c+'"]').insertAfter(a(this))});a(j).bind("input",function(){h(b,c)});c.enable_inputs_on_load&&a(j).removeAttr("disabled").filter("select").change();c.check_fields_on_blur&&a(g).blur(function(){var f=
a(this).val(),g=a(this).is("[type=email]");c.autotrim_fields&&(g&&detectGoogleChrome()&&a(this).val(f+"q"),a(this).val()!==a.trim(f)&&(f=a.trim(f),a(this).val(f)));a(this).val()!=a(this).data("validation-value")&&(g&&f.length&&(a(this),a(this).filter("[type=email],[type=url]").each(function(){var a=this.value.split("@");this.value=2==a.length?punycode.toASCII(a[0])+"@"+punycode.toASCII(a[1]):punycode.toASCII(this.value)})),f=c.autovalidate_fields,a.isArray(f)&&f.length&&(g=a(this).attr("name"),-1===
a.inArray(g,f)&&f.push(g)),a(b).formHandler("validate-and-show",this,f,!0))}).on("focus",function(){n(b,this,c)}).filter(c.chosen_selector).on("change",function(){a(this).blur()}).on("chosen:showing_dropdown",function(){n(b,this,c)}).end().filter(":checkbox").on("change",function(){a(b).formHandler("hide-field-error",this)}).end();c.hide_errors_on_type&&a(g).filter(":not(select,:checkbox,:radio)").keyup(function(){if(a(this).val()!==a(this).data("validation-value")){a(b).formHandler("hide-field-error",
this);var f;if(a(c.submit_button).is(":enabled")&&m(b,c).length){var g=a(m(b,c)).next(".js-empty-label-after-submit").find("label:first").attr("for");g&&(f=a("#"+g).get(0))}f===this&&I(b,c)}});c.autohandle_form_submit&&(detectOldIe()?(a(m(b,c)).attr("onclick","$(this.form).submit(); return false;"),a(b).attr("onsubmit","return $(this).formHandler('submit');")):(a(m(b,c)).click(function(){a(b).submit();return!1}),a(b).submit(function(){return f(b,c)})));c.autofocus_first_field&&p(b,c);c.show_progressbar&&
a(m(b,c)).each(function(){a(this).html(a(this).html()+c.progressbar_code)})}function f(b,c){a(b).data("submitInProgress",!0);a(b).formHandler("validate-and-show");var f=a(b).formHandler("get-errors",c);if(0<f.length)return f=JSON.stringify(f),a(b).data("submitInProgress",!1),a(b).formHandler("google-tag-track-event","200 - "+f.substr(0,255)),!1;a(b).formHandler("hide-errors");f=m(b,c);a(f).addClass("loading");if(!a(b).formHandler("is-submit-enabled"))return a(f).hasClass("no-hide-validate")||a(f).removeClass("loading"),
!1;a(b).data("submitInProgress",!1);var f=a(b).attr("action"),g=a(b).attr("method"),h=a(b).serialize(),j=a('input[type="email"]',b);j.length&&j.val().length&&Tm.addLgnCookie(j.val());a(b).formHandler("show-ajax-progress");if(a.isFunction(c.on_before_submit)&&!1===c.on_before_submit(b,c))return!1;if(c.disable_ajax)return a(b).formHandler("google-tag-track-event","Submit"),!0;a(b).formHandler("disable-submit");a.ajax({url:f,type:g,data:h,async:c.ajax_async_mode,dataType:detectOldIe()?null:"json",success:function(f){a(b).formHandler("hide-ajax-progress");
a.isFunction(c.on_ajax_response)&&(f=c.on_ajax_response(b,c,f));if(f.status)a(b).formHandler("google-tag-track-event","Submit"),a.isFunction(c.on_submit_success)&&(c.on_submit_success(b,c,f),"undefined"!==typeof f.form_settings&&("undefined"!==typeof f.form_settings.hide_complete&&"1"==f.form_settings.hide_complete)&&a(".ninja-forms-response-msg:visible").html(f.success.success_msg));else{var g=a.isArray(f.errors)?f.errors:c.default_error_message,h=JSON.stringify(g);a(b).formHandler("google-tag-track-event",
"200 - "+h.substr(0,255));if(a.isFunction(c.on_submit_error))c.on_submit_error(b,c,f);a(b).formHandler("show-errors",g)}a(b).formHandler("enable-submit")},error:function(f,g,h){if(a.isFunction(c.on_submit_error))c.on_submit_error(b,c,h);a(b).formHandler("hide-ajax-progress");0!==f.status&&0!==f.readyState&&a(b).formHandler("show-errors",c.default_error_message);a(b).formHandler("google-tag-track-event",f.status+" - "+f.statusText);a(b).formHandler("enable-submit")}});return!1}function g(b,c,f){var g=
C(b),h=m(b,c);c.disable_ajax||(a(g).attr("disabled","disabled").filter("select").change(),a(h).attr("disabled","disabled"),f&&a(h).addClass("half-disabled loading"),a(b).find(":focus").blur())}function h(b,c){var f=m(b,c),g=a(C(b)).filter("[required]").get(),h=0,j=0,k=[],l,n,p;for(p in g)if("undefined"!==typeof g[p]){n=a(g[p]).attr("id");l=a(g[p]).attr("name");if(a.isPlainObject(c.on_empty_checks_callbacks)&&a.isFunction(c.on_empty_checks_callbacks[l])&&(l=c.on_empty_checks_callbacks[l](b,g[p],c),
!0===l))continue;a(b).formHandler("hide-field-success",g[p]);if(0===a.trim(a(g[p]).val()).length){h++;l=g[p];var q=a.trim(a(l).data("label"));q.length||(q=a.trim(a(l).parents(".js-form-group:first").find("label").html()));q.length||(q=a.trim(a(l).attr("placeholder")));q.length&&":"===q.substr(-1)&&(q=q.substr(0,q.length-1));l=q;k.push('<label for="'+n+'">'+a.trim(l)+"</label>")}else j++}0===h?a(c.submit_button).is(":enabled")||(c.disable_submit_on_empty&&a(f).removeAttr("disabled"),c.show_submit_button_hint&&
I(b,c)):(c.disable_submit_on_empty&&a(f).attr("disabled","disabled"),c.show_submit_button_hint&&(f="Please complete the form to proceed",0<j&&0<k.length&&(f="You need to fill the following fields: "+k.join(", ")),A(b,c,f)))}function j(b,c,f,g){b='<div class="popover-content rd-notice-content">'+(a.isArray(f)?f.join(c.strings_delimiter):a.trim(f))+"</div>";a(c.common_errors_container).addClass("alert-container").html('<div class="'+g+'">'+c.common_errors_close_handler+b+"</div>").scrollTop(0);b=a(c.common_errors_container).find(".rd-notice");
g=b.outerHeight();b=b.outerWidth();b=(a(c.common_errors_container).closest("form").outerWidth()-b)/2;a(c.common_errors_container).css({top:-g+"px",left:b+"px"});c.autoscroll_on_form_error&&(c=a(c.common_errors_container).offset())&&a(window.document).scrollTop(c.top)}function k(b,c){var f=C(b),g="undefined"!==typeof c.skip_form_error&&!!c.skip_form_error,j;for(j in f)if("undefined"!==typeof f[j]){var k=f[j],l=c;l.show_popover&&w(k).popover("destroy");l.highlight_border&&G(k)}g||a(c.common_errors_container).html("");
h(b,c)}function l(b,c,f){var g,h,j,k;"string"===typeof f&&f.length&&(f=[{messages:f}]);if(a.isArray(f)){j=[];k=0;a(b).formHandler("hide-errors",{skip_form_error:!0});for(var l in f)if("undefined"!==typeof f[l])if("string"==typeof f[l]&&(f[l]={name:null,messages:[f[l]]}),g=f[l].name?b[f[l].name]:null,h=f[l].messages,a.isArray(h)&&(h=a.trim(a(h).get(0))),"undefined"===typeof g||!g)j.push(h);else if(!c.display_only_firts_popover||0===k)a(b).formHandler("show-field-error",g,h),a(c.submit_button).is(":enabled")&&
(h='<label for="'+a(g).attr("id")+'">'+h+"</label>",A(b,c,h)),k++,c.autofocus_firts_popover_field&&q(b,g,c);j.length&&a(b).formHandler("show-form-error",j)}}function u(b,c,f){var g=a.extend({},B),h=a(b).data("validation-options");a.isPlainObject(h)&&a.extend(g,h);a.isPlainObject(c)&&a.extend(g,c);g.common_errors_container||(g.common_errors_container="#"+a(b).attr("id")+"-errors");g.submit_button||(g.submit_button=a("button,:input[type=button]:input[type=submit]",b));g.default_error_message||(g.default_error_message=
g.locatable?Twig.render(serverError):"Server Error");g.please_enter_message||(g.please_enter_message=g.locatable?Twig.render(pleaseEnter):"Please enter %s");f&&a(b).data("validation-options",g);return g}function p(b,c){var f=C(b),f=a(f).filter(":not([type=hidden]):not(:hidden)").get(0);"undefined"!==typeof f&&q(b,f,c)}function q(b,c,f){a(c).filter(":not(select):first").focus().each(function(){var b="password email url tel number range time checkbox".split(" ");a.isFunction(this.setSelectionRange)&&
-1==b.indexOf(this.type)&&this.setSelectionRange(this.value.length,this.value.length)}).end();a(c).is(f.chosen_selector)&&a(c).trigger("chosen:activate");n(b,c,f);z(b,"focusField: ",a(c).attr("name"))}function n(b,c,f){b=a(C(b)).filter(f.chosen_selector+"[id!="+a(c).attr("id")+"]");b.trigger("chosen:close");b.parent().find(".chosen-container").removeClass("chosen-with-drop")}function A(b,c,f){b=m(b,c);a(b).next(".js-empty-label-after-submit").children("small").html(f).end().show()}function I(b,c){var f=
m(b,c);a(f).next(".js-empty-label-after-submit").children("small").html("").end().hide()}function w(b){return a(b).data("chosen")&&a(b).data("chosen").container?a(b).data("chosen").container:a(b)}function G(b){return a(b).removeClass("error").parents("div.js-form-group:first").removeClass("has-error")}function m(b,c){return a(c.submit_button).get()}function C(b){return a(b).find(":input").get()}function z(b,c,f){"object"===typeof window.console&&("function"===typeof window.console.info&&a.cookie("form-validation-debug"))&&
window.console.info("FV("+a(b).attr("name")+"): ",c,f)}var B={locatable:!0,highlight_border:!0,show_popover:!0,show_chosen_selects:!0,chosen_selector:".js-chosen",disable_submit_on_empty:!1,disable_ajax:!1,disable_validation:!1,enable_inputs_on_load:!1,disable_submit:!1,show_submit_button_hint:!1,check_fields_on_blur:!0,autoscroll_on_form_error:!0,autofocus_first_field:!0,autohandle_form_submit:!0,display_only_firts_popover:!0,autofocus_firts_popover_field:!0,autotrim_fields:!0,hide_errors_on_type:!0,
hide_errors_for_empty:!0,autovalidate_fields:[],submit_hint_template:'<p class="js-empty-label-after-submit" style="display:none;"><small></small></p>',popover_placement:"right",popover_title:!1,common_errors_container:null,common_errors_close_handler:'<span class="close" data-dismiss="alert" href="#" aria-hidden="true">&times;</span>',show_progressbar:!1,progressbar_code:'<div class="progress progress-striped active" style="display: none;"><div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div>',
common_errors_html_classes:"alert fade alert-warning in",common_success_html_classes:"alert rd-closing rd-notice rd-notice-tooltip rd-notice-position-top rd-notice-type-success",success_mark_html_class:"rd-field-success",default_error_message:null,please_enter_message:null,strings_delimiter:"<br/>",submit_button:null,on_empty_checks_callbacks:{},on_ajax_response:null,on_before_submit:a.noop,on_submit_success:a.noop,on_submit_error:a.noop,ajax_async_mode:!0};a.fn.formHandler=function(h,n,B,v){if(!this.size())return this;
var N={},L=this.get(0);a.isPlainObject(h)||"undefined"===typeof h?(N=h,h="init"):a.isPlainObject(n)&&(N=n);var y=u(L,N,"init"===h),O;switch(h){case "validate":a(L).formValidation("validate",n);break;case "validate-and-show":O=a.isArray(B)?B:[];v&&(y.autofocus_firts_popover_field=!1,y.hide_errors_for_empty=!0);v=O;O=!0;a(L).formHandler("validate");B=a(L).formHandler("get-errors",y,v);if(v.length&&n){v=a(n).attr("name");O=!1;for(var D in B)if("undefined"!==typeof B[D]&&B[D].name===v&&B[D].messages.length){O=
!0;break}}O&&l(L,y,B);break;case "show-ajax-progress":b(g,L,y,"undefined"===typeof n||n);break;case "hide-ajax-progress":b(function(){var b=C(L),c=m(L,y);a(b).removeAttr("disabled").filter("select").change();a(c).removeClass("half-disabled loading").removeAttr("disabled");a.isFunction(n)&&n(L,y)});break;case "enable-submit":u(L,{disable_submit:!1},!0);break;case "disable-submit":u(L,{disable_submit:!0},!0);break;case "is-submit-enabled":return!y.disable_submit;case "get-errors":return O=a.isArray(B)?
B:[],a(L).formValidation("get-errors",y,O);case "show-errors":if(v)for(O in n)if("undefined"!==typeof n[O]){D=L;var N=n[O],B=a(D).data("validation-errors"),H=!1,v=void 0;for(v in B)if("undefined"!==typeof B[v]&&B[v].name===N.name){B[v]=N;H=!0;break}H||B.push(N);N=[];for(v in B)B[v].messages&&0<B[v].messages.length&&N.push(B[v]);B=N;a(D).data("validation-errors",B);z(D,"mergeFormErrors ",B)}l(L,y,n);break;case "hide-errors":k(L,y);break;case "reset-errors":k(L,y);a(L).formValidation("reset-errors");
break;case "show-field-error":!v&&y.popover_title?(O=a(n).parents("div.js-form-group:first").find("label:first").text(),O=a.trim(O)):O="";if(y.show_popover){D=a.isArray(B)?B.join(y.strings_delimiter):a.trim(B);var B=O,v=y.popover_placement,K=void 0;O=w(n);var v=O.data("placement")?O.data("placement"):v,K=K?K:"rd-notice-type-error",H=a(n),N=v,T=H.data("with-close")?"alert rd-closing ":"",H=H.data("with-close")?'<span class="close" data-dismiss="alert" href="#" aria-hidden="true">\u00d7</span>':'<div class="arrow"></div>',
B={template:'<div class="'+T+" rd-notice rd-notice-tooltip rd-notice-position-"+N+" "+K+'" role="tooltip">'+H+'<div class="popover-content rd-notice-content"></div></div>',content:D,placement:v,title:B,trigger:"manual",html:!0};if(a.data(n,"placement")){v=["top","bottom","left","right"];for(N=0;N<v.length;N++)a.data(n,"placement")===v[N]&&(B.placement=a.data(n,"placement"))}D=a("<span>",{html:D,style:"display:none;left:-9999px;position:absolute;top:0px"});D.addClass("spacer-padding-default");D.appendTo("body");
D.show();v=Math.ceil(D[0].getBoundingClientRect().width);O.popover(B);O.popover("show");O.next(".popover, .rd-notice").width(v);O.popover("show");D.remove()}y.highlight_border&&a(n).parents("div.js-form-group:first").addClass("has-error");break;case "hide-field-error":y.show_popover&&w(n).popover("destroy");y.highlight_border&&G(n);break;case "show-field-success":a(n).hasClass(y.success_mark_html_class)||a(n).addClass(y.success_mark_html_class);break;case "hide-field-success":a(n).hasClass(y.success_mark_html_class)&&
a(n).removeClass(y.success_mark_html_class);break;case "show-form-error":j(L,y,n,y.common_errors_html_classes);break;case "show-form-success":j(L,y,n,y.common_success_html_classes);break;case "hide-form-error":a(y.common_errors_container).html("");break;case "show-submit-hint":A(L,y,n);break;case "hide-submit-hint":I(L,y);break;case "focus":q(L,n,y);break;case "focus-first":p(L,y);break;case "enable-validation":a(L).formValidation("enable");break;case "disable-validation":a(L).formValidation("disable");
break;case "is-validation-enabled":return a(L).formValidation("is-enabled");case "submit":return f(L,y);case "google-tag-track-event":"undefined"!=typeof n&&"undefined"!=typeof dataLayer&&dataLayer.push({event:"trackEvent",eventCategory:"Forms",eventAction:a(L).attr("id"),eventLabel:n});break;case "init":b(c,L,y)}"string"===typeof h&&a(L).trigger(h,{form:L,options:y});return this}})(jQuery);(function(a){function b(b,c,f){if(p(b)){var g=a(c).val(),h=a(c).data("validation-value")||!1;if(g!==h||a(c).is(":checkbox")){var h=[],k=a(c).attr("name"),l,q=[],B=[];a(a.regula("validate")).each(function(a,c){for(var f in c.failingElements)if(c.failingElements.hasOwnProperty(f)&&c.failingElements[f].form===b)a:{var g=B,h=c.failingElements[f].name,j=c.constraintName,k=c.message,l=void 0;for(l in g)if(g.hasOwnProperty(l)&&g[l].name===h){g[l].messages[j]=k;break a}l={};l[j]=k;g.push({name:h,messages:l})}});
for(l in B)if(B.hasOwnProperty(l)&&B[l].name===k){q=B[l].messages;break}l=q;if(a(c).is("[required]")&&j(c)){var x=l.NotBlank;x||(x=sprintf,l=f.please_enter_message,q=a.trim(a(c).parents(".form-group:first").find("label").data("label")),q.length||(q=a.trim(a(c).data("label"))),q.length||(q=a.trim(a(c).parents(".form-group:first").find("label").html())),q.length||(q=a.trim(a(c).data("label"))),q.length||(q=a.trim(a(c).attr("placeholder"))),q.length&&":"===q.substr(-1)&&(q=q.substr(0,q.length-1)),x=
x(l,q));h.push(x)}else if(!a(c).is("[type=email]")||!j(c))if(!f.skip_disabled_fields_validation||!a(c).is(":disabled"))for(x in l)l.hasOwnProperty(x)&&-1===a.inArray(l[x],h)&&(h.push(l[x]),a(b).rdFormValidation("google-tag-track-event",k,l[x].substr(0,255)));u(b)&&(0===h.length&&a.isPlainObject(f.validator_callbacks)&&a.isFunction(f.validator_callbacks[k]))&&(h=f.validator_callbacks[k](b,c,f));h={name:k,messages:h};f=a(b).data("validation-errors");a.isArray(f)||(f=[]);var k=!1,J;for(J in f)if(f.hasOwnProperty(J)&&
f[J].name===h.name){f[J]=h;k=!0;break}k||f.push(h);h=[];for(J in f)f.hasOwnProperty(J)&&(f[J].messages&&0<f[J].messages.length)&&h.push(f[J]);a(b).data("validation-errors",h);a(c).data("validation-value",g)}}}function c(b,c,f){var h=[],j=g(b),b=a(b).data("validation-errors");a.isArray(f)||(f=[]);a.isArray(b)||(b=[]);var k=[],l;for(l in j)if(j.hasOwnProperty(l)){var p=a(j[l]).attr("name");if(!(f.length&&-1===a.inArray(p,f))){var q=0===a.trim(a(j[l]).val()).length,u=a(j[l]).is(":checkbox");if(!c.hide_errors_for_empty||
!q&&!u)for(var J in b)if(b.hasOwnProperty(J))if(q=b[J].messages,b[J].name===p)h.push(b[J]);else if(null===b[J].name&&a.isArray(q))for(var P in q)q.hasOwnProperty(P)&&-1===a.inArray(q[P],k)&&k.push(q[P])}}k.length&&h.push({name:null,messages:k});return h}function f(b){a(b).data("validation-errors",[]);var b=g(b),c;for(c in b)b.hasOwnProperty(c)&&a(b[c]).data("validation-value",null===a(b[c]).val()?"":null)}function g(b){return a(b).find(":input").get()}function h(b){return a(g(b)).filter("[data-constraints]").get()}
function j(b){return b&&0===a.trim(a(b).val()).length}function k(b){a(b).data("form-validation",!0);return p(b)}function l(b){a(b).data("form-validation",!1);return p(b)}function u(b){return!1!==a(b).data("validator_callbacks_enabled")}function p(b){return a(b).data("form-validation")}var q={autovalidate_fields:[],please_enter_message:"Please, enter %s",validator_callbacks:null,on_before_validate:a.noop,on_after_validate:a.noop,on_before_ajax_callback:{},on_after_ajax_callback:{},skip_disabled_fields_validation:!1};
a.fn.rdFormValidation=function(n,A,I){var w={},G=this.get(0);a.isPlainObject(n)||"undefined"===typeof n?(w=n,n="init"):a.isPlainObject(A)&&(w=A);var m="init"===n,C=a.extend({},q);if(!m){var z=a(G).data("validation-options");a.isPlainObject(z)&&a.extend(C,z)}a.isPlainObject(w)&&a.extend(C,w);C.common_errors_container||(C.common_errors_container="#"+a(G).attr("id")+"-errors");C.submit_button||(C.submit_button=a("button,:input[type=button]:input[type=submit]",G));m&&a(G).data("validation-options",C);
var B;switch(n){case "validate":if(a.isFunction(C.on_before_validate))C.on_before_validate(G,C);if("undefined"!==typeof A)b(G,A,C);else{B=h(G);for(var x in B)B.hasOwnProperty(x)&&b(G,B[x],C)}a.isFunction(C.on_after_validate)&&(B=c(G,C),C.on_after_validate(G,C,B));break;case "validate-field":b(G,A,C);break;case "get-constraints":var J={},G="string"==typeof A?G[A]:A;if("undefined"!=typeof G&&(A=a(G).attr("data-constraints"),"undefined"!=typeof A&&(G=regula._modules.Parser.parse(G,A),a.isPlainObject(G)&&
G.successful&&a.isPlainObject(G.data))))for(B in G.data)G.data.hasOwnProperty(B)&&(J[G.data[B].constraintName]=G.data[B].definedParameters);return J;case "get-errors":return B=a.isArray(I)?I:[],c(G,C,B);case "reset-errors":f(G);break;case "enable":k(G);break;case "disable":l(G);break;case "is-enabled":return p(G);case "enable-callback-checks":a(G).data("validator_callbacks_enabled",!0);break;case "disable-callback-checks":a(G).data("validator_callbacks_enabled",!1);break;case "is-callback-checks-enabled":return u(G);
case "init":a.regula("bind");a(g(G)).on("invalid",function(){return!1});f(G);B=h(G);a.isPlainObject(C.validator_callbacks)||(C.validator_callbacks={});for(J in B)B.hasOwnProperty(J)&&a(B[J]).data("validation-callback")&&(A=a(B[J]).attr("name"),"undefined"!==typeof A&&"undefined"===typeof C.validator_callbacks[A]&&(C.validator_callbacks[A]=function(b,c){if(a(c).is("[required]")||!j(c)){var f=a(c).data("validation-callback"),g=a(c).data("validation-callback-key"),h=a(c).data("validation-callback-extra-keys"),
h=h?h.split(","):[],k=a(c).attr("name");if(!f)return;a(b).rdFormHandler("disable-submit");var l=a.trim(a(c).data("validation-disable-on-check")).split(","),l=l?a.trim(l).split(","):[];a(b).rdFormHandler("show-field-progress",c);a(b).rdFormHandler("show-ajax-progress",!1,l,!1);var m=a(c).data("validation-callback-data");a.isPlainObject(m)||(m={});g||(g=a(c).attr("name"));m[g]=a(c).val();a(h).each(function(c,f){m[f]=a(b[f]).val()});if(a.isFunction(C.on_before_ajax_callback[k]))C.on_before_ajax_callback[k](b,
C,c);a.ajax({url:f,type:"POST",data:m,dataType:"json",async:!0,success:function(f){var g=!!f.status;a.isFunction(C.on_after_ajax_callback[k])&&!1===C.on_after_ajax_callback[k](b,C,c,f)||(g||(a(b).rdFormHandler("show-errors",[{name:a(c).attr("name"),messages:f.messages}],[],!0),a(b).data("submitInProgress",!1)),a(b).rdFormHandler("enable-submit"),a(b).rdFormHandler("hide-field-progress",c),a(b).data("submitInProgress")?(a(b).rdFormHandler("show-ajax-progress",!0),a(b).submit()):a(b).rdFormHandler("hide-ajax-progress",
function(){if(g){a(b).rdFormHandler("show-success",c);var h=f.status?a(b).rdFormHandler("get-first-blank-field",k):c;a(b).rdFormHandler("focus",h)}}))},error:function(){a(b).rdFormHandler("enable-submit");a(b).rdFormHandler("hide-field-progress",c);a(b).rdFormHandler("hide-ajax-progress")}})}return[]}));C.disable_validation?l(G):k(G);break;case "google-tag-track-event":"undefined"!=typeof A&&"undefined"!=typeof dataLayer&&dataLayer.push({event:"trackEvent",eventCategory:"Forms errors",eventAction:a(G).attr("id"),
eventLabel:A+" : "+I})}return this}})(jQuery);(function(a){function b(a){if("function"===typeof a){var b=[].slice.call(arguments,1);setTimeout(function(){a.apply(this,b)},0)}}function c(b,c){a(document).trigger("PINField:init").on("PINField:update",function(){a(b).rdFormHandler("hide-errors");var g;if(g=c.submit_on_full_field)g=a(b).find(".js-pin-field").data("PINField").isFull();g&&f(b,c)});c.disable_submit_on_empty||(c.hide_errors_for_empty=!1);c.show_chosen_selects&&a(P(b)).filter(c.chosen_selector).each(function(){C(a(this),c)});a(b).rdFormValidation(c);
a(b).rdFormValidation("disable-callback-checks");var g=v(b);a(b).rdFormHandler("validate");if(c.show_submit_button_hint){var h=x(b,c);a(h).after(c.submit_hint_template);j(b,c)}c.phone_enable_intl_telInput&&a(P(b)).filter(".js-phone").each(function(){var f=a(this);(new Tm.RdPhoneInput({preferedCountries:c.phone_preferred_countries,userCountry:a.cookie("country_code")})).init(f,function(g){g.attr("id",f.attr("id")+"-code");C(g,c);a(b).rdFormValidation("validate-field",f)})});h=P(b);a(h).filter(":not(select,:checkbox,:radio)").keyup(function(){j(b,
c)});a(h).filter("select,:checkbox,:radio").change(function(){j(b,c)});a(h).filter(".rd-field").on("keypress cut paste input change filled.rd",function(){var b=this,f=a(b).attr("name");c.autocheck_timeout&&-1!==a.inArray(f,c.autocheck_fields)&&(f=a(b).data("validation-timer-id"),clearTimeout(f),f=setTimeout(a.proxy(function(){a(b).trigger("rd-check-field")},b),c.autocheck_timeout),a(b).data("validation-timer-id",f));a(this).hasClass("js-phone")||setTimeout(a.proxy(function(){a(this).val()?a(this).addClass("filled"):
a(this).removeClass("filled")},this),2)});var k=function(b){return a(b).hasClass("js-phone")?"onfocus-phone":"onfocus"};a(h).filter(".rd-field").on("focus",function(){a(L(this)).addClass(k(this))});a(h).filter(".rd-field").on("blur",function(){a(L(this)).removeClass(k(this))});a(h).filter(" .rd-field:not(.js-phone) ").each(function(){var c=a(this).attr("id");a(b).find('label[for="'+c+'"]').insertAfter(a(this));a(this).val()&&a(this).addClass("filled")});a(h).bind("input",function(){j(b,c)});c.enable_inputs_on_load&&
a(h).removeAttr("disabled").filter("select").change();c.check_fields_on_blur&&a(g).on("blur rd-check-field",function(){var f=a(this).val(),g=a(this).is("[type=email]");c.autotrim_mode&&(g&&detectGoogleChrome()&&a(this).val("______________________u@c.c"),a(this).val()!==a.trim(f)&&(f=a.trim(f),a(this).val(f)));a(this).val()!=a(this).data("validation-value")&&(g&&f.length&&a(this).filter("[type=email],[type=url]").each(function(){var a=this.value.split("@");this.value=2==a.length?punycode.toASCII(a[0])+
"@"+punycode.toASCII(a[1]):punycode.toASCII(this.value)}),f=c.autovalidate_fields,a.isArray(f)&&f.length&&(g=a(this).attr("name"),-1===a.inArray(g,f)&&f.push(g)),a(b).rdFormHandler("validate-and-show",this,f,!0))}).on("focus",function(){w(b,this,c)}).filter(c.chosen_selector).on("change",function(){a(this).blur()}).on("chosen:showing_dropdown",function(){w(b,this,c)}).end().filter(":checkbox").on("change",function(){a(b).rdFormHandler("hide-field-error",this);a(b).rdFormHandler("hide-field-success",
this)}).end();c.hide_errors_on_type&&a(g).filter(":not(select,:checkbox,:radio)").keyup(function(){if(a(this).val()!==a(this).data("validation-value")){a(this).data("validation-value",null);a(b).rdFormHandler("hide-field-error",this);a(b).rdFormHandler("hide-field-success",this);var f;if(a(c.submit_button).is(":enabled")&&x(b,c).length){var g=a(x(b,c)).next(".js-empty-label-after-submit").find("label:first").attr("for");g&&(f=a("#"+g).get(0))}f===this&&m(b,c)}});c.autohandle_form_submit&&(a(x(b,c)).click(function(){a(b).submit();
return!1}),a(b).submit(function(){return f(b,c)}));c.autofocus_first_field&&q(b,c);c.show_progressbar&&a(x(b,c)).each(function(){a(this).html(a(this).html()+c.progressbar_code)});var l=null;a(".js-password-toggle").on("mouseover touchstart",function(){var b=a(this),c=b.parents(".js-form-group").find(".rd-field").attr("class"),f=-1,g="right";l=setTimeout(function(){f=c.indexOf("tip-bottom");0<f&&(g="bottom");z(b,"show password popover",g,Twig.render(holdToShowPassword),"rd-notice-type-default eyes-tooltip")},
200)});a(".js-password-toggle").on("mouseleave touchend",function(){var b=a(this);clearTimeout(l);B(b).popover("destroy")});a(b).rdFormValidation("enable-callback-checks");if(a.isFunction(c.on_after_init))c.on_after_init(b,c)}function f(b,c){a(b).data("submitInProgress",!0);if(a.isFunction(c.on_submit_validation)&&!1===c.on_submit_validation(b,c))return a(b).data("submitInProgress",!1),!1;a(b).rdFormHandler("validate-and-show");var f=a(b).rdFormHandler("get-errors",c);if(0<f.length){f=JSON.stringify(f);
a(b).data("submitInProgress",!1);a(b).rdFormHandler("google-tag-track-event","200 - "+f.substr(0,255));if(a.isFunction(c.on_submit_validation_fail))c.on_submit_validation_fail(b,c);return!1}f=x(b,c);a(f).addClass("loading");if(!a(b).rdFormHandler("is-submit-enabled"))return a(f).removeClass("loading"),!1;a(b).rdFormHandler("hide-errors");if(a.isFunction(c.on_submit_validation_success))c.on_submit_validation_success(b,c);a(b).data("submitInProgress",!1);var g=a(b).attr("action"),h=a(b).attr("method");
if(!g)return!1;var j=a('input[type="email"]',b);j.length&&j.val().length&&Tm.addLgnCookie(j.val());a(b).rdFormHandler("show-ajax-progress",!0);if(a.isFunction(c.on_before_submit)&&!1===c.on_before_submit(b,c))return!1;if(c.disable_ajax)return a(f).removeClass("loading"),a(b).rdFormHandler("google-tag-track-event","Submit"),!0;a(b).rdFormHandler("hide-success");a(b).rdFormHandler("disable-submit");a.ajax({url:g,type:h,data:jQuery.param(J(b)),async:c.ajax_async_mode,dataType:c.data_type,success:function(f){a.isFunction(c.on_ajax_response)&&
(f=c.on_ajax_response(b,c,f));if(f.status){if(a(b).rdFormHandler("google-tag-track-event","Submit"),a.isFunction(c.on_submit_success)&&!1===c.on_submit_success(b,c,f))return}else{var g=a.isArray(f.errors)?f.errors:c.default_error_message,h=JSON.stringify(g);a(b).rdFormHandler("google-tag-track-event","200 - "+h.substr(0,255));if(a.isFunction(c.on_submit_error))c.on_submit_error(b,c,f);a(b).rdFormHandler("show-errors",g)}a(b).rdFormHandler("hide-ajax-progress");a(b).rdFormHandler("enable-submit")},
error:function(f,g,h){if(a.isFunction(c.on_submit_error))c.on_submit_error(b,c,h);a(b).rdFormHandler("hide-ajax-progress");0!==f.status&&0!==f.readyState&&a(b).rdFormHandler("show-errors",c.default_error_message);a(b).rdFormHandler("google-tag-track-event",f.status+" - "+f.statusText);a(b).rdFormHandler("enable-submit")}});return!1}function g(b,c){var f=x(b,c);a(f).removeClass("half-disabled loading").removeAttr("disabled")}function h(b,c,f,h,j){if(!c.disable_ajax){"boolean"!==typeof j&&(j=!0);var k=
P(b);a.isArray(h)&&h.length&&(h=a(h).map(function(a,b){return"[name="+b+"]"}).get().join(","),k=a(k).filter(h).get());a(k).each(function(){a(this).is("[type=hidden],:disabled")||(a(this).attr("disabled","disabled").data("disabled-by-handler",!0).filter("select").change(),a(L(this)).addClass("disabled"))});j?(c=x(b,c),a(c).attr("disabled","disabled"),f&&a(c).addClass("half-disabled loading")):g(b,c);a(b).find(":focus").blur()}}function j(b,c){var f=x(b,c),g=a(P(b)).filter("[required]").get(),h=0,j=
0,k=[],l,n,p;for(p in g)if("undefined"!==typeof g[p]){n=a(g[p]).attr("id");l=a(g[p]).attr("name");if(a.isPlainObject(c.on_empty_checks_callbacks)&&a.isFunction(c.on_empty_checks_callbacks[l])&&(l=c.on_empty_checks_callbacks[l](b,g[p],c),!0===l))continue;if(0===a.trim(a(g[p]).val()).length){h++;l=g[p];var q=a.trim(a(l).data("label"));q.length||(q=a.trim(a(L(l)).find("label").html()));q.length||(q=a.trim(a(l).attr("placeholder")));q.length&&":"===q.substr(-1)&&(q=q.substr(0,q.length-1));l=q;k.push('<label for="'+
n+'">'+a.trim(l)+"</label>")}else j++}0===h?a(c.submit_button).is(":enabled")||(c.disable_submit_on_empty&&a(f).removeAttr("disabled"),c.show_submit_button_hint&&m(b,c)):(c.disable_submit_on_empty&&a(f).attr("disabled","disabled"),c.show_submit_button_hint&&(f="Please complete the form to proceed",0<j&&0<k.length&&(f="You need to fill the following fields: "+k.join(", ")),G(b,c,f)))}function k(b,c,f,g){b='<div class="popover-content rd-notice-content">'+(a.isArray(f)?f.join(c.strings_delimiter):a.trim(f))+
"</div>";a(c.common_errors_container).addClass("alert-container").html('<div class="'+g+'">'+c.common_errors_close_handler+b+"</div>").scrollTop(0);b=a(c.common_errors_container).find(".rd-notice");g=b.outerHeight();b=b.outerWidth();b=(a(c.common_errors_container).closest("form").outerWidth()-b)/2;a(c.common_errors_container).css({top:-g+"px",left:b+"px"});c.autoscroll_on_form_error&&(c=a(c.common_errors_container).offset())&&a(window.document).scrollTop(c.top)}function l(b,c){var f=P(b),g="undefined"!==
typeof c.skip_form_error&&!!c.skip_form_error,h;for(h in f)if("undefined"!==typeof f[h]){var k=f[h],l=c;l.show_popover&&B(k).popover("destroy");l.highlight_border&&A(k,l)}g||a(c.common_errors_container).html("");j(b,c)}function u(b,c,f){var g,h,j,k;"string"===typeof f&&f.length&&(f=[{messages:f}]);g=a(b).attr("data-errors");h=goog.crypt.md5hash(f);h!==g&&(a(b).attr("data-errors",h),a(v(b)).each(function(){a(b).rdFormHandler("hide-field-error",this);a(b).rdFormHandler("hide-field-success",this)}));
if(f.length){j=[];k=0;h!==g&&a(b).rdFormHandler("hide-errors",{skip_form_error:!0});for(var l in f)if("undefined"!==typeof f[l])if("string"==typeof f[l]&&(f[l]={name:null,messages:[f[l]]}),g=f[l].name?b[f[l].name]:null,h=f[l].messages,a.isArray(h)&&(h=a.trim(a(h).get(0))),g){if((!c.display_only_firts_popover||0===k)&&!a(g).is(":disabled")){a(g).attr("data-error",goog.crypt.md5hash(f[l].messages));a(b).rdFormHandler("show-field-error",g,h);a(c.submit_button).is(":enabled")&&(h='<label for="'+a(g).attr("id")+
'">'+h+"</label>",G(b,c,h));k++;var m=g;c.autofocus_firts_popover_field&&(c.autofocus_timeout?setTimeout(function(){I(b,m,c)},c.autofocus_timeout):I(b,g,c))}}else j.push(h);j.length&&a(b).rdFormHandler("show-form-error",j)}a(b).rdFormHandler("is-submit-enabled")&&a(b).rdFormHandler("show-success");if(f.length&&a.isFunction(c.on_show_errors))c.on_show_errors(b,c,f)}function p(b,c,f){var g=a.extend({},O),h=a(b).data("validation-options");a.isPlainObject(h)&&a.extend(g,h);a.isPlainObject(c)&&a.extend(g,
c);g.common_errors_container||(g.common_errors_container="#"+a(b).attr("id")+"-errors",a(g.common_errors_container).length||a('<div id="'+g.common_errors_container.slice(1)+'"></div>').prependTo(b));g.submit_button||(g.submit_button=a("button,:input[type=button]:input[type=submit]",b));g.default_error_message||(g.default_error_message=g.locatable?Twig.render(serverError):"Server Error");g.please_enter_message||(g.please_enter_message=g.locatable?Twig.render(pleaseEnter):"Please, enter %s");f&&a(b).data("validation-options",
g);return g}function q(b,c){var f=P(b),f=a(f).filter(":not([type=hidden]):not(:hidden)").get(0);"undefined"!==typeof f&&I(b,f,c)}function n(b,c){var f=a(L(b));f.hasClass(c.success_mark_html_class)&&f.removeClass(c.success_mark_html_class)}function A(b,c){a(b).removeClass("error");a(L(b)).removeClass(c.error_mark_html_class)}function I(b,c,f){a(c).filter(":not(select):first").focus().each(function(){var b="password email url tel number range time checkbox hiddenshow".split(" ");a.isFunction(this.setSelectionRange)&&
-1==b.indexOf(this.type)&&this.setSelectionRange(this.value.length,this.value.length)}).end();a(c).is(f.chosen_selector)&&a(c).trigger("chosen:activate");a(c).is(f.pin_input_selector)&&a(c).trigger("PINField:focusFirstEmpty");w(b,c,f)}function w(b,c,f){a(P(b)).filter(f.chosen_selector+"[id!="+a(c).attr("id")+"]").trigger("chosen:close")}function G(b,c,f){b=x(b,c);a(b).next(".js-empty-label-after-submit").children("small").html(f).end().show()}function m(b,c){var f=x(b,c);a(f).next(".js-empty-label-after-submit").children("small").html("").end().hide()}
function C(b,c){var f={placeholder_text_single:" ",chosen_search_autofocus:c.chosen_search_autofocus,chosen_scroll_drop_into_view:c.chosen_scroll_drop_into_view,chosen_host_wrap:c.chosen_host_wrap};a(b).css("width")&&(f.width=a(b).css("width"));a(b).data("disable-search-threshold")&&(f.disable_search_threshold=a(b).data("disable-search-threshold"));a(b).find('option[value=""]').length&&(f.allow_single_deselect=!0);var g=a(b).is(".js-country, .js-dial-code");if(g){var h=O.phone_preferred_countries;
void 0!==c&&(h=c.phone_preferred_countries);a(b).find('option[value=""]').remove();var j=a(b).val();if(void 0!==h){j&&h.unshift(j);for(j=h.length-1;0<=j;j--){var k=a(b).find("option[value="+h[j].toUpperCase()+"]");a(b).prepend(k)}}a(b).find("option").each(function(){var b=a(this).val().toLowerCase();a(this).addClass("iti-flag "+b)}).end().on("change",function(){if(a(this).val()){var b=a(this),c=a(b).find("option:selected").data("dial-code"),f=b.attr("id").replace(/[^\w]/g,"_")+"_chosen .chosen-single",
f=a("#"+f);f.find("i.iti-flag").remove();f.prepend('<i class="iti-flag '+b.val().toLowerCase()+'" data-dial-code="'+c+'"></i>')}})}a(b).chosen(f);var l=a(b).data("chosen");if(l){var m=l.container,f=l.search_container,n=a(L(b));f.bind("keydown",function(c){13==c.keyCode&&!l.results_showing&&(c.preventDefault(),setTimeout(function(){l.active_field=!1;a(b).trigger("chosen:open")},150))}).bind("keyup",function(a){13==a.keyCode&&n.addClass("onfocus")});m.focusin(function(){n.addClass("onfocus")}).focusout(function(){n.removeClass("onfocus")}).unbind("mousedown.chosen").bind("mousedown",
function(b){l.is_disabled?(a(".js-chosen").parents(".tm-rd-input").removeClass("onfocus"),b.preventDefault()):a(b.target).is(".active-result")||n.addClass("drop-show pressed")}).bind("mouseleave",function(){n.removeClass("pressed drop-show")}).bind("mouseup",function(b){a(b.target).is(":input,.result-selected")||(n.removeClass("pressed"),m.find(".chosen-single").find("span").first().trigger("touchstart"))});a(b).bind("change",function(){a(this).trigger("chosen:updated")}).bind("chosen:hiding_dropdown",
function(){n.removeClass("drop-show");setTimeout(function(){var c=a(b).data("linked-input");c&&(m.removeClass("chosen-container-active"),a(b).blur(),a(c).focus())},10);setTimeout(function(){n.find(".chosen-drop").css({left:"-9999px"})},310)}).bind("chosen:showing_dropdown",function(){n.find(".chosen-drop").css({left:0});var c=n.find(".chosen-search input"),f=a(b).data("search-placeholder")?a(b).data("search-placeholder"):n.find("label").text();n.find(".chosen-search input").attr("placeholder",f);
c.attr("placeholder",f)});g&&a(b).change()}}function z(b,c,f,g,h,j){var k=B(b),h=h?h:"rd-notice-type-error",l=j?'<span class="js-close close"></span>':"",j=j?"alert rd-closing ":"",m=a.data(b,"tooltip-placement");m||(m=a.data(b,"placement"));-1!==a.inArray(m,["top","bottom","left","right"])&&(f=m);k.popover({template:'<div class="rd-notice rd-notice-tooltip rd-notice-position-'+f+" "+h+" "+j+'" role="tooltip">'+l+'<div class="arrow"></div><div class="popover-content rd-notice-content"></div></div>',
content:g,placement:f,title:c,trigger:"manual",html:!0,animation:!0,animationIn:"show-pop-"+f,animationOut:"hide-pop-"+f});"right"==f&&(b=a("<div>",{html:g,style:"display:none;left:-9999px;position:absolute;top:0px"}),b.addClass("spacer-padding-default"),b.appendTo("body"),b.show(),c=Math.ceil(b[0].getBoundingClientRect().width),k.popover("show"),k.next(".rd-notice").width(c),b.remove());k.popover("show");return k}function B(b){return a(b).data("chosen")&&a(b).data("chosen").container?a(b).data("chosen").container:
a(b)}function x(b,c){return a(c.submit_button).get()}function J(b){var c={};a(P(b)).each(function(){var b=a(this).attr("name"),f=a(this).val();a(this).is(".main-tel-input, .js-phone")&&(f=(new Tm.RdPhoneInput).getNumber(a(this)));a(this).is(":checkbox")&&!a(this).attr("checked")&&(f=null);c[b]=f});return c}function P(b){return a(b).find(":input").get()}function v(b){return a(P(b)).filter("[data-constraints]").get()}function N(b){var c=a(b).rdFormHandler("get-errors"),f=a(c).map(function(){return this.name});
return a(v(b)).filter(":not(select):not(:disabled)").filter(function(){var b=a(this).attr("name");return-1==a.inArray(b,f)&&!a(this).data("ajax-in-progress")}).get()}function L(b){return a(b).parents(".js-form-group:first").get()}function y(b){a(b).addClass("element-animation-shake");setTimeout(function(){a(b).removeClass("element-animation-shake")},1500)}var O={locatable:!0,highlight_border:!0,show_popover:!0,show_chosen_selects:!0,chosen_selector:".js-chosen",pin_input_selector:".js-pin-field__input",
chosen_search_autofocus:!0,disable_submit_on_empty:!1,disable_ajax:!1,disable_validation:!1,enable_inputs_on_load:!1,disable_submit:!1,show_submit_button_hint:!1,check_fields_on_blur:!0,autoscroll_on_form_error:!0,autofocus_first_field:!0,autohandle_form_submit:!0,submit_on_full_field:!1,display_only_firts_popover:!0,autofocus_firts_popover_field:!0,autofocus_timeout:100,autocheck_timeout:3E3,autocheck_fields:[],autotrim_mode:!0,hide_errors_on_type:!0,hide_errors_for_empty:!0,autovalidate_fields:[],
skip_success_mark:[],submit_hint_template:'<p class="js-empty-label-after-submit" style="display:none;"><small></small></p>',popover_placement:"right",popover_title:!1,popover_class:"",common_errors_container:null,common_errors_close_handler:'<span class="close" data-dismiss="alert" href="#" aria-hidden="true">&times;</span>',show_progressbar:!1,progressbar_code:'<div class="progress progress-striped active" style="display: none;"><div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div>',
common_errors_html_classes:"alert rd-closing rd-notice rd-notice-tooltip rd-notice-position-top rd-notice-type-error",common_success_html_classes:"alert rd-closing rd-notice rd-notice-tooltip rd-notice-position-top rd-notice-type-success",success_mark_html_class:"rd-field-success",error_mark_html_class:"has-error rd-field-error",progress_mark_html_class:"rd-field-loading",default_error_message:null,please_enter_message:null,strings_delimiter:"<br/>",submit_button:null,phone_enable_intl_telInput:!0,
phone_preferred_countries:"us gb ca au de it nl pl fr es".split(" "),phone_container_class:"rd-phone-selector",on_after_init:a.noop,on_empty_checks_callbacks:{},on_ajax_response:null,on_before_submit:a.noop,on_submit_success:a.noop,on_submit_error:a.noop,on_submit_validation:a.noop,on_submit_validation_success:a.noop,on_submit_validation_fail:a.noop,on_show_errors:a.noop,data_type:"json",ajax_async_mode:!0};a.fn.rdFormHandler=function(j,w,C,x){if(!this.size())return this;var O={},S=this.get(0);a.isPlainObject(j)||
"undefined"===typeof j?(O=j,j="init"):a.isPlainObject(w)&&(O=w);var Q=p(S,O,"init"===j),U;switch(j){case "get-pin":var j=a(S).find(".js-pin-field"),na=null;w?na=a(S).find("[data-fieldname="+w+"]").data("PINField").getPIN():(na={},j.length&&j.each(function(){var b=a(this).data("fieldname"),c=a(this).data("PINField").getPIN();na[b]=c}));return na;case "show-popover":z(S,Q.title,Q.placement,Q.content,Q.className,Q.hasClose);break;case "validate":a(S).rdFormValidation("validate",w);break;case "validate-and-show":U=
a.isArray(C)?C:[];x&&(Q.hide_errors_for_empty=!0);O=U;U=!0;if(a(S).rdFormValidation("is-enabled")){a(S).rdFormHandler("validate");x=a(S).rdFormHandler("get-errors",Q,O);if(O.length&&w){O=a(w).attr("name");U=!1;for(var Y in x)if("undefined"!==typeof x[Y]&&x[Y].name===O&&x[Y].messages.length){U=!0;break}}U&&u(S,Q,x)}break;case "show-ajax-progress":b(h,S,Q,!!w,C,x);break;case "hide-ajax-progress":b(function(){a(P(S)).each(function(){if(C||a(this).data("disabled-by-handler"))a(this).removeAttr("disabled").data("disabled-by-handler",
!1).filter("select").change(),a(L(this)).removeClass("disabled")});g(S,Q);a.isFunction(w)&&w(S,Q)});break;case "enable-submit":p(S,{disable_submit:!1},!0);break;case "disable-submit":p(S,{disable_submit:!0},!0);break;case "is-submit-enabled":return!Q.disable_submit;case "is-submit-in-progress":return!!a(S).data("submitInProgress");case "get-values":return J(S);case "get-success-list":return a(N(S)).map(function(){return a(this).attr("name")});case "get-errors":return U=a.isArray(C)?C:[],a(S).rdFormValidation("get-errors",
Q,U);case "get-next-field":var ia=a(w?S[w]:null).attr("tabindex"),j=a(P(S)).filter("[name]:visible:not(:disabled)");U=j.filter(function(){return a(this).attr("tabindex")>ia}).filter(":first");j=U.length?U.get(0):j.get(0);return j;case "get-first-blank-field":return j=a(P(S)).filter("[name]:visible:not(:disabled)"),U=j.filter(function(){return"undefined"!==typeof a(this)&&!a(this).val()}).filter(":first"),j=U.length?U.get(0):j.get(0),j;case "show-errors":if(x)for(U in w)if("undefined"!==typeof w[U]){Y=
S;var ba=w[U],x=a(Y).data("validation-errors"),ua=!1,O=void 0;for(O in x)if("undefined"!==typeof x[O]&&x[O].name===ba.name){x[O]=ba;ua=!0;break}ua||x.push(ba);ba=[];for(O in x)x[O].messages&&0<x[O].messages.length&&ba.push(x[O]);x=ba;a(Y).data("validation-errors",x)}u(S,Q,w);break;case "hide-errors":l(S,Q);break;case "reset-errors":l(S,Q);a(S).rdFormValidation("reset-errors");break;case "show-field-error":y(S);!x&&Q.popover_title?(U=a(L(w)).find("label:first").text(),U=a.trim(U)):U="";Q.show_popover&&
(a(Q.common_errors_container).html(""),Y=a.isArray(C)?C.join(Q.strings_delimiter):a.trim(C),z(w,U,Q.popover_placement,Y,Q.popover_class));Q.highlight_border&&(n(w,Q),a(L(w)).addClass(Q.error_mark_html_class));break;case "hide-field-error":Q.show_popover&&B(w).popover("destroy");Q.highlight_border&&A(w,Q);break;case "show-success":a(N(S)).each(function(){a(S).rdFormHandler("show-field-success",this)});break;case "hide-success":a(v(S)).each(function(){a(S).rdFormHandler("hide-field-success",this)});
break;case "show-field-success":Y=a(w).attr("name");U=a(w).is("[required]");Y=-1===a.inArray(Y,Q.skip_success_mark);x=!a(w).val();if(!U?Y&&!x:Y)U=a(L(w)),U.hasClass(Q.success_mark_html_class)||U.addClass(Q.success_mark_html_class);break;case "hide-field-success":n(w,Q);break;case "show-field-progress":a(w).data("ajax-in-progress",!0);a(L(w)).addClass(Q.progress_mark_html_class);break;case "hide-field-progress":a(w).data("ajax-in-progress",!1).removeClass("error");a(L(w)).removeClass(Q.progress_mark_html_class);
break;case "show-form-error":k(S,Q,w,Q.common_errors_html_classes);break;case "show-form-success":k(S,Q,w,Q.common_success_html_classes);break;case "hide-form-error":a(Q.common_errors_container).html("");break;case "show-submit-hint":G(S,Q,w);break;case "hide-submit-hint":m(S,Q);break;case "focus":I(S,w,Q);break;case "focus-first":q(S,Q);break;case "enable-validation":a(S).rdFormValidation("enable");break;case "disable-validation":a(S).rdFormValidation("disable");break;case "is-validation-enabled":return a(S).rdFormValidation("is-enabled");
case "submit":return f(S,Q);case "google-tag-track-event":"undefined"!=typeof w&&"undefined"!=typeof dataLayer&&dataLayer.push({event:"trackEvent",eventCategory:"Forms",eventAction:a(S).attr("id"),eventLabel:w});break;case "init":b(c,S,Q);break;case "shake-box":y(S)}"string"===typeof j&&a(S).trigger(j,{form:S,options:Q});return this}})(jQuery);Tm.FreeCheckout=function(){Tm.abstractCheckout.call(this)};Tm.FreeCheckout.prototype=new Tm.abstractCheckout;Tm.FreeCheckout.prototype.constructor=Tm.FreeCheckout;
Tm.FreeCheckout.prototype.init=function(){var a=document.forms.freeInfo,b=document.forms.signin_mode,c=document.forms.signin,f={before_tab_switching:this._onBeforeStepSwitching.bind(this),after_tab_switching:this._onAfterStepSwitching.bind(this)},g=window.location.href.match(/step([0-9]+)\.html$/);g&&(f.initial_step="step"+g[1]);a&&this.initFreeInfoForm(a);$(document.body).data("user-email")||$(document.body).data("user-email",$(c).data("user-email"));var h=new Tm.Signin;$(c).formHandler({on_submit_success:function(a,
b,c){$(a).formHandler("show-ajax-progress");h.signInCallback(c,function(){$(a).formHandler("hide-ajax-progress")})},autofocus_first_field:!h.getUserEmail()});$(b.customer).click(function(){var a=$(".js-customer-new-from"),b=$(".js-customer-sigin-from");switch(this.value){case "new":b.hide();a.show();break;case "existing":b.show(100,function(){var a=$(":input[name=email]",this),b=$(":input[name=password]",this);a.val().length?b.focus():a.focus()}),a.hide()}});$(":input",b).removeAttr("disabled");$(this.steps).checkoutSteps(f);
this.signChecking()};Tm.FreeCheckout.prototype._onBeforeStepSwitching=function(a,b,c){-1!==$.inArray(c,["step2","step3"])&&(a=$(b).find(".js-cart-summary-container"),0===a.children("form").size()&&(b=$(".js-cart-summary-container .js-cart-summary"),a.append(b)))};
Tm.FreeCheckout.prototype._onAfterStepSwitching=function(a,b,c){"step1"===c&&(a=new Tm.Signin,this.fillSigninForm(a.getUserEmail()),(new CLS47).pushData(1));"step2"==c&&(a=document.forms.freeInfo,$(a).formHandler("reset-errors"),$(a).formHandler("focus-first"),(new CLS47).pushData(2));"step3"==c&&(new CLS47).pushData(3)};
Tm.FreeCheckout.prototype.checkBillingInfoForm=function(){var a=document.forms.freeInfo;$(a).formHandler("validate");return $(a).formHandler("get-errors")};Tm.FreeCheckout.prototype.fillInfoForm=function(a){var b=document.forms.freeInfo;$(b).formHandler("disable-validation");$(b.name).val(a.name);$(b.email).val(a.email);$(b.phone).val(a.phone);$(b.contactphone).val(a.contactphone);$(b).formHandler("reset-errors");$(b).formHandler("enable-validation")};
Tm.FreeCheckout.prototype.changeform=function(){$(".js-billing-details").addClass("js-none");$(".js-user-details").removeClass("js-none");this.initFreeInfoForm(document.forms.freeInfo)};Tm.FreeCheckout.prototype.isFree=function(){return!0};
Tm.FreeCheckout.prototype.initFreeInfoForm=function(a){var b=this;$(".js-checkout-calback-step2:first").click(function(){b.switchStep("step2");return!1});$(a).formHandler({on_before_validate:function(a){$([a.contactphone]).each(function(){this.value=this.value.replace(/[^\d]/gi,"")})},on_after_validate:function(a){var b=(new Date).toString();$(a.localtime).val(b)},on_submit_error:function(a,b,g){"extra_actions"in g&&"reload"==g.extra_actions&&location.reload()},on_submit_success:function(c){$(c).formHandler("show-ajax-progress");
(new Tm.Signin).checkCookie();$(document).trigger("Gtag.userRegistration.push",{email:c.email.value,name:c.name.value});0==$(".js-total-price").attr("data-price")?($(a).formHandler("show-ajax-progress"),$(".js-payment-complete-order .js-choose-payment-system").click()):($(a).formHandler("hide-ajax-progress"),b.switchStep("step3"))}});$(".js-new-customer-link",b.steps).click(function(){b.showLoginError("");var a=new Tm.Signin;if(a.isLoggedIn()){var f=this;$(f).prop("disabled",!0);a.signOut({on_success:function(){$(f).prop("disabled",
!1);b.switchStep("step2");appDic.require("cart").recalculate()}})}else b.switchStep("step2"),appDic.require("cart").recalculate();return!1}).removeAttr("disabled").removeClass("disabled");$("#payment-methods-container").data("free-payment-trigger")||$("#payment-methods-container").on("click",".js-choose-payment-system",function(){var a=$(this),f=$("#payment-collapse, .js-payment-form-block");f.paymentSelector("disable-submit-button");var a=a.attr("data-payment"),g=(new Date).toString(),h=(new ClientJS).getFingerprint();
f.paymentSelector("disable-selector");b.createOrder({payment:a,cartAmount:0,bonusesAmount:0,localTime:g,dbilled:!0,fingerprint:h},f);return!1}).data("free-payment-trigger",1);$(a).on("click",".js-goto-login",function(){b.goToSignin(!0,a.email.value);return!1})};Tm.DateFormatter=function(a){this._locale=a.lang||"en-US";this.units={MINUTE:6E4,HOUR:36E5,DAY:864E5};this.month=Twig.render(time1Month).split(", ")};defineService(["language"],Tm.DateFormatter);Tm.DateFormatter.prototype.formatTimestamp=function(a){return this._getFormat(a)};
Tm.DateFormatter.prototype._getFormat=function(a){var b=new Date,c=b-a,f=null,a=new Date(a);c<10*this.units.HOUR&&(a.setHours(0),a.setMinutes(c/this.units.MINUTE));f=c<2*this.units.MINUTE?nowText:c<this.units.HOUR?time1MinutesText:c<2*this.units.HOUR?time1HourText:c<10*this.units.HOUR?time1HoursText:c<1*this.units.DAY&&b.toDateString()===a.toDateString()?time1TodayText:c<2*this.units.DAY&&b.toDateString()!==a.toDateString()?time1YesterdayText:time1FullText;return this._parse(Twig.render(f),a)};
Tm.DateFormatter.prototype._parse=function(a,b){var c=a.match(/%\w+%/g),f=a,g;for(g in c)if(c.hasOwnProperty(g))switch(c[g]){case "%m%":f=f.replace("%m%",b.getMinutes());break;case "%mm%":var h=this._pad(b.getMinutes().toString(),2),f=f.replace("%mm%",h);break;case "%h%":f=f.replace("%h%",b.getHours());break;case "%MMM%":h=b.toLocaleString(this._locale,{month:"short"});detectSafari()&&(h=this.month[b.getMonth()]);f=f.replace("%MMM%",h);break;case "%D%":f=f.replace("%D%",b.getDate());break;case "%YYYY%":f=
f.replace("%YYYY%",b.getFullYear())}return f};Tm.DateFormatter.prototype._pad=function(a,b){return a.length<b?this._pad("0"+a,b):a};CLS89=function(){};CLS89.prototype.deleteParamFromUrl=function(a){if("undefined"!==typeof $.url().param(a)){var b=$.url().attr("path"),c=$.url().param(),f="undefined"!=typeof History.pushState?History:"undefined"!=typeof window.history.pushState?window.history:null;delete c[a];(a=$.param(c))&&(b+="?"+a);f&&this._historyPushState(f,b)}};CLS89.prototype._historyPushState=function(a,b,c){a.pushState({uri:b},"undefined"!=typeof c?c:document.title,b)};
CLS89.prototype.moveToCookie=function(a,b){if(goog.isDef($.url().param(a))){var c=$.url().param(a),f=$.cookie(b),f=goog.string.isEmptySafe(f)?c:f+","+c;Tm.setCookie(b,f);this.deleteParamFromUrl(a)}};Tm.Experiment=function(a){this._language=a};defineService(["language"],Tm.Experiment);Tm.Experiment.prototype.itemPage=function(){return $("body").hasClass("item-page")};
Tm.Experiment.prototype.wrapperPrice=function(){var a=$(".template-info__price");sessionStorage.getItem("getPrice")&&(sessionStorage.setItem("getPrice",""),a.find(".js-template-price").html(function(a,b){return"<span class='first-letter'>"+b.slice(0,1)+"</span>"+b.slice(1)}));var b=a.find(".price_type_new").width(),a=a.find(".first-letter").width(),b=b-a,a=Math.max(b/2-10,5);20>b?a=5:"";$("<style>.template-info .js-countdown-block:lang(en-US):after { right: "+a+"px; }</style>").appendTo(".js-countdown-block");
var c=$(".js-countdown-block.show");$(".js-submenu-item, .main-menu .sub-menu").mouseover(function(){c.css("opacity",0)}).mouseout(function(){c.css("opacity",1)})};Tm.simplifiedCart=function(){this._urlHelper=new CLS89};Tm.simplifiedCart.prototype.initTriggers=function(){$(document).on("MainEvents.virtualCart.initForm",function(a,b){var c=$.url().param()[CLS11.VIRTUAL_CART_QUERY_PARAM];"undefined"===typeof b||(!1 in b||"undefined"===typeof c)||$('<input type="hidden" name="'+CLS11.VIRTUAL_CART_QUERY_PARAM+'" value="'+c+'"/>').prependTo($(b.form))})};
Tm.simplifiedCart.prototype.run=function(){Tm.simplifiedCart.isExperimental()?$(".js-add-to-cart-goto-checkout, .js-add-to-cart-delayed").removeClass("js-none"):$(".js-button-add-to-cart").removeClass("js-none")};Tm.simplifiedCart.isExperimental=function(){return"undefined"!==typeof isNewCartActive&&isNewCartActive};var sCart=new Tm.simplifiedCart;sCart.initTriggers();sCart.run();$(document).on("TM_JS_LOADED",function(){var a=function(){$(".js-add-to-cart-delayed").html(Twig.render(go_to_cart)).unbind("click").on("click",function(){goToCart()})};$(document).on("MainEvents.cart.loaded.from.cookie",a);var b=function(a){this.cartUrl="/cart-ajax/addtemplate.php";this.addToCartButton=$(a.target);var b=$(this.addToCartButton).parents("form");this.XHR=!0;var c=$(this.addToCartButton).parents(".js-preview-accordion-panel").data("variant");c&&b.find('input[name="price_variant"]').val(c);
$(document).trigger("start.cart.load.block.checkout",{button:$(this.addToCartButton)});$(".js-checkout-button").addClass("loading");this.dataToSend=b.serialize();b=new CLS78;goog.isDef(a)&&("data"in a&&"onBeforeCreateCart"in a.data&&"function"===typeof a.data.onBeforeCreateCart)&&$.proxy(a.data.onBeforeCreateCart,this)();if(!this.XHR)return window.location=this.cartUrl+"?"+this.dataToSend,!1;$(document).trigger("MainEvents.cart.add.product",{products:this.dataToSend});$.ajax({url:b.urlPrefix()+
this.cartUrl,data:this.dataToSend,dataType:"json"}).done(function(b){updateCartItems(b);$(document).trigger("MainEvents.cart.added.template");appDic.require("cart").recalculate();$(".js-loader").hide();$(".js-checkout-button").removeClass("loading");var b=new CLS46,c=$(".js-form-checkout-item-page, .js-form_services").find('input[name="add"]').val();b.addDataToCart(c,"template");goog.isDef(a)&&("data"in a&&"onAfterCreateCart"in a.data&&"function"===typeof a.data.onAfterCreateCart)&&
$.proxy(a.data.onAfterCreateCart,this)()}.bind(this)).always(function(){$("body").trigger("stop.cart.load",{button:$(this.addToCartButton),disableFull:!1,enableButton:!0})}.bind(this));return!1},c=function(){var c={onAfterCreateCart:a};$(".js-add-to-cart-delayed").unbind("click").on("click",null,c,b)};c();$(".js-add-to-cart-goto-checkout").on("click",null,{onBeforeCreateCart:function(){this.XHR=!1;this.cartUrl=$(this.addToCartButton).data("href");this.dataToSend=this.dataToSend+"&"+CLS11.VIRTUAL_CART_QUERY_PARAM+
"="+appDic.require("cart").createVirtualCartCookie()}},b);$(".js-preview-accordion-panel .js-panel-heading, .js-preview-offer").on("click",function(){$(".js-add-to-cart-delayed").html(Twig.render(add_to_cart_delayed));c()})});CLS84=function(){this._withAccessToken=this._withAccessToken.bind(this);this._withParameter=this._withParameter.bind(this);this._api=this._api.bind(this)};CLS84.prototype._withAccessToken=function(a){var b=$.cookie("access_token");return goog.string.isEmptySafe(b)?function(){return $.Deferred().fail()}:this._withParameter(a,{access_token:b})};CLS84.prototype._withParameter=function(a,b){return _.partial(a,b)};
CLS84.prototype._api=function(a,b,c){c=_.drop(arguments,2);c.unshift({});var c=_.extend.apply(null,c),f={},b=b||"GET";_.has(c,"access_token")&&(f.Authorization=c.access_token,c=_.omit(c,"access_token"));var g=$.ajax(this._url+a,{method:b,data:c,headers:f}),h=$.Deferred();g.done(function(a,b,c){h.resolve(a,c)}).fail(function(a){h.reject(g,a)});return h};CLS87=function(){CLS84.call(this);this._url=Tm.Config.users.apiUrl};goog.inherits(CLS87,CLS84);CLS87.prototype.me=function(a){$.isArray(a)||(a=[]);return this._withParameter(this._withAccessToken(_.partial(this._api,"users/profile","GET")),{expand:a.join(",")})()};CLS87.prototype.lookup=function(a){return this._withParameter(_.partial(this._api,"users/lookup/"+a,"GET"))()};
CLS87.prototype.register=function(a){return this._withParameter(this._withAccessToken(_.partial(this._api,"users","POST")),{login:a})()};CLS87.prototype.setSegmentOption=function(a){return this._withAccessToken(_.partial(this._api,"users/segment-option/"+a,"POST"))()};CLS87.prototype.getSegmentOption=function(a){return this._withAccessToken(_.partial(this._api,"users/segment-option/"+a,"GET"))()};
CLS87.prototype.modifyUserProfilePhone=function(a){return this._withParameter(this._withAccessToken(_.partial(this._api,"users/profile","PUT")),{phone:a})()};CLS87.prototype.modifyUsersProfile=function(a){return this.mergeProfile(a,["billingInfo"]).then(function(a){return this._withParameter(this._withAccessToken(_.partial(this._api,"users/profile","PUT")),a)()}.bind(this))};
CLS87.prototype.mergeProfile=function(a,b){return this.me(b).then(function(b){return _.merge(b,a)})};CLS87.prototype.hydrateBillingInfo=function(a){return $.isPlainObject(a)?{fullName:$.trim(a.firstname+" "+a.lastname),email:a.email,countryISO2:a.country,stateISO2:a.state,postalCode:a.postalcode,cityName:a.city,phone:a.billingphone}:null};
CLS87.prototype.isTrialAvailable=function(a){if($.isArray(a.segmentOptions)&&a.segmentOptions.length){var b=!1;for(index in a.segmentOptions)a.segmentOptions.hasOwnProperty(index)&&a.segmentOptions[index].segment_id==CLS87.SEGMENT_TRIAL&&(b=!0);return b}return!1};CLS87.SEGMENT_USER_TYPE=1;CLS87.SEGMENT_SOURCE=2;CLS87.SEGMENT_TRIAL=3;CLS86=function(){CLS84.call(this);this._url=Tm.Config.notifications.apiUrl;this._sortOrder="-id";this._itemsPerPage=5};goog.inherits(CLS86,CLS84);CLS86.prototype.getWebsocketTimeStamp=function(){this._timestamp||(this._timestamp=this._getTimeStamp());return this._timestamp};
CLS86.prototype.websocketParams=function(){return this._withParameter(this._withAccessToken(_.partial(this._api,"subscriptions","POST")),{timestamp:this.getWebsocketTimeStamp()})()};CLS86.prototype.retrieve=function(a){return this._withParameter(this._withAccessToken(_.partial(this._api,"notifications","GET")),{page:a,"per-page":this._itemsPerPage,sort:this._sortOrder})()};
CLS86.prototype.markAsRead=function(a){return this._withParameter(this._withAccessToken(_.partial(this._api,"notifications/"+a,"PUT")),{viewed_at:this._getTimeStamp()})()};CLS86.prototype._getTimeStamp=function(){return Math.round((new Date).getTime()/1E3)};CLS85=function(){};CLS85.prototype.requestPhoneId=function(){};CLS85.prototype.requestApv=function(a,b,c,f){return $.ajax("/ajax/requestapv.php",{type:"POST",data:{uniqueId:a,countryCode:b,phone:c,extraParams:f}})};CLS85.prototype.requestPin=function(a,b,c,f){return $.ajax("/ajax/requestapvpin.php",{type:"POST",data:{uniqueId:a,countryCode:b,phone:c,pinCode:f}})};tm.chat=tm.chat||{};tm.chat.ui={};CLS20=function(){};CLS20.prototype.set=function(a,b){var c=localStorage.getItem("chat"),c=goog.string.isEmptySafe(c)?{}:JSON.parse(c);c[a]=b;isLocalStorageExists()&&localStorage.setItem("chat",JSON.stringify(c))};CLS20.prototype.get=function(a){var b=localStorage.getItem("chat");return!goog.string.isEmptySafe(b)?(b=JSON.parse(b),!goog.string.isEmptySafe(a)?a in b?b[a]:"":b):""};CLS25=function(a){this._language=a;this.config={greetingElement:".js-invitation-greeting",greetings:[],urlRegexps:[]};this.currentGreetings=[]};defineService(["language"],CLS25);
CLS25.prototype.getGreetings=function(){return $.ajax({url:this._language.urlPrefix()+"/live-chat-ajax/greetings.php",dataType:"json",type:"GET"}).done(function(a){goog.isDefAndNotNull(a)&&("status"in a&&a.status)&&(this.config.greetings=a.greetings,this.config.urlRegexps=Object.keys(a.greetings))}.bind(this))};
CLS25.prototype.isCustomisationPossible=function(){return 0<this.config.urlRegexps.length?this.config.urlRegexps.some(function(a){return RegExp(a,"i").test(window.location.href)?(this.currentGreetings=this.config.greetings[a],!0):!1}.bind(this)):!1};CLS25.prototype.customiseGreeting=function(){var a=this._getRandomInt(0,this.currentGreetings.length-1);$(this.config.greetingElement).html(this.currentGreetings[a])};
CLS25.prototype._getRandomInt=function(a,b){a=Math.ceil(a);b=Math.floor(b);return Math.floor(Math.random()*(b-a+1))+a};var OPERATOR_IS_FREE=1,OPERATOR_IS_BUSY=3;CLS19=function(a,b){this._cart=a;this._signIn=b;this._isInitChatLocale=!1;this._storage=new CLS20};CLS19.prototype.getTab=function(){var a=this._storage.get("tab");goog.string.isEmptySafe(a)&&(a=this._detectTab(),this._storage.set("tab",a));return a};CLS19.prototype.setTab=function(a){this._storage.set("tab",a)};CLS19.prototype.setLocale=function(a){this._storage.set("locale",a)};
CLS19.prototype.setSuppositiveInfo=function(a){this._storage.set("suppositiveUserInfo",a)};CLS19.prototype.getRoomName=function(){var a={consultant:"pre-sales"},b=this.getTab().split("-").pop();return b in a?a[b]:b};CLS19.prototype.getLocalizedRoomName=function(a,b){return"en"===b?a:a+"-"+b};CLS19.prototype.getLocale=function(){return this._storage.get("locale")||localStorage.getItem("locale")};
CLS19.prototype.getPendingOrder=function(){var a=this._storage.get("pending-order");return a?a:!1};CLS19.prototype.getCompletedOrder=function(){var a=this._storage.get("completed-order");return a?a:!1};CLS19.prototype._detectTab=function(){var a="lc-board-type-consultant";this._detectPageForBillingTab()&&(this.getPendingOrder(!0)||this._detectNotEmptyCart())?a="lc-board-type-billing":this._detectLoginStatus()&&this.getCompletedOrder()&&(a="lc-board-type-support");return a};
CLS19.prototype._detectLoginStatus=function(){return this._signIn.isLoggedIn()};CLS19.prototype.getUserInfo=function(a){var b=this._signIn.getUserFullName(),c=this._signIn.getUserEmail(),f=this.getPendingOrder();f&&a&&(b=f.name,c=f.email);if(goog.string.isEmptySafe(b)||goog.string.isEmptySafe(c))a=this._storage.get("suppositiveUserInfo"),goog.string.isEmptySafe(a)||(b=a.name,c=a.email);return{fullName:b,email:c}};
CLS19.prototype._detectPageForBillingTab=function(){return detectCartPage()||detectCheckoutPage()};CLS19.prototype._detectNotEmptyCart=function(){return goog.isDefAndNotNull(this._cart)&&(!!this._cart.getAmount()||!this._cart.getIsFree())};
CLS19.prototype.detectNotCompletedOrder=function(){var a=this._storage.get("pending-order");return!goog.isObject(a)&&this._detectLoginStatus()?(this._storage.set("pending-order",""),$.ajax({url:"/ajax/last-order.php",data:{pending:1},dataType:"json",type:"POST"}).done(function(a){goog.isDefAndNotNull(a)&&"data"in a&&this._storage.set("pending-order",a.data)}.bind(this))):$.Deferred().resolve()};
CLS19.prototype.detectCompletedOrder=function(){var a=this._storage.get("completed-order");return!goog.isObject(a)&&this._detectLoginStatus()?(this._storage.set("completed-order",""),$.ajax({url:"/ajax/last-order.php",dataType:"json",type:"POST"}).done(function(a){goog.isDefAndNotNull(a)&&"data"in a&&this._storage.set("completed-order",a.data)}.bind(this))):$.Deferred().resolve()};
CLS19.prototype.detectUserInfoByClientId=function(){return!goog.string.isEmptySafe($.cookie("cid"))?$.ajax({url:"/ajax/getsuppositiveuserinfo.php"}).done(function(a){if(goog.array.isEmpty(a)||0===a.status)return $.Deferred().resolve();this.setSuppositiveInfo(a)}.bind(this)):$.Deferred().resolve()};CLS19.prototype.detectOrderByTemplateId=function(a){return $.ajax({url:"/ajax/detectorder.php",dataType:"json",data:{tid:a},type:"POST"})};
CLS19.prototype.getLocaleSettings=function(){var a,b=this.getRoomName(),c={list:{},popup:0};!1==this._isInitChatLocale?(this._isInitChatLocale=!0,a=localStorage.getItem("locale"),"uk"==a&&(a="ru"),goog.object.some(Tm.Config.chat.rooms,function(c){c.name===b&&(c.locales[a]!=OPERATOR_IS_FREE&&c.locales[a]!=OPERATOR_IS_BUSY)&&(a="en")}.bind(this)),this.setLocale(a)):a=this._storage.get("locale");c.selectedLocale=a;goog.object.some(Tm.Config.chat.rooms,function(f){if(f.name===b)return c.list=
{},goog.object.forEach(Object.keys(f.locales),function(a){f.locales[a]&&(c.list[a]=this._getCountryCodeByLocale(a))}.bind(this)),f.locales[a]!=OPERATOR_IS_FREE&&f.locales[a]!=OPERATOR_IS_BUSY&&(c.popup=this.getPopupStatus(),c.selectedLocale=a,a="en",this.setLocale("en")),!0}.bind(this));if(!c.list||!goog.isObject(c.list)||!goog.object.getCount(c.list))c.popup=tm.chat.ui.busy.DEFAULT,c.selectedLocale=a,a="en",this.setLocale("en");c.list.en="us";return $.extend({active:a},c)};
CLS19.prototype._getCountryCodeByLocale=function(a){return a in Tm.Config.locales?Tm.Config.locales[a]:a};CLS19.prototype.clearStorage=function(){localStorage.removeItem("chat")};CLS19.prototype.isRoomFree=function(){var a=this.getRoomName(),b=this.getLocale(),c=goog.array.filter(Tm.Config.chat.rooms,function(b){return a===b.name});return this.isRoomExist()&&(OPERATOR_IS_FREE===+c[0].locales[b]||OPERATOR_IS_BUSY===+c[0].locales[b])};
CLS19.prototype.isRoomExist=function(){var a=this.getRoomName(),b=this.getLocale(),c=goog.array.filter(Tm.Config.chat.rooms,function(b){return a===b.name});return goog.isDefAndNotNull(c)&&0<c.length&&b in c[0].locales};CLS19.prototype.isButtonDisabled=function(){return!this.isRoomExist()||!this.isRoomFree()&&"en"!==this.getLocale()};
CLS19.prototype.getPopupStatus=function(){return this.isRoomExist()&&this.isRoomFree()?0:"en"===this.getLocale()?tm.chat.ui.busy.DEFAULT:tm.chat.ui.busy.CAN_CHOOSE_ENGLISH};CLS19.prototype.getTabName=function(){return this.getTab().split("-").pop()};CLS19.prototype.setCustomUserInfo=function(a,b){var c=this.getTabName(),f=this._getInvitationToChatConfig(c)||{};f[a]=b;f.lifeTime=(Date.now()/1E3|0)+1209600;this._setInvitationToChatConfig(c,f)};
CLS19.prototype.clearStorageFormInfo=function(){this._setInvitationToChatConfig(this.getTabName(),"")};CLS19.prototype.getStorageOrderId=function(a){a=this.getCustomStorageChatInfo(a);return goog.isDefAndNotNull(a.orderId)?{id:a.orderId}:!1};
CLS19.prototype.getCustomStorageChatInfo=function(a){var a=this._getInvitationToChatConfig(a)||{},b={};a.hasOwnProperty("lifeTime")&&a.lifeTime<(Date.now()/1E3|0)&&(this.clearStorageFormInfo(),a={});goog.string.isEmpty(a.fullName)||(b.fullName=a.fullName);goog.string.isEmpty(a.email)||(b.email=a.email);goog.string.isEmpty(a.orderId)||(b.orderId=a.orderId);goog.string.isEmpty(a.templateId)||(b.templateId=a.templateId);return goog.isDefAndNotNull(b)?b:!1};
CLS19.prototype.setInvitationHiddenTime=function(a){this._setInvitationToChatConfig("hiddenTime",a)};CLS19.prototype.getInvitationHiddenTime=function(){var a=this._getInvitationToChatConfig("hiddenTime");return a?new Date(a):null};CLS19.prototype._getInvitationToChatConfig=function(a){var b=localStorage.getItem("invitationToChat");return!goog.string.isEmptySafe(b)?(b=JSON.parse(b),goog.string.isEmptySafe(a)?b:a in b?b[a]:""):""};
CLS19.prototype._setInvitationToChatConfig=function(a,b){var c=localStorage.getItem("invitationToChat"),c=goog.string.isEmptySafe(c)?{}:JSON.parse(c);c[a]=b;localStorage.setItem("invitationToChat",JSON.stringify(c))};CLS19.prototype.setAutoOpen=function(a){this._storage.set("autoOpen",a)};CLS18=function(){this._config={template_info:".js-template-id",search_tags:".js-search-tags"}};CLS18.prototype.getId=function(){var a=$(this._config.template_info).data("property-type-id");return a?a:"undefined"!==typeof searchQuery&&$.isPlainObject(searchQuery)&&$.isArray(searchQuery.pr)?this._getType(searchQuery.pr):null};
CLS18.prototype._getType=function(a){if(!$(this._config.search_tags).length&&1===a.length)return a[0];for(var b in a){var c=a[b];if($(this._config.search_tags+" #sf-clear-tags-"+c+'[data-filter-group="types"]').length)return c}return null};CLS17=function(a,b,c,f,g,h){this._cdnUrl="https://s.tmimgcdn.com/";"undefined"===typeof Tm.Config&&"undefined"===typeof Tm.Config.defaultCDN||(this._cdnUrl=Tm.Config.defaultCDN);this._livechatGirlBox=c;this._language=a;this._cart=b;a=new Tm.Signin;this._service=new CLS19(b,a);this._fsm=(new CLS24).ui(this);this._experiment=f;this._textVariator=g;this._getHelpParams={params:{},room:"pre-sales"};this._typeService=h;this.config={lc_goToEnChat:".js-go-to-en-chat",
lang_switch:".js-live-chat-lang-switch",lc_TypeItem:".js-lc-board-type",lc_BoardCaption:".js-lc-board-caption",lc_controlElement:"livechat-control__element",container:".js-livechat-girl",startChatButton:"js-start-chat",startCallBackButton:"js-start-callback",livechatBoard:".js-live-chat-board",livechatBoardClose:".js-lc-board-close",animationStartDelay:1E4,randomGirlName:"",livechatTabToggle:".lc-board-tab-toggle",callBackTab:".call-back-tab",showCallBackFormTimeout:10,showCallBackFormTimeoutAfterClose:86400,
noticeClass:"call-back-header-notice",noticeCookie:"callback_notice"};this._service.setTab("");this._service.setSuppositiveInfo("")};defineService("language cart chat-girls experiment chat-text-variator property-to-type".split(" "),CLS17);CLS17.prototype.afterOpenEvent="MainEvents.Invitation.afterOpen";CLS17.prototype.afterCloseEvent="MainEvents.Invitation.afterClose";CLS17.prototype.manuallyClosedEvent="MainEvents.Invitation.manuallyClosed";
CLS17.prototype.liveChatLoadedEvent="MainEvents.Invitation.liveChatLoaded";
CLS17.prototype.initTriggers=function(){$(document).on("MainEvents.user.logout",$.proxy(function(){this.logout()},this));$(document).on("MainEvents.user.login",$.proxy(function(){this.login()},this));$(document).delegate(".js-live-chat-board .rd-field","input",$.proxy(function(a){a=a.target;this._service.setCustomUserInfo(a.name,a.value);!a.value&&"live-chat-support-form-orderid"==a.id&&this.clearStorageFormInfo()},this));$(document).delegate("#live-chat-support-form-templateid","change",
$.proxy(function(a){this._service.setCustomUserInfo("templateId",a.target.value)},this));if(this._experiment&&this._experiment.itemPage()&&this._service._detectLoginStatus())$(document).on(this.liveChatLoadedEvent,$.proxy(this.detectOrderByTemplateId,this))};CLS17.prototype.setConfig=function(a){this.config=$.extend(this.config,a)};
CLS17.prototype.load=function(){var a=this.config.callBackTab;this._enquirescript();this._livechat=new CLS23;$.when($.ajax({url:this._language.urlPrefix()+"/live-chat-ajax/forms.php",dataType:"json",data:{propertyTypeId:this._typeService.getId()},type:"GET",success:function(b){goog.isDefAndNotNull(b)&&("forms"in b&&goog.isObject(b.forms))&&goog.object.forEach(b.forms,function(c,f){"call_back"===f?($(b.forms.call_back).appendTo(".js-live_chat_call-back").rdFormHandler({popover_placement:"left",
on_submit_success:function(){$(a).addClass("animation");this._callBackTimer.setTime(59);this._callBackTimer.start();var b=new Tm.RdPhoneInput,b=b.formatInternational(b.getNumber($('.js-live_chat_call-back [name="phone"]')));$(a).find(".js-success-phone-number").text(b)}.bind(this)}),$('.js-live_chat_call-back [name="propertyTypeId"]').val(this._typeService.getId()),this._formMessageDescription(),this._showlivechatWithCallback(),this._initTimer(".js-hourly-counter"),this._showCallBackFormAfterDelay(),
this._showCallbackNotice(),this._changeChatCaption()):$(".live-chat-tab .js-lc-board-content-item .js-"+f).html(c)}.bind(this))}.bind(this)}),this._service.detectUserInfoByClientId(),this._service.detectNotCompletedOrder(),this._service.detectCompletedOrder(),this._textVariator.getGreetings()).done(function(){this._fsm.init();$(document).trigger(this.liveChatLoadedEvent)}.bind(this))};
CLS17.prototype._initTimer=function(a){$(a).length&&"undefined"!==typeof Modernizr&&Modernizr.load({test:$(".js-flipcounter").length||$(".daily-counter").length,nope:[this._cdnUrl+"css/flipclock.css?d=1a63017",this._cdnUrl+"js/imported/flipclock.min.js?d=abd0f20"],complete:function(){this._callBackTimer=$(a).FlipClock({clockFace:"RDHourlyCounter",autoStart:!1,countdown:!0,classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",
label:"flip-clock-label",flip:"flip",play:"play",wrapper:"rd-face flip-clock-wrapper"},callbacks:{stop:function(){$(this.config.callBackTab).removeClass("animation");this._isCallBackTabActive()&&this.close()}.bind(this)},labels:["","",Twig.render(t_seconds)]})}.bind(this)})};
CLS17.prototype.onbeforeinit=function(){var a=this.config.container,b="."+this.config.startChatButton+", ."+this.config.startCallBackButton;this._textVariator.isCustomisationPossible()&&this._textVariator.customiseGreeting();this._initConsultantForm();this._initSupportForm();this._initBillingForm();this._livechatGirlBox.init();this._livechat.init(this._service.getTab());$(this.config.lc_TypeItem).on("click",function(a){this._livechat.changeTypeBoard(a.currentTarget);this._fsm.can("openTab")&&
(a=$(a.currentTarget).attr("id"),this._fsm.openTab(a))}.bind(this));$(this.config.lang_switch).on("change",function(a){a=$(a.target).val();this._service.setLocale(a);this._checkRoom()}.bind(this));$(document).on(this.afterOpenEvent,function(){$(document).on("click",function(b){$(b.target).closest(this.config.livechatBoard+", "+a+", "+this.config.lc_goToEnChat).length||"tab"===$(b.target).data("toggle")||this.close(!0)}.bind(this))}.bind(this));$(b).on("click",function(a){$(a.target).hasClass("popover-content")||
(this.open("",!1),this._isLivechatBoardVisible()&&$(a.target).closest("li").hasClass("active")&&this.close(!0))}.bind(this));var c=this.config.lc_controlElement,f=c+"_clicked";$(a).find(b).on("mousedown",function(a){$(a.target).closest("."+c).addClass(f)}.bind(this)).on("mouseup",function(a){setTimeout(function(){$(a.target).closest("."+c).removeClass(f)},300)}.bind(this));$(this.config.livechatBoardClose).on("click",function(){this.close(!0)}.bind(this));$(document).on("click",this.config.lc_goToEnChat,
function(){var a=this._service.getTab(),b=$("#"+a).data("room"),a=this._livechat.getTabFormByName(b);goog.isDefAndNotNull(b)&&"function"===goog.typeOf(this["_onTab_"+b])&&(this["_onTab_"+b](),this._service.setLocale("en"),b=this._service.getLocaleSettings(),this._livechat.setLangSwitchValues(b),this._checkRoom(),a.rdFormHandler("submit"))}.bind(this));var g=this._livechat.config.lc_LangListWrapper,b=this.config.livechatTabToggle;$(this._livechat.config.lc_board_block).find(b).on("shown.bs.tab",function(){var a=
this._service.getTab(),b=$(this.config.lang_switch);$(g).fadeOut(150,function(){$(this).fadeIn(150)});this._hideCallBackLangDropdown();this._isCallBackTabActive()?b.val("en").trigger("chosen:updated").change():this._fsm.openTab(a)}.bind(this))};CLS17.prototype._isLivechatBoardVisible=function(){return $(this.config.livechatBoard).hasClass("rotated")};
CLS17.prototype.close=function(a){this._fsm.close();this._livechat.hideLivechatBoard()&&this._service.setInvitationHiddenTime(new Date);this._service.setAutoOpen(!1);goog.isDefAndNotNull(a)&&a&&$(document).trigger(this.manuallyClosedEvent)};CLS17.prototype.checkBusyOperators=function(){return this._service.isRoomExist()&&this._service.isRoomFree()};
CLS17.prototype.setPageCountCookie=function(a){var b=+$.cookie(a),c=Tm.Config.chat.autoOpenPageCount||3,c=c-1;switch(!0){case !b:return Tm.setCookie(a,1),!1;case b&&b<c:return Tm.setCookie(a,b+1),!1;case b&&b==c:return Tm.setCookie(a,0),!0;default:return!1}};
CLS17.prototype.open=function(a,b){setTimeout(function(){this._fsm.can("openTab")&&(this._service.setAutoOpen(b),goog.string.isEmptySafe(a)||this._service.setTab(a),this._fsm.openTab(),this._livechat.showLivechatBoard(),this._hideCallBackLangDropdown())}.bind(this),10)};CLS17.prototype._showlivechatWithCallback=function(){$(this.config.container+", "+this.config.livechatBoard).addClass("with-callback");$(".js-call-back-tab").removeClass("js-none")};
CLS17.prototype._formMessageDescription=function(){var a=$(this.config.callBackTab).find(".lc-board-call-back-success [data-description]");if(0<a.length){var b=a.html().replace("%PHONE%",'<span class="js-success-phone-number"></span>');a.html(b)}};CLS17.prototype._hideCallBackLangDropdown=function(){var a=this._livechat.config.lc_LangListWrapper;this._isCallBackTabActive()&&$(a).addClass("single-list")};CLS17.prototype._isCallBackTabActive=function(){return $(this.config.callBackTab).hasClass("active")};
CLS17.prototype._showCallBackFormAfterDelay=function(){setTimeout(function(){if(!this._isLivechatBoardVisible()){var a=this._service.getInvitationHiddenTime();a&&(new Date-a)/1E3<this.config.showCallBackFormTimeoutAfterClose||(this.setPageCountCookie()&&this.open("",!0),$(".js-lc-call-back-toggle").tab("show"))}}.bind(this),1E3*this.config.showCallBackFormTimeout)};
CLS17.prototype.onbeforeopenTab=function(a,b,c,f){f=f||this._service.getTab();!0===goog.isDefAndNotNull(f)&&!1===this._isCallBackTabActive()&&this._service.setTab(f);a=this._service.getLocaleSettings();this._livechat.changeTypeBoard("#"+f);this._livechat.setLangSwitchValues(a);f=$("#"+f).data("room");if(goog.isDefAndNotNull(f)){var g=this._livechat.getTabFormByName(f);0===g.rdFormHandler("get-errors").length&&this._fsm.fillField();setTimeout(function(){g.rdFormHandler("focus-first")}.bind(this),
1E3)}};CLS17.prototype.onINIT=function(){$(document).trigger(this.afterCloseEvent)};CLS17.prototype.onWINDOW_IS_OPENED=function(a,b,c,f){f=f||this._service.getTab();a=$("#"+f).data("room");if(goog.isDefAndNotNull(a)&&"function"===goog.typeOf(this["_onTab_"+a]))this["_onTab_"+a]();$(document).trigger(this.afterOpenEvent)};
CLS17.prototype.checkOperator=function(a){var b=this._service.getLocale(),c=this._service.getRoomName(),a=$(a).rdFormHandler("get-values");if(goog.isDefAndNotNull(this.config.rooms)&&this._service.isRoomExist()&&(this._service.isRoomFree()||"en"===this._service.getLocale()&&!this._service.isRoomFree()))return this._fsm.openWindow(c,b,a),!1;this._fsm.goToOtherRoom();return!1};
CLS17.prototype.onOPERATOR_IS_BUSY=function(){this._livechat.showBusyMsg(this._service.getLocale(),this._service.getPopupStatus());this._fsm.can("returnToFilled")&&this._fsm.returnToFilled()};CLS17.prototype.onCHAT_OPENED=function(a,b,c,f,g,h){a=this._getParamsFromForm(f,h);goog.object.getCount(a)&&this.openWindow(f,g,a)};
CLS17.prototype._initConsultantForm=function(){this._livechat.getTabFormByName("consultant").rdFormHandler({popover_placement:"left",disable_ajax:!0,on_before_validate:function(){setTimeout(function(){this._fsm.can("fillField")&&this._fsm.fillField()}.bind(this),10)}.bind(this),on_submit_validation_fail:function(){return!1}.bind(this),on_submit_validation_success:$.proxy(this.checkOperator,this),on_before_submit:$.proxy(this.clearStorageFormInfo,this)})};
CLS17.prototype._initSupportForm=function(){this._initOrderIdForm({tab:"support",callback:"fillProductsSelect",on_after_init:$.proxy(this._fillOrderIdForm,this),on_submit_validation_success:$.proxy(this.checkOperator,this)});this._livechat.initProductCustomScroll()};
CLS17.prototype._fillOrderIdForm=function(a,b){var c=$(a),f=this._service.getStorageOrderId(c.attr("name").split("_").pop())||this._service[b?"getCompletedOrder":"getPendingOrder"]();f&&(c.find('[name="orderId"]').val(f.id),c.rdFormHandler("show-field-success",a.orderId))};
CLS17.prototype._initBillingForm=function(){var a=this._livechat.getTabFormByName("billing");this._initOrderIdForm({tab:"billing",callback:"fillUserInfo",on_after_ajax_callback:function(){var b=$("input[name=fullName], input[name=email]",a);$(b).removeAttr("disabled")},on_before_ajax_callback:function(){var b=$("input[name=fullName], input[name=email]",a);$(b).attr("disabled","disabled")},on_after_init:function(a){var c=a.name.split("_").pop(),f=this._service.getStorageOrderId(c)||this._service.getPendingOrder(),
c=$.extend({display:!f},this._service.getUserInfo(!0),this._service.getCustomStorageChatInfo(c));this._livechat.fillUserInfo(c);$(a.orderId).val(f.id);$(a).rdFormHandler("show-field-success",a.orderId)}.bind(this),on_before_submit:$.proxy(this.clearStorageFormInfo,this)})};
CLS17.prototype._initOrderIdForm=function(a){var b=this._livechat.getTabFormByName(a.tab);b.rdFormHandler({popover_placement:"left",on_after_init:a.on_after_init,disable_ajax:!0,on_before_validate:function(){setTimeout(function(){this._fsm.can("fillField")&&this._fsm.fillField()}.bind(this),10)}.bind(this),on_before_ajax_callback:{orderId:function(){if("function"===goog.typeOf(a.on_before_ajax_callback))a.on_before_ajax_callback();b.rdFormHandler("show-ajax-progress")}},on_after_ajax_callback:{orderId:function(b,
f,g,h){if("function"===goog.typeOf(a.on_after_ajax_callback))a.on_after_ajax_callback();h.status&&(this._livechat[a.callback](h.data),this.fillSelectedProductForm(b))}.bind(this)},on_submit_validation_success:$.proxy(this.checkOperator,this),on_before_submit:$.proxy(this.clearStorageFormInfo,this)});b.find("input[name=orderId]").on("change",function(){this._livechat[a.callback]()}.bind(this));return b};
CLS17.prototype.goToBillingRoom=function(){var a=this._service.getUserInfo(!1),a={nick:a.fullName,email:a.email};this.openWindow("billing",this._service.getLocale(),a)};CLS17.prototype.goToPreSalesRoom=function(a){var b=this._service.getUserInfo(!1),b={nick:b.fullName,email:b.email};this.openWindow("pre-sales",this._service.getLocale(),b,a)};
CLS17.prototype._onTab_support=function(){var a=this._livechat.getTabFormByName("support"),b=a.rdFormHandler("get-values");goog.string.isEmptySafe(b.orderId)?this._fillOrderIdForm(a,!0):a.rdFormHandler("validate")};CLS17.prototype._onTab_consultant=function(){var a=this._livechat.getTabFormByName("consultant"),b=a.rdFormHandler("get-values");goog.string.isEmptySafe(b.fullName)||goog.string.isEmptySafe(b.email)?this._fillFormWithSuppositive(a,!1):a.rdFormHandler("validate")};
CLS17.prototype._onTab_billing=function(){var a=this._livechat.getTabFormByName("billing"),b=a.rdFormHandler("get-values");goog.string.isEmptySafe(b.fullName)||goog.string.isEmptySafe(b.email)||goog.string.isEmptySafe(b.orderId)?(this._fillFormWithSuppositive(a,!0),this._fillOrderIdForm(a,!1)):a.rdFormHandler("validate")};
CLS17.prototype._fillFormWithSuppositive=function(a,b){var c=$.extend(this._service.getUserInfo(b),this._service.getCustomStorageChatInfo($(a).attr("name").split("_").pop()));if(goog.isDefAndNotNull(c)&&(goog.isDefAndNotNull(c.fullName)||goog.isDefAndNotNull(c.email))){var f=c.fullName?c.fullName:c.email;$('[name="fullName"]',a).val(f);$('[name="email"]',a).val(c.email);a.rdFormHandler("validate")}};
CLS17.prototype._getParamsFromForm=function(a,b){switch(a){case "pre-sales":var c={nick:b.fullName,name:b.fullName,email:b.email,question:""};break;case "billing":c={nick:b.fullName,email:b.email,tid:goog.string.makeSafe(b.orderId)};break;case "support":var f=/(\d+)-(\d+)/,g=b.templateId,c="";goog.isDefAndNotNull(g)&&(f=g.match(f),goog.isDefAndNotNull(f)&&+f[1]&&(g=$('option[value="'+b.templateId+'"]'),c=0<g.length?g.html():c,g=f[2]));c={tid:b.orderId,templateId:goog.string.makeSafe(g),
offerText:c}}return c};
CLS17.prototype.openWindow=function(a,b,c,f){a=$.extend({action:"chat_login",cl:this._service.getLocalizedRoomName(a,b)},c);$(document).trigger("Gtag.chatEnter.push",a);f?window.open(window.location.protocol+"//"+Tm.Config.domain+"/support_index.php?"+$.param(a)+getGaClientIdentifierQuery(),"tmBillingChat","width=800, height=695"):window.open("/support_index.php?"+$.param(a)+getGaClientIdentifierQuery(),"tmBillingChat","width=800, height=695");$(document).click();return!1};
CLS17.prototype.logout=function(){var a=this._service.getLocale();this._service.clearStorage();this._service.setLocale(a);$(document).click()};CLS17.prototype._enquirescript=function(){var a=document.getElementsByTagName("head")[0],b=document.createElement("script");b.type="text/javascript";b.src=this._cdnUrl+"js/tm/broadcast-translates.js";a.appendChild(b)};
CLS17.prototype.login=function(){var a=this._service.getLocale();this._service.clearStorage();this._service.detectUserInfoByClientId();this._service.detectNotCompletedOrder();this._service.detectCompletedOrder();this._service.setLocale(a)};
CLS17.prototype._checkRoom=function(){this._livechat.disableStartChat(this._service.isButtonDisabled());this._service.isRoomExist()&&this._service.isRoomFree()?this._livechat.hideBusyMsg():this._livechat.showBusyMsg(this._service.getLocale(),this._service.getPopupStatus())};CLS17.prototype.clearStorageFormInfo=function(){this._service.clearStorageFormInfo()};
CLS17.prototype.fillSelectedProductForm=function(a){var b=this._service.getCustomStorageChatInfo($(a).attr("name").split("_").pop());goog.isDefAndNotNull(b.templateId)&&$(a).find('[name="templateId"]').val(b.templateId).trigger("chosen:updated")};CLS17.prototype.goToGetHelp=function(){this.openWindow(this._getHelpParams.room,this._service.getLocale(),this._getHelpParams.params)};
CLS17.prototype.detectOrderByTemplateId=function(){var a=this._service.getUserInfo(!1),b=$(".js-get-help").data("tid");this._getHelpParams.params={nick:a.fullName||a.email,email:a.email};$.when(this._service.detectOrderByTemplateId(b)).done(function(a){!goog.array.isEmpty(a)&&1===a.status&&(this._getHelpParams.room="support",this._getHelpParams.params.tid=a.data.id,this._getHelpParams.params.templateId=b)}.bind(this))};
CLS17.prototype._changeChatCaption=function(){$("."+this.config.startChatButton+", ."+this.config.startCallBackButton).on("show.bs.tab",function(a){$(this.config.lc_BoardCaption).find(this.config.lc_BoardCaption+"-text").addClass("js-none");$(a.target).hasClass(this.config.startChatButton)?$(this.config.lc_BoardCaption+"-chat").toggleClass("js-none"):$(a.target).hasClass(this.config.startCallBackButton)&&$(this.config.lc_BoardCaption+"-number").toggleClass("js-none")}.bind(this))};
CLS17.prototype._callbackNoticeBlock=function(){var a=new Tm.Notice,b=this,c=b.config.container,f=b.config.noticeClass,g="."+f;a.init({text:Twig.render(callBackNotification),type:"success",position:"fullWidth",classes:f,afterShow:function(){$(g).find(".js-close-icon").on("click",function(){b._setCallbackNoticeCookie()}).setTooltip({placement:"bottom",title:Twig.render(closeText)});$(g).find("a").on("click",function(){var a=$(this).attr("class");$(c).find(".livechat-control").children().removeClass("active");
$(c).find("."+a).parent().addClass("active")})}})};CLS17.prototype._setCallbackNoticeCookie=function(){$.cookie(this.config.noticeCookie,"closed",{expires:Tm.Config.chat.callbackNotificationHideTime,path:"/"})};CLS17.prototype._showCallbackNotice=function(){"closed"!=$.cookie(this.config.noticeCookie)&&this._callbackNoticeBlock()};CLS21=function(a,b){this.utils=b;this._autoCloseAfterManualyOpenedTimerId=this._autoCloseTimerId=this._autoOpenTimerId=null;this.config={autoOpenTimeout:0,autoCloseTimeout:0,autoCloseAfterManualOpenTimeout:0,autoCloseDelay:1,manualCloseDelay:7,cookieName:"forbid_auto_open_for_period"};this._chat=a;this._storage=new CLS20};defineService(["invitation-to-chat","browser-utils"],CLS21);CLS21.prototype.setConfig=function(a){this.config=$.extend(this.config,a);return this};
CLS21.prototype.init=function(){pageCountCookie=this._chat.setPageCountCookie("pageOpenCount");$(document).on(this._chat.afterCloseEvent,function(){this.clearTimers();this.isAutoOpenAllowed()?this._chat.checkBusyOperators()&&pageCountCookie?this._autoOpenTimerId=setTimeout(function(){if(!this.utils.getSettingValue("interactiveElements.showChat",!0))return!1;this._chat.open("lc-board-type-consultant",!0)}.bind(this),1E3*this.config.autoOpenTimeout):!this._chat.checkBusyOperators()&&pageCountCookie&&
Tm.setCookie("pageOpenCount",0):this._autoOpenTimerId=null}.bind(this));$(document).on(this._chat.afterOpenEvent,function(){clearTimeout(this._autoOpenTimerId);this._isTimerActive()&&(this.getAutoOpen()?goog.isDef(this.config.autoCloseTimeout)&&(0<this.config.autoCloseTimeout&&!goog.isDefAndNotNull(this._autoCloseTimerId))&&(this._autoCloseTimerId=setTimeout(function(){this.cancelAutoOpenForPeriod(this.config.autoCloseDelay);this._chat.close()}.bind(this),1E3*this.config.autoCloseTimeout)):goog.isDef(this.config.autoCloseAfterManualOpenTimeout)&&
(0<this.config.autoCloseAfterManualOpenTimeout&&!goog.isDefAndNotNull(this._autoCloseAfterManualyOpenedTimerId))&&(this._autoCloseAfterManualyOpenedTimerId=setTimeout(function(){this.cancelAutoOpenForPeriod(this.config.autoCloseDelay);this._chat.close()}.bind(this),1E3*this.config.autoCloseAfterManualOpenTimeout)))}.bind(this));$(document).on(this._chat.manuallyClosedEvent,function(){this.clearTimers();this.cancelAutoOpenForPeriod(this.config.manualCloseDelay)}.bind(this))};
CLS21.prototype.getAutoOpen=function(){return!!this._storage.get("autoOpen")};CLS21.prototype.cancelAutoOpenForPeriod=function(a){Tm.setCookie(this.config.cookieName,1,a)};CLS21.prototype.isAutoOpenAllowed=function(){return goog.isDef(this.config.autoOpenTimeout)&&0<this.config.autoOpenTimeout&&!goog.isDefAndNotNull(this._autoOpenTimerId)&&this._isTimerActive()};CLS21.prototype._isTimerActive=function(){return goog.string.isEmptySafe($.cookie(this.config.cookieName))};
CLS21.prototype.clearTimers=function(){clearTimeout(this._autoOpenTimerId);clearTimeout(this._autoCloseTimerId);clearTimeout(this._autoCloseAfterManualyOpenedTimerId);this._autoCloseAfterManualyOpenedTimerId=this._autoCloseTimerId=this._autoOpenTimerId=null};CLS24=function(){};
CLS24.prototype._getEvents=function(){var a=[];a.push({name:"init",from:"LOAD",to:"INIT"});a.push({name:"openTab",from:["INIT","FORM_IS_FILLED","WINDOW_IS_OPENED"],to:"WINDOW_IS_OPENED"});a.push({name:"close",from:"*",to:"INIT"});a.push({name:"fillField",from:["WINDOW_IS_OPENED","FORM_IS_FILLED","INIT"],to:"FORM_IS_FILLED"});a.push({name:"returnToFilled",from:["OPERATOR_IS_BUSY"],to:"FORM_IS_FILLED"});a.push({name:"openWindow",from:"FORM_IS_FILLED",to:"CHAT_OPENED"});a.push({name:"goToOtherRoom",
from:"FORM_IS_FILLED",to:"OPERATOR_IS_BUSY"});return a};CLS24.prototype.ui=function(a){var b=goog.array.map(this._getEvents(),function(a){return a.to}),c=goog.array.map(this._getEvents(),function(a){return a.name});goog.array.removeDuplicates(c);goog.array.removeDuplicates(b);b=this._getCallbacks(b,a,"on");goog.object.extend(b,this._getCallbacks(c,a,"onbefore"));return StateMachine.create({initial:"LOAD",events:this._getEvents(),"final":"SHUTDOWN",callbacks:b})};
CLS24.prototype._getCallbacks=function(a,b,c){a=goog.object.createSet(goog.array.map(a,function(a){return c+a}));return goog.object.map(a,function(a,c){if("function"===goog.typeOf(b[c]))return $.proxy(b[c],b)})};tm.chat.ui.busy=function(a,b){var c="";b===tm.chat.ui.busy.CAN_CHOOSE_ENGLISH?goog.isDef(broadcast)&&("ALL_OPERATORS_ARE_BUSY"in broadcast&&a in broadcast.ALL_OPERATORS_ARE_BUSY)&&(c=broadcast.ALL_OPERATORS_ARE_BUSY[a]):c=broadcast.ALL_OPERATORS_ARE_BUSY_DEFAULT[a];return c};tm.chat.ui.busy.DEFAULT=1;tm.chat.ui.busy.CAN_CHOOSE_ENGLISH=2;CLS22=function(a){this._language=a;this._girls={en:["en_1","en_2","en_3","en_4"],de:["de_1","de_2","de_3","de_4"],es:["es_1","es_2","es_3","es_4"],ru:["ru_1","ru_2","ru_3","ru_4"],fr:["fr_1","fr_2","fr_3","fr_4"],it:["it_1","it_2","it_3","it_4"],pl:["pl_1","pl_2","pl_3","pl_4"],tr:["tr_1","tr_2","tr_3","tr_4"],zh:["cn_1","cn_2","cn_3","cn_4","cn_5"],pt:["br_1","br_2","br_3","br_4","br_5"]};this._presales={en:"en_1 en_2 en_3 en_4 en_5 en_6 en_7 en_8 en_9 en_10 en_11 en_12 en_13".split(" ")};
this.config={lc_goToEnChat:".js-go-to-en-chat",container:".js-livechat-girl",girlImageHolder:".js-girl-holder",girlImage:".girl",girlImageHover:"girl_hover",livechatBoard:".js-live-chat-board",livechatBoardClose:".js-lc-board-close",livechatGirlHint:".js-livechat-hint",randomGirlName:""}};defineService(["language"],CLS22);
CLS22.prototype.getRandomGirl=function(){var a="/img/chat-girls/",b=this._language.lang,c="en";b in this._girls&&(c=b);b=this._girls[c]||!1;this._checkChatPresalesCondition()&&(a="/img/chat-presales/",b=this._presales[c]||!1);c=Math.floor(Math.random()*b.length);this.config.randomGirlName=b[c]||!1;return"https://s.tmimgcdn.com"+a+b[c]+".png"};
CLS22.prototype.init=function(){$(this.config.container).removeClass("js-none").delay(500).queue(function(){$(this.config.container).addClass("animated").dequeue()}.bind(this));var a=this.getRandomGirl(),b=$("<img/>",{"class":"girl js-girl-image","data-original":a});$(this.config.container).attr("id","lc-girl-block-"+this.config.randomGirlName);$(this.config.container).find(this.config.girlImageHolder).prepend(b);$(".js-girl-image").preloadImages({autoSize:!0,square:!0,atributeName:"src",
afterWorks:function(){$(".call-back-header-notice").length&&b.clone().prependTo(".call-back-header-notice")}});this.startAnimation();$(this.config.container).on("mouseover",".girl",function(){this.showHintMessage()}.bind(this)).on("mouseout",".girl",function(){this.hideHintMessage()}.bind(this));this._checkChatPresalesCondition()&&this.changeImageOnHover()};
CLS22.prototype.changeImageOnHover=function(){var a=$(this.config.container).find(this.config.girlImage),b=$(a).clone().addClass("girl_smiling"),c=this.config.girlImageHover;b.attr("src",function(a,b){return b.replace("chat-presales","chat-presales/smile")});$(this.config.container).find(this.config.girlImageHolder).prepend(b);a.on("mouseover",a,function(){a.hasClass(c)||$(a).addClass(c)}.bind(this)).on("mouseleave",a,function(){a.hasClass(c)&&$(a).removeClass(c)}.bind(this))};
CLS22.prototype.startAnimation=function(){function a(){b.toggleClass("animated");return setInterval(function(){b.toggleClass("animated")},5E3)}var b=$(".js-animated-circles");setTimeout(function(){this.showHintMessage();setTimeout(function(){this.hideHintMessage();this.animaTimer0=setTimeout(function(){this.animaTimer=a()}.bind(this),1E4)}.bind(this),5E3)}.bind(this),1E3);$(document).on("click",function(b){var f=$(this.config.container),g=$(this.config.livechatBoard);$(b.target).closest(this.config.livechatBoard).length||
($(b.target).closest(this.config.container).length?setTimeout(function(){g.hasClass("rotated")?(f.addClass("animation-stopped"),clearInterval(this.animaTimer0),clearInterval(this.animaTimer)):(f.removeClass("animation-stopped"),clearInterval(this.animaTimer0),clearInterval(this.animaTimer),this.animaTimer0=setTimeout(function(){this.animaTimer=a()}.bind(this),1E4))}.bind(this),600):g.hasClass("rotated")&&(clearInterval(this.animaTimer0),clearInterval(this.animaTimer),f.removeClass("animation-stopped"),
this.animaTimer0=setTimeout(function(){this.animaTimer=a()}.bind(this),1E4)))}.bind(this))};CLS22.prototype.showHintMessage=function(){var a=$(this.config.livechatGirlHint);this.hintHideTimer&&clearTimeout(this.hintHideTimer);a.show();this.hintShowTimer=setTimeout(function(){a.removeClass("hide_hint").addClass("show_hint")},100)};
CLS22.prototype.hideHintMessage=function(){var a=$(this.config.livechatGirlHint);this.hintShowTimer&&clearTimeout(this.hintShowTimer);this.hintHideTimer=setTimeout(function(){a.addClass("hide_hint").delay(250).queue(function(){a.removeClass("show_hint").hide().dequeue()}.bind(this))},100)};CLS22.prototype._checkChatPresalesCondition=function(){return"en"===this._language.lang&&1==$.cookie("chat_presales")};CLS23=function(){this.config={lc_TypeItem:".js-lc-board-type",lc_BoardContentItem:".js-lc-board-content-item",lc_LangList:".js-lc-board-lang-list",lc_LangListCurrent:".js-lc-board-lang-current",lc_LangListWrapper:".js-lc-board-lang-pick",lc_board_close_btn:".js-lc-board-close",lc_board_block:".js-live-chat-board",lc_busy_operator_msg:".js-busy-operators-message",girl_container:".js-livechat-girl",lang_switch:".js-live-chat-lang-switch",startChatButton:".js-submit-button"};this.mediator=
appDic.require("module-mediator");this.mediator.subscribe("liveChat",this)};goog.inherits(CLS23,Tm.AbstractBanner);
CLS23.prototype.init=function(a){this.changeTypeBoard("#"+a);this._initLangSwitch();$(this.config.lc_LangListWrapper).find(".chosen-single").on("click",function(){this.showToggleLangList();return!1}.bind(this));$(this.config.lc_board_close_btn).setTooltip({hideOnTablet:!0,container:".js-lc-board-close"});$(this.config.lc_busy_operator_msg).find(".js-close-busy-oper-msg").on("click",function(a){a.preventDefault();this.hideBusyMsg();return!1}.bind(this))};
CLS23.prototype.changeTypeBoard=function(a){var b=$(a).data("target");$(this.config.lc_TypeItem).removeClass("active");$(a).addClass("active");$(this.config.lc_BoardContentItem).removeClass("active");$("."+b).addClass("active")};
CLS23.prototype.showBusyMsg=function(a,b){var c=tm.chat.ui.busy(a,b)||tm.chat.ui.busy("en",tm.chat.ui.busy.DEFAULT),f=window.innerHeight;goog.string.isEmptySafe(c)||(779>f?$(this.config.lc_busy_operator_msg).removeClass("rd-notice-position-top show-in-top").addClass("show-in-bottom rd-notice-position-bottom"):$(this.config.lc_busy_operator_msg).addClass("rd-notice-position-top show-in-top").removeClass("show-in-bottom rd-notice-position-bottom"),$(this.config.lc_busy_operator_msg).find(".popover-content").html(c),
$(this.config.lc_busy_operator_msg).show(1),setTimeout(function(){$(this.config.lc_busy_operator_msg).addClass("shown")}.bind(this),1100))};CLS23.prototype.hideBusyMsg=function(){var a=$(this.config.lc_busy_operator_msg);a.hasClass("shown")&&a.removeClass("shown").delay(550).queue(function(){a.hide(1).dequeue()})};CLS23.prototype.showToggleLangList=function(){var a=$(this.config.lc_LangListWrapper);a.hasClass("lang-list-opened")?a.removeClass("lang-list-opened"):a.addClass("lang-list-opened")};
CLS23.prototype.showLivechatBoard=function(){$(this.config.lc_board_block).show().addClass("rotated").one("animationend",function(a){a.target.className.match(this.config.lc_board_block)&&this.mediator.sendMessage({event:"APPEARED:board",initiator:"liveChat"})}.bind(this))};
CLS23.prototype.hideLivechatBoard=function(){var a=$(this.config.lc_board_block),b=a.find(".js-lc-board-lang-list"),c=a.find(".js-lc-board-lang-pick"),f=a.find(".js-busy-operators-message");if(a.hasClass("rotated"))return a.addClass("rotatedBack").delay(510).queue(function(){a.removeClass("rotated rotatedBack").dequeue();a.find("form").rdFormHandler("hide-errors");a.hide();b.slideUp(5,"easeInOutQuint",function(){b.removeClass("opened");c.removeClass("lang-list-opened")});f.removeClass("show").delay(550).queue(function(){f.hide(1).dequeue()})}),
!0;this.hideBusyMsg();return!1};CLS23.prototype.getTabFormByName=function(a){return $(".js-lc-board-"+a+"-content form")};
CLS23.prototype.fillProductsSelect=function(a){function b(a,b,f){c.append($("<option>",{value:a.id,text:b+a.title+f}))}var c=$(".js-lc-board-support-content form select").empty(),f=c.parents(".wrap-select-field");goog.isObject(a)&&(goog.array.forEach(a.templates,function(a){b(a,""," #"+a.id);goog.array.forEach(a.offers,function(a){b(a," \u21b3 ","")})}),goog.array.forEach(a.offers,function(a){b(a,"","")}));c.trigger("chosen:updated");goog.isObject(a)&&1<a.total?f.addClass("filled").removeClass("disabled singleOrder"):
f.removeClass("filled").addClass("disabled singleOrder").find(".chosen-container").addClass("chosen-disabled")};CLS23.prototype.initProductCustomScroll=function(){$(".js-lc-board-support-content form select").on("chosen:hiding_dropdown",function(){$(".chosen-results").mCustomScrollbar("destroy")}).on("chosen:showing_dropdown",function(){$(".chosen-results").mCustomScrollbar({axis:"y"})})};
CLS23.prototype.fillUserInfo=function(a){var b=$(".js-lc-board-billing-content form"),c=b.find("input[name=fullName]"),b=b.find("input[name=email]");if(goog.isObject(a)&&("fullName"in a||"email"in a)){if(c.val(a.fullName),b.val(a.email),!("display"in a)||!a.display)c.attr("disabled","disabled"),b.attr("disabled","disabled")}else c.removeAttr("disabled"),b.removeAttr("disabled");return this};
CLS23.prototype.setLangSwitchValues=function(a){var b=$(this.config.lang_switch).empty(),c=a.list;goog.array.forEach(Object.keys(c),function(a){b.append($("<option/>",{value:a,text:a.toUpperCase()}))});1===Object.keys(c).length?$(this.config.lc_LangListWrapper).addClass("single-list"):$(this.config.lc_LangListWrapper).removeClass("single-list");b.find("option").each(function(){var a=$(this).val();$(this).addClass("iti-flag "+c[a])}).end().on("change",function(){var a=$(this),b=a.val();
b&&(a=a.parent().find(".chosen-single"),a.find("i.iti-flag").remove(),a.prepend('<i class="iti-flag '+c[b]+'"></i>'))});b.val(a.active).trigger("chosen:updated").change();return this};CLS23.prototype._initLangSwitch=function(){var a=$(this.config.lang_switch);return $(a).chosen({disable_search_threshold:99})};CLS23.prototype.disableStartChat=function(a){$(this.config.startChatButton,$(this.config.lc_board_block)).attr("disabled",!!a)};tm.discount=tm.discount||{};CLS31=function(a,b){this._cart=a;this._language=b;this._ssd=new CLS44;this._discount_link=new CLS44;this._isDiscountLoaded=!1;this._services=[]};defineService(["cart","language"],CLS31);CLS31.prototype.setLoaded=function(){this._isDiscountLoaded=!0;return this};
CLS31.prototype.getPage=function(){switch(!0){case detectDemoPage():return"demo";case detectPreviewPage():return"preview";case detectCartPage():return"cart";case detectCheckoutPage():return"checkout";default:return"index"}};
CLS31.prototype.drawPrices=function(){if(0===this._services.length)switch(this.getPage()){case "demo":this._services.push(new CLS37(this._language));CLS34&&this._services.push(new CLS34(this._language));break;case "preview":this._services.push(new CLS32(this._language));this._services.push(new CLS35(this._language));this._services.push(new CLS43(this._language));this._services.push(new CLS33(this._language));
CLS34&&this._services.push(new CLS34(this._language));CLS42&&this._services.push(new CLS42(this._language));CLS36&&this._services.push(new CLS36(this._language));CLS39&&this._services.push(new CLS39(this._language));break;case "cart":this._services.push(new CLS35(this._language));CLS42&&this._services.push(new CLS42(this._language));
break;case "checkout":this._services.push(new CLS35(this._language));CLS42&&this._services.push(new CLS42(this._language));break;default:this._services.push(new CLS43(this._language)),CLS34&&this._services.push(new CLS34(this._language)),CLS42&&this._services.push(new CLS42(this._language)),CLS41&&this._services.push(new CLS41(this._language,
this._ssd,this._discount_link))}goog.array.isEmpty(this._services)||goog.array.forEach(this._services,function(a){a.setSSD(this._ssd);a.setDiscountLink(this._discount_link);a.draw()},this);$(".js-preview-accordion-panel").TMCalcPrice();this._cart.recalculate();this._ssd.isEmpty()&&this._discount_link.isEmpty()&&this.showPrices();this.showPrices();return this};
CLS31.prototype.initDiscountValues=function(a){this.setLoaded();this._ssd=new CLS44;this._discount_link=new CLS44;if(!goog.isArray(a)&&!goog.isObject(a))return this;var b=function(a,b){for(var g=Object.keys(a).sort(function(a,b){return b-a}),h=0;h<g.length;h++){var j=g[h],k;for(k in a[j])a[j].hasOwnProperty(k)&&b.addDiscount(new tm.discount.model.discountValue(k,j,a[j][k].period_start_gmt,a[j][k].period_stop_gmt,a[j][k].countries,a[j][k].ids,a[j][k].contextId))}};
"discounts"in a&&b(a.discounts,this._ssd);"discount_link"in a&&b(a.discount_link,this._discount_link);return this};CLS31.prototype.showPrices=function(){this._isDiscountLoaded&&$(".hide-price").removeClass("hide-price")};CLS31.prototype.getSSD=function(){return this._ssd};CLS31.prototype.getDiscountLink=function(){return this._discount_link};tm.discount.model=tm.discount.model||{};tm.discount.model.discountValue=function(a,b,c,f,g,h,j){this._code=a;this._period_start_gmt=c;this._period_stop_gmt=f;this._percent=parseInt(b);this._countries=g;this._ids=h;this._contextId=j};
tm.discount.model.discountValue.prototype.isValid=function(){var a=new Date(this._period_start_gmt),b=new Date(this._period_stop_gmt),c=new Date,c=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds());return 0<=c.getTime()-a.getTime()&&0<=b.getTime()-c.getTime()};tm.discount.model.discountValue.prototype.isAvailableInCountry=function(a){return this._countries&&0<this._countries.length?goog.array.contains(this._countries,a):!0};
tm.discount.model.discountValue.prototype.calculate=function(a){this._percent=100<this._percent?100:this._percent;this._percent=0>this._percent?0:this._percent;return Math.round(a-a*this._percent/100)};tm.discount.model.discountValue.prototype.getIds=function(){return this._ids};tm.discount.model.discountValue.prototype.getPercent=function(){return this._percent};tm.discount.model.discountValue.prototype.getPeriodStop=function(){return this._period_stop_gmt};
tm.discount.model.discountValue.prototype.getCode=function(){return this._code};tm.discount.model.discountValue.prototype.getContextId=function(){return this._contextId};CLS44=function(){this._discountValues=[]};CLS44.prototype.getDiscount=function(a,b){for(var c in this._discountValues)if(goog.array.contains(this._discountValues[c].getIds(),a)&&this._discountValues[c].isValid()&&this._discountValues[c].isAvailableInCountry(b))return this._discountValues[c];return!1};CLS44.prototype.addDiscount=function(a){this._discountValues.push(a)};CLS44.prototype.isEmpty=function(){return 0===this._discountValues.length};tm.discount.model=tm.discount.model||{};tm.discount.model.abstractTemplate=function(a,b){this._tid=parseInt(a);this._regularPriceContainer=b;this._periodStop=0};tm.discount.model.abstractTemplate.prototype._tid=0;tm.discount.model.abstractTemplate.prototype._regularPriceContainer=null;tm.discount.model.abstractTemplate.prototype.getOriginalPrice=function(){};
tm.discount.model.abstractTemplate.prototype.getPurchasePrice=function(a,b){var c=this.getOriginalPrice(),f=this.getActiveDiscount(a,b);return this.calculateDiscount(c,f)};tm.discount.model.abstractTemplate.prototype.getActiveDiscount=function(a,b){if(this.getIsTemplatePromocode())return!1;var c=!b||b.isEmpty()?!1:b.getDiscount(this.getId()),f=!a||a.isEmpty()?!1:a.getDiscount(this.getId());return c&&f?c.getPercent()>f.getPercent()?c:f:c?c:f};
tm.discount.model.abstractTemplate.prototype.calculateDiscount=function(a,b){return b?b.calculate(a):a};
tm.discount.model.abstractTemplate.prototype.getIsTemplatePromocode=function(){if("$"==$(".js-total-promocode-discount").attr("data-discount-type"))return!1;if(0<$(".js-total-promocode-discount").not(".js-none").length){var a=$(".js-total-promocode-discount").not(".js-none").attr("data-namespace"),b=$(".js-total-promocode-discount").not(".js-none").attr("data-products").match(/\d+/g);return"template"===a&&-1!==$.inArray(this.getId().toString(),b)}return!1};
tm.discount.model.abstractTemplate.prototype.getId=function(){return this._tid};tm.discount.model.abstractTemplate.prototype.getActiveDiscount=function(a,b){if(this.getIsTemplatePromocode())return!1;var c=!b||b.isEmpty()?!1:b.getDiscount(this.getId()),f=!a||a.isEmpty()?!1:a.getDiscount(this.getId(),$.cookie("country_code"));return c&&f?c.getPercent()>f.getPercent()?c:f:c?c:f};tm.discount.model.templateWithLicense=function(a,b){tm.discount.model.abstractTemplate.call(this,a,b)};goog.inherits(tm.discount.model.templateWithLicense,tm.discount.model.abstractTemplate);tm.discount.model.templateWithLicense.prototype._tid=0;tm.discount.model.templateWithLicense.prototype._regularPriceContainer=null;tm.discount.model.templateWithLicense.prototype.getOriginalPrice=function(){return this._regularPriceContainer.data("full_price")};tm.discount.model.templateWithoutLicense=function(a,b){tm.discount.model.abstractTemplate.call(this,a,b)};goog.inherits(tm.discount.model.templateWithoutLicense,tm.discount.model.abstractTemplate);tm.discount.model.templateWithoutLicense.prototype._tid=0;tm.discount.model.templateWithoutLicense.prototype._regularPriceContainer=null;tm.discount.model.templateWithoutLicense.prototype.getOriginalPrice=function(){return this._regularPriceContainer.data("price")};
tm.discount.model.templateWithoutLicense.prototype.getIsTemplatePromocode=function(){return!1};tm.discount.model.templateWithoutLicenseInCart=function(a,b){tm.discount.model.abstractTemplate.call(this,a,b)};goog.inherits(tm.discount.model.templateWithoutLicenseInCart,tm.discount.model.abstractTemplate);tm.discount.model.templateWithoutLicenseInCart.prototype._tid=0;tm.discount.model.templateWithoutLicenseInCart.prototype._regularPriceContainer=null;tm.discount.model.templateWithoutLicenseInCart.prototype.getOriginalPrice=function(){return this._regularPriceContainer.data("price")};
tm.discount.model.templateWithoutLicenseInCart.prototype.getIsTemplatePromocode=function(){var a="",b=[],c=(new tm.cart.model.itemRepository("promocode")).getAll();goog.isDefAndNotNull(c[0])&&(c=c[0],a=c.namespace,b=goog.isDef(c.products)&&goog.isArray(c.products)?c.products:[]);if(0===b.length)return!1;b=goog.array.some(b,function(a){if(this.getId()===+a)return a}.bind(this));return"template"===a&&b};tm.discount.ui=tm.discount.ui||{};CLS38=function(a){this._language=a};CLS38.prototype.draw=function(){};CLS38.prototype.getTemplates=function(){};CLS38.prototype._isExclusive=function(a){return"exclusive"===$(a).attr("data-variant")||"exclusive"===$(a).attr("data-license")};CLS38.prototype.getSSD=function(){return this._ssd};CLS38.prototype.getDiscountLink=function(){return this._discount_link};
CLS38.prototype.setSSD=function(a){this._ssd=a};CLS38.prototype.setDiscountLink=function(a){this._discount_link=a};CLS32=function(a,b,c){CLS38.call(this,a,b,c)};goog.inherits(CLS32,CLS38);
CLS32.prototype.draw=function(){var a=this.getTemplates();if(0!==a.length){var b=$('.js-preview-accordion-panel[data-template_id="'+a.getId()+'"]'),c=a.getOriginalPrice(),f=a.getPurchasePrice(this.getSSD(),this.getDiscountLink());$(document).on("MainEvents.templates.changeLicense.accordion",$.proxy(this.changeLicense,this));goog.array.forEach(b,function(a){if(!this._isExclusive(a)){var a=$(".js-price",a),b=parseInt(a.data("price")),j=parseInt(a.data("full_price")),k=b-c+f;j==b&&
b!=k?(b=Twig.render(discount_simple,{price:this._language.formatMoney(b),finalPrice:this._language.formatMoney(k)}),a.attr("data-price",k).html(b)):b=this._language.formatMoney(k);a.attr("data-price",k).html(b)}},this)}};
CLS32.prototype.getTemplates=function(){var a=[],b=$('.js-preview-accordion-panel[data-variant="regular"]:first'),c=$(".js-price:first",b);0<c.length&&goog.array.isNumeric($(b).attr("data-template_id"))&&(a=new tm.discount.model.templateWithLicense($(b).attr("data-template_id"),c));return a};
CLS32.prototype.changeLicense=function(){var a=this.getTemplates(),b=a.getOriginalPrice(),c=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),a=$(".js-preview-accordion-panel.active");if("exclusive"===$(a).attr("data-variant"))return!1;var a=$(".js-price",a),f=parseInt(a.data("price")),g=parseInt(a.data("full_price")),b=f-b+c;g==f&&f!=b&&(b=this._language.formatMoney(b),c=a.find(".discount"),a.text(" "+b),a.prepend(c))};CLS36=function(a,b,c){CLS38.call(this,a,b,c);this.days=Twig.render(days);this.hrs=Twig.render(hrs);this.min=Twig.render(min);this.sec=Twig.render(sec);this._time=new CLS88;this.utils=appDic.require("browser-utils")};goog.inherits(CLS36,CLS38);
CLS36.prototype.draw=function(){if(!this.utils.getSettingValue("interactiveElements.showInfoDiscount",!0))return!1;var a=this.getTemplates();if(0!==a.length){var b=a.getActiveDiscount(this.getSSD(),this.getDiscountLink()),c=$('.js-preview-price-block.active[data-template_id="'+a.getId()+'"]:first');b&&(this.remainingTime=b?this.getTimeRemaining(b.getPeriodStop()):0,this.initialCountdown(a),this._isExclusive(c)||this.showCountdown(),$(document).on("MainEvents.templates.changeLicense.accordion",
$.proxy(this.changeLicense,this)))}};CLS36.prototype.getTemplates=function(){var a=[],b=$('.js-preview-price-block[data-variant="regular"], .js-preview-price').first(),c=$(".js-price:first",b);0<c.length&&goog.isNumber(+$(b).attr("data-template_id"))&&(a=new tm.discount.model.templateWithLicense($(b).attr("data-template_id"),c));return a};
CLS36.prototype.initialCountdown=function(a){var b=a.getActiveDiscount(this.getSSD(),this.getDiscountLink());this.remainingTime&&0<this.remainingTime.total&&7>this.remainingTime.days?(this.drawCountdownWidget(this._language.formatMoney(a.getOriginalPrice())),this.changeLicense(),this.replaceDiscountValue(b),b=$(".js-countdown-block"),b.on("click",".close",function(){this.closeCountdown();setTimeout(fixedAddCart,500)}.bind(this)),this.startCountdown(b,a)):setTimeout(function(){this.closeCountdown()}.bind(this),
200)};CLS36.prototype.getTimeRemaining=function(a){var b=new Date,a=this._time.getDateFromFormat(a)-b.getTime();return 0<a?{total:a,seconds:Math.floor(a/1E3%60),minutes:Math.floor(a/1E3/60%60),hours:Math.floor(a/36E5%24),days:Math.floor(a/864E5)}:null};
CLS36.prototype.getPieces=function(a){var b="",c=a.days,f=a.hours,g=a.minutes,h=a.seconds;if(0>=a.days){if(0>=a.hours){if(0>=a.minutes)return b+=Twig.render(discount_countDownTimer_time_interval,{elementClass:"sec",interval:h,intervalMeasure:this.sec});b+=Twig.render(discount_countDownTimer_time_interval,{elementClass:"min",interval:g,intervalMeasure:this.min});return b+=Twig.render(discount_countDownTimer_time_interval,{elementClass:"sec",interval:h,intervalMeasure:this.sec})}b+=
Twig.render(discount_countDownTimer_time_interval,{elementClass:"hrs",interval:f,intervalMeasure:this.hrs});b+=Twig.render(discount_countDownTimer_time_interval,{elementClass:"min",interval:g,intervalMeasure:this.min});return b+=Twig.render(discount_countDownTimer_time_interval,{elementClass:"sec",interval:h,intervalMeasure:this.sec})}b+=Twig.render(discount_countDownTimer_time_interval,{elementClass:"days",interval:c,intervalMeasure:this.days});b+=Twig.render(discount_countDownTimer_time_interval,
{elementClass:"hrs",interval:f,intervalMeasure:this.hrs});return b+=Twig.render(discount_countDownTimer_time_interval,{elementClass:"min",interval:g,intervalMeasure:this.min})};
CLS36.prototype.startCountdown=function(a,b){var c=setInterval(function(){var f=b.getActiveDiscount(this.getSSD(),this.getDiscountLink()),f=f?this.getTimeRemaining(f.getPeriodStop()):0;!f||0>=f.total?(clearInterval(c),this.closeCountdown()):a.find(".js-countdown-timer").html(this.getPieces(f))}.bind(this),1E3)};
CLS36.prototype.changeLicense=function(){var a=this.getTemplates(),b=a.getOriginalPrice(),a=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),c=$(".js-countdown-block"),f=$(".js-preview-price-block.active");if("exclusive"===$(f).attr("data-variant"))return this.hideCountdown(),!1;c.hasClass("closed")||this.showCountdown();var g=$(".js-price",f),f=parseInt(g.data("price")),g=parseInt(g.data("full_price"));g==f&&f!=f-b+a&&(b=this._language.formatMoney(g),$(c).find(".js-countdown-price").text(b))};
CLS36.prototype.drawCountdownWidget=function(a){if(!(0<$(".js-countdown-block").length)){var b=$(".js-count-down-anchor:first"),c=this.remainingTime,f=Twig.render(productOfTheDayWith).replace("%d","0"),a=Twig.render(discount_countDownTimer,{title:f,pieces:this.getPieces(c),price:a+($(".js-template-id.js-icon-weblium").length?"/"+Twig.render(getYearText):"")});b.prepend(a);return b}};CLS36.prototype.replaceDiscountValue=function(a){a&&$(".js-countdown-block-heading .percent").text(a.getPercent())};
CLS36.prototype.showCountdown=function(){var a=$(".js-countdown-block");!a.hasClass("show")&&!a.parent().hasClass("not-show-discount")&&setTimeout(function(){a.removeClass("closed").addClass("show").removeClass("pointer-events-none");fixedAddCart()},400)};CLS36.prototype.hideCountdown=function(){$(".js-countdown-block").removeClass("show").addClass("pointer-events-none");setTimeout(function(){fixedAddCart()},500)};
CLS36.prototype.closeCountdown=function(){this.hideCountdown();$(".js-countdown-block").addClass("closed")};CLS43=function(a,b,c){CLS38.call(this,a,b,c)};goog.inherits(CLS43,CLS38);
CLS43.prototype.draw=function(){var a=this.getTemplates();goog.array.forEach(a,function(a){var c=a.getOriginalPrice(),f=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),g=$('.js-template-price[data-tid="'+a.getId()+'"]'),h=g.parents("li.thumbnail"),j=g.parents(".thumbnail-container"),k=$(".badge-custom",h),l=Twig.render(messageBadgeSale),u="";if(c!=f)if(u=g.is(".js-free-sample-discount")?'<span class="discount-price"><span class="line-through">'+this._language.formatMoney(c)+
'</span></span><span class="dollar-icon"></span>'+this._language.formatMoney(f)+(g.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):"")+"":'<span class="discount-price"><span class="line-through">'+this._language.formatMoney(c)+"</span></span>"+this._language.formatMoney(f)+(g.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):""),g.attr("data-purchase_price",f),g.html(u),0<k.length)k.not(".badge-lastadded").removeClass("badge-bestsellers").removeClass("badge-recently-updated").addClass("badge-sale").html('<span class="badge-text">'+
l+"</span>");else if(a=$("#thmb-img-"+a.getId()))if(a=a.attr("href"))l="<div data-href='"+a+"' class='badge-custom badge-sale js-btn link-click'><span class='badge-text'>"+l+"</span></div>",0<j.length?j.prepend(l):h.prepend(l)},this)};
CLS43.prototype.getTemplates=function(){var a=[],b=[];$(".js-thumbnail").each(function(){var c=$(this).data("tid"),f=$('.js-template-price[data-tid="'+c+'"]');0<f.length&&!goog.array.contains(b,c)&&(b.push(c),a.push(new tm.discount.model.templateWithoutLicense(c,f)))});return a};CLS42=function(a,b,c){CLS38.call(this,a,b,c)};goog.inherits(CLS42,CLS38);
CLS42.prototype.draw=function(){var a=this.getTemplates();goog.array.forEach(a,function(a){var c=a.getOriginalPrice(),f=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),a=$('.js-suggested-price[data-tid="'+a.getId()+'"]');c!=f&&(c='<b class="discount-price line-through">'+this._language.formatMoney(c)+"</b>"+this._language.formatMoney(f),a.html(c))},this)};
CLS42.prototype.getTemplates=function(){var a=[],b=[];$(".js-suggested-item").each(function(){var c=$(this).data("tid"),f=$('.js-suggested-price[data-tid="'+c+'"]');0<f.length&&!goog.array.contains(b,c)&&(b.push(c),a.push(new tm.discount.model.templateWithoutLicense(c,f)))});return a};CLS35=function(a,b,c){CLS38.call(this,a,b,c)};goog.inherits(CLS35,CLS38);
CLS35.prototype.draw=function(){var a=this.getTemplates();goog.object.forEach(a,function(a){var c=a.getOriginalPrice(),f=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),a='.js-license[data-template_id="'+a.getId()+'"]',g=$(".js-total-promocode-discount").attr("data-discount-value");"undefined"!=typeof g&&""!=g&&parseInt($(a).data("subtotal_price"))<f&&(f=c);goog.array.forEach($(a),function(a){if(!this._isExclusive(a)){var b=$(".js-txt-price",a),g=parseInt($(a).data("full_price")),
l=parseInt(g)-parseInt(c)+parseInt(f);$(a).attr("data-subtotal_price")!=l&&($(a).attr("data-subtotal_price",l),a=" +"+this._language.formatMoney(l)+(b.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):""),g!=l&&(a=appDic.require("experiment"),a=goog.isDef(a)&&a.itemPage()?Twig.render(discount_simple,{price:this._language.formatMoney(g)+(b.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):""),finalPrice:this._language.formatMoney(l)+(b.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):
"")}):Twig.render(discount_simple_with_plus,{price:this._language.formatMoney(g)+(b.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):""),finalPrice:this._language.formatMoney(l)+(b.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):"")})),b.html(a))}},this)},this)};
CLS35.prototype.getTemplates=function(){var a=[],b=[];$(".js-license").each(function(){var c=$(this).data("template_id");"regular"==$(this).data("license")&&!goog.array.contains(b,c)&&(b.push(c),a.push(new tm.discount.model.templateWithLicense(c,$(this))))});return a};CLS33=function(a,b,c){CLS38.call(this,a,b,c)};goog.inherits(CLS33,CLS38);
CLS33.prototype.draw=function(){var a=this.getTemplates();goog.object.forEach(a,function(a){var c=a.getOriginalPrice(),f=a.getPurchasePrice(this.getSSD(),this.getDiscountLink());if(!isNaN(c)&&!isNaN(f)){var g=$('.js-also-available-as[data-tid="'+a.getId()+'"] .js-price, .js-other-platforms[data-tid="'+a.getId()+'"] .js-price'),a=$('.js-also-available-as-without-price[data-tid="'+a.getId()+'"]');if(c!=f){if(g.hasClass("js-price")){var h=appDic.require("experiment"),c=goog.isDef(h)&&
h.itemPage()?Twig.render(discount_simple,{price:this._language.formatMoney(c),finalPrice:this._language.formatMoney(f)}):Twig.render(discount_simple_with_plus,{price:this._language.formatMoney(c),finalPrice:this._language.formatMoney(f)});g.html(c)}g.attr("data-price",f);a.attr("data-price",f)}}},this)};
CLS33.prototype.getTemplates=function(){var a=[],b=[];$(".js-also-available-as, .js-other-platforms").each(function(){var c=$(this).data("tid"),f=$(".js-price",$(this));0<f.length&&!goog.array.contains(b,c)&&(b.push(c),a.push(new tm.discount.model.templateWithoutLicense(c,f)))});$(".js-also-available-as-without-price").each(function(){var c=$(this).data("tid"),f=$(this);0<f.length&&!goog.array.contains(b,c)&&(b.push(c),a.push(new tm.discount.model.templateWithoutLicense(c,f)))});
return a};CLS40=function(a,b,c){CLS43.call(this,a,b,c)};goog.inherits(CLS40,CLS43);CLS40.prototype.getTemplates=function(){var a=[],b=[];$(".js-out-off-stock").each(function(){var c=$(this).data("tid"),f=$(".js-template-price",$(this));0<f.length&&!goog.array.contains(b,c)&&(b.push(c),a.push(new tm.discount.model.templateWithoutLicense(c,f)))});return a};CLS37=function(a,b,c){CLS38.call(this,a,b,c)};goog.inherits(CLS37,CLS38);
CLS37.prototype.draw=function(){var a=this.getTemplates();goog.object.forEach(a,function(a){var c=a.getOriginalPrice(),f=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),a=$(".js-demo-buy-button");goog.array.forEach(a,function(a){if(!this._isExclusive(a)){var b=$(a).data("price"),j=parseInt(b)-parseInt(c)+parseInt(f);b!=j&&(b='<span class="discount">'+this._language.formatMoney(b)+'</span> <span class="new-price js-new-price">'+this._language.formatMoney(j)+"</span> ",$('.js-demo-list-li[data-variant="'+
$(a).data("variant")+'"] ').attr("data-price",j).find(".js-price").html(b),$(a).attr("data-price",j),a=$(".price-wrapper."+$(a).data("variant")),1==a.length&&a.find(".js-price:first").html(b))}},this)},this)};
CLS37.prototype.getTemplates=function(){var a=[],b=$('.js-demo-buy-button[data-variant="regular"]:first');0<b.length&&goog.array.isNumeric($(".js-demo-upper-menu").data("template_id"))&&a.push(new tm.discount.model.templateWithLicense($(".js-demo-upper-menu").data("template_id"),b));return a};CLS41=function(a,b,c){CLS43.call(this,a,b,c)};goog.inherits(CLS41,CLS43);CLS41.prototype.getTemplates=function(){var a=[],b=[];$(".js-product-of-the-day-item").each(function(){var c=$(this).data("tid"),f=$(".js-template-price",$(this));0<f.length&&!goog.array.contains(b,c)&&(b.push(c),a.push(new tm.discount.model.templateWithoutLicense(c,f)))});return a};
CLS41.prototype.getDiscountPriceBlock=function(a){return $('<div class="price-item"><label>'+Twig.render(yourPrice)+'</label><strong class="discount-price">'+a+"</strong></div>")};
CLS41.prototype.getDiscountValueBlock=function(a){return"tr"===$("html").attr("lang")?$('<div class="price-item"><label>'+Twig.render(youSave)+'</label><span class="discount">%'+a+"</span></div>"):$('<div class="price-item"><label>'+Twig.render(youSave)+'</label><span class="discount">'+a+"%</span></div>")};
CLS41.prototype.draw=function(){var a=this.getTemplates(),b=[];goog.array.forEach(a,function(a){var f=a.getOriginalPrice(),g=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),h=$(".js-template-price",$('.js-product-of-the-day-item[data-tid="'+a.getId()+'"]')),j=a.getActiveDiscount(this.getSSD(),this.getDiscountLink());f!==g&&(1===$(h).children().length&&-1!==$.inArray(j.getContextId(),["13964","13965"]))&&(b.push({id:a.getId(),code:j.getCode(),discount:j.getPercent(),
period_stop:j.getPeriodStop()}),h.prepend(this.getDiscountPriceBlock(this._language.formatMoney(g))).append(this.getDiscountValueBlock(j.getPercent())),$(".js-discount-percent").html(Twig.render(discount).replace("%d",j.getPercent())))},this);$(document).trigger("drawDiscounts.ProductOfTheDay",{templates:b})};CLS34=function(a,b,c){CLS38.call(this,a,b,c)};goog.inherits(CLS34,CLS38);
CLS34.prototype.draw=function(){var a=this.getTemplates();goog.object.forEach(a,function(a){var c=a.getOriginalPrice(),f=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),g=$('.js-popover-cart .js-suggested-item[data-tid="'+a.getId()+'"]');if(!this._isExclusive(g)){var a=$('.js-popover-cart .js-price[data-tid="'+a.getId()+'"]'),h=parseInt($(g).data("full_price")),c=parseInt(h)-parseInt(c)+parseInt(f);h!==c&&($(g).attr("data-purchase_price",c),g=Twig.render(discount_bottom_panel,
{full_price:this._language.formatMoney(h),finalPrice:this._language.formatMoney(c)}),a.html(g))}},this)};CLS34.prototype.getTemplates=function(){var a=[],b=[];$(".js-popover-cart .js-suggested-item").each(function(){var c=$(this).data("tid"),f=$('.js-popover-cart  .js-price[data-tid="'+c+'"]');0<f.length&&!goog.array.contains(b,c)&&(b.push(c),a.push(new tm.discount.model.templateWithoutLicenseInCart(c,f)))});return a};CLS39=function(a,b,c){CLS38.call(this,a,b,c)};goog.inherits(CLS39,CLS38);
CLS39.prototype.draw=function(){var a=this.getTemplates();if(0!==a.length){var b=$('.js-preview-price[data-template_id="'+a.getId()+'"]'),c=a.getOriginalPrice(),f=a.getPurchasePrice(this.getSSD(),this.getDiscountLink()),g=a.getActiveDiscount(this.getSSD(),this.getDiscountLink());g&&goog.array.forEach(b,function(a){if(!this._isExclusive(a)){var a=$(".js-price",a),b=parseInt(a.data("price")),k=parseInt(a.data("full_price")),l=b-c+f;k==b&&b!=l&&(b=(contextE=14229==g._contextId)?this._language.formatMoney(l):
Twig.render(discount_itemPageSingle,{old_price_str:this._language.formatMoney(b)+(a.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):""),new_price_str:this._language.formatMoney(l)+(a.hasClass("js-weblium-price")?"/"+Twig.render(getYearText):"")}),a.attr("data-price",l).html(b))}},this)}};
CLS39.prototype.getTemplates=function(){var a=[],b=$(".js-preview-price:first"),c=$(".js-price:first",b);0<c.length&&goog.array.isNumeric($(b).attr("data-template_id"))&&(a=new tm.discount.model.templateWithLicense($(b).attr("data-template_id"),c));return a};tm.cart=tm.cart||{};tm.cart.model={};tm.cart.view={};tm.cart.plugin={};CLS11=function(a){this._language=a;this._cart=$("header #shp-cart");this._cart_counter=$(".js-cart-count");this._header_cart_counter=this._cart.find("#cart-count");this._header=$("h1.shopping-cart-title");this._loyaltyPrice=null;this._userRanges=[];isLocalStorageExists()&&localStorage.getItem("locale")!==this._language.lang&&(this._reValidate(),localStorage.setItem("locale",this._language.lang));$(document).on("MainEvents.user.login",$.proxy(function(){this._reValidate()},this))};
defineService(["language"],CLS11);CLS11.prototype._cart=null;CLS11.prototype._cart_counter=null;CLS11.prototype._header_cart_counter=null;CLS11.prototype._header=null;CLS11.VIRTUAL_CART_QUERY_PARAM="_tmvcid";CLS11.prototype.isEmpty=function(){return!this._cart_counter.is(":visible")};
CLS11.prototype.showCounter=function(a,b){if(a){var c=1<a?Twig.render(cartItems):Twig.render(cartItem);this._cart.setTooltip({placement:"bottom",html_class:"cart-popover",mode:"multi-line",title:'<div class="text-center lowercase"><div class="cart-popover-price">'+this._language.formatMoney(b)+"</div>"+a+"\t"+c+"</div>"});this._header_cart_counter.children("span").html(a);this._cart_counter&&(this._cart_counter.text(a),$(".js-cart-summary .js-cart-count").html(a));this._cart.addClass("button btn-important")}else this._cart.removeClass("button btn-important"),
this._cart.tooltip("destroy");$(document).trigger("MainEvents.cart.recalculated",{count:a,value:b})};CLS11.prototype.hideCounter=function(){this._header.html(Twig.render(messageShoppingCartIsEmpty));return this.showCounter()};CLS11.prototype.checkCookie=function(){var a=this.getCount(),b=this.getAmount();!isNaN(a)&&!isNaN(b)&&0<a?this.showCounter(a,b):this.hideCounter()};
CLS11.prototype.getTotal=function(){var a=parseInt($(".js-cart-summary-subtotal .js-price").attr("data-price")),b=parseInt($(".js-total-promocode-discount-amount").attr("data-discount"));return a-b};
CLS11.prototype.recalculate=function(){var a=$(".js-cart-summary-content .js-item-template").not(".js-none"),b=$(".js-cart-summary-subtotal .js-price"),c=$(".js-total-promocode-discount-amount"),f=0,g=0,h=$(".js-total-price"),j=0,k=0;a.each(function(){var a=0,b=0;$(this).find(".js-popup-cart-item").not(".js-none").each(function(){b+=parseInt($(this).attr("data-subtotal_price"));a=$(this).hasClass("offer")?a+parseInt($(this).attr("data-price")):a+parseInt($(this).attr("data-subtotal_price"))});
j+=parseInt(a);k+=parseInt(b)});a=$(".js-total-promocode-discount").attr("data-discount-value");if("undefined"!=typeof a&&""!=a){var l=0;$.each($(".js-total-promocode-discount").attr("data-products").split(","),function(a,b){var c=$('.js-cart-summary-content [data-template_id="'+b+'"]').not(".js-none");0!=c.length&&(l=c.hasClass("js-license-exclusive")?l+parseInt(c.attr("data-full_price")):l+parseInt(c.attr("data-price")))});var u=0;"$"==$(".js-total-promocode-discount").attr("data-discount-type")?
(u=a,0>l-a&&(u=l)):u=l-calcDiscount(l,a);j-=parseInt(u)}$(".js-cart-oncart-offers .js-popup-cart-item").not(".js-none").each(function(){g+=parseInt($(this).attr("data-price"));f+=parseInt($(this).attr("data-subtotal_price"))});j+=g;0>j&&(j=0);j-=this._getBonuses();k+=f;b.attr("data-price",k).html(this._language.formatMoney(k));h.attr("data-price",j).html(this._language.formatMoney(j));b=k-(j+this._getBonuses());"undefined"!=typeof b&&0==b&&$(".js-total-promocode-discount").addClass("js-none");c.html(this._language.formatMoney(b));
c.attr("data-discount",b);this.checkCookie();$(".js-bonus-diff").html(this._language.formatMoney(j));"true"!==localStorage.getItem("ProgressBar")&&appDic.require("cart").getCashback()};CLS11.prototype._getBonuses=function(){return parseInt($(".js-total-redeemed-bonus-amount").attr("data-amount"))};
CLS11.prototype.changeCheckoutUrl=function(a){var b=$(".js-checkout-button");if(0<b.length){var c=b.data("url");"undefined"===typeof c&&(c=b.attr("href"),b.attr("data-url",c));c=c.replace("step1",a);b.attr("href",c).attr("data-url",c)}};
CLS11.prototype._reValidate=function(){var a=$.url().param()[CLS11.VIRTUAL_CART_QUERY_PARAM],b="/cart-ajax/re-validate.php";"undefined"!==typeof a&&(b+="?"+CLS11.VIRTUAL_CART_QUERY_PARAM+"="+a);$.ajax({url:this._language.urlPrefix(b),type:"GET",success:function(){this.checkCookie()}.bind(this)})};CLS11.prototype.getAmount=function(){return parseInt($.cookie("sca_value"))};CLS11.prototype.getCount=function(){return parseInt($.cookie("sci_count"))};
CLS11.prototype.getIsFree=function(){return this.getCount()&&!this.getAmount()};CLS11.prototype.createVirtualCartCookie=function(){var a="_vc_"+Math.round(1E5*Math.random()).toString(36);Tm.setCookie(a,"");return a};
CLS11.prototype.getRanges=function(){var a=Tm.Config.loyaltyPrograms.apiUrl+"/v1/loyalty-users/info",b=Tm.Config.loyaltyPrograms.apiUrl+"/v1/loyalty-levels",c=this,f=function(){return fetch(b).then(function(a){return a.json()}).then(function(a){c._userRanges=a[0].ranges;appDic.require("cart").getCashback()}).catch(function(){return Error("Bad Server Response")})};if(void 0===$.cookie("access_token"))return f();fetch(a+"?access_token="+$.cookie("access_token")+"&expand=level").then(function(a){if(a.ok)return a.json();
throw Error("error user info");}).then(function(a){if(a.level)if(a.manual_bonuses&&0<a.custom_percent)c._userRanges={custom_percent:a.custom_percent},appDic.require("cart").getCashback();else if(a.manual_bonuses&&1>a.custom_percent)c._userRanges=a.level.ranges,appDic.require("cart").getCashback();else{var h=a.order_count+1;fetch(b).then(function(a){return a.json()}).then(function(a){var b=!0;a.forEach(function(a,f,g){b&&(f===g.length-1?(c._userRanges=g[g.length-1].ranges,b=!1):h<g[f+1].orders?(c._userRanges=
a.ranges,b=!1):h===g[f+1].orders&&(c._userRanges=g[f+1].ranges,b=!1))});appDic.require("cart").getCashback()}).catch(function(){return f()})}else return f()}).catch(function(){return f()})};
CLS11.prototype.getProgressBar=function(a,b,c,f,g){if(!$(".js-cart-empty").hasClass("hide")&&!g)return null;$("#Cart__ProgressBar--js").closest("#content").addClass("ContentPosition");g=localStorage.getItem("locale");g=new monsterbundle.default.toolbar("Toolbar",g,"/js/plasma-pocket-react");$("#Cart__ProgressBar--js").length&&($("#Cart__ProgressBar--js").empty(),g.show("#Cart__ProgressBar--js",{nextLevel:a,nextPercent:b,currentPercent:c,carts:f}));localStorage.setItem("ProgressBar",
!1)};
CLS11.prototype.getCashback=function(){var a=$(".js-cart-summary-content .js-item-template").not(".js-none"),b=$(".js-cart-summary"),c=0,f=this._userRanges,g=JSON.parse(localStorage.getItem("cart.promocode")),h=!0,j=this,k=$(".js-cart-oncart-offers"),l=Tm.Config.currencyRate;$(".LoyaltyPictogramWrap").hover(function(){$(this).addClass("LoyaltyPictogramWrap--tooltipShow")},function(){var a=this;setTimeout(function(){$(a).removeClass("LoyaltyPictogramWrap--tooltipShow")},500)});k.hasClass("js-none")||k.find(".js-popup-cart-item").not(".js-none").each(function(){$(this).attr("data-loyalty_product")&&
(c+=parseFloat(+$(this).attr("data-subtotal_price")))});a.each(function(){if($(this).attr("data-loyalty_product")){var a=$(this).find(".js-license").not(".js-none").attr("data-subtotal_price");c+=parseFloat(a)}$(this).find(".js-popup-cart-item").not(".js-none").not(".js-license").each(function(){$(this).attr("data-loyalty_product")&&(c+=parseFloat($(this).attr("data-subtotal_price")))})});if(null!==g&&!$.isEmptyObject(g[0].products)){var a=g[0].products,u="%"===g[0].type,p=g[0].value,q=p/g[0].products.length;
"template"===g[0].namespace?a.forEach(function(a){a=b.find('[data-product = "'+a+'"]');a.attr("data-loyalty_product")&&(a=$(a[0]).find(".js-license").not(".js-none").attr("data-subtotal_price"),c=u?c-a*(p/100):0>a-q?c-a:c-q)}):a.forEach(function(a){a=b.find('[data-offer_id = "'+a+'"]').not(".js-none, .js-dell-offer");$(a[0]).attr("data-loyalty_product")&&(a=$(a[0]).attr("data-subtotal_price"),c=u?c-a*(p/100):0>a-p?c-a:c-p)})}if(0!==this._userRanges.length)if(f.custom_percent)"true"===localStorage.getItem("ProgressBar")&&
appDic.require("cart").getProgressBar(),$("#CartCashback__userPercent--js").html(f.custom_percent+"%"),$("#CartCashback__amountCashback--js").html(j._language.formatMoney((c*(f.custom_percent/100)).toFixed(2),2));else{var n=$("#CartCashback__userPercent--js, #ProgressBar__infoCurrentLevel--js"),A=$("#ProgressBar__infoNextLevel--currentCashbackJs"),I=$("#ProgressBar__infoNextLevel--maxCashbackJs");f.forEach(function(a,b,f){if((a===f[f.length-1]||c/l<f[b+1].range.from)&&h)if(h=!1,$("#CartCashback__amountCashback--js").html(j._language.formatMoney((c*
(a.value/100)).toFixed(2),2)),a===f[f.length-1])$("#CartCashback__userPercent--js").html(a.value+"%"),"true"===localStorage.getItem("ProgressBar")?appDic.require("cart").getProgressBar():(A.addClass("js-none"),I.removeClass("js-none"));else{var g=a.range.to*l-c+1;"true"===localStorage.getItem("ProgressBar")?(appDic.require("cart").getProgressBar(j._language.formatMoney(g),f[b+1].value,a.value,1),n.html(a.value+"%")):(n.html(a.value+"%"),A.removeClass("js-none"),I.addClass("js-none"),$("#ProgressBar__infoNextLevel--moneyJS").html(j._language.formatMoney(g)),
$("#ProgressBar__infoNextLevel--percentJs").html(" "+f[b+1].value+"% "))}})}this._loyaltyPrice=c};CLS11.prototype.getTotalLoyaltyPrice=function(){return this._loyaltyPrice};CLS16=function(a){this._language=a;this._floatPanel=new Tm.floatPanel};defineService(["language"],CLS16);
CLS16.prototype.renderAll=function(a,b,c){var f="",a=goog.array.concat(goog.object.getValues(a),goog.object.getValues(b)),b=a.slice(0,5);$(".js-cart-float .js-popover-cart").html("");goog.array.forEach(b,function(a){a.price=+a.price;a.purchase_price=+a.purchase_price;f="template"===a.namespace?f+Twig.render(panel_item_in_cart_template,a):f+Twig.render(panel_item_in_cart_offer,a)});goog.string.isEmptySafe(f)||($(".js-cart-float .js-popover-cart").prepend(f),0<goog.object.getCount(c)&&
goog.object.forEach(c,function(a,b){var c=goog.array.reduce(goog.object.getValues(a),function(a,b){return a+Twig.render(panel_item_in_cart_ontemplate_offer,b)},"");$(".js-suggested-item.js-suggested-"+b+" .js-subitems").append(c)}),$(".js-panel-item.js-cart-float").addClass("filled"));this.renderButton(a.length-b.length)};CLS16.prototype.renderEmpty=function(){$(".js-cart-float .js-popover-cart").html("")};
CLS16.prototype.updateCounter=function(a){goog.isDef(a)&&"count"in a&&"amount"in a?($(".js-cart-float").addClass("filled"),$(".js-cart-float .js-panel-acknowledgement .js-count").html(a.count),$(".js-cart-float .js-panel-acknowledgement .js-amount").html(this._language.formatMoney(a.amount)).removeClass("js-none"),this.renderButton(a.count-5)):($(".js-cart-float .js-panel-acknowledgement .js-count").html(0),$(".js-cart-float .js-panel-acknowledgement .js-amount").addClass("js-none"),
$(".js-cart-float").removeClass("filled"))};CLS16.prototype.renderButton=function(a){0===$(".js-cart-float .js-popover-cart .js-cart-view-more-btn").length&&$(".js-cart-float .js-popover-cart").append(Twig.render(panel_cart_button));0<a?$(".js-cart-view-more-btn").removeClass("js-none").find(".js-count").html(a):$(".js-cart-view-more-btn").not(".js-none").addClass("js-none")};
CLS16.prototype.removeFromCart=function(a){var b=$(a).data("title-stored"),c=$(a).data("title-back"),f="";$(a).closest(".js-suggested-item").toggleClass("removed").toggleClass("js-removed");f=$(a).hasClass("icon-remove-circle")?c:b;$(a).setTooltip({title:f,hideOnTablet:!0});$(a).toggleClass("icon-remove-circle icon-restore")};CLS16.prototype.animateAddition=function(){this._floatPanel.addingAction($(".js-cart-float"))};CLS12=function(a,b){this._language=a;this._cart=b};defineService(["language","cart"],CLS12);
CLS12.prototype.rollUpCart=function(a){var b={},c={},f={};if(0===a.length)return!1;goog.array.forEach(a,function(a){if("offer"===a.namespace&&!/offer-[\d]+-0/.test(a.id)&&/offer-[\d]+-([\d]+)/.test(a.id)){var h="template-"+/offer-[\d]+-([\d]+)/.exec(a.id)[1];goog.isDefAndNotNull(c[h])||(c[h]=[]);c[h][a.id]=a}"template"===a.namespace&&(b[a.id]=a);"offer"===a.namespace&&/offer-[\d]+-0/.test(a.id)&&(f[a.id]=a)},this);return[b,f,c]};
CLS12.prototype.getTotal=function(){var a=this.getSuppositiveRemovals(),b=new tm.cart.model.itemRepository("total");total={count:0,amount:0};goog.isDef(b.getAll()[0])&&(total=b.getAll()[0]);if(0===goog.object.getCount(a))return total;if(!goog.isDef(total.count)||!goog.isDef(total.amount))return b.clear(),b.insert(total),{count:0,amount:0};var c=0,f=0,b=(new tm.cart.model.itemRepository("promocode")).getAll();goog.isDefAndNotNull(b[0])&&(b=b[0]);goog.object.forEach(a,function(a,
b){var j=+$(".js-popover-cart .js-suggested-"+b).attr("data-purchase_price");c+=isNaN(j)?0:j;"offer"===a.namespace&&!/offer-[\d]+-0/.test(a.id)&&/offer-[\d]+-([\d]+)/.test(a.id)||f++});total.count-=f;total.amount-=c;return total};
CLS12.prototype.getSuppositiveRemovals=function(){var a=new tm.cart.model.itemRepository("items"),b,c,f,g=this.rollUpCart(a.getAll()),h=(new tm.cart.model.itemRepository("queue")).getAll().reverse(),j={};b=g.length&&goog.isArray(g)&&goog.isDef(g[0])?g[0]:[];c=g.length&&goog.isArray(g)&&goog.isDef(g[1])?g[1]:[];f=g.length&&goog.isArray(g)&&goog.isDef(g[2])?g[2]:[];for(var k in h)if(g=a.find({id:h[k].id}))if("remove"===h[k].action)if(j[g.id]=g,goog.isDef(b[g.id]))delete b[g.id];
else if(goog.isDef(c[g.id]))delete c[g.id];else{var l=/offer-[\d]+-([\d]+)/.exec(g.id);goog.isArray(l)&&(l="template-"+l[1],goog.isDef(f[l])&&(delete f[l][g.id],0===goog.object.getCount(f[l])&&delete f[l]))}else delete j[g.id],"offer"===g.namespace&&!/offer-[\d]+-0/.test(g.id)&&/offer-[\d]+-([\d]+)/.test(g.id)?(l=/offer-[\d]+-([\d]+)/.exec(g.id),l="template-"+l[1],goog.isDef(f[l])||(f[l]={}),f[l][g.id]=g):"offer"===g.namespace?c[g.id]=g:b[g.id]=g;a=$(goog.object.getKeys(f)).not(goog.object.getKeys(b)).get();
goog.array.forEach(a,function(a){goog.isDef(f[a])&&0!==goog.object.getCount(f[a])&&(j=$.extend(j,f[a]))});return j};CLS12.prototype.save=function(a){var b=new tm.cart.model.itemRepository("items");b.clear();goog.array.forEach(a,function(a){a.price_str=this._language.formatMoney(a.price);a.purchase_price_str="template"===a.namespace?this._language.formatMoney(a.full_price):this._language.formatMoney(a.purchase_price);b.safeInsert(a)},this)};
CLS12.prototype.savePromocode=function(a){var b=new tm.cart.model.itemRepository("promocode");b.clear();"ns"in a&&(a.namespace=a.ns,delete a.ns);"products"in a&&goog.isString(a.products)&&(a.products=a.products.split(","));b.safeInsert(a)};CLS12.prototype.isCartEmpty=function(){var a=new tm.cart.model.itemRepository("items"),b=this.getTotal();return 0===a.getAll().length||this._cart.getAmount()||b.amount!==this._cart.getAmount()};
CLS12.prototype.setTotal=function(a){var b=new tm.cart.model.itemRepository("total");b.clear();b.insert({count:"count"in a?a.count:0,amount:"value"in a?a.value:0})};CLS12.prototype.clear=function(){var a=new tm.cart.model.itemRepository("total"),b=new tm.cart.model.itemRepository("promocode"),c=new tm.cart.model.itemRepository("items"),f=new tm.cart.model.itemRepository("queue");a.clear();b.clear();c.clear();f.clear()};tm.cart.model.itemRepository=function(a){this._storageName="cart."+a};tm.cart.model.itemRepository.prototype.safeInsert=function(a){var b=this.find(a);b&&this.remove(b);b=this.getAll();b=$.merge([a],b);localStorage.setItem(this._storageName,JSON.stringify(b))};tm.cart.model.itemRepository.prototype.insert=function(a){var b=this.getAll(),b=$.merge([a],b);isLocalStorageExists()&&localStorage.setItem(this._storageName,JSON.stringify(b))};tm.cart.model.itemRepository.prototype.clear=function(){localStorage.removeItem(this._storageName)};
tm.cart.model.itemRepository.prototype.getAll=function(){var a=localStorage.getItem(this._storageName);return goog.string.isEmptySafe(a)?[]:JSON.parse(a)};tm.cart.model.itemRepository.prototype.remove=function(a){var b=goog.array.filter(this.getAll(),function(b){return goog.isObject(a)?b.id!==a.id:b!==a});localStorage.setItem(this._storageName,JSON.stringify(b))};
tm.cart.model.itemRepository.prototype.find=function(a){var b=goog.array.filter(this.getAll(),function(b){return goog.isObject(a)?b.id===a.id:b===a});return 0<b.length?b[0]:!1};CLS9=function(a,b,c,f){this._language=a;this._cart=b;this._view=c;this._plugin=f};defineService(["language","cart","bottom-panel-view","bottom-popover-plugin"],CLS9);CLS9.prototype.init=function(){this.initTriggers();if(!this._cart)return this;this._plugin.isCartEmpty()&&this._plugin.clear();this._cart.getCount()&&this._plugin.isCartEmpty()?this.load():this.show();return this};
CLS9.prototype.updateCounter=function(){var a=this._plugin.getTotal();"count"in a&&"amount"in a&&(a.count=0<a.count?a.count:0,a.amount=0<a.amount?a.amount:0);this._view.updateCounter(a)};CLS9.prototype.load=function(){$.when(this.getCartContent()).then(function(){this.show()}.bind(this))};
CLS9.prototype.initTriggers=function(){$(document).on("MainEvents.user.login",$.proxy(function(){this.load()},this));$(document).on("MainEvents.cart.recalculated",function(a,b){this._plugin.setTotal(b);var c=this._plugin.getTotal();this._view.updateCounter(c)}.bind(this));$(document).on("MainEvents.cart.add.product",function(){this._view.animateAddition()}.bind(this));$(document).on("mouseup",".js-btn-remove-from-cart",function(a){var b=$(a.currentTarget).closest(".js-suggested-item");
this._view.removeFromCart(a.currentTarget);$(b).is(".js-removed")?this.updateProduct(b,"remove"):this.updateProduct(b,"restore");a.stopPropagation()}.bind(this));$(document).on("MainEvents.FloatedPanel.popover.hide",function(a,b){var c=$(b.elements).filter(".opened");$(c).hasClass("js-cart-float")&&this.sendQueue().done(function(){this.show()}.bind(this))}.bind(this));$(document).on("mouseup",".js-float-panel-checkout",function(){this.sendQueue()}.bind(this));$(".js-languages-menu").on("mouseup",
"a",function(){this._plugin.clear()}.bind(this))};
CLS9.prototype.show=function(){var a=(new tm.cart.model.itemRepository("items")).getAll(),b,c;if(0===a.length)return this._view.renderEmpty(),this._view.updateCounter(),!1;c=this._plugin.rollUpCart(a);a=c.length&&goog.isArray(c)&&goog.isDef(c[0])?c[0]:[];b=c.length&&goog.isArray(c)&&goog.isDef(c[1])?c[1]:[];c=c.length&&goog.isArray(c)&&goog.isDef(c[2])?c[2]:[];this._view.renderAll(a,b,c);appDic.require("collection").renderAll();appDic.require("discount").drawPrices();a=$(".js-cart-float .js-hint-tooltip");
0<a.length&&a.setTooltip()};CLS9.prototype.getCartContent=function(){return $.ajax({url:this._language.urlPrefix()+"/cart-ajax/cart-content.php",type:"GET",dataType:"json"}).done(function(a){if(!goog.isDefAndNotNull(a)||!("products"in a)||!goog.isDefAndNotNull(a.products))return!1;this._plugin.clear();this._plugin.save(a.products);"promocode"in a&&goog.isDefAndNotNull(a.promocode)&&this._plugin.savePromocode(a.promocode)}.bind(this))};
CLS9.prototype.sendQueue=function(){var a=this._plugin.getSuppositiveRemovals();if(0===goog.object.getCount(a))return $.Deferred().reject();var b=this._hasQueueTemplates(a);return $.ajax({url:this._language.urlPrefix()+"/cart-ajax/batch-remove.php",type:"POST",dataType:"json",data:{products:goog.object.getKeys(a)}}).done(function(a){if(!goog.isDefAndNotNull(a)||!("products"in a)||!goog.isDefAndNotNull(a.products))return!1;this._plugin.clear();this._plugin.save(a.products);"promocode"in
a&&goog.isDefAndNotNull(a.promocode)&&this._plugin.savePromocode(a.promocode);this._cart.checkCookie();this.updateCounter();detectPreviewPage()?updateCart(!0):initDiscounts();b&&$(document).trigger("MainEvents.cart.deleted.template")}.bind(this))};CLS9.prototype._hasQueueTemplates=function(a){var b=!1;goog.object.forEach(a,function(a){"template"===a.namespace&&(b=!0)});return b};
CLS9.prototype.updateProduct=function(a,b){var c=new tm.cart.model.itemRepository("queue"),f=$(a).attr("data-element_id");c.insert({action:b,id:f});this.updateCounter()};CLS15=function(){};CLS15.prototype.spinner_;CLS15.prototype.number_of_ajax_=0;CLS15.prototype.enterDocument=function(){$(document).on("start.cart.load",$.proxy(this.onLoadStart,this));$(document).on("start.cart.load.block.checkout",$.proxy(this.onLoadStartBlockCheckout,this));$(document).on("stop.cart.load",$.proxy(this.onLoadStop,this));$(document).on("stop.cart.load.block.checkout",$.proxy(this.onLoadStopBlockCheckout,this))};
CLS15.prototype.onLoadStart=function(a,b){if("undefined"===typeof b)return!1;this.SpinnerOn_(b.button);this.ButtonOff_(b.button,"undefined"==typeof b.disableFull?!0:b.disableFull);"function"===typeof b.callbackFunk&&b.callbackFunk()};CLS15.prototype.onLoadStartBlockCheckout=function(a,b){if("undefined"===typeof b)return!1;this.number_of_ajax_++;this.onLoadStart(a,b);$(".js-checkout-button").removeClass("disabled").removeClass("loading").removeAttr("disabled")};
CLS15.prototype.onLoadStop=function(a,b){if("undefined"===typeof b)return!1;this.SpinnerOff_(b.button);"undefined"!==typeof b.enableButton&&!1!=b.enableButton&&this.ButtonOn_(b.button,"undefined"==typeof b.disableFull?!0:b.disableFull);"function"===typeof b.callbackFunk&&b.callbackFunk()};
CLS15.prototype.onLoadStopBlockCheckout=function(a,b){if("undefined"===typeof b)return!1;this.number_of_ajax_--;0>=this.number_of_ajax_&&$(".js-checkout-button").prop("disabled",!1);this.onLoadStop(a,b)};CLS15.prototype.SpinnerOn_=function(a){a.addClass("disabled loading")};CLS15.prototype.SpinnerOff_=function(a){a.removeClass("disabled loading")};CLS15.prototype.ButtonOn_=function(a,b){b?a.removeClass("disabled"):a.prop("disabled",!1).removeClass("half-disabled").removeAttr("disabled")};
CLS15.prototype.ButtonOff_=function(a,b){b?a.addClass("disabled"):a.prop("disabled",!0).addClass("half-disabled").attr("disabled","disabled")};CLS10=function(a,b){this._cart=a;this._language=b};defineService(["cart","language"],CLS10);
CLS10.prototype.enterDocument=function(){$(".js-checkout-bonus-input").on("focus",function(){!1===$(this).parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").is(":checked")&&$(this).parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").prop("checked",!0)});$.isFunction($.fn.currencyFormater)&&$(".js-checkout-bonus-input").currencyFormater();$.isFunction($.fn.formHandler)&&$("#bonuses-form").formHandler({disable_ajax:!0,popover_placement:"top",check_fields_on_blur:!1,
on_before_validate:function(a){a.bonus.value=$(a.bonus).currencyFormater().val();detectOldIe()&&a.bonus.value>this._getAvailableAmount()&&(a.bonus.value=this._getAvailableAmount());switch(!0){case isNaN(a.bonus.value):case 0>=a.bonus.value:a.bonus.value=0}}.bind(this),on_before_submit:function(a){var b=$(".js-checkout-bonus-input").currencyFormater().val(),b=this._getRedeemedAmount(b);if(0>=b)return $(".js-bonus-amount-none").click(),$(a).formHandler("hide-ajax-progress"),!1;var c=this._getFullAmount(),
c=c-b;$(".js-checkout-bonus-available-amount").html(this._language.formatMoney(c)).attr("data-redeemed_amount",b);$(a).parent("div").addClass("js-none");$(".js-checkout-bonus-input").click();$(".js-checkout-bonus-redeemed-amount").html(this._language.formatMoney(b)).siblings(".js-bonus-amount-radio").click().parents(".js-loyalty-bonus-radio").removeClass("js-none");$(".js-total-redeemed-bonus-amount").attr("data-amount",b).html(this._language.formatMoney(b)).parents(".js-total-redeemed-bonus").removeClass("js-none");
this._getShoppingCart().recalculate();b=parseInt($(".js-total-price").attr("data-price"));this.displayBuyButtons_(0!==b);$(a).formHandler("hide-ajax-progress");return!1}.bind(this)});$(".js-redeemed-button-change").click(function(){this.openChangeBlock_();$(".js-checkout-bonus-input").parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").click();this.focusFirst()}.bind(this));$(".js-bonus-amount-none").click(function(){$("#bonuses-form").formHandler("disable-validation");$("#bonuses-form").formHandler("reset-errors");
$("#bonuses-form").formHandler("enable-validation");this._doNotApply()}.bind(this));$(".js-bonus-radio-choose").click(function(){!1===$(".js-checkout-bonus-input").is(":focus")&&this.focusFirst()}.bind(this))};CLS10.prototype.displayBuyButtons_=function(a){a?($(".js-payment-select-merchant").removeClass("js-none"),$(".js-payment-complete-order").addClass("js-none")):($(".js-payment-select-merchant").addClass("js-none"),$(".js-payment-complete-order").removeClass("js-none"));return!1};
CLS10.prototype.openChangeBlock_=function(){$(".js-redeemed-button-change").parents(".js-loyalty-bonus-radio").addClass("js-none");$(".js-checkout-bonus-input").parents(".js-loyalty-bonus-radio").removeClass("js-none")};CLS10.prototype._getAvailableAmount=function(){return parseInt($(".js-checkout-bonus-available-amount").attr("data-available_amount"))};CLS10.prototype._getFullAmount=function(){return parseInt($(".js-checkout-bonus-available-amount").attr("data-full_amount"))};
CLS10.prototype._getShoppingCart=function(){return this._cart};CLS10.prototype._doNotApply=function(){$(".js-total-redeemed-bonus-amount").attr("data-amount",0).html(0).parents(".js-total-redeemed-bonus").addClass("js-none");this._getShoppingCart().recalculate();$(".js-checkout-bonus-available-amount").html(this._language.formatMoney(this._getFullAmount())).attr("data-redeemed_amount",this._getAvailableAmount());this.displayBuyButtons_(!0);this.openChangeBlock_();$(".js-checkout-bonus-input").val(this._getAvailableAmount()).blur()};
CLS10.prototype._getRedeemedAmount=function(a){return parseInt(a.replace(/\D/g,""))};CLS10.prototype.focusFirst=function(){$(".js-checkout-bonus-input").focus()};tm.cart=tm.cart||{};CLS13=function(a){this._onAfterLoad=this._isPopupLoaded=!1;this._language=a};defineService(["language"],CLS13);
CLS13.prototype.init=function(a){this._onAfterLoad=a;var b=parseInt($(".js-template-id").attr("data-template_id"));if(goog.string.isEmptySafe(b)||0>=$(".js-button-add-to-cart").length)return!1;var c=this;setTimeout(function(){if(c._isPopupLoaded)return!1;c.loadPopup(b)},2E3);$(".js-button-add-to-cart").on("click",function(a){var g=$(a.target);if(c.needReload())return a=parseInt($('form input[name="add"]').val()),this.setPopupLoaded(!1),c.killPopup(b).loadPopup(a).done(function(){addToCart(g)}),
!1;c._isPopupLoaded&&addToCart(g);return!1}.bind(this))};CLS13.prototype.loadPopup=function(a){var b=this;return $.ajax({url:b._language.urlPrefix()+"/ajax/cart-popup/"+a+"/",success:function(a){if(goog.string.isEmptySafe(a)||b._isPopupLoaded)return!1;0<$(".cd-panel.js-preview-cart").length?$(".cd-panel.js-preview-cart").append(a):$("body").append(a);b.setPopupLoaded(!0);$.isFunction(b._onAfterLoad)&&b._onAfterLoad()}})};
CLS13.prototype.setPopupLoaded=function(a){this._isPopupLoaded=a;$(".js-mobile-page-wrapper").length||appDic.require("cart").getProgressBar(80,5,3,1,!0);return this};CLS13.prototype.needReload=function(){var a=parseInt($('form input[name="add"]').val());return parseInt($("#cart-popup").attr("data-template_id"))!==a};CLS13.prototype.killPopup=function(){$("#cart-popup").remove();$(".js-cart-select-license-block").replaceWith("");return this};(function(a){a.fn.TMCalcPrice=function(){return this.each(function(){var b=0,c=0,b=0,b=a(this).find(".js-price"),b=parseInt(b.attr("data-price"));a(this).find('input.js-preview-offer-checkbox[type="checkbox"]:checked').each(function(){a(this).is(":checked")&&(c+=parseInt(a(this).data("price")))});b+=c;a(this).trigger("template.price.calculated",{templatePrice:b});var f=appDic.require("language");a(this).find(".js-template-price").html(f.formatMoney(b))})}})(jQuery);
function renameCompleteButton(){if(!detectCheckoutPage())return!1;var a=$("#billinginfo-form,#billinginfo2-form,#billinginfo3-form,#freeinfo-form").get(0),b=a.submit.innerHTML;a.submit.innerHTML=0>=$(".js-cart-summary .js-total-price").attr("data-price")?b.replace("Continue to Payment","Complete Order"):b.replace("Complete Order","Continue to Payment");return!0}
function updateCartItems(a){if(goog.isDefAndNotNull(a)){var b=parseInt($(".js-template-id").data("template_id")),c=appDic.require("language"),f=function(a){return"%"===a.type?Twig.render(percentLocation).replace(/##/,a.value):c.formatMoney(a.value)};if(goog.isDef(b)&&(!goog.isDef(a.template)||!goog.isDef(a.template["template-"+b])))goog.isDef(a.offer)||(a.offer={}),$(".js-preview-offer-checkbox:checked").each(function(){$(this).prop("checked",!1).siblings("a").removeClass("active")});for(var g in a)switch(g){case "errors":if(a.status){var h=
[];goog.array.forEach(a[g],function(a){h.push(a.messages)});$(".js-promo-result-box").html(h.join("<br/>"))}break;case "promocode":$(".js-promo-result-box").html(a[g].message);a[g].code&&($(".js-total-discount").html(f(a[g])),$(".js-promocode-box").val(a[g].code));0<a[g]["total-discount-amount"]&&!goog.array.isEmpty(a[g].products)?($(".js-promocode-box").val(a[g].code),$(".js-total-promocode-value-type").html(f(a[g])),$(".js-total-promocode-discount-amount").html(c.formatMoney(a[g]["total-discount-amount"])),
$(".js-total-promocode-discount").attr("data-namespace",a[g].namespace).attr("data-products",a[g].products).attr("data-discount-type",a[g].type).attr("data-discount-value",a[g].value).removeClass("js-none")):($(".js-total-promocode-discount").attr("data-discount-type","").attr("data-discount-value","").addClass("js-none"),$(".js-total-promocode-discount-amount").html(c.formatMoney(a[g]["total-discount-amount"])).attr("data-namespace","template"));appDic.require("bottom-popover-plugin").savePromocode(a[g]);
break;case "license":for(var j in a[g]){var k=j.replace(/template-/,"");$("."+j+" .js-popup-cart-item.js-license").addClass("js-none").removeClass("js-license-default");$(".js-form_select_license").find('.js-license-radio[data-template_id="'+k+'"]').removeClass("selected").find("input:checked").removeProp("checked");$("."+j+" .js-popup-cart-item.js-license-"+a[g][j]).addClass("js-license-default").removeClass("js-none");$('.js-license-radio[data-template_id="'+k+'"]').each(function(){a[g][j]==$(this).data("license")&&
$(this).addClass("selected").find("input").prop("checked",!0)})}break;case "cart_templates":$(".js-cart-summary-content").html(a[g]);break;case "cart_select_license_block":$(".js-cart-select-license-block").hide();$(".js-cart-select-license-block").replaceWith(a[g]);$(".js-cart-select-license-block").show();break;case "cart_offers":$(".item-onCartOffer").hide();$(".item-onCartOffer").replaceWith(a[g]);$(".item-onCartOffer").show();break;case "offer":for(var l in a[g]){var k=a[g][l].id,u=a[g][l].parent;
if(a[g][l].value){$(".js-popup-cart-item.offer-"+k+".js-parent-"+u).hasClass("js-parent-oncart")&&$(".js-cart-oncart-offers").removeClass("js-none");$(".js-popup-cart-item.offer-"+k+".js-parent-"+u).removeClass("js-none");var p=$(".js-popup-cart-item.js-static-offer-"+k+".js-parent-"+u+" .js-add-offer");if(0<p.length){var q=p.html();$(".cart-summary").find(".cart-summary-content .cart-summary-item.js-item-template").hasClass("js-none")?"oncart"==p.data("product")&&(p.attr("disabled","disabled").addClass("check-mark-icon").removeClass("cart-icon"),
p.html(q.replace(Twig.render(messageAddToCart),Twig.render(messageAdded)))):p.attr("disabled","disabled").addClass("disabled check-mark-icon").removeClass("cart-icon");p.html(q.replace(Twig.render(messageAddToCart),Twig.render(messageAdded))).data("action","")}b==u&&$('input.js-preview-offer-checkbox[type="checkbox"][value="'+k+'"]').prop("checked",!0).siblings("a").addClass("active")}else $(".js-popup-cart-item.offer-"+k+".js-parent-"+u).addClass("js-none"),0===$(".js-cart-oncart-offers .js-parent-oncart:visible").length&&
$(".js-cart-oncart-offers").addClass("js-none"),p=$(".js-popup-cart-item.js-static-offer-"+k+".js-parent-"+u+" .js-add-offer"),p.hasClass("js-add-offer")&&(q=p.html(),p.removeClass("disabled").removeAttr("disabled","disabled").removeClass("check-mark-icon").addClass("cart-icon").html(q.replace(Twig.render(messageAdded),Twig.render(messageAddToCart))).data("action","add")),b==u&&$('input.js-preview-offer-checkbox[type="checkbox"][value="'+k+'"]').prop("checked",!1).siblings("a").removeClass("active");
$(".js-checkout-button").removeClass("disabled loading")}break;case "oncart_full_prices":for(l in a[g])$(".offer-"+l).attr("data-price",a.prices["offer-"+l+"-0"]).attr("data-subtotal_price",a[g][l]).find(".js-original-price").addClass("js-none"),$(".offer-"+l).find(".js-purchase-price").html(c.formatMoney(a[g][l])),$(".js-static-offer-"+l).attr("data-price",a.prices["offer-"+l+"-0"]).attr("data-subtotal_price",a[g][l]).find(".js-price").html(c.formatMoney(a[g][l]));break;case "prices":for(l in a[g])/^template-.+/.test(l)&&
(parseInt($(".js-item-template."+l+" .js-license-regular").data("full_price")),k=l.replace(/template-/,""),$('.js-license-radio[data-template_id="'+k+'"] .js-txt-price, \n\t\t\t\t\t\t\t.js-license[data-template_id="'+k+'"] .js-txt-price').each(function(){$(this).parents(".js-license").attr("data-price",a[g][l])})),k=/^offer-(\d+)-(\d+)$/,k.test(l)&&(u=l.match(k),k=u[1],u=parseInt(u[2]),u=0<u?u:"oncart",0<$(".js-cart-summary .js-parent-"+u+".offer-"+k).data("full_price")&&$(".js-cart-summary .js-parent-"+
u+".offer-"+k).attr("data-price",a[g][l]));break;case "bonuses":goog.isDef(a[g].bonusBlock)?($(".js-loyalty-programm-block").replaceWith(a[g].bonusBlock).removeClass("js-none"),appDic.require("bonus").enterDocument()):$(".js-loyalty-programm-block").html("").addClass("js-none");break;case "emptyCart":a[g]?($(".js-cart-not-empty").addClass("hide"),$(".js-cart-empty").removeClass("hide"),$("#Cart__container--js").addClass("hide")):($(".js-cart-not-empty").removeClass("hide"),$(".js-cart-empty").addClass("hide"));
break;case "freeCart":detectCheckoutPage()||(p=$(".js-checkout-button"),q=p.html(),a[g]?p.html(q.replace("Checkout Now","Proceed to Download")):/proceed to download/i.test(q)&&p.html(q.replace("Proceed to Download","Checkout Now")));break;case "products":appDic.require("bottom-popover-plugin").save(a[g]);var n=[];goog.array.forEach(a[g],function(a){"template"===a.namespace&&(b===parseInt(a.model)&&$(".js-button-add-to-cart, .js-button-add-to-cart-fixed").html(Twig.render(messageAddedToCart)),$(".js-item-template."+
a.id).removeClass("js-none"),n.push(parseInt(a.model)))});$(".js-cart-summary").find(".js-item-template").each(function(){var a=parseInt($(this).data("product"));goog.array.contains(n,a)||($(this).addClass("js-none"),b===a&&(a=appDic.require("experiment"),goog.isDef(a)&&a.itemPage()?$(".js-button-add-to-cart").html(Twig.render(messageAddedToCartItemPage)):$(".js-button-add-to-cart").html(Twig.render(messageAddToCart))))})}appDic.require("bottom-controller").show();var A;"cart_templates"in a&&(A=a.cart_templates);
initDiscounts(A);$(document).on("MainEvents.discountLoaded",function(){$(".js-preview-accordion-panel").TMCalcPrice();appDic.require("cart").recalculate();renameCompleteButton();hideChatLink()}.bind(this))}}
function addToCart(a){var b=a.parents("form");$("#cart-popup").modal("show");(a=a.parents(".js-preview-accordion-panel").data("variant"))&&b.find('input[name="price_variant"]').val(a);$(document).trigger("start.cart.load.block.checkout",{button:$(".js-button-add-to-cart")});$(".js-checkout-button").addClass("loading");b=b.serialize();a=new CLS78;$(document).trigger("MainEvents.cart.add.product",{products:b});$.ajax({url:a.urlPrefix()+"/cart-ajax/addtemplate.php",data:b,dataType:"json",complete:function(){$("body").trigger("stop.cart.load",
{button:$(".js-button-add-to-cart"),disableFull:!1,enableButton:!0})},success:function(a){updateCartItems(a);$(document).trigger("MainEvents.cart.added.template");appDic.require("cart").recalculate();$(".js-loader").hide();$(".js-checkout-button").removeClass("loading");var a=new CLS46,b=$(".js-form-checkout-item-page, .js-form_services").find('input[name="add"]').val();a.addDataToCart(b,"template")}});return!1}
function addOfferToCart(a){$("#cart-popup").modal("show");$(".js-add-offer[data-offer_id="+a+"]").click();$(".js-loader").hide();$(".js-checkout-button").removeClass("loading")}
function selectLicense(a){var b=a.find(".js-license-radio.selected").data("license"),c=a.find(".js-license-radio.selected").data("price"),f=a.find(".js-license-radio.selected").data("template_id"),a=detectPreviewPage()?"preview":"cart",c="license="+b+"&price="+c+"&action=changeLicense&template_id="+f+"&page="+a,g=parseInt($(".js-template-id").data("template_id")),a=new CLS78;$(document).trigger("start.cart.load.block.checkout",{button:$(".js-license-popup-button")});$.ajax({url:a.urlPrefix()+
"/cart-ajax/changelicense.php",data:c,dataType:"json",success:function(a){$(document).trigger("stop.cart.load.block.checkout",{button:$(".js-license-popup-button"),enableButton:!0});updateCartItems(a);detectPreviewPage()&&f==g&&openSelectedLicenseAccordionBlock(b);appDic.require("cart").recalculate()}})}
function updateCart(a){var b=$("body").attr("id").replace("-page",""),c=new CLS78,b={page:b},f=$.url().param()[CLS11.VIRTUAL_CART_QUERY_PARAM];"undefined"!==typeof f&&(b[CLS11.VIRTUAL_CART_QUERY_PARAM]=f);c={url:c.urlPrefix()+"/cart-ajax/getupdate.php",data:$.param(b),dataType:"json",success:function(a){updateCartItems(a);appDic.require("cart").recalculate();$(document).trigger("cart.block.update.finish")}};"undefined"!==typeof a&&(c.async=Boolean(a));$(document).trigger("cart.block.update.start");
return $.ajax(c)}function hideChatLink(){0<$(".js-popup-cart-item.js-static-offer, .js-popup-cart-item.js-static-oncart-offer").length?$(".js-offers-question-block").removeClass("js-none"):$(".js-offers-question-block").addClass("js-none")}
function downloadSample(a){$(document).trigger("start.cart.load.block.checkout",{button:a,disableFull:!1});a.removeClass("loading disabled").removeAttr("disabled");var b="add="+a.data("sample_id")+"&price_variant=regular";$(document).trigger("MainEvents.cart.add.product",{products:b});var c=new CLS78;$.ajax({url:c.urlPrefix()+"/cart-ajax/addtemplate.php",data:b,dataType:"json",success:function(){$(document).trigger("MainEvents.cart.added.template");document.location.href=window.location.protocol+
"//"+Tm.Config.domain+"/checkout/step1.html";(new CLS46).addDataToCart(a.data("sample_id"),"template")}});return!1}
var initCartBehaviour=function(){$(".js-promo-open").removeClass("disabled-link").attr({href:"#promocode_add_content","data-toggle":"collapse"});var a=appDic.require("cart");Object.create(new CLS15).enterDocument();var b=$("#promocode_add_content").find(".js-promocode-box"),c=$("#promocode-form").formHandler({autoscroll_on_form_error:!1,on_submit_success:function(c,f,j){updateCartItems(j);goog.isDef(j.promocode.code)&&goog.string.isEmptySafe(j.promocode.code)&&$("#promocode_add_content").collapse("hide");
a.recalculate();b.data("current-code",j.promocode.code)},on_submit_error:function(c,f,j){goog.isDef(j.promocode.code)&&goog.string.isEmptySafe(j.promocode.code)&&$("#promocode_add_content").collapse("hide");updateCartItems(j);a.recalculate();b.data("current-code","")}});b.data("current-code",b.val());$("#promocode_add_content").on("hidden.bs.collapse",function(){c.formHandler("hide-errors");b.val(b.data("current-code"))}).on("shown.bs.collapse",function(){$(".js-promocode-box",this).focus()});a.recalculate();
$("#cart-popup").on("show.bs.modal",function(){$(".js-loader").show()});$("#cart-popup").on("hidden.bs.modal",function(){$(".js-loader").show()});$(".js-activate-editing").on("click",function(){$(this).parents(".js-cart-summary").toggleClass("activated_edit");return!1});var f=new Tm.Signin;a.changeCheckoutUrl(f.getCheckOutStep())};function goToCart(){window.location=Twig.render(pageCartUrl)}
$(document).on("TM_JS_LOADED",function(){appDic.require("cart").getRanges();localStorage.setItem("ProgressBar",!0);var a=appDic.require("cartPopup");hideChatLink();a.init(initCartBehaviour);initCartBehaviour();var b=Object.create(new CLS14);b.enterDocument();appDic.require("bonus").enterDocument();if(detectCheckoutPage())$(".js-cart-summary-content").on("mouseover",".js-popup-cart-item div, .js-item-template",function(){$(".js-edit-license, .js-dell-template, .js-dell-offer").addClass("js-none");
return!1});$(document).on("click",".js-license-radio",function(){$(".js-license-radio.selected").removeClass("selected");$(this).addClass("selected")});$(document).on("click",".js-item-template a.js-dell-template",function(){var a=$(this);if(detectCheckoutPage())return!1;var f=$(this).data("product"),g=$(this).data("action");$(".js-checkout-button").addClass("loading");$(this).parents(".js-item-template.template-"+f).find(".js-license").not(".js-none").addClass("js-none");$(this).parents(".js-item-template.template-"+
f).addClass("js-none");$(document).trigger("start.cart.load.block.checkout",{button:a});$('.shopping-options .js-add-offer[data-product="'+f+'"]').removeAttr("disabled").removeClass("disabled check-mark-icon").addClass("cart-icon");var h=new CLS46,j=new CLS64(f);j&&j.hasOffers()&&j.getOffers().each(function(a,b){var c=$(b).data("offer_id");goog.isDef(c)&&h.removeDataFromCart(c,"offer")});h.removeDataFromCart(f,"template");b.addQueue(function(){var h=
new CLS78;return $.ajax({url:h.urlPrefix()+"/cart-ajax/deltemplate.php",data:"product="+f+"&action="+g,dataType:"json",success:function(a){updateCartItems(a);$(".js-checkout-button").removeClass("loading");var c=appDic.require("cart");c.recalculate();b.setFree();$(".js-cart-summary").trigger("execute.cart.requests",{});$(document).trigger("MainEvents.cart.deleted.template");if("undefined"!=typeof a.location){var f=parseInt($(".js-template-id").data("template_id")),g;for(g in a.template)g==f&&
(window.location=a.location)}c.isEmpty()&&detectCheckoutPage()&&goToCart()},complete:function(){$(document).trigger("stop.cart.load.block.checkout",{button:a})}}).fail(function(){var b=[];b["template-"+f]={value:!0,id:f};updateCartItems({template:b});$(document).trigger("stop.cart.load.block.checkout",{button:a})})});$(".js-cart-summary").trigger("execute.cart.requests",{})});$(document).on("click",".js-popup-cart-item.js-static-offer a.js-add-offer, .js-popup-cart-item.js-static-oncart-offer a.js-add-offer, .js-popup-cart-item.offer a.js-dell-offer",
function(){var a=$(this),f=a.data("product"),g=a.data("offer_id"),h=a.data("action");if(""===h)return!1;$('.js-popup-cart-item a[data-offer_id="'+g+'"]').removeAttr("disabled").addClass("cart-icon").removeClass("disabled check-mark-icon");var j="&position=&presentation_id=&search_context_id=&channel_id";$(".js-cart-summary").trigger("start.cart.load.block.checkout",{button:a});if("add"==h){var j="&position="+a.data("position")+"&presentation_id="+a.data("presentation_id")+"&search_context_id="+a.data("search_context_id")+
"&channel_id="+a.data("channel"),k=$(".js-popup-cart-item.js-parent-"+f+".js-static-offer-"+g);if(k){var k=$(".service .js-service-name",k).html(),l=$(".js-popup-cart-item.offer.js-parent-"+f+".offer-"+g);l&&$(".js-service-name",l).html(k)}k=[];k["offer-"+g]={value:!0,parent:f,id:g};$(document).trigger("MainEvents.cart.add.product",{products:k})}else a.parents("li:first").addClass("js-none");k=new CLS46;"add"==h?k.addDataToCart(g,"offer"):k.removeDataFromCart(g,
"offer");$(".js-checkout-button").addClass("disabled loading");b.addQueue(function(){var k=new CLS78;return $.ajax({url:k.urlPrefix()+"/cart-ajax/updateoffer.php",data:"product="+f+"&offer_id="+g+"&action="+h+"Offer"+j,dataType:"json",success:function(a){b.setFree();$(".js-cart-summary").trigger("execute.cart.requests",{});updateCartItems(a);appDic.require("cart").isEmpty()&&detectCheckoutPage()&&goToCart()},complete:function(){$(".js-cart-summary").trigger("stop.cart.load.block.checkout",{button:a,
enableButton:!1});$(document).trigger("stop.cart.load.block.checkout",{button:$(".js-button-add-to-cart"),enableButton:!0})}}).fail(function(){$(".js-cart-summary").trigger("stop.cart.load",{button:a,enableButton:!0})})});$(".js-cart-summary").trigger("execute.cart.requests",{})});$("body").on("click",".js-checkout-button, .js-simple-progress-button",function(){var a=$(this),b=a.attr("data-url");$("body").trigger("start.cart.load",{button:a,disableFull:!1});b&&(document.location.href=b)});$("#preview-page, #cart-page").on("keyup",
function(a){27==a.which&&(a=$(".modal:visible"),1<a.length?$(a).not("#cart-popup").modal("hide"):$(a).modal("hide"))});$(document).on("show.bs.modal",".js-modal-preview-popup",function(){$(".js-price, .js-price .discount, .price-block").addClass("hide-price")});$(document).on("show.bs.modal",".js-modal-preview-popup",function(){$("#product-preview iframe").css("visibility","hidden")});$(document).on("hide.bs.modal",".js-modal-preview-popup",function(){$("#product-preview iframe").css("visibility",
"visible");$(document).trigger("stop.cart.load.block.checkout",{button:$(".js-button-add-to-cart"),enableButton:!0})});$(document).on("click",".js-offer-lear-more-button",function(){var a=$(this).clone(),b="product="+$(this).data("product")+"&offer="+$(this).data("offer")+"&search_context_id="+$(this).data("search_context_id")+"&is_added="+$(this).data("is_added")+"&offer_presentation_id="+$(this).data("offer_presentation_id")+"&offer_position="+$(this).data("offer_position")+"&offer_channel="+$(this).data("offer_channel"),
g=$("#js-cart-short-description-block .modal-body");g.html('<div class="spinner-inline"></div>');var h=new CLS78;$.ajax({url:h.urlPrefix()+"/cart-ajax/offerdescription.php",data:b,dataType:"json",cache:!1}).done(function(a){goog.isDef(a.box_view)&&!goog.string.isEmptySafe(a.box_view)?g.html(a.box_view):$("#js-cart-short-description-block").modal("hide");$(document).trigger("Gtag.ee.push.product.offer.impressions",{from:"offer on learnmore.impressions"})}).fail(function(){g.html("<span class='popup-error-title'>"+
Twig.render(serverError)+"</span><br/><br/>");$(a).html("Retry").addClass("button btn-important btn-full-width");$(a).appendTo(g)})});$(".additional-services").find(" .shopping-options .service_info_wrapper").equalsHeights()});Tm=Tm||{};
Tm.Signin=function(){this._shoppingCart=appDic.require("cart");this._language=appDic.require("language");this._config={submenu_signin:".js-signin-menu",submenu_account:".js-account-dropdown",submenu_account_active_class:"account-menu-active",submenu_account_avatar:".js-account-dropdown .js-avatar",submenu_hide_class:"hidden",signin_link:"#signin-link",signin_form:"#signin-form",signin_form_container:"#header .sign-in-form",signin_form_email:"#signin-form-email",signin_form_password:"#signin-form-password",signin_error_container:"#signin-error",
signin_error_form:"#signin-form-errors",signin_submit_link:"#signin-form-submit",signout_link:".js-signout-link",gravatar_size:20,softcube_email:"#ScMail"};this._dataContainer=document.body;$(document).on("MainEvents.user.logout",function(){isLocalStorageExists()&&(localStorage.removeItem("avatar"),localStorage.removeItem("userlogin"))})};Tm.Signin.prototype.init=function(){this._initSugnoOutLink();return this};
Tm.Signin.prototype.getCheckOutStep=function(){return this.isLoggedIn()?this.isBillingInfoValid()?"step3":"step2":"step1"};Tm.Signin.prototype.isSignedIn=function(){return!!$(this._dataContainer).data("signed-in")};Tm.Signin.prototype.hasBillingInfo=function(){return!!$(this._dataContainer).data("has-billing-info")};Tm.Signin.prototype.isBillingInfoValid=function(){return!!$(this._dataContainer).data("is-billing-info-valid")};Tm.Signin.prototype.getUserFullName=function(){return $(this._dataContainer).data("user-fullname")};
Tm.Signin.prototype.getUserEmail=function(){return $(this._dataContainer).data("user-email")};Tm.Signin.prototype.getAvatarUrl=function(){return $(this._dataContainer).data("user-avatar")};Tm.Signin.prototype.getBillingInfo=function(){return $(this._dataContainer).data("billing-info")};Tm.Signin.prototype.isTrialAvailable=function(){return!!$(this._dataContainer).data("trial-available")};
Tm.Signin.prototype.signInCallback=function(a,b){$.isFunction(b)||(b=$.noop);$(document).trigger("MainEvents.user.login");this._mainSignIn(a,$.proxy(function(){this._isCheckoutPage()&&this._checkoutSignIn(a);this._shoppingCart.checkCookie();"undefined"!=typeof a.billingInfoHTML&&$(".js-billinginfo-details").html(a.billingInfoHTML);"undefined"!=typeof a.paymentMethodsFormHtml&&($("#payment-methods-container").html(a.paymentMethodsFormHtml),$("#payment-collapse").paymentSelector());detectCheckoutPage()?
($("#payment-collapse").paymentSelector("disable-submit-button"),$.when(updateCart(!1)).then(function(){$("#payment-collapse").paymentSelector("enable-submit-button");b()})):b();a.userData&&this._setGravatarURL(a.userData.email,a.userData.fullName);isLocalStorageExists()&&localStorage.setItem("userlogin",a.userData.email)},this))};
Tm.Signin.prototype.signOut=function(a){$.isPlainObject(a)||(a={});$.ajax({url:"/account-ajax/signout.php",type:"POST",dataType:"json",success:$.proxy(function(b){this._markSignedIn(!1);this._setUserFullName("");this._setUserEmail("");this._setAvatarUrl(null);this._setBillingInfo(null);this._setBillingInfoIsValid(!1);this._setTrialAvailable(!1);this._switchSigninButton();this._switchTrial();this._shoppingCart.checkCookie();if($.isFunction(a.on_success))a.on_success(this,b);$(document).trigger("MainEvents.user.logout")},
this),error:$.proxy(function(b,c,f){if($.isFunction(a.on_error))a.on_error(this,b,c,f)},this)})};Tm.Signin.prototype.checkCookie=function(a){this.isLoggedIn()?this._autoSignIn(a):$(document).trigger("MainEvents.user.checkCookie")};Tm.Signin.prototype.isLoggedIn=function(){return"undefined"!==typeof $.cookie("access_token")};Tm.Signin.prototype._isCheckoutPage=function(){return"checkout-page"==$("#checkout-page").attr("id")};
Tm.Signin.prototype._initSugnoOutLink=function(){$(this._config.signout_link).on("click",$.proxy(function(){this.signOut({on_success:function(){detectPreviewPage()&&$(".js-one-click-purchase").children().length&&window.location.reload()}});var a=this._config.submenu_account_active_class;$(this._config.submenu_account).parents("."+a+":first").removeClass(a);return!1},this))};
Tm.Signin.prototype._setUserInfo=function(a){this._markSignedIn(!0);this._setUserFullName(a.fullName);this._setUserEmail(a.email);-this._setTrialAvailable(a.isTrialAvailable);this._shoppingCart.checkCookie()};
Tm.Signin.prototype._mainSignIn=function(a,b){$.isFunction(b)||(b=$.noop);"error"in a?this._showError(a.error.message):($(document).trigger("Gtag.user.push",{from:"main.signin"}),this._showError(""),this._setUserInfo(a.userData),"undefined"===typeof a.billingInfo&&(a.billingInfo=null),this._setBillingInfo(a.billingInfo),this._setBillingInfoIsValid(a.isZeroCart?a.freeInfoIsValid:a.billingInfoIsValid),$(this._config.signin_form_container).hide().parents(".sign-in-form-active").removeClass("sign-in-form-active"));
this._switchSigninButton();this._switchTrial();b()};Tm.Signin.prototype._showError=function(a){$(this._config.signin_error_container).html(a)};
Tm.Signin.prototype._checkoutSignIn=function(a){var b;a.isZeroCart?(b=new Tm.FreeCheckout,b.changeform(),"error"in a?b.showLoginError(a.error.message):this.hasBillingInfo()?b.fillInfoForm(a.billingInfo):"userInfo"in a&&b.fillInfoForm({email:a.userInfo.email,name:a.userInfo.fullName,country:"",state:"",postalcode:"",city:"",address:"",phone:"",contactphone:b.isFree()?a.userInfo.contactPhone:""}),b.signinCallback(a),b.signChecking(!0)):window.location.reload()};
Tm.Signin.prototype._autoSignIn=function(){if(appDic.isDefined("api-users")){var a=appDic.require("api-users");a.me(this._getExpandOptions()).done(function(b){this._markSignedIn(!0)._setUserFullName(b.userName)._setUserEmail(b.login)._setAvatarUrl(b.avatar);this._setGravatarURL(b.login,b.userName,b.avatar);this._switchSigninButton();this._setTrialAvailable(a.isTrialAvailable(b));this._switchTrial();this._setBillingInfo(a.hydrateBillingInfo(b.billingInfo));$(document).trigger("MainEvents.user.checkCookie",
b)}.bind(this)).fail(function(){this._markSignedIn(!1);$(document).trigger("MainEvents.user.checkCookie")}.bind(this));this._initNotifications()}};Tm.Signin.prototype._getExpandOptions=function(){var a=[];detectPreviewPage()&&a.push("segmentOptions");detectCheckoutPage()&&a.push("billingInfo");return a};
Tm.Signin.prototype._setUserFullName=function(a){$(".your-account-link-name","#your-account-link").text(a);$('.live-chat-form input.name, #tellForm input[name="ow_name"]').val(a).trigger("setValue.placeholder");$(this._dataContainer).data("user-fullname",a);return this};
Tm.Signin.prototype._setUserEmail=function(a){$('.live-chat-form input.email, #tellForm input[name="ow_email"]').val(a).trigger("setValue.placeholder");$(this._dataContainer).data("user-email",a);$(document).on("MainEvents.user.checkCookie",function(){$(this._config.softcube_email).html(a);$(document).trigger("MainEvents.softcube_email.installed")}.bind(this));return this};Tm.Signin.prototype._setAvatarUrl=function(a){$(this._dataContainer).data("user-avatar",a);return this};
Tm.Signin.prototype._setBillingInfoIsValid=function(a){$(this._dataContainer).data("is-billing-info-valid",a);this._shoppingCart.changeCheckoutUrl(this.getCheckOutStep());return this};Tm.Signin.prototype._setBillingInfo=function(a){$(this._dataContainer).data("billing-info",a);$(this._dataContainer).data("has-billing-info",!!a);return this};Tm.Signin.prototype._markSignedIn=function(a){$(this._dataContainer).data("signed-in",a);return this};
Tm.Signin.prototype._switchSigninButton=function(){var a=this._config.submenu_hide_class;this.isLoggedIn()?($(this._config.submenu_account).removeClass(a),$(this._config.submenu_signin).addClass(a)):($(this._config.submenu_account).addClass(a),$(this._config.submenu_signin).removeClass(a))};Tm.Signin.prototype._setTrialAvailable=function(a){$(this._dataContainer).data("trial-available",a);return this};
Tm.Signin.prototype._setGravatarURL=function(a,b,c){goog.string.isEmptySafe(b)&&(b=a);Tm.RdGravatar&&(new Tm.RdGravatar).draw(a,b,c,this._config.gravatar_size).done(function(a){var b="<"===a.html.substr(0,1)?$(a.html):a.html;$(this._config.submenu_account_avatar).html(b).css({background:a.background});$(this._config.submenu_account_avatar).html(b).css({background:a.background})}.bind(this)).done(function(){var a=$(this._config.submenu_account_avatar).prop("outerHTML");isLocalStorageExists()&&localStorage.setItem("avatar",
JSON.stringify({cid:$.cookie("cid"),html:a}))}.bind(this));return this};Tm.Signin.prototype._switchTrial=function(){this.isTrialAvailable()?$(".js-trial-link").removeClass("js-none"):$(".js-trial-link").addClass("js-none")};
Tm.Signin.prototype._initNotifications=function(){if(appDic.isDefined("api-notifications")){var a=this._language.getCode();$.ajax({url:"/js/varnish.compiled.notifications."+a+".js?d=abd0f20",dataType:"script",cache:!0}).done(function(){appDic.require("notification-controller").init({webSocketUrl:Tm.Config.notifications.webSocketUrl})}).fail(function(a,c,f){throw f;})}};Tm=Tm||{};Tm.Tracker=function(a,b,c){this._cart=b;this._language=c;this._urlHelper=a;this._required_aff_cookies=["aff","ref","country_code","gcd"];this._cpa_partners=[{queryParamName:"admitad_uid",cookieName:"admitad_uid",affId:"admitad",ttl:60}]};defineService(["urlHelper","cart","language"],Tm.Tracker);Tm.Tracker.prototype.checkCookie=function(a){this._checkAction(a);this._checkFd();this._checkAff(a)};
Tm.Tracker.prototype._checkAction=function(a){var b=$.cookie("a");b&&(Tm.removeCookie("a"),b="on"+b[0].toUpperCase()+b.slice(1),$.isFunction(a[b])&&setTimeout(a[b],0))};Tm.Tracker.prototype._checkFd=function(){var a=$.cookie("fd");"undefined"===typeof a&&(a=Math.floor((new Date).getTime()/1E3),Tm.setCookie("fd",a,36500))};Tm.Tracker.prototype._clearCPACookies=function(){$.each(this._cpa_partners,function(a,b){Tm.removeCookie(b.cookieName)})};
Tm.Tracker.prototype._clearCPACookiesNeeded=function(){return!goog.array.some(this._cpa_partners,function(a){return a.affId===$.cookie("aff")})};Tm.Tracker.prototype._getCPAFromQuery=function(){return goog.array.find(this._cpa_partners,function(a){return $.url().param(a.queryParamName)})};
Tm.Tracker.prototype._checkAff=function(a){var b=!1,c={},f,a=a||{};a.onComplete=a.onComplete||$.noop;for(f in this._required_aff_cookies)if(this._required_aff_cookies.hasOwnProperty(f)&&!$.cookie(this._required_aff_cookies[f])){b=!0;break}var g=$.cookie("aff"),h=$.cookie("affT"),j=$.url().param("aff");f=j;g&&h&&(g=null,Tm.removeCookie("affT"));j||(f="TM",c.aff=f);$.cookie("affiliate_untracked")&&(b=!0);(h=this._getCPAFromQuery())?(this._clearCPACookies(),Tm.setCookie(h.cookieName,$.url().param(h.queryParamName),
h.ttl),f=c.aff=h.affId,b=!0):this._clearCPACookiesNeeded()&&this._clearCPACookies();document.referrer&&(b=!0);g||(g="TM"===f.toUpperCase()?36500:60,Tm.setCookie("aff",f,g));if(b)c.referer=document.referrer?document.referrer:window.location.href,$.ajax({url:"/aff.php",type:"POST",data:$.param(c),success:function(b){a.onComplete();"undefined"!=typeof b.affiliate_tracking_url&&detectAffiliate(b.affiliate_tracking_url,$.cookie("aff"))}});else a.onComplete();this._urlHelper.deleteParamFromUrl("aff")};
Tm.Tracker.prototype.getLogin=function(){return $.cookie("lgn")};Tm=Tm||{};Tm.setCookie=function(a,b,c){var f=".templatemonster.com";$.isPlainObject(Tm.Config)&&Tm.Config.cookieDomain&&(f=Tm.Config.cookieDomain);"undefined"===typeof c&&(c=null);$.cookie(a,b,{expires:c,path:"/",domain:f})};Tm.removeCookie=function(a){Tm.setCookie(a,null,-1)};Tm.addLgnCookie=function(a){$.cookie("lgn")||$.cookie("lgn",a,{expires:365,path:"/",domain:Tm.Config.cookieDomain})};(function(a){var b=!1;a.fn.validateForm=function(){b||(b=!0,a.regula("bind"));var c=!0;this.each(function(){var b=a(this).find("input, textarea");b.focus(function(){a("* input, * textarea").popover("destroy")}).popover("destroy").removeClass("error").each(function(){var g=a(this);b.each(function(){!a(this).hasClass("bot")&&(!a(this).hasClass("pass")&&!a(this).hasClass("message"))&&(a(this).val(a.trim(a(this).val())),""===a(this).val()&&a(this).siblings("span._placeholder").css("display","block"))});
if(""===g.val()&&!g.hasClass("bot")&&!g.hasClass("no-required"))return g.popover({content:"Your "+g.attr("error_message")+" is required",placement:"left",title:g.attr("error_title")}),g.popover("show").addClass("error"),c=!1;if(g.attr("data-constraints")){var h=g.regula("validate");if(0<h.length)return g.popover({content:h[0].message,placement:"left",title:g.attr("error_title")}),g.popover("show").addClass("error"),c=!1}})});return c}})(jQuery);$(function(){var a=$(document.forms.subscribe),b=$(document.querySelectorAll(".mc-form"));a.rdFormHandler({popover_placement:"left",autofocus_first_field:!1,enable_inputs_on_load:!0,autoscroll_on_form_error:!1,on_ajax_response:function(a,b,g){a={status:!1,errors:[],status_message:""};if($.isArray(g.innerhtml))for(var h in g.innerhtml){if("errorBox"===g.innerhtml[h].id){a.errors.push({messages:g.innerhtml[h].html});break}if("newsletterSubscriptionForm"===g.innerhtml[h].id){a.status=!0;a.status_message=
g.innerhtml[h].html;break}}return a},on_submit_success:function(a,b,g){$(a.email).val("").removeClass("filled");$(a).rdFormHandler("hide-errors");$(a).rdFormHandler("show-form-success",g.status_message)},on_submit_error:function(a,b,g){$(a).rdFormHandler("show-form-error",g.status_message)}});b.each(function(){$(this).rdFormHandler({popover_placement:"left",autofocus_first_field:!1,enable_inputs_on_load:!0,autoscroll_on_form_error:!1,on_before_submit:function(a,b){var g=$(a).find('#mce-EMAIL, input[id^="mce-EMAIL"]'),
h=$.extend({url:$(a).attr("action"),language:"en"},b),j=$(a).data("animate-type"),k=$(a).parents(".animating_wrapper").find(".animating-item:first"),l=$(a).parents(".animating_wrapper").find(".animating-item.action_result"),h=h.url.replace("/post?","/post-json?").concat("&c=?"),u={},p=$(a).serializeArray();$(a).rdFormHandler("disable-submit");g.prop("disabled",!0).addClass("disabled");$.each(p,function(a,b){u[b.name]=b.value});$.ajax({url:h,data:u,success:function(b){g.prop("disabled",!1).val("").removeClass("filled disabled");
"success"===b.result?($(a).rdFormHandler("hide-errors").rdFormHandler("hide-success").rdFormHandler("enable-submit"),"sliding"===j?Tm.Effects.slide(k,l):"sliding"!==j&&(new Tm.SubscribeAnswer).getHtml(function(b){var f=b.inner_content;delete b.inner_content;b=new Tm.RDPopup($.extend({},b,{multiple_open:!0,on_show:$.proxy(this._onShowPopup,this),on_shown:$.proxy(this._onShownPopup,this),on_hidden:$.proxy(this._onHiddenPopup,this)}));b.initModal(f);b.show();$(a).rdFormHandler("hide-ajax-progress")}),
$(a).rdFormHandler("google-tag-track-event","Submit")):($(a).rdFormHandler("hide-ajax-progress"),$(a).rdFormHandler("show-form-error",b.msg),$(a).rdFormHandler("google-tag-track-event","200 - "+b.msg.substr(0,255)))},dataType:"jsonp"})}})})});Tm=Tm||{};Tm.SubscribeAnswer=function(){};Tm.SubscribeAnswer.prototype.getHtml=function(a){$.ajax({url:appDic.require("language").urlPrefix("/ajax/subscribeanswer.php"),dataType:"json",type:"GET",success:function(b){a(b)},error:function(a){console.log(a.status)}})};(function(a){a.fn.currencyFormater=function(){var b=a(this).val();if("undefined"!==typeof b){var b=b.replace(/[^0-9,.]+/g,""),b=b.replace(/[,.]+/,"."),c=Math.round(parseFloat(b));-1==(c+"").indexOf("e")&&(b=c);a(this).val(b)}return this}})(jQuery);CLS14=function(){};CLS14.prototype.queue_=[];CLS14.prototype.STATE_BUSY="busy";CLS14.prototype.STATE_FREE="free";CLS14.prototype.state_=this.STATE_FREE;CLS14.prototype.enterDocument=function(){$(document).on("execute.cart.requests",$.proxy(this.onExecute,this))};
CLS14.prototype.onExecute=function(){if(0<this.queue_.length&&!1===this.isBusy()){this.setBusy();var a=this,b=this.queue_[0];b().fail(function(){b().fail(function(){alert(Twig.render(serverError))});a.setFree();a.onExecute()});this.queue_.shift()}};CLS14.prototype.addQueue=function(a){this.queue_.push(a)};CLS14.prototype.setBusy=function(){this.state_=this.STATE_BUSY};CLS14.prototype.setFree=function(){this.state_=this.STATE_FREE};
CLS14.prototype.isBusy=function(){return this.state_==this.STATE_BUSY};function detectAffiliate(a,b){Tm.removeCookie("affiliate_untracked");if("undefined"!=typeof b&&"TM"!=b.toUpperCase()){var c=a+"?afflogin="+b+"&_="+Date.now();if("undefined"!=typeof $&&"undefined"!=typeof $.get&&"undefined"!=typeof $.support&&$.support.cors)$.get(c);else{var f=document.createElement("img");f.setAttribute("src",c);window.document.getElementsByTagName("body")[0].appendChild(f)}}};Tm=Tm||{};Tm.RDPopup=function(a){this._config=$.extend({on_hide:null,on_hiden:null,on_show:null,on_shown:null,multiple_open:!1,popup_template:Twig.render(popupWrapper),popup_step_template:'<div class="animated-item js-step">%s</div>',inner_content:"",content_wrapper_class:"js-modal-inner:first",modal_open_class:"in",backdrop:!0},a);this._modal=null};Tm.RDPopup.prototype.getId=function(){return $(this._modal).attr("id")};
Tm.RDPopup.prototype.show=function(){this._modal||this.initModal();this.isAllowed()&&($(document).trigger("Gtag.sale.view",{from:"GCDiscount",gtagInfo:{popupId:$(this._modal).attr("id")}}),$(document.body).data("rd-popup-shown",1),$(this._modal).modal({show:!0,backdrop:this._config.backdrop}));return this};Tm.RDPopup.prototype.hide=function(){this._modal&&$(this._modal).modal("hide");return this};Tm.RDPopup.prototype.isAllowed=function(){return this._config.multiple_open||!$(document.body).data("rd-popup-shown")};
Tm.RDPopup.prototype.shake=function(){var a=$(this._modal).find(".modal-content:last");$(a).addClass("element-animation-shake");setTimeout(function(){$(a).removeClass("element-animation-shake")},1E3);return this};
Tm.RDPopup.prototype.slideStep=function(a,b){var c=this.addStep(a);this._modal.find(".js-content").css("overflow","visible");this._modal.find(".close").fadeOut(0).delay(400).fadeIn(200);var f=parseInt($(c).prev().css("left")),g=+this.getContent().outerWidth();isNaN(f)&&(f=$(c).prev().position().left);$(c).prev().animate({left:f-g+"px",opacity:0},500,"easeInOutQuint",b);$(c).css({opacity:0});$(c).animate({opacity:1,left:f-g+"px"},500,"easeInOutQuint");return this};
Tm.RDPopup.prototype.toFirstStep=function(){var a=this.getContent().find(".js-step");1<a.length&&(a.filter(":not(:first)").remove(),a.filter(":first").css({left:0,opacity:1}))};Tm.RDPopup.prototype.getContent=function(){return $(this._modal).find("."+this._config.content_wrapper_class)};Tm.RDPopup.prototype.addStep=function(a){var b=this._config.popup_step_template;return b?$(sprintf(b,a)).appendTo(this.getContent()):$(a).appendTo(this.getContent())};
Tm.RDPopup.prototype.initForm=function(a,b){return $(a).rdFormHandler($.extend({locatable:!1,show_submit_button_hint:!1,autofocus_first_field:!1,popover_placement:"top",common_errors_html_classes:"alert fade in rd-notice rd-notice-tooltip rd-notice-type-error rd-notice-position-top rd-closing",default_error_message:"Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",on_show_errors:$.proxy(function(a,
b,g){g&&g.length&&this.shake()},this),on_ajax_response:function(a,b,g){g.status||(a=g.errors,$.isArray(a)&&a.length&&(a=a[0]),"Server Error"==a&&(g.errors=b.default_error_message));return g}},b))};
Tm.RDPopup.prototype.initModal=function(a){var b=sprintf(this._config.popup_template,this._config.inner_content);this._modal=$(b).appendTo(document.body);this._config.popup_name&&this._modal.addClass(this._config.popup_name);a&&this.addStep(a);$(["hide","hidden","show","shown"]).each($.proxy(function(a,b){if($.isFunction(this._config["on_"+b]))$(this._modal).on(b+".bs.modal",this._config["on_"+b])},this))};Tm=Tm||{};Tm.InquirerPopup=function(a){Tm.RDPopup.call(this,$.extend({question:{},on_last_step:$.noop,question_selector:".js-step",answer_button_disabled_class:"js-disabled",answer_button_selector:".js-answer-button",question_template:"",question_button_template:""},a));this._result={}};goog.inherits(Tm.InquirerPopup,Tm.RDPopup);Tm.InquirerPopup.prototype.getResult=function(){return this._result};
Tm.InquirerPopup.prototype.getQuestion=function(){var a=this._config.question;$.each(this.getResult(),function(b,c){a.id==b&&$(a.answers).each(function(b,g){g.id==c&&(a=g.question)})});return a};Tm.InquirerPopup.prototype.renderQuestion=function(a){var b="",c=this._config.question_template,f=this._config.question_button_template,g=this.getId();$(a.answers).each(function(c,j){b+=sprintf(f,j.html_class,a.id,j.id,g+"-"+a.id+"-"+j.id,j.title)});return sprintf(c,a.title,a.text,b)};
Tm.InquirerPopup.prototype.initModal=function(){Tm.InquirerPopup.superClass_.initModal.call(this,this.renderQuestion(this._config.question));$(this._modal).on("click",this._config.answer_button_selector,{popup:this},this._onAnswer)};
Tm.InquirerPopup.prototype._onAnswer=function(a){var b=a.data.popup,a=a.target,c=$(a).data("id"),f=$(a).data("q-id"),g=b._config.answer_button_disabled_class;if($(a).hasClass(g))return!1;$(a).parents(b._config.question_selector).find(b._config.answer_button_selector).addClass(g);f&&(b._result[f]=c);if(a=b.getQuestion())b.slideStep(b.renderQuestion(a));else if($.isFunction(b._config.on_last_step))b._config.on_last_step(b);return this};Tm=Tm||{};Tm.TemplateOutdated=function(a){this._searchEngine=a;this._popup=null;this._isButtonViewMoreShow=!1;this._newerTemplates="";this.isTemplateOutdated()&&this.init()};defineService(["search-engine"],Tm.TemplateOutdated);Tm.TemplateOutdated.prototype.STATE_ALLOWED="1";Tm.TemplateOutdated.prototype.STATE_FINISHED="2";Tm.TemplateOutdated.prototype.TIMEOUT_BEFORE_LOAD=5E3;Tm.TemplateOutdated.prototype.TIMEOUT_HIDE_TOOLTIP=500;Tm.TemplateOutdated.prototype.TIMEOUT_SHOW_POPUP=300;
Tm.TemplateOutdated.prototype.COOKIE_TWO_WEEKS=14;Tm.TemplateOutdated.prototype.COOKIE_ONE_DAY=1;Tm.TemplateOutdated.prototype.COOKIE_ONE_YEAR=365;Tm.TemplateOutdated.prototype.isTemplateOutdated=function(){return $(".js-template-id").is("[data-outdated]")};Tm.TemplateOutdated.prototype.checkOtherPopups=function(){return $.cookie("showpopup")};
Tm.TemplateOutdated.prototype.init=function(){setTimeout(function(){this.checkOtherPopups()||"undefined"===typeof this._getOutdatedCookie()&&this._setOutdatedCookie(this.STATE_ALLOWED)}.bind(this),3E3)};Tm.TemplateOutdated.prototype.showPopup=function(){this._getOutdatedCookie()===this.STATE_ALLOWED&&setTimeout($.proxy(this.loadPopupNewerTemplates,this),this.TIMEOUT_BEFORE_LOAD)};
Tm.TemplateOutdated.prototype.loadPopupNewerTemplates=function(){$.ajax({url:this._searchEngine.language.urlPrefix("/ajax/free-trial/popup.php"),data:{modal_id:"rd-popup-newer-templates",close_id:"close-popup-newer"},method:"GET",cache:!0}).done($.proxy(function(a){this._popup=new Tm.RDPopup($.extend(a.popup,{on_show:$.proxy(this._onShowPopup,this)}));this.loadNewerTemplates()},this))};
Tm.TemplateOutdated.prototype.loadNewerTemplates=function(){this._getOutdatedCookie()===this.STATE_ALLOWED&&this._searchEngine.search(this._getSearchQueryParams(),"outdated",!1,!0).done($.proxy(function(a){this._newerTemplates=a.getText();this._isButtonViewMoreShow=5<=a.getCount();this._popup.initModal(this.getPopupHtml());appDic.require("discount").drawPrices();$(document).trigger("Gtag.ee.push.product.template.impressions",{from:"similar.impressions"});$(document).trigger("MainEvents.templates.loaded");
$("#newer-templates .slides").owlCarousel({items:4,slideSpeed:0,pagination:!1,mouseDrag:!1,touchDrag:!1,itemsDesktop:[1599,3],itemsDesktopSmall:!1,itemsTablet:!1,itemsMobile:!1,navigation:!1,afterInit:function(){tm.lazyload.renew(!1,999999)}});this._popup.show()},this))};Tm.TemplateOutdated.prototype._getSearchQueryParams=function(){return{template:this.getTemplateId(),"limit-count":4}};
Tm.TemplateOutdated.prototype.getPopupHtml=function(){return Twig.render(popupOutdatedTemplate,{isButtonViewMoreShow:this._isButtonViewMoreShow,newerTemplates:this._newerTemplates,viewMoreUrl:this.getViewMoreUrl()})};Tm.TemplateOutdated.prototype.getViewMoreUrl=function(){return this._searchEngine.language.urlPrefix("/templates.php?similar-to="+this.getTemplateId())};Tm.TemplateOutdated.prototype._getOutdatedCookie=function(){return $.cookie(this.getCookieName())};
Tm.TemplateOutdated.prototype._setOutdatedCookie=function(a){Tm.setCookie(this.getCookieName(),a,this.COOKIE_ONE_DAY)};Tm.TemplateOutdated.prototype.getTemplateId=function(){return $(".js-template-id").data("template_id")};Tm.TemplateOutdated.prototype.getCookieName=function(){return"tood_"+this.getTemplateId()};
Tm.TemplateOutdated.prototype._onShowPopup=function(){this._setOutdatedCookie(this.STATE_FINISHED);var a=$("#close-popup-newer");a.tooltip("destroy");a.attr("data-title",Twig.render(closeText)).attr("data-placement","bottom").setTooltip({container:"#rd-popup-newer-templates .modal-header",delay:{show:200,hide:this.TIMEOUT_HIDE_TOOLTIP}});setTimeout(function(){$("#rd-popup-newer-templates").addClass("show-popup")},this.TIMEOUT_SHOW_POPUP)};Tm=Tm||{};Tm.Infographics=function(){this.initTriggers()};Tm.Infographics.prototype.initTriggers=function(){$(window).on("resize",$.proxy(this.run,this))};Tm.Infographics.prototype.run=function(){this.summPercent=this.summReview=0;this.countReview=[];this.percentReview=[];this.$line=$(".js-statistic");this.lines=5;this.countReviews();this.countPercents();this.roundPercents();this.lineBlockWidth();this.drawLine()};
Tm.Infographics.prototype.countReviews=function(){this.$line.each(function(a,b){var c=Number($(b).find(".js-statistic-count").text());this.countReview.push(c);this.summReview+=c;0==c&&$(b).addClass("js-none")}.bind(this))};Tm.Infographics.prototype.countPercents=function(){this.$line.each(function(a,b){var c=Math.round(100*this.countReview[a]/this.summReview);this.percentReview.push(c);this.summPercent+=c;$(b).find(".js-statistic-percent").html(c+"%")}.bind(this))};
Tm.Infographics.prototype.roundPercents=function(){var a=this.summPercent-100;if(0!==a)if(0<a)for(var b=this.lines-1;0<=b;b--){if(0!=this.percentReview[b]){this.percentReview[b]-=a;this.renderPercents(b);break}}else for(b=0;b<this.lines;b++)if(0!=this.percentReview[b]){this.percentReview[b]-=a;this.renderPercents(b);break}};Tm.Infographics.prototype.renderPercents=function(a){$(".js-review-"+(a+1)+" .js-statistic-percent").html(this.percentReview[a]+"%")};
Tm.Infographics.prototype.lineBlockWidth=function(){var a=$(".js-reviews-statistics").width()-40;return $("#preview-page").hasClass("item-page")?a:a-$(".js-statistics-stars").outerWidth(!0)};Tm.Infographics.prototype.getMaxPercent=function(){for(var a=this.percentReview[0],b=0;b<this.lines;b++)this.percentReview[b]>a&&(a=this.percentReview[b]);return a};
Tm.Infographics.prototype.drawLine=function(){for(var a=[],b,c=0;c<this.lines;c++){a[c]=this.percentReview[c]*this.lineBlockWidth()/this.getMaxPercent();switch(!0){case 0<=this.percentReview[c]&&9>=this.percentReview[c]:b="#1976D2";break;case 10<=this.percentReview[c]&&19>=this.percentReview[c]:b="#2196F3";break;case 20<=this.percentReview[c]&&29>=this.percentReview[c]:b="#42A5F5";break;case 30<=this.percentReview[c]&&39>=this.percentReview[c]:b="#64B5F6";break;case 40<=this.percentReview[c]&&49>=
this.percentReview[c]:b="#90CAF9";break;case 50<=this.percentReview[c]&&59>=this.percentReview[c]:b="#FFE082";break;case 60<=this.percentReview[c]&&69>=this.percentReview[c]:b="#FFCA28";break;case 70<=this.percentReview[c]&&79>=this.percentReview[c]:b="#FFAB00";break;case 80<=this.percentReview[c]&&89>=this.percentReview[c]:b="#FF8F00";break;default:b="#FF6F00"}$(".js-review-"+(c+1)+" .js-statistic-line").css("width",a[c]).css("background-color",b);$(".js-review-"+(c+1)+" .js-statistic-percent").css("color",
b)}};Tm=Tm||{};Tm.APVPopup=function(a){this._config=$.extend({popupMarkupUrl:"/ajax/free-trial/apv-popup.php",stateKey:"apvPopupState",pinFieldName:"pin"},a);this.states={INITIAL:0,WAITING_PIN:1,VERIFIED:3};this.riskZones="RU,UA,ID,VN,LT,TR,RO,MA,ZA,BR,PK,PH,LB"};
Tm.APVPopup.prototype.init=function(){this.isApvEnabled="string"===typeof Tm.Config.apvVerification?!!parseInt(Tm.Config.apvVerification):!!Tm.Config.apvVerification;this.initPopup().done(this.initAPVRequestForm.bind(this));this.usersApi=appDic.require("api-users");if(this._config.open_triggers)$(this._config.open_triggers).on("click",function(){this.showPopup();return!1}.bind(this))};
Tm.APVPopup.prototype.initPopup=function(){var a=appDic.require("language");return $.ajax({method:"GET",url:a.urlPrefix(this._config.popupMarkupUrl),data:{template_id:this._config.template_id}}).done(function(a){this.popup=new Tm.RDPopup($.extend({},{multiple_open:!0,on_show:this.onPopupShow.bind(this)}));this.popup.initModal(a.apvPopup)}.bind(this))};Tm.APVPopup.prototype.showPopup=function(){this.popup&&this.popup.show()};
Tm.APVPopup.prototype.onPopupShow=function(){var a=$.cookie(this._config.stateKey);this.phoneField=$(".js-phone");this.phoneHelper=new Tm.RdPhoneInput;this.phoneHelper.init(this.phoneField.prev());a?(a=new Date(a)-new Date,this.setPopupState(this.states.WAITING_PIN),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){this.setPopupState(this.states.INITIAL)}.bind(this),a)):(this.getProfilePhone().then(function(a){var c=this.phoneHelper.getCountryCodeByNumber(a),a=this.phoneHelper.formatInternational(a).split(" ").slice(1).join("");
$(".js-dial-code").val(c).change();this.phoneField.val(a)}.bind(this)),this.setPopupState(this.states.INITIAL))};Tm.APVPopup.prototype.setProfilePhone=function(a){this.usersApi.me().then(function(b){b.phone||this.usersApi.modifyUsersProfile({phone:a})}.bind(this))};Tm.APVPopup.prototype.getProfilePhone=function(){var a=this.usersApi.me(),b=null,c=$.Deferred();a.then(function(a){a.phone&&(b=a.phone);c.resolve(b)});return c};
Tm.APVPopup.prototype.onRequestAPVSuccess=function(a){if(a.status)throw Error(a.message);switch(a.is_verified){case 1:this.setPopupState(this.states.VERIFIED);break;default:this.setPopupState(this.states.WAITING_PIN),this.waitingPIN(a.pin_code_expires)}};
Tm.APVPopup.prototype.waitingPIN=function(a){var b=new Date,c=1/24/60/60*a;b.setDate(b.getDate()+c);$.cookie(this._config.stateKey,b,{expires:c});this.timer&&clearTimeout(this.timer);this.timer=setTimeout(function(){this.setPopupState(this.states.INITIAL)}.bind(this),1E3*a)};Tm.APVPopup.prototype.onRequestAPVError=function(a){throw Error(a.message);};Tm.APVPopup.prototype.addPhoneToList=function(a,b){return $.post("/ajax/preserve-phone-info-to-spreadsheet.php",{countryCode:a,phone:b})};
Tm.APVPopup.prototype.isFromRiskZone=function(){var a=this.$requestPINForm.find(".js-dial-code"),b=a.val();b||(b=a.find("option").first().val());return!!this.riskZones.match(b)};Tm.APVPopup.prototype.handleRiskZone=function(){this.addPhoneToList(this.phoneCode,this.number).then(function(){this.setPopupState(this.states.VERIFIED)}.bind(this))};
Tm.APVPopup.prototype.onRequestPINSuccess=function(a){if(a.status||!a.pin_code_expires)throw Error(a.message);return a.is_verified?this.openAdminPanel():!a.pin_code_max_tries?this.setPopupState(this.states.INITIAL,!0):Twig.render(wrongCode)};Tm.APVPopup.prototype.openAdminPanel=function(){window.location=$("#trial_bottom").data("demo-url")};
Tm.APVPopup.prototype.initAPVRequestForm=function(){var a=this;$.get("/ajax/get-rd-phone-code.php",function(b){if(1===b.status){var c=$("<select>",{name:"phone_code","class":"js-dial-code","data-search-placeholder":Twig.render(searchPhoneInputPlaceholder)}),b=b.data,f;for(f in b){var g=b[f];$("<option>",{value:g.value,text:g.label,"data-priority":g.attributes["data-priority"],"data-dial-code":g.attributes["data-dial-code"],"data-area-code":g.attributes["data-area-code"]}).appendTo(c)}f={popover_placement:"left",
popover_class:"single-line rd-notice-type-error",locatable:!1,highlight_border:!0,disable_ajax:!0,autoscroll_on_form_error:!1};a.$requestPINForm=$("#phoneInput");a.$requestPINForm.find(".js-form-group").prepend(c);a.$requestPINForm.rdFormHandler($.extend({},{autofocus_first_field:!0,phone_enable_intl_telInput:!0,chosen_scroll_drop_into_view:!0,chosen_host_wrap:".js-special-modal",on_before_submit:function(b){var c=a.phoneCode=$(b).find(".chosen-single .iti-flag").data("dial-code"),f=a.number=parseInt(a.phoneHelper.getNumber($(b).find(".js-phone"))),
g=$.cookie(a._config.stateKey);$.cookie("apvc",c,{expires:g});$.cookie("apvp",f,{expires:g});if(a.isFromRiskZone()||!a.isApvEnabled)return a.handleRiskZone(),!1;appDic.require("api-apv").requestApv(f,c,f,{pin_timeout:600,locale:appDic.require("language").lang}).done(function(c){$(b).rdFormHandler("hide-ajax-progress");try{switch(c.status){case 1:a.onRequestAPVSuccess(c.data);break;default:a.onRequestAPVError(c.data)}}catch(f){$(b).rdFormHandler("show-form-error",Twig.render(serverError),{locatable:!1})}}).fail(function(){$(b).rdFormHandler("show-form-error",
Twig.render(serverError),{locatable:!1})});return!1}},f));a.$submitPINForm=$("#submitPINForm");a.$submitPINForm.rdFormHandler($.extend({},{autofocus_first_field:!0,submit_on_full_field:!0,on_before_submit:function(b){$(b).rdFormHandler("validate-and-show");var c=$(b).rdFormHandler("get-pin",a._config.pinFieldName);a.confirmPhone(c).done(function(c){try{var f=a.onRequestPINSuccess(c.data);f?$(b).rdFormHandler("show-field-error",$(b).find(".js-pin-field"),f):$.removeCookie(a._config.stateKey)}catch(g){$.removeCookie(a._config.stateKey),
$(b).rdFormHandler("show-form-error",Twig.render(serverError),{locatable:!1})}finally{$(b).rdFormHandler("hide-ajax-progress")}});return!1}},f))}})};
Tm.APVPopup.prototype.setPopupState=function(a,b){var c=$(".apv-popup-content").find(".frame-animation");switch(a){case this.states.INITIAL:c.removeClass("success");break;case this.states.WAITING_PIN:c.addClass("success");$(".js-pin-field").trigger("PINField:focusFirstEmpty");break;case this.states.VERIFIED:this.openAdminPanel();this.setProfilePhone(this.phoneCode+this.number);break;default:c.removeClass("success")}b&&$(".js-pin-field").data("PINField").clean();return this.state=a};
Tm.APVPopup.prototype.confirmPhone=function(a){return appDic.require("api-apv").requestPin($.cookie("apvp"),$.cookie("apvc"),$.cookie("apvp"),a)};Tm=Tm||{};Tm.GCDiscount=function(){};Tm.GCDiscount.prototype.STATE_ALLOWED=1;Tm.GCDiscount.prototype.STATE_FINISHED=2;Tm.GCDiscount.prototype.STATE_CANCELED=3;Tm.GCDiscount.prototype.COOKIE_TWO_WEEKS=14;Tm.GCDiscount.prototype.COOKIE_ONE_YEAR=365;
Tm.GCDiscount.prototype.showDiscountPopup=function(a){var b=this,c=new Tm.RDPopup($.extend({},a.popup,{on_hide:function(){b._getDiscountCookie()==b.STATE_ALLOWED&&b._setDiscountCookie(b.STATE_CANCELED)}}));c.initModal(a.formHtml);c.show();$.ajax({url:"/js/tm/garbage-country-messages.js",dataType:"script",cache:!0,success:function(){this._initTranslation(c);c.show()}.bind(this)})};
Tm.GCDiscount.prototype.showSurveyPopup=function(a){var b=this;(new Tm.InquirerPopup($.extend({},a.popup,{on_last_step:function(c){var f=c.getResult(),g=f.q2;c.slideStep(a.formHtml[g],function(){$(this).find("form:last").rdFormHandler("focus-first")});var h=c.getContent().find("form:first");h.find("[name=answers]").val(JSON.stringify(f));c.initForm(h,{on_submit_success:function(f,h,l){f=$(f.email).val();b._showSuccessSlide(c,a.successHtml[g],f);b._setSurveyCookie(b.STATE_FINISHED,b.COOKIE_ONE_YEAR);
goog.isDef(l)&&goog.isDef(l.gtagInfo)&&$(document).trigger("Gtag.sale.get",{from:"GCDiscount",gtagInfo:$.extend(l.gtagInfo,{popupId:c.getId()})})}})},on_hide:function(){b._getSurveyCookie()!=b.STATE_FINISHED&&b._setSurveyCookie(b.STATE_CANCELED,b.COOKIE_TWO_WEEKS)}}))).show()};Tm.GCDiscount.prototype.isDiscountAllowed=function(){return this._getDiscountCookie()==this.STATE_ALLOWED};Tm.GCDiscount.prototype.isSurveyAllowed=function(){return 0<this._getDiscountCookie()&&1==this._getSurveyCookie()};
Tm.GCDiscount.prototype.getCountryCode=function(){var a=$.cookie("country_code");return a?a.toLowerCase():"un"};Tm.GCDiscount.prototype._getDiscountCookie=function(){return $.cookie("gcd")};Tm.GCDiscount.prototype._setDiscountCookie=function(a){Tm.setCookie("gcd",a,this.COOKIE_ONE_YEAR)};Tm.GCDiscount.prototype._getSurveyCookie=function(){return $.cookie("gcs")};Tm.GCDiscount.prototype._setSurveyCookie=function(a,b){Tm.setCookie("gcs",a,b)};
Tm.GCDiscount.prototype._showSuccessSlide=function(a,b,c){a.slideStep(sprintf(b,c))};Tm.GCDiscount.prototype._initTranslation=function(a){var a=a.getContent(),b=$(".js-discount-popup",a).data("discount");a.find(".inner h3").append(this._getLocalizedMessage("SPECIAL_FOR_YOU")).find("span:first-child").append(this._getLocalizedMessage("DISCOUNT").replace("%d",b));a.find("p").append(this._getLocalizedMessage("GET_DISCOUNT_CONTENT"));a.find(".button").append(this._getLocalizedMessage("GET_DISCOUNT_BUTTON"))};
Tm.GCDiscount.prototype._getLocalizedMessage=function(a){var b=$.cookie("country_code").toLowerCase();if(this.MESSAGES&&b)for(var c in this.MESSAGES)if(this.MESSAGES.hasOwnProperty(c)&&-1!=this.MESSAGES[c].countries.indexOf(b))return a=this.MESSAGES[c].text[a],a.charAt(0).toUpperCase()+a.slice(1);return{DISCOUNT:"%d% Discount",SPECIAL_FOR_YOU:"Special for you!",GET_DISCOUNT_CONTENT:"Click the button below and all the prices will be shown with discount.",GET_DISCOUNT_BUTTON:"Get Discount"}[a]};Tm=Tm||{};Tm.Effects={};Tm.Effects.slide=function(a,b){var c=a.position().left,f=+a.outerWidth();a.animate({left:c-f+"px",opacity:0},500,"easeInOutQuint");b.animate({opacity:1,left:c-f+"px"},500,"easeInOutQuint");return this};Tm=Tm||{};Tm.MotoTrial=function(a){this._config=$.extend({popup_url:"/ajax/free-trial/moto-popup.php",cookie_name:"mft",cookie_time:30,auto_open_timeout:0,open_triggers:null,resend_triggers:"#trial-resend-btn",resend_status_block:".js-status-message",template_id:null},a);this._confirmationHtml=this._subscribeForm=this._successHtml=this._popup=null};Tm.MotoTrial.prototype.STATE_FINISHED="2";Tm.MotoTrial.prototype.STATE_CANCELED="3";
Tm.MotoTrial.prototype.checkOtherPopups=function(){return 0<$("#modalPop").length&&0<this._config.auto_open_timeout};
Tm.MotoTrial.prototype.init=function(){if(!this.checkOtherPopups()){var a=appDic.require("language");$.ajax({url:a.urlPrefix(this._config.popup_url),data:{template_id:this._config.template_id},method:"GET",cache:!0}).done($.proxy(function(b){if(!this.checkOtherPopups()){this._config.is_moto3_template=b.isMoto3Template;this._popup=new Tm.RDPopup($.extend({},b.popup,{multiple_open:!0,on_show:$.proxy(this._onShowPopup,this),on_shown:$.proxy(this._onShownPopup,this),on_hidden:$.proxy(this._onHiddenPopup,
this)}));this._popup.initModal(b.formHtml);this._confirmationHtml=b.confirmationHtml;this._subscribeForm=this._popup.getContent().find("form:first").get(0);this._initForm(this._subscribeForm);this._successHtml=b.successHtml;this._initResendLink();b=this._popup.getContent().find('input[name="tid"]');0<b.length&&b.val(this._config.template_id);var b=a.lang,c=this._config.template_id,f=$.cookie("ref"),g=$.cookie("aff"),h=document.location.href,j=document.location.hostname;this._config.is_moto3_template?
(this._config.motoRegistrationUrl="https://demo.cms-guide.com/calls/registerdemosocial/register",this._config.motoRegistrationConfig={action:"register",email:"",template_id:c,locale:b,type:81,demo_referrer:f,demo_aff:g,name:"",location:j,timestamp:Date.now()}):(this._config.motoRegistrationUrl="https://demo.cms-guide.com/js.php",this._config.motoRegistrationConfig={a:"reg",e:"",t:c,r:f,n:"",v:"data",dl:h,sm:0,_socialtrial:!0,location:j,locale:b,demo_aff:g,timestamp:Date.now()});this._config.motoRegistrationConfig.appId=
Tm.Config.socialCredentials.facebook.appId;this._config.motoRegistrationConfig.apiKey=Tm.Config.socialCredentials.google.apiKey;this._config.motoRegistrationConfig.clientId=Tm.Config.socialCredentials.google.clientId}},this));if(this._config.open_triggers)$(this._config.open_triggers).on("click",$.proxy(function(){this.showPopup();return!1},this));this._config.auto_open_timeout&&this.initAutoOpen(this._config.auto_open_timeout)}};
Tm.MotoTrial.prototype._initForm=function(a){this._popup.initForm(a,{popover_placement:"left",please_enter_message:Twig.render(pleaseEnterEmail),on_submit_success:function(a,c,f){c=$(a.action).val();dataLayer&&dataLayer.push({event:"saleGet",eventCategory:"Trial_popup",eventAction:"click_button_Get Link",eventLabel:"Get Link"});"undefined"===typeof f.moto3&&"undefined"===typeof f.moto||1===f.is_new_user||"update"===c?this._onSubmit(a):this._popup.slideStep(this._confirmationHtml,function(){$(".js-confirm-trial-popup").on("click",
$.proxy(function(){dataLayer&&dataLayer.push({event:"saleGet",eventCategory:"Trial_popup",eventAction:"click_button_returned_send_email",eventLabel:"returned_send_email"});this.sendUpdate(a);return!1},this))}.bind(this))}.bind(this)})};
Tm.MotoTrial.prototype.sendUpdate=function(a){if(this._subscribeForm){this._popup.getContent().find(this._config.resend_triggers).addClass("loading");var b=$(a.action).val();$(a.action).val("update");$.ajax({url:$(this._subscribeForm).attr("action"),method:$(this._subscribeForm).attr("method"),data:$(this._subscribeForm).serialize()}).done($.proxy(function(){$(a.action).val(b);this._popup.getContent().find(this._config.resend_triggers).removeClass("loading");this._onSubmit(a)},this))}};
Tm.MotoTrial.prototype.showPopup=function(){this._popup&&(this._popup.show(),dataLayer&&dataLayer.push({event:"saleView"}));Tm.MotoTrial.prototype.isSocialAuthInit||this.socialAuthInit()};Tm.MotoTrial.prototype.initAutoOpen=function(a){setTimeout($.proxy(function(){this._isAllowedAutoOpen()&&this.showPopup()},this),1E3*a)};Tm.MotoTrial.prototype._onShowPopup=function(){this._popup.toFirstStep();this._subscribeForm&&($(this._subscribeForm).find('[type="email"]').val(""),$(this._subscribeForm).rdFormHandler("reset-errors"))};
Tm.MotoTrial.prototype._onShownPopup=function(){$(this._subscribeForm).rdFormHandler("focus-first")};Tm.MotoTrial.prototype._onHiddenPopup=function(){this._isAllowedAutoOpen()&&this._setCookie(this.STATE_CANCELED)};Tm.MotoTrial.prototype._isAllowedAutoOpen=function(){return-1===$.inArray(this._getCookie(),[this.STATE_FINISHED,this.STATE_CANCELED])};Tm.MotoTrial.prototype._onSubmit=function(a){this._setCookie(this.STATE_FINISHED);this._popup.slideStep(this._successHtml);this._initMailLink(a.email.value)};
Tm.MotoTrial.prototype._resend=function(){this._subscribeForm&&(this._popup.getContent().find(this._config.resend_triggers).addClass("loading"),$.ajax({url:$(this._subscribeForm).attr("action"),method:$(this._subscribeForm).attr("method"),data:$(this._subscribeForm).serialize()}).done($.proxy(function(){var a=this._popup.getContent().find(this._config.resend_status_block);a.length&&a.html(a.data("resent-text"));this._popup.getContent().find(this._config.resend_triggers).removeClass("loading")},this)))};
Tm.MotoTrial.prototype._initResendLink=function(){if(this._config.resend_triggers)this._popup.getContent().on("click",this._config.resend_triggers,$.proxy(function(){this._resend();return!1},this))};
Tm.MotoTrial.prototype._initMailLink=function(a){var a=(new Tm.MailLink).get(a),b=this._popup.getContent().find("#trial-mail-btn");a?(b.attr("href",a.href).html(sprintf(Twig.render(messageGoToMail),a.title)),b.on("click",function(){dataLayer&&dataLayer.push({event:"saleGet",eventCategory:"Trial_popup",eventAction:"click_button_Email",eventLabel:"Email"})})):b.hide()};Tm.MotoTrial.prototype._getCookie=function(){return $.cookie(this._config.cookie_name)};
Tm.MotoTrial.prototype._setCookie=function(a){Tm.setCookie(this._config.cookie_name,a,this._config.cookie_time)};
Tm.MotoTrial.prototype.socialAuthInit=function(){var a=this,b=appDic.require("tm-facebook-auth");b.init({appId:a._config.motoRegistrationConfig.appId,callback:function(){$(".js-button-facebook-auth").on("click",function(){b.getLoginWindow(function(b){a.motoRegistration(b.email,b.first_name)})})}});var c=appDic.require("tm-google-auth");c.init({apiKey:a._config.motoRegistrationConfig.apiKey,clientId:a._config.motoRegistrationConfig.clientId,callback:function(){$(".js-button-google-auth").on("click",
function(){c.getLoginWindow(function(b){a.motoRegistration(b.w3.U3,b.w3.ofa)})})}});Tm.MotoTrial.prototype.isSocialAuthInit=!0};Tm.MotoTrial.prototype.motoRegistration=function(a,b){this._config.is_moto3_template?(this._config.motoRegistrationConfig.email=a,this._config.motoRegistrationConfig.name=b):(this._config.motoRegistrationConfig.e=a,this._config.motoRegistrationConfig.n=b);this.sendRegistrationUserData()};
Tm.MotoTrial.prototype.openUpdateDataPopup=function(){var a=this;a._popup.slideStep(a._confirmationHtml,function(){var b=$(".js-confirm-trial-popup");b.off("click");b.on("click",function(){a.sendUpdateUserData()})})};Tm.MotoTrial.prototype.sendUpdateUserData=function(){this._config.is_moto3_template?this._config.motoRegistrationConfig.action="update":this._config.motoRegistrationConfig.a="ct";this.sendRegistrationUserData()};
Tm.MotoTrial.prototype.sendRegistrationUserData=function(){var a=this;$.ajax({method:"POST",url:a._config.motoRegistrationUrl,data:a._config.motoRegistrationConfig,dataType:"jsonp",crossDomain:!0,contentType:"application/json"}).done(function(b){a.checkMotoRegistration(b)}).fail(function(a){console.warn("Registration error: ",a)})};
Tm.MotoTrial.prototype.checkMotoRegistration=function(a){if(this._config.is_moto3_template){this._config.motoRegistrationConfig.action="register";if("created_demo"===a.status||"updated_user"===a.status)this._setCookie(this.STATE_FINISHED),window.location=a.confirmationLink;"already_registered"===a.status&&this.openUpdateDataPopup()}else{this._config.motoRegistrationConfig.a="reg";if(a.isNewUser&&!a.isError||!a.isNewUser&&!a.isError&&1===a.result)this._setCookie(this.STATE_FINISHED),window.location=
a.activationLink;!a.isNewUser&&(!a.isError&&1!==a.result)&&this.openUpdateDataPopup()}};Tm=Tm||{};Tm.OpenCartTrial=function(a){this._config=$.extend({popup_url:"/ajax/free-trial/open-cart-popup.php"},a)};Tm.OpenCartTrial.prototype=Object.create(Tm.MotoTrial.prototype);
Tm.OpenCartTrial.prototype._initForm=function(a){this._popup.initForm(a,{popover_placement:"top",data_type:"jsonp",please_enter_message:Twig.render(pleaseEnterEmail),on_ajax_response:function(a,c,f){"success"===f.result?(this._popup.slideStep(this._successHtml),f.status="ok"):($(a.EMAIL).removeAttr("disabled"),f.errors=[{name:"EMAIL",messages:[f.msg]}]);return f}.bind(this)})};Tm=Tm||{};Tm.MailLink=function(){};
Tm.MailLink.prototype.SERVICES=[{title:"Gmail",href:"http://gmail.com",domains:["gmail.com"]},{title:"Yahoo Mail",href:"http://mail.yahoo.com",domains:["yahoo.com","ymail.com","yahoo.fr","yahoo.co.uk"]},{title:"Outlook Mail",href:"http://outlook.com",domains:["hotmail.com","live.com","outlook.com","hotmail.co.uk","msn.com"]},{title:"Apple Mail",href:"http://icloud.com/#mail",domains:["me.com","icloud.com","mac.com"]},{title:"\u041f\u043e\u0447\u0442\u0430 Mail.ru",href:"http://e.mail.ru",domains:["mail.ru",
"inbox.ru","bk.ru","list.ru","mail.ua"]},{title:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u043e\u0447\u0442\u0430",href:"http://mail.yandex.ru",domains:["yandex.ru","ya.ru"]},{title:"Aol Mail",href:"http://mail.aol.com",domains:["aol.com"]}];Tm.MailLink.prototype.get=function(a){if(a&&(a=a.split("@",2)[1].toLowerCase()))for(var b in this.SERVICES)if(this.SERVICES.hasOwnProperty(b)&&-1!=this.SERVICES[b].domains.indexOf(a))return this.SERVICES[b];return!1};Tm=Tm||{};Tm.LangSwitchPopover=function(a){this.utils=appDic.require("browser-utils");this.config=$.extend({switcherElement:$(".user-menu-element.language-pick"),langMenu:$(".languages-menu"),popover:null,targetLocale:"",sourceLocale:"en",countryCookie:"country_code",activeCountries:{us:"",br:"pt-br",de:"de",ru:"ru",ua:"ua",es:"es",fr:"fr",it:"it",pl:"pl",nl:"nl",cn:"cn",hu:"hu",cz:"cz",tr:"tr",se:"sv"},popoverCookie:"lsp",popoverPageViewCookie:"lsvc",popoverCookieTtl:30},a)};
Tm.LangSwitchPopover.prototype.viewCounter=0;Tm.LangSwitchPopover.prototype.routeByCountryCode=function(a){return"us"===a?"":"/"+this.countryRoutePath(a)};Tm.LangSwitchPopover.prototype.isActiveCountry=function(a){return this.config.activeCountries.hasOwnProperty(a)};Tm.LangSwitchPopover.prototype.countryRoutePath=function(a){return this.isActiveCountry(a)?this.config.activeCountries[a]:null};Tm.LangSwitchPopover.prototype.init=function(){this._isVisible()&&this.loadLanguagePopover();return this};
Tm.LangSwitchPopover.prototype.updateViewCounter=function(){var a=$.cookie(this.config.popoverPageViewCookie)||0;this.viewCounter=++a;Tm.setCookie(this.config.popoverPageViewCookie,this.viewCounter,this.config.popoverCookieTtl)};
Tm.LangSwitchPopover.prototype._isVisible=function(){var a=$.cookie(this.config.countryCookie);return $.cookie(this.config.popoverCookie)?!1:a?(this.config.targetLocale=a.toLowerCase(),this.updateViewCounter(),1<this.viewCounter&&this.isActiveCountry(this.config.targetLocale)&&this.getTargetLocaleUrl()):!1};Tm.LangSwitchPopover.prototype.loadLanguagePopover=function(){$.ajax(this.routeByCountryCode(this.config.targetLocale)+"/ajax/language-popover/").done(this.onLanguagePopoverLoaded.bind(this))};
Tm.LangSwitchPopover.prototype.onLanguagePopoverLoaded=function(a){a.status&&(this.config.popover=$(a.popover),this.config.switcherElement.after(this.config.popover),this.config.popover.find(".button").on("click",$.proxy(function(){this._close();this._switchLocale()},this)),this.config.popover.find(".js-close-popover-switcher").on("click",$.proxy(this._close,this)),this._show())};Tm.LangSwitchPopover.prototype._switchLocale=function(){window.location.href=this.getTargetLocaleUrl()};
Tm.LangSwitchPopover.prototype.getTargetLocaleUrl=function(){var a=this.config.langMenu.find("#menu-"+this.config.targetLocale.toUpperCase()+"-locale");return a.data("href")||a.attr("href")};Tm.LangSwitchPopover.prototype._show=function(){if(!this.utils.getSettingValue("interactiveElements.showLangAsk",!0))return!1;this.config.popover.removeClass("hidden").addClass("shown")};
Tm.LangSwitchPopover.prototype._close=function(){Tm.setCookie(this.config.popoverCookie,1,this.config.popoverCookieTtl);this.config.popover.removeClass("shown");setTimeout($.proxy(function(){this.config.popover.addClass("js-none")},this),600)};Tm=Tm||{};
Tm.OneClickPurchase=function(a,b){this._config={container:".js-one-click-purchase",initial_price_container:".js-preview-accordion-panel.active .js-price",progress_class:".js-cards-progress",list_url:"/checkout-ajax/one-click-list.php",purchase_url:"/checkout-ajax/one-click-purchase.php",signin_button_class:".js-ocp-signin",chat_button_class:".js-chat-btn",purchase_button_class:".js-ocp-purchase",add_cart_button_class:".js-button-add-to-cart"};this._lang=a;this._cart=b;this._container=$(this._config.container);this._modalError=
this._modalProgress=this._signInForm=null};defineService(["language","cart"],Tm.OneClickPurchase);
Tm.OneClickPurchase.prototype.init=function(a){$.extend(this._config,a);this._isReturningUser()&&!Tm.simplifiedCart.isExperimental()&&($(this._container).find(this._config.progress_class).removeClass("hidden"),$.ajax(this._lang.urlPrefix(this._config.list_url),{cache:!1,method:"POST"}).done($.proxy(function(a){this._initCards(a.cardsHTML);this._initErrorPopup(a.errorPopupHTML);this._signInForm||this._initSignIn(a.signinHTML);this.redraw()},this)),a=$(this._config.initial_price_container).data("price"),
this.setTemplatePrice(a).redraw())};Tm.OneClickPurchase.prototype.setTemplatePrice=function(a){$(this._container).data("price",a);return this};Tm.OneClickPurchase.prototype.setFixedFlag=function(a){$(this._container).data("fixed",a);return this};Tm.OneClickPurchase.prototype.redraw=function(){var a=!!$(this._container).data("fixed"),b=$(this._container).data("price");if(!a&&0<b)return this._show(),!0;this._hide(!a);return!1};
Tm.OneClickPurchase.prototype._redrawCartButton=function(){var a=$(this._config.add_cart_button_class);$(this._container).is(":visible")&&$(".js-ocp-btn:visible",this._container).length?a.removeClass("btn-important").addClass("btn-trivial"):a.removeClass("btn-trivial").addClass("btn-important")};Tm.OneClickPurchase.prototype._hide=function(a){$(this._container).is(":hidden")||(this._closeSignInPopover(a),$(this._container).hide());this._redrawCartButton()};
Tm.OneClickPurchase.prototype._show=function(){$(this._container).is(":hidden")&&$(this._container).show();this._redrawCartButton()};Tm.OneClickPurchase.prototype._closeSignInPopover=function(){this._getSignInButton().popover("hide")};Tm.OneClickPurchase.prototype._initErrorPopup=function(a){this._modalError=$(a).appendTo("body").on("click",this._config.chat_button_class,$.proxy(appDic.require("invitation-to-chat").goToBillingRoom,appDic.require("invitation-to-chat")))};
Tm.OneClickPurchase.prototype._initCards=function(a){$(this._container).html(a);if(!a)return!1;$(this._config.signin_button_class,this._container).one("click",$.proxy(function(a){this._initSignInPopover(a.target);$(a.target).popover("show");$(document).on("click","body, .js-ocp-popover-close",function(){this._closeSignInPopover(!0)}.bind(this)).on("click",".js-ocp-popover",function(){return!1});a=$(".js-password-toggle");a.on("mousedown touchstart",function(){$(this).siblings("input").attr("type",
"text")});a.on("mouseup touchend mouseleave",function(){$(this).siblings("input").attr("type","password")})},this)).on("click",function(){return!1});$(this._config.purchase_button_class,this._container).on("click",$.proxy(function(a){this.lastOCPBtn=a.target;this._sendOrder(this.lastOCPBtn)},this))};
Tm.OneClickPurchase.prototype._sendOrder=function(a,b){var a=a||this.lastOCPBtn,c=$(".js-form_services .js-preview-accordion-panel.active"),f=$(a).data("merch-sys-id"),g=$(a).data("recurrent-id"),h=c.data("template_id"),j=c.data("variant"),c=c.find(".js-preview-offer-checkbox:checked").map(function(a,b){return $(b).val()}).get(),k=this._cart.createVirtualCartCookie(),k=this._config.purchase_url+"?"+CLS11.VIRTUAL_CART_QUERY_PARAM+"="+k;this._showModalProgress();$.ajax(this._lang.urlPrefix(k),
{method:"POST",data:{add:h,price_variant:j,offers:c,payment:f+" "+g,dbilled:b}}).done($.proxy(function(a){if(a.dbilled)return this.dblOrderPopup||this._createDoubleOrderPopup(Twig.render(duplicatePaymentPopupInner)),this._hideModalProgress(),this.dblOrderPopup.show(),!0;if(a.status){if(a.redirectUrl){window.location=a.redirectUrl;return}if(a.paymentLink){window.location=a.paymentLink;return}}this._hideModalProgress();this._modalError.modal()},this)).fail($.proxy(function(){this._hideModalProgress();
this._modalError.modal()},this))};Tm.OneClickPurchase.prototype._createDoubleOrderPopup=function(a){this.dblOrderPopup=new Tm.RDPopup({multiple_open:!0,on_show:this._onDblOrderPopupShow.bind(this)});this.dblOrderPopup.initModal(a);$("body").on("click",".dbl-payment-popup__button",this._onDblPopupButtonClick.bind(this));return this.dblOrderPopup};Tm.OneClickPurchase.prototype._onDblOrderPopupShow=function(){$(".dbl-payment-popup").parents(".modal-content").find(".close-popup").addClass("dbl-payment-popup__close")};
Tm.OneClickPurchase.prototype._onDblPopupButtonClick=function(){this.dblOrderPopup.hide();this._sendOrder(null,!0)};Tm.OneClickPurchase.prototype._initSignIn=function(a){a=$(a).appendTo(document.body).find("form");$(document).trigger("MainEvents.virtualCart.initForm",{form:a});this._initSignInForm(a)};
Tm.OneClickPurchase.prototype._initSignInForm=function(a){this._signInForm=$(a).rdFormHandler({on_submit_success:$.proxy(function(a,c,f){(new Tm.Signin).signInCallback(f);this._closeSignInPopover();this._initCards(f.oneClickCardsHTML);a=$(this._config.purchase_button_class,this._container);1===a.length&&a.click()},this),on_ajax_response:$.proxy(function(a,c,f){if($.isArray(f.errors)){var g=f.errors;setTimeout(function(){$.isPlainObject(g[0])&&(g=g[0].messages);$(a).rdFormHandler("show-field-error",
a.password,g);this._shakeActivePopover()}.bind(this),100);return{status:0,errors:[]}}return f},this),on_show_errors:$.proxy(function(a,c,f){f.length&&this._shakeActivePopover()},this),please_enter_message:Twig.render(pleaseEnterPassword),autoscroll_on_form_error:!1})};
Tm.OneClickPurchase.prototype._initSignInPopover=function(a){$(a).popover({html:!0,container:"body",trigger:"click",placement:"left",animation:!0,animationIn:"show-pop-left",animationOut:"hide-pop-left",animationTime:300,template:'<div class="js-ocp-popover ocp-popover rd-notice rd-notice-tooltip rd-notice-position-left rd-notice-type-default alert rd-closing" role="tooltip"><div class="arrow"></div><div class="popover-content rd-notice-content"></div><span id="ocp-login-popover-close" class="js-ocp-popover-close close"></span></div>',content:function(){return $(".js-ocp-login").removeClass("hidden")}}).on("hide.bs.popover",
function(a){$(a.target).data("popover-opened",!1);$(".js-ocp-login").addClass("hidden").appendTo(document.body)}).on("show.bs.popover",$.proxy(function(a){$(a.target).data("popover-opened",!0).data("temporary-closed",!1);$(this._signInForm).find(":password").val("").end().rdFormHandler("hide-errors").rdFormHandler("hide-success")},this)).on("shown.bs.popover",$.proxy(function(){$(this._signInForm).rdFormHandler("focus-first")},this))};
Tm.OneClickPurchase.prototype._getSignInButton=function(){return $(this._config.signin_button_class,this._container)};Tm.OneClickPurchase.prototype._shakeActivePopover=function(){var a=$(".js-ocp-popover");a.addClass("element-animation-shake");setTimeout(function(){a.removeClass("element-animation-shake")},1500)};Tm.OneClickPurchase.prototype._showModalProgress=function(){this._modalProgress?this._modalProgress.show():this._modalProgress=$(Twig.render(paymentProgressPopup)).appendTo(document.body)};
Tm.OneClickPurchase.prototype._hideModalProgress=function(){this._modalProgress&&this._modalProgress.hide()};Tm.OneClickPurchase.prototype._isReturningUser=function(){return!!$.cookie("cid")};tm.banner=tm.banner||{};CLS8=function(){this._active=this._endDate=this._zeroDate=this._bannerName=this._bannerElement=!1};
CLS8.prototype.init=function(){var a=this;$(".js-close-banner").click(function(){a._active=!1;$(".js-banner-timer, .js-banner-timer .visible").slideUp("easeInExpo",function(){detectPreviewPage()&&detectPreviewPriceBlock()&&fixedAddCart()});var b=$(".js-banner-timer");if(!goog.string.isEmptySafe(b.data("utc-end"))){var c=new Date(b.data("utc-end")),f=new Date,c=Math.ceil((c.getTime()-f.getTime())/864E5),b=b.data("life-time")||c+1;0<b&&Tm.setCookie("tm"+a.getBannerName(),"1",b)}})};
CLS8.prototype.scroll=function(){return!0};CLS8.prototype.stop=function(){};CLS8.prototype.isActive=function(){return this._active};CLS8.prototype.preCondition=function(){return!detectWPWelcomePage()&&!detectWPLandingPresentations()&&"1"!==$.cookie("tm"+this.getBannerName())};
CLS8.prototype.flipClockCounter=function(a,b){var c="",f=$("."+a),g,h,j=0,k=0,l=0;f.length&&!MobileEsp.isMobilePhone&&f.each(function(){var a=$(this);c=a.data("countdown")||b;g=a.data("clockface");var f="1"==a.data("timer-countdown");switch(g){case "RDDailyCounter":h=4;break;case "RDHourlyCounter":h=3;break;case "Counter":k=h=1,j=a.data("counter-duration"),l=a.data("counterstartdate")}CLS3=function(){this._config=$.extend({counter_timer_countdown:f,counter_theme:g,counter_selector:a,
counter_viewType:k,counter_duration:j,counter_startDate:l,labels:[Twig.render(days),Twig.render(hours),Twig.render(minutes),Twig.render(t_seconds)].slice(-h)})};CLS3.prototype=Object.create(Tm.ProductOfTheDay.prototype);(new CLS3)._initCounter(c)})};
CLS8.prototype.startTimer=function(){function a(){var a=c.getDateUTC(),a=g-a,b=new Date(Date.now())>g,l=0<g-f;if(b||!l)return clearInterval(h),c.stop(),!1;b=Math.floor(a/36E5);l=Math.floor(a%36E5/6E4);a=Math.floor(a%6E4/1E3);$(".js-hours",$(c.getBannerElement())).val(b).trigger("change");$(".js-value-hours",$(c.getBannerElement())).html(b).trigger("change");$(".js-minutes",$(c.getBannerElement())).val(l).trigger("change");$(".js-value-minutes",$(c.getBannerElement())).html(l).trigger("change");
$(".js-seconds",$(c.getBannerElement())).val(a).trigger("change");$(".js-value-seconds",$(c.getBannerElement())).html(a).trigger("change");return!0}$(document).on("MainEvents.affiliate.success",function(){this.flipClockCounter("js-affiliate-counter",$.cookie("affBET"))}.bind(this));this.flipClockCounter("js-banner-flipclock-counter");var b=$(".knob");b.length&&b.knob({readOnly:!0});if(!this.preCondition())return!1;var c=this,f=this.getZeroDateUTC(),g=this.getEndDateUTC();$(window).on("scroll",function(){c.scroll(window.pageYOffset)});
a()&&c.init();var h=setInterval(a,1E3)};CLS8.prototype.getBannerElement=function(){return this._bannerElement};CLS8.prototype.getZeroDateUTC=function(){return this._zeroDate};CLS8.prototype.getEndDateUTC=function(){return this._endDate};CLS8.prototype.getBannerName=function(){return this._bannerName};CLS8.prototype.run=function(){this.startTimer()};
CLS8.prototype.getDateUTC=function(){var a=new Date;return this.dateUTC=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())};CLS8.prototype.setZeroDateUTC=function(a){this._zeroDate=(new CLS88).getDateFromFormat(a)};CLS8.prototype.setEndDateUTC=function(a){this._endDate=(new CLS88).getDateFromFormat(a)};Tm=Tm||{};Tm.ModuleMediator=function(){this.modules={};this.locks={};this.conflictList={};this.conflictListInverted={}};Tm.ModuleMediator.prototype.subscribe=function(a,b){this.modules[a]=b};
Tm.ModuleMediator.prototype.sendMessage=function(a,b){var c=a.initiator,f=null;"INIT"===a.event&&(f=this._takeControl(c),a.conflictList&&(this.conflictList[c]=a.conflictList,this._invertConflictList(c)));this._tryToUnlock(c);"END"===a.event&&this._onModuleEnd(c);switch(typeof b){case "string":this.modules[b]&&this.modules[b].receiveMessage(a);break;case "object":b.forEach(function(b){this.modules[b]&&this.modules[b].receiveMessage(a)}.bind(this));break;default:for(var g in this.modules)g!==c&&this.modules[g]&&
this.modules[g].receiveMessage(a)}return f};Tm.ModuleMediator.prototype._takeControl=function(a){var b=$.Deferred();return this.locks[a]=b};Tm.ModuleMediator.prototype._invertConflictList=function(a){this.conflictList[a].forEach(function(b){var c=this.conflictListInverted[b];this.conflictListInverted[b]=c?(c.push(a),c):[a]}.bind(this))};
Tm.ModuleMediator.prototype._cleanConflictList=function(a){for(var b in this.conflictList)this.conflictList[b]=this.conflictList[b].filter(function(b){return b!==a})};Tm.ModuleMediator.prototype._updateConflictList=function(){for(var a in this.conflictList)this._invertConflictList(a)};Tm.ModuleMediator.prototype._tryToUnlock=function(a){var b=this.conflictListInverted[a],b=!(!b||!b.length)||!1;!b&&this.locks[a]&&this.locks[a].resolve();return!b};
Tm.ModuleMediator.prototype._unlockFreeModules=function(){for(var a in this.conflictList)this.conflictList[a].length||this.locks[a].resolve()};Tm.ModuleMediator.prototype._onModuleEnd=function(a){this._cleanConflictList(a);this._updateConflictList();this._unlockFreeModules()};CLS6=function(a){this._urlHelper=a;this._active=this._isAccepted=this._endDate=this._zeroDate=!1;this._bannerElement='.js-banner[data-position="popup banners"]'};goog.inherits(CLS6,CLS8);defineService(["urlHelper"],CLS6);
CLS6.prototype.init=function(){var a=goog.isDef(window.landingPromocode)?window.landingPromocode.code:"",b=goog.string.isEmptySafe($.cookie("nld"))?"":$.cookie("nld"),c=this;if(goog.string.contains(b,a))return this.stop(),!1;c._isAccepted=!1;c._active=!0;$(document).trigger("Gtag.ee.push.promo.view",{from:"banner.popup.init"});a=$(this.getBannerElement()).find("#modalPop:first");a.modal("show");a.on("hidden.bs.modal",function(){c._isAccepted?$(document).trigger("MainEvents.banner.popup.accepte"):
$(document).trigger("MainEvents.banner.popup.decline")});$(".js-modal-button",$(this.getBannerElement())).on("click",function(){var a=goog.isDef(window.landingPromocode)?window.landingPromocode.code:"",b=$.cookie("nld");b==a&&(b="");b=goog.string.isEmptySafe(b)?a:b+","+a;Tm.setCookie("nld",b);initDiscounts();c._isAccepted=!0;c.stop()});$(".js-modal-close",$(this.getBannerElement())).on("click",function(){c._active=!1;var a=$.cookie("bannerCounter"),a=goog.string.isEmptySafe(a)?0:a;"1"==a?(Tm.removeCookie("bannerCounter"),
Tm.removeCookie("showpopup")):Tm.setCookie("bannerCounter",1)})};CLS6.prototype.stop=function(){this._active=!1;$("#modalPop:first",$(this.getBannerElement())).modal("hide");Tm.removeCookie("showpopup")};CLS6.prototype.checkOthetPopups=function(){return 0<$(".modal-dialog").length};
CLS6.prototype.showPopup=function(a,b){var c=b||!1,f=this;if(goog.isDef(a)&&(!goog.string.isEmptySafe(a)&&f.preCondition())&&!f.checkOthetPopups()){var g="/ajax/discount-popup.php?showpopup="+a;c&&(g+="&force=1");$.ajax({url:g,success:function(b){if(goog.string.isEmptySafe(b)||f.checkOthetPopups())return!0;$("body").append(b);var b=$(".js-banner-timer",b),c=goog.isDef(window.landingPromocode)?window.landingPromocode.expiration_date:0;if(goog.string.isEmptySafe(b.data("utc-end"))||goog.string.isEmptySafe(b.data("utc-start"))||
goog.string.isEmptySafe(c))return!0;f.setZeroDateUTC(b.data("utc-start"));f.setEndDateUTC(b.data("utc-end"));Tm.setCookie("showpopup",a,new Date(c));f.startTimer();$(document).trigger("MainEvents.banner.popup.show")}})}};CLS6.prototype.destroy=function(){0<$(this._bannerElement).length&&$(this._bannerElement).remove()};
CLS6.prototype.run=function(){var a=$.url().param();(a=goog.string.makeSafe("showpopup"in a?a.showpopup:$.cookie("showpopup")))&&!this.isActive()?(this.showPopup(a),this.cleanUrl()):this.getCustomPopupBanner()};CLS6.prototype.preCondition=function(){return!detectCartPage()&&!detectCheckoutPage()&&!detectDemoPage()};CLS6.prototype.cleanUrl=function(){this._urlHelper.deleteParamFromUrl("showpopup")};
CLS6.prototype.getCustomPopupBanner=function(){var a=$('.js-banner[data-position="custom_banner"]'),b=a.find("#modalCustomBanner:first");goog.string.isEmptySafe(a.html())||(!detectPreviewPriceBlock()&&detectPreviewPage()?b.modal("show"):b.css("z-index",-100))};CLS2=function(){this._bannerElement='[data-position="Header"] .js-banner-timer';this._bannerName=$(".js-banner").data("banner_name");this._active=this._endDate=this._zeroDate=!1};goog.inherits(CLS2,CLS8);
CLS2.prototype.init=function(){this.preCondition()&&(CLS2.superClass_.init.call(this),this._active=!0,setTimeout(function(){$(".js-banner-timer_wrapper").animate({marginTop:"0px"},500,function(){$(".js-banner-timer_wrapper_small").animate({marginTop:"0px"},500)})},1E3))};CLS2.prototype._minimize=function(){$(".js-banner-timer_wrapper_small").addClass("visible")};CLS2.prototype._maximize=function(){$(".js-banner-timer_wrapper_small").removeClass("visible")};
CLS2.prototype.scroll=function(a){if(this._active){var b=$(".js-banner-timer_wrapper").height();a>b-10?this._minimize():this._maximize()}};CLS2.prototype.stop=function(){$(".js-banner-timer_small",$(this.getBannerElement())).hide();this._active=!1};CLS7=function(){this._bannerElement='[data-position="Header"] .js-banner-timer';this._bannerName=$(".js-banner").data("banner_name");this._active=this._endDate=this._zeroDate=!1};goog.inherits(CLS7,CLS8);
CLS7.prototype.init=function(){CLS7.superClass_.init.call(this);if(this.preCondition()){this._active=!0;if(this.isAffiliateBanner())switch(!0){case this.checkBannerAffiliateCookie("affBET"):$(document).trigger("MainEvents.affiliate.success");this.changeBannerClass();break;case this.checkBannerAffiliateName("affB_was","js-banner-timer","affiliate"):return;default:this.affiliateBunnerClick()}setTimeout(function(){0<$(document,"html").scrollTop()?$(".js-banner-timer_wrapper").animate({marginTop:"0px"},
500).sticky({topSpacing:0}).css("position","fixed"):$(".js-banner-timer_wrapper").animate({marginTop:"0px"},500).sticky({topSpacing:0})},1E3);if(this.isAffiliateBanner())$(document).on("MainEvents.flipclock.stop",function(){$(".js-banner-timer .js-banner-timer_wrapper").animate({marginTop:"-90px"},500,function(){$(this).unstick()});$.removeCookie("nld",{path:"/"});initDiscounts()})}};CLS7.prototype.scroll=function(){};
CLS7.prototype.stop=function(){$(this.getBannerElement()).hide();this._active=!1};CLS7.prototype.isAffiliateBanner=function(){return 0<$(".js-banner-timer").length&&0<$('[data-affiliate][data-affiliate!=""]').length};CLS7.prototype.checkBannerAffiliateCookie=function(a){return!!$.cookie(a)};CLS7.prototype.checkBannerAffiliateName=function(a,b,c){return $.cookie(a)==$("."+b).data(c)};
CLS7.prototype.changeBannerClass=function(){$(".js-banner-timer_wrapper").addClass("banner-timer-wrap-discount");$(".banner-wrap").toggleClass("banner-wrap_active")};CLS7.prototype.affiliateBunnerClick=function(){$(".js-banner-timer").on("click",".js-banner-btn",function(a){a.preventDefault();$(a.target).addClass("big-loading loading");this.affiliateDiscount()}.bind(this))};
CLS7.prototype.affiliateDiscount=function(){var a=new CLS1,b=$(".js-banner-timer").data("affiliate");a.getDiscount(b)};tm.banner.model=tm.banner.model||{};tm.banner.model.sales=function(){this.max=9E3;this.total=0};tm.banner.model.sales.prototype.increment=function(a){a=this.countPeriods(a)%144;this.total+=this.getY(a)};tm.banner.model.sales.prototype.getTotal=function(a){a=this.countPeriods(a);this.total=1E3*Math.floor(a/144);for(var a=a%144,b=0;b<=a+1;b++)this.increment(b*this.get10Minutes());this.total>this.max&&(this.total=this.max);return this.total};
tm.banner.model.sales.prototype.countPeriods=function(a){return Math.floor(a/this.get10Minutes())};tm.banner.model.sales.prototype.getY=function(a){var b=5;switch(!0){case 0<a&&46>=a:b=5;break;case 46<a&&60>=a:b=Math.floor((a-11)/7);break;case 60<a&&116>=a:b=9;break;case 116<a&&144>=a:b=Math.floor((179-a)/7)}return b};tm.banner.model.sales.prototype.get10Minutes=function(){return 6E5};(function(a){a.fn.incrementalCounter=function(b){var c=function(b){var c=parseInt(a(b).data("current_value")),j=20,j=a(b).data("end_value")-c;1>j?(j=4E4,c+=1):2>j?(j=45E3,c+=1):4>j?(j=6E4,c+=1):5>j?(j=12E4,c+=1):7>j?(j=6E4,c+=1):10>j?(j=3E4,c+=1):100>j?(j=10,c+=1):500>j?(j=6,c+=6):1E3>j?(j=5,c+=6):2E3>j?(j=2,c+=6):5E3>j?(j=1,c+=32):(j=1,c+=66);a(b).data({current_value:c});j?setTimeout(function(){f(a(b),c)},j):f(a(b),c)},f=function(b,f){var j=f,k=b.data("digits"),j=j+"",l=(j.length>=k?j:Array(k-j.length+
1).join("0")+j).split(""),j=a(b).data("end_value"),u=a(b).find(".num");a(l).each(function(b){a(u[b]).text(l[b])});j>f&&c(b)},b=a.extend({digits:4},b);this.each(function(f,h){var j=b.digits,j=h.getAttribute("data-digits")?h.getAttribute("data-digits"):j,k=parseInt(h.getAttribute("data-value")),l=parseInt(h.getAttribute("data-from")),j="auto"===j||j<String(k).length?String(k).length:j;a(h).data({current_value:l,end_value:k,digits:j,current_speed:1E3});if(0===a("div.num",a(h)).length)for(k=0;k<j;k++)a(h).append('<div class="num">0</div>');
c(a(h))});return this}})(jQuery);CLS4=function(){this._bannerElement='[data-position="Header"] .js-banner-timer.js-banner-counter';this._bannerName=$(".js-banner").data("banner_name");this._active=this._endDate=this._zeroDate=!1;$(".incremental-counter",this._bannerElement).attr("data-from",0);this.dateUTC=!1};goog.inherits(CLS4,CLS8);
CLS4.prototype.init=function(){this.preCondition()&&(CLS4.superClass_.init.call(this),this._active=!0,setTimeout(function(){$(".js-banner-timer_wrapper").animate({marginTop:"0px"},500).sticky({topSpacing:0})},1E3))};CLS4.prototype.stop=function(){$(this.getBannerElement()).hide();this._active=!1};
CLS4.prototype.startTimer=function(){function a(){var a=b.getDateUTC(),k=0<=a-c;if(0>=f-a||!k)return clearInterval(h),b.stop(),!1;$.when.apply(null,b.synchronize()).done($.proxy(function(){var a=b.getDateUTC()-c,a=g.getTotal(a);$(".incremental-counter",b.getBannerElement()).attr("data-value",a);$(".incremental-counter").incrementalCounter();$(".incremental-counter",b.getBannerElement()).attr("data-from",a);b.isChangeNeeded(a)&&b.change(b.getBannerClass(a))}));return!0}if(!this.preCondition())return!1;
var b=this,c=this.getZeroDateUTC(),f=this.getEndDateUTC(),g=new tm.banner.model.sales;a()&&b.init();var h=setInterval(a,6E5)};CLS4.prototype.getBannerClass=function(a){return 6E3<a?"js-info-3":3E3<a?"js-info-2":"js-info-1"};CLS4.prototype.isChangeNeeded=function(a){a=this.getBannerClass(a);return!$(".banner-info",this.getBannerElement()).hasClass(a)};CLS4.prototype.change=function(a){return $(".banner-info",this.getBannerElement()).removeClass("js-info-1 js-info-2 js-info-3 ").addClass(a)};
CLS4.prototype.synchronize=function(){var a=this;return $.ajax({url:"/ajax/timestamp.php",datatype:"json",async:!1}).done(function(b){a.dateUTC=b&&goog.isDef(b.timestamp)?1E3*parseInt(b.timestamp):!1})};CLS4.prototype.getDateUTC=function(){return this.dateUTC?this.dateUTC:this.dateUTC=(new Date).getTime()};CLS5=function(a){this._banners=[];goog.isObject(a)&&this._banners.push(a)};defineService(["banner-popup"],CLS5);
CLS5.prototype._collect=function(){var a=$(".js-banner-timer");if(!(0===a.length||goog.string.isEmptySafe(a.data("utc-end"))||goog.string.isEmptySafe(a.data("utc-start")))){var b=a.data("utc-end"),c=a.data("utc-start"),a="small"==a.data("banner-size")?new CLS7:new CLS2;0<$(".js-banner-counter").length&&(a=new CLS4);a.setZeroDateUTC(c);a.setEndDateUTC(b);this._banners.push(a)}};
CLS5.prototype.run=function(){detectSpecialPages()||(this._collect(),goog.array.forEach(this._banners,function(a){a.run()}))};CLS5.prototype.isActiveBanner=function(){return goog.array.some(this._banners,function(a){return a.isActive()})};CLS5.prototype.isTopBannerOn=function(){return 0<$(".js-banner-timer").length&&0<$('[data-position="Header"]').length};CLS1=function(){};CLS1.prototype.getDiscount=function(a){$.ajax({url:"/ajax/affiliate-discount.php",dataType:"json",data:{affiliate:a},type:"POST"}).done(function(a){1==a.status?this.success(a):this.error(a)}.bind(this))};
CLS1.prototype.success=function(a){initDiscounts();$.cookie("affBET",a.expirationDate,{expires:new Date(a.expirationDate)});$.cookie("affB_was",$(".js-banner-timer").data("affiliate"),{expires:30});$(document).trigger("MainEvents.affiliate.success");$(".js-banner-timer .js-banner-btn").removeClass("big-loading loading");$(".js-banner-timer_wrapper").addClass("banner-timer-wrap-discount");$(".banner-wrap").toggleClass("banner-wrap_active")};CLS1.prototype.error=function(){console.error("Error AJAX data")};window.banner_zone=window.banner_zone||[];var element=$(".js-revive-banner-container").last(),timer=null,stabilizationDelay=50,deferJsLoaded=$.Deferred(),deferModified=$.Deferred();0<window.banner_zone.length&&($(document).on("TM_JS_LOADED",deferJsLoaded.resolve),element.on("DOMSubtreeModified",checkChildrenWrapper),checkChildren(element),$.when(deferJsLoaded,window.bannerScriptLoad,deferModified).then(function(){initializeBanner()}));function checkChildrenWrapper(a){checkChildren(a.target)}
function checkChildren(a){0!==a.children.length&&(clearTimeout(timer),timer=setTimeout(DOMStabilized,stabilizationDelay))}function DOMStabilized(){element.off("DOMSubtreeModified");deferModified.resolve()}function initializeBanner(){appDic.require("banner-manager").run();try{MobileEsp||(appDic.require("banner-popup").cleanUrl(),$(window).on("orientationchange resize",function(){$(".js-banner-timer_wrapper").sticky("update")}))}catch(a){}};Tm=Tm||{};Tm.floatPanel=function(){this._openingPanelAccess=1};Tm.floatPanel.prototype.updateCustomScrollbar=function(){$(".float-panel").find(".js-popover-with-scroll").mCustomScrollbar("destroy");this.setCustomScrollbar()};
Tm.floatPanel.prototype.setCustomScrollbar=function(){var a;a=MobileEsp.DetectIos()||MobileEsp.DetectAndroid()?!1:[80,0];$(".float-panel").find(".js-popover-with-scroll").mCustomScrollbar({advanced:{updateOnContentResize:!0},axis:"y",autoHideScrollbar:!0,scrollbarPosition:"inside",autoDraggerLength:!0,snapAmount:a,mouseWheel:{enable:!0},scrollButtons:{enable:!1},keyboard:{enable:!1,scrollAmount:80,scrollType:"stepless"},callbacks:{onCreate:function(){},onInit:function(){},onScrollStart:function(){},
onScroll:function(){},onUpdate:function(){}}})};Tm.floatPanel.prototype._animatingPanelItem=function(a){var b=a.find(".panel-inner");b.addClass("animating").delay(300).queue(function(){b.removeClass("animating").dequeue()})};Tm.floatPanel.prototype.addingAction=function(a){$(a).hasClass("filled")||$(a).addClass("filled");this._animatingPanelItem($(a));$(a).find(".popover-extended").mCustomScrollbar("update")};
Tm.floatPanel.prototype.showExtendedPopover=function(a){var b=a.find(".popover-extended");this._openingPanelAccess=0;a.addClass("opened");a.hasClass("cart-item")&&a.prev().addClass("prev-to-cart-item");b.stop(!0,!1).slideDown(300).animate({opacity:1},{queue:!1,duration:300,complete:function(){this._openingPanelAccess=1}.bind(this)})};
Tm.floatPanel.prototype.hideExtendedPopover=function(a){var b=a.parents(".float-panel").find(".panel-item"),a=a.parents(".float-panel").find(".popover-extended");this._openingPanelAccess=0;a.stop(!0,!1).slideUp(300).animate({opacity:0},{queue:!1,duration:300,complete:function(){this._openingPanelAccess=1}.bind(this)});$(document).trigger("MainEvents.FloatedPanel.popover.hide",{elements:b});b.removeClass("opened prev-to-cart-item")};
Tm.floatPanel.prototype.init=function(){var a=$(".float-panel"),b=a.find(".panel-inner");$("body").addClass("page-with-floated-panel");$(b).on("click",function(a){a=$(a.target).parents(".panel-item");if(!a.hasClass("filled"))return!1;this._openingPanelAccess&&(a.hasClass("opened")?this.hideExtendedPopover(a):(this.hideExtendedPopover(a),this.showExtendedPopover(a)));this.updateCustomScrollbar();return!1}.bind(this));$(document).on("click",function(b){$(b.target).parents(".float-panel").length||this.hideExtendedPopover(a.find(".panel-item"))}.bind(this))};Tm=Tm||{};Tm.floatingTooltip=function(a){this._containerSelector=a;this._tooltipClass=".js-floating-tooltip";this._tooltip=null;this._containers=[]};Tm.floatingTooltip.prototype.init=function(){this._containers=$(this._containerSelector).each(function(a,b){$(b).on("mouseenter",function(){setTimeout(function(){this.create(b)}.bind(this),100)}.bind(this)).on("mouseleave",function(){setTimeout(function(){this.destroy()}.bind(this),100)}.bind(this))}.bind(this)).get()};
Tm.floatingTooltip.prototype.create=function(a){if(!$(a).hasClass("visited")&&(a=$(a).find("[data-floating-text]").data("floating-text")))this._tooltip=this.getTooltip(a),this._tooltip.css({transition:"none",display:"block"}).appendTo("body"),this.move()};
Tm.floatingTooltip.prototype.getTooltip=function(a){return $('<div class="js-floating-tooltip floating-tooltip single-line rd-notice rd-notice-tooltip rd-notice-type-default rd-notice-position-right fade in"><div class="rd-notice-content popover-content">'+a+"</div></div>")};Tm.floatingTooltip.prototype.move=function(){$(this._containers).mousemove(function(a){this._tooltip.css({left:a.pageX+10+"px",top:a.pageY-15+"px"})}.bind(this))};Tm.floatingTooltip.prototype.destroy=function(){$(this._tooltipClass).detach()};
$(document).on("TM_JS_LOADED",function(){(new Tm.floatingTooltip(".js-step")).init()});Tm=Tm||{};
Tm.Advice=function(a,b){if("undefined"===typeof Tm.Config&&"undefined"===typeof Tm.Config.defaultCDN)return!1;this.time=0;this.lifeTime=100;this.interval=null;this.lang=a.getCode();this.localeFilePath="/js/plasma-pocket-react";this.socialProof=this.advice=null;this.mascotPlaceBisy=!1;this.pages={};this.userCase=null;this.socialProofCount=0;this.socialProofMaxCount=2;this.adviceCount=0;this.advicesStopped=!1;try{this.debugger=(new URLSearchParams(location.search)).get("debugger")}catch(c){this.debugger=!1}this.utils=
b;this.mediator=appDic.require("module-mediator");this.mediator.subscribe("Advice",this)};defineService(["language","browser-utils"],Tm.Advice);goog.inherits(Tm.Advice,Tm.AbstractBanner);
Tm.Advice.prototype.init=function(){this.pages=this.pageDetector();this._sendMessage("INIT",["FloatedVideoBanner"]).then(function(){$("body").attr("data-advice-ready",!0);this.advice=new monsterbundle.default.advice;this.setAdviceData();this.interval=setInterval(function(){var a=this;this.advice.match().then(function(b){a.caseDetector(b)});this.advice.timeOnPage(this.time);this.debugger&&console.warn("time on page: ",this.time);this.checkTheTime()}.bind(this),1E3)}.bind(this))};
Tm.Advice.prototype.isGreeting=function(a){return _.find(["A14","A15","A16","A17"],function(b){return b===a})||!1};
Tm.Advice.prototype.caseDetector=function(a){var b=this;a.length&&$.each(a,function(a,f){b.userCase=f.useCase;switch(f.useCase){case "A1":b.a1(f.views);break;case "A2":b.a2();break;case "A3":b.a3();break;case "A4":b.a4();break;case "A5":b.a5(f.watch);break;case "A6":b.a6(f.hours);break;case "A7":b.a7(f.sales);break;case "A8":b.a8(f.price,f.spent,f.priceInt,f.spentInt);break;case "A9":b.a9();break;case "A10":b.a10();break;case "A11":b.a11();case "A12":b.a12(f.sales);break;case "A14":b.a14();break;
case "A15":b.a15();break;case "A16":b.a16();break;case "A17":b.a17()}})};
Tm.Advice.prototype.pageDetector=function(){var a={keyword:tm.collection.plugin.keyword(),topic:tm.collection.plugin.topic(),type:tm.collection.plugin.type(),attributes:tm.collection.plugin.attribute(),preview:$("#preview-page").length&&"free"!==$(".js-template-id").attr("data-variant")&&"sample"!==$(".js-template-id").attr("data-variant")};switch(this.getBrandName(a)){case "PrestaShop":case "OpenCart":case "Magento":case "WooCommerce":break;default:a.type=!1,a.preview=!1}return a};
Tm.Advice.prototype.setAdviceData=function(){this.advice.numberOfSales(parseInt($(".js-template-id").attr("data-download-count")));this.advice.buyout(parseInt($("#preview-license-exclusive .js-price").attr("data-full_price")));this.advice.singleSiteLicense($("#preview-license-regular .js-price").attr("data-price"));$(document).on("MainEvents.discountLoaded",function(){this.advice.singleSiteLicense($("#preview-license-regular .js-price").attr("data-price"))}.bind(this));this.advice.userCountry($.cookie("country_code"));
this.advice.userLocale(this.lang)};Tm.Advice.prototype.encreaseAdviceCount=function(){this.adviceCount++};Tm.Advice.prototype.decreaseAdviceCount=function(){this.adviceCount--;this.checkTheFinish()};Tm.Advice.prototype.checkTheFinish=function(){this.advicesStopped&&0===this.adviceCount&&this._sendMessage("END")};Tm.Advice.prototype.checkTheTime=function(){this.time++;this.time===this.lifeTime&&(clearInterval(this.interval),this.advicesStopped=!0,this.checkTheFinish())};
Tm.Advice.prototype.getMascotType=function(a){var b="mat";switch(a){case "OpenCart":b="dro";break;case "WordPress":b="mat";break;case "Magento":b="waz";break;case "Moto CMS 3":b="deme";break;case "PrestaShop":b="cara";break;case "WooCommerce":b="chan";break;case "Website":b="zilla";break;case "Joomla":b="ubla"}return b};
Tm.Advice.prototype.getBrandName=function(a){var b={id_50122:"OpenCart",id_50125:"WordPress",id_50115:"Magento",id_168158:"Moto CMS 3",id_50116:"PrestaShop",id_61529:"WooCommerce",id_50108:"Website",id_50126:"Joomla"},a=a||this.pages;return a.type?b["id_"+a.type.model]:a.preview?b["id_"+$(".js-template-id").attr("data-property-type-id")]:!1};Tm.Advice.prototype.getKey=function(){return this.userCase+"_show_on_"+location.pathname.replace(/\//g,"|")};
Tm.Advice.prototype.showSocialProof=function(a,b,c){if(!this.utils.getSettingValue("interactiveElements.showClientNotification",!0)||"undefined"===typeof a&&"undefined"===typeof a.text)return!1;b={notice:{text:a.text,type:b||"default",closeIconId:"close_"+this.userCase+"_socialProof",afterClose:function(){this.decreaseAdviceCount()}.bind(this)}};"undefined"!==typeof a.icon&&(b.notice.icon=a.icon);this.socialProofCount++;this.socialProofCount<=this.socialProofMaxCount&&($(".socialproof-component-wrapper").length?
this.socialProof.update(b):(this.socialProof=new monsterbundle.default.mascotAndSocialProof("SocialProof",this.lang,this.localeFilePath),this.socialProof.show("#header",b)),this.encreaseAdviceCount(),this._sendMessage("APPEARED:"+b.notice.type,["FloatedVideoBanner"]),lscache.set(this.getKey(),!0,parseInt(this.debugger||c||1440)))};
Tm.Advice.prototype.showMascot=function(a,b,c){if(!this.utils.getSettingValue("interactiveElements.showMascot",!0))return!1;a.type=b||this.getMascotType(this.getBrandName());a.afterClose=function(){this.decreaseAdviceCount();this.isGreeting(this.userCase)?setTimeout(function(){this.mascotPlaceBisy=!1}.bind(this),2E4):this.mascotPlaceBisy=!1}.bind(this);lscache.get(this.getBrandName()+"_greeting")||(this.mascotPlaceBisy=!0);if(!this.mascotPlaceBisy&&lscache.get(this.getBrandName()+"_greeting")||this.isGreeting(this.userCase))b=
new monsterbundle.default.mascotAndSocialProof("Mascot",this.lang,this.localeFilePath),a.closeIconId="close_"+this.userCase+"_mascot",a.button&&(a.button.id="close_"+this.userCase+"_mascot_button"),b.show("body",a),this.encreaseAdviceCount(),this._sendMessage("APPEARED:"+a.type,["FloatedVideoBanner"]),this.mascotPlaceBisy=!0,lscache.set(this.getKey(),!0,parseInt(this.debugger||c||43200))};
Tm.Advice.prototype.a1=function(a){if(!a)return!1;!lscache.get(this.getKey())&&this.pages.preview&&this.showSocialProof({text:sprintf(Twig.render(users_are_browsing),a),icon:"search"})};Tm.Advice.prototype.a2=function(){if((this.pages.preview||this.pages.topic||this.pages.topic&&this.pages.type||this.pages.attributes&&(this.pages.type||this.pages.topic)||this.pages.type)&&!lscache.get(this.getKey())){var a={text:Twig.render(you_could_turn_to_support)};this.showMascot(a)}};Tm.Advice.prototype.a3=function(){};
Tm.Advice.prototype.a4=function(){};Tm.Advice.prototype.a5=function(a){!lscache.get(this.getKey())&&(a&&this.pages.preview)&&this.showSocialProof({text:sprintf(Twig.render(users_from_california),a),icon:"like-fill"})};Tm.Advice.prototype.a6=function(a){!lscache.get(this.getKey())&&(a&&this.pages.preview&&!$.cookie("a6_show"))&&this.showSocialProof({text:sprintf(Twig.render(this_template_was_last),a),icon:"cart"},"success")};
Tm.Advice.prototype.a7=function(a){!lscache.get(this.getKey())&&(a&&this.pages.preview)&&this.showSocialProof({text:sprintf(Twig.render(the_product_is_gaining),a),icon:"like-fill"},"success")};Tm.Advice.prototype.a8=function(a,b,c,f){if(!c||!f)return!1;!lscache.get(this.getKey())&&this.pages.preview&&(a={text:sprintf(Twig.render(where_spen_on_producing),b,a)},this.showMascot(a))};
Tm.Advice.prototype.a9=function(){if(this.pages.preview||this.pages.topic||this.pages.topic&&this.pages.type||this.pages.attributes&&(this.pages.type||this.pages.topic)||this.pages.type)lscache.get(this.getKey())||this.showSocialProof({text:Twig.render(customers_dont_regret_the_money),icon:"cash"})};
Tm.Advice.prototype.a10=function(){if((this.pages.preview||this.pages.topic||this.pages.topic&&this.pages.type||this.pages.attributes&&(this.pages.type||this.pages.topic)||this.pages.type)&&!lscache.get(this.getKey())){var a={text:Twig.render(our_template_are_developed)};this.showMascot(a)}};
Tm.Advice.prototype.a11=function(){(!lscache.get(this.getKey())&&this.pages.preview||this.pages.topic||this.pages.topic&&this.pages.type||this.pages.attributes&&(this.pages.type||this.pages.topic)||this.pages.type)&&this.showSocialProof({text:Twig.render(customers_dont_regret_the_money),icon:"cart"},"success")};Tm.Advice.prototype.a12=function(a){!lscache.get(this.getKey())&&this.pages.preview&&(a={text:sprintf(Twig.render(this_could_purchase_it),a)},this.showMascot(a))};
Tm.Advice.prototype.a13=function(){if(!lscache.get(this.getKey())){var a={text:Twig.render(you_will_be_content_with_purchased)};this.showMascot(a)}};
Tm.Advice.prototype.a14=function(){if((this.pages.preview||this.pages.type||this.pages.type&&this.pages.topic||this.pages.type&&this.pages.attributes)&&"PrestaShop"===this.getBrandName()&&!lscache.get("PrestaShop_greeting")){var a={text:Twig.render(greeting_cara),button:{text:sprintf(Twig.render(got_it_thank_you),"Cara"),onClick:"close"}};this.showMascot(a);lscache.set("PrestaShop_greeting",!0)}};
Tm.Advice.prototype.a15=function(){if((this.pages.preview||this.pages.type||this.pages.type&&this.pages.topic||this.pages.type&&this.pages.attributes)&&"OpenCart"===this.getBrandName()&&!lscache.get("OpenCart_greeting")){var a={text:Twig.render(greeting_dro),button:{text:sprintf(Twig.render(got_it_thank_you),"Dro"),onClick:"close"}};this.showMascot(a);lscache.set("OpenCart_greeting",!0)}};
Tm.Advice.prototype.a16=function(){if((this.pages.preview||this.pages.type||this.pages.type&&this.pages.topic||this.pages.type&&this.pages.attributes)&&"Magento"===this.getBrandName()&&!lscache.get("Magento_greeting")){var a={text:Twig.render(greeting_waz),button:{text:sprintf(Twig.render(got_it_thank_you),"Waz"),onClick:"close"}};this.showMascot(a);lscache.set("Magento_greeting",!0)}};
Tm.Advice.prototype.a17=function(){if((this.pages.preview||this.pages.type||this.pages.type&&this.pages.topic||this.pages.type&&this.pages.attributes)&&"WooCommerce"===this.getBrandName()&&!lscache.get("WooCommerce_greeting")){var a={text:Twig.render(greeting_chan),button:{text:sprintf(Twig.render(got_it_thank_you),"Chan"),onClick:"close"}};this.showMascot(a);lscache.set("WooCommerce_greeting",!0)}};
Tm.Advice.prototype._sendMessage=function(a,b,c){return this.mediator.sendMessage({event:a,initiator:"Advice",conflictList:b},c)};Tm=Tm||{};Tm.Memberships=function(a){this.dataBlock=$(".js-template-id");this.lang=a;this.currentTypeid=this.dataBlock.attr("data-property-type-id");this.currentTemplateId=parseInt(this.dataBlock.attr("data-template_id"));this.membershipsData={subscription:null,downloads:null,group:!1,memberships:!1};this.dataReady=!1;this.interval=3E4;this.userToken=$.cookie("access_token")||!1;this.formatter=new Tm.DateFormatter(this.lang.getCode());this.dateFormat="%MMM% %D%, %YYYY% %h%:%mm%"};
defineService(["language"],Tm.Memberships);Tm.Memberships.prototype.init=function(){if(!this.userToken||"undefined"===typeof monsterbundle)return!1;var a=this.lang.getCode();this.memberships=new monsterbundle.default.MembershipsClient(Tm.Config.memberships.apiUrl.slice(0,-1),a);this.orders=new monsterbundle.default.OrdersClient(Tm.Config.orders.apiUrl.slice(0,-1),a);this.drawForm()};
Tm.Memberships.prototype.initDemo=function(){var a=this.lang.getCode();this.memberships=new monsterbundle.default.MembershipsClient(Tm.Config.memberships.apiUrl.slice(0,-1),a);this.orders=new monsterbundle.default.OrdersClient(Tm.Config.orders.apiUrl.slice(0,-1),a);this.drawDemoForm()};
Tm.Memberships.prototype.restoreLink=function(a){var b=this;b.orders.restoreDownloadLink(b.userToken,a,b.currentTemplateId).then(function(c){if(c.link.length)window.location.href=c.link;else var f=setInterval(function(){b.orders.checkDownloadLink(b.userToken,a,b.currentTemplateId).then(function(a){a.link.length&&(window.location.href=a.link)}).catch(function(a){console.warn(a);clearInterval(f)})},b.interval)}).catch(function(a){console.warn(a)})};
Tm.Memberships.prototype.drawDemoForm=function(){var a=this;a.getMembershipsGroup(function(){if(null===a.membershipsData.subscription||null===a.membershipsData.downloads)return!1;a.membershipsData.subscription.length?(a.membershipsData.downloads?a.drawDemoFormLoaded():a.drawDemoFormLoad(),$("#purchase_options .countdown-block").remove(),$("#purchase_options").addClass("not-show-discount"),fixedAddCart()):a.drawDemoFormSubscription()})};
Tm.Memberships.prototype.drawForm=function(){var a=this;a.getMembershipsGroup(function(){if(null===a.membershipsData.subscription||null===a.membershipsData.downloads)return!1;a.membershipsData.subscription.length&&(a.membershipsData.downloads?a.drawFormLoaded():a.drawFormLoad(),$("#purchase_options .countdown-block").remove(),$("#purchase_options").addClass("not-show-discount"),fixedAddCart())})};
Tm.Memberships.prototype.drawFormLoaded=function(){var a=this.formatter._parse(this.dateFormat,new Date(1E3*parseInt(this.membershipsData.downloads.created_at))),b=this;$.get("/ajax/membership/purchase-block.php?downloaded=true",function(c){$("#purchase_options").prepend(c);c=$(".js-membership_downloaded-membership");c.find(".js-membership__card-text").html(sprintf(Twig.render(downloaded_text),a));c.removeClass("hidden");$("#membership_downloaded_template").on("click",function(){var a=$(this);a.addClass("loading").attr("disabled",
"disabled");$.get("/ajax/membership/get-download-order.php",{subscriptionId:b.membershipsData.subscription[0].id,productId:b.currentTemplateId},function(c){c.status?b.restoreLink(c.orderId):(a.removeClass("loading").removeAttr("disabled"),console.warn("membership error",JSON.stringify(c)))});return!1})})};
Tm.Memberships.prototype.drawFormLoad=function(){var a=this.membershipsData.subscription[0],b=this.formatter._parse(this.dateFormat,new Date(1E3*parseInt(a.end_date))),c=this;$.get("/ajax/membership/purchase-block.php",function(f){$("#purchase_options").prepend(f);f=$(".js-membership_download-membership");parseInt(a.unlimited_downloads,10)?f.find(".js-membership__card-text").html(sprintf(Twig.render(unlim_download_text),a.membership.title,b)):f.find(".js-membership__card-text").html(sprintf(Twig.render(download_text),
a.membership.title,b,a.downloads,a.downloads_quota));f.find(".js-subscription-image").attr("src",c.membershipsData.group[0].active_icon);f.removeClass("hidden");$("#membership_download_template").on("click",function(a){var b=$(this);b.addClass("loading").attr("disabled","disabled");$.ajax("/ajax/membership/download.php",{type:"POST",data:{subscriptionId:c.membershipsData.subscription[0].id,productId:c.currentTemplateId},success:function(a){a.status?document.location.href=c.combineUrlWithParam(a.redirectUrl,
"locale="+c.lang.getCode()):(b.removeClass("loading").removeAttr("disabled"),console.warn("membership error",JSON.stringify(a)))}});a.preventDefault()})})};
Tm.Memberships.prototype.drawDemoFormSubscription=function(){var a=this,b=_.reduce(a.membershipsData.memberships,function(a,b){return parseInt(a.price)>parseInt(b.price)?a:b});$.get("/ajax/membership/livedemo-subscription-block.php",function(c){b=parseInt(b.unlimited_downloads,10)?Math.round(parseInt(b.price)/310):Math.round(parseInt(b.price)/parseInt(b.max_downloads));c=sprintf(c,b);$(".js-subscription-after").after(c);location.hash="";$(".subscription__button").on("click",function(){event.preventDefault?
event.preventDefault():event.returnValue=!1;location.replace("//"+Tm.Config.domain+a.lang.urlPrefix("/checkout.php?addMembership="+a.membershipsData.memberships[0].id+"&_tmvcid="+appDic.require("cart").createVirtualCartCookie()))})})};
Tm.Memberships.prototype.drawDemoFormLoaded=function(){var a=this;$.get("/ajax/membership/livedemo-purchase-block.php?downloaded=1",function(b){$(".js-topbar_info__wrapper").parent().children().addClass("hidden");$(".DemoPanelDropdown__license--js, .DemoPanel__addToCart--js, .DemoPanelDropdown--services").addClass("hidden");$(".js-topbar_info__wrapper").removeClass("hidden").html(b);$("#membership_downloaded_template").on("click",function(){var b=$(this);b.addClass("loading").attr("disabled","disabled");
$.get("/ajax/membership/get-download-order.php",{subscriptionId:a.membershipsData.subscription[0].id,productId:a.currentTemplateId},function(f){f.status?a.restoreLink(f.orderId):(b.removeClass("loading").removeAttr("disabled"),console.warn("membership error",JSON.stringify(f)))});return!1})})};
Tm.Memberships.prototype.drawDemoFormLoad=function(){var a=this.membershipsData.subscription[0],b=this.formatter._parse(this.dateFormat,new Date(1E3*parseInt(a.end_date))),c="",c=parseInt(a.unlimited_downloads,10)?"/ajax/membership/livedemo-download-unlim.php":"/ajax/membership/livedemo-purchase-block.php";$.get(c,function(c){c=sprintf(c,b,a.downloads,a.downloads_quota);$(".js-topbar_info__wrapper").parent().children().addClass("hidden");$(".DemoPanelDropdown__license--js, .DemoPanel__addToCart--js, .DemoPanelDropdown--services").addClass("hidden");
$(".js-topbar_info__wrapper").removeClass("hidden").html(c);$("#membership_download_template").on("click",function(a){var b=$(this);b.addClass("loading").attr("disabled","disabled");$.ajax("/ajax/membership/download.php",{type:"POST",data:{subscriptionId:this.membershipsData.subscription[0].id,productId:this.currentTemplateId},success:function(a){a.status?document.location.href=this.combineUrlWithParam(a.redirectUrl,"locale="+this.lang.getCode()):b.removeClass("loading").removeAttr("disabled")}.bind(this)});
a.preventDefault()}.bind(this))}.bind(this))};
Tm.Memberships.prototype.getMembershipsGroup=function(a){var b=this,c=lscache.get("membershipsGroup-"+b.currentTypeid);c?(b.membershipsData.group=c,b.getSubscribeData(a)):b.memberships.getMembershipGroups({type_id:b.currentTypeid,all:1}).then(function(c){c.length&&(lscache.set("membershipsGroup"+b.currentTypeid,c,360),b.membershipsData.group=c,b.memberships.getMemberships({group_id:c[0].id}).then(function(c){b.membershipsData.memberships=c;b.getSubscribeData(a)}).catch(function(){console.info(res);b.getSubscribeData(a)}))}).catch(function(){b.membershipsData.group=
!1;b.getSubscribeData(a)})};
Tm.Memberships.prototype.getSubscribeData=function(a){var b=this;if(!b.userToken)return b.membershipsData.subscription=!1,b.membershipsData.downloads=!1,a(),!1;b.memberships.getListOfSubscriptions(b.userToken,{status:"active",group_id:b.membershipsData.group[0].id}).then(function(c){b.membershipsData.subscription=c;b.dataReady=b.membershipsData.downloads;a()}).catch(function(){b.membershipsData.subscription=null!==b.membershipsData.subscription?b.membershipsData.subscription:!1;a()});b.memberships.getListOfDownloads(b.userToken,
b.currentTemplateId).then(function(c){b.membershipsData.downloads=c;b.dataReady=b.membershipsData.subscription;a()}).catch(function(){b.membershipsData.downloads=null!==b.membershipsData.downloads?b.membershipsData.downloads:!1;a()})};Tm.Memberships.prototype.combineUrlWithParam=function(a,b){return-1===a.search(/\?/)?a+"?"+b:a+"&"+b};Tm=Tm||{};Tm.MembershipsPopup=function(a){this.locale=a.getCode();this.lang=a;this.localeFilePath="/js/plasma-pocket-react";this.request={};this.membershipAPI=new monsterbundle.default.MembershipsClient(Tm.Config.memberships.apiUrl.slice(0,-1),this.locale);this.membershipGroup=null;this.membershipSubscriptions=[]};defineService(["language"],Tm.MembershipsPopup);
Tm.MembershipsPopup.prototype.tryShow=function(){var a=this;a.checkRequest()&&(a.membershipSubscriptions.length?a.showPopup():a.membershipAPI.getMembershipGroups({type_id:a.request.showMembership}).then(function(b){a.membershipGroup=b[0];a.membershipAPI.getMemberships({group_id:a.membershipGroup.id}).then(function(b){a.membershipSubscriptions=b;a.showPopup()}).catch(function(a){console.warn("getMemberships error",a)})}).catch(function(a){console.warn("getMembershipGroups error",a)}))};
Tm.MembershipsPopup.prototype.checkRequest=function(){this.request=$.url().param();if("undefined"!==typeof this.request.showMembership)return!!this.request.showMembership.length;this.request=$.url().fparam();return"undefined"!==typeof this.request.showMembership?!!this.request.showMembership.length:!1};
Tm.MembershipsPopup.prototype.showPopup=function(){if(this.membershipSubscriptions.length){var a=this,b=new monsterbundle.default.memberships("popup",this.locale,this.localeFilePath),c=$(".react-component.popup-component-wrapper"),f="//"+Tm.Config.domain;c.length&&c.remove();b.show("body",{subscriptions:a.membershipSubscriptions,bySubscriptionFunc:function(b){window.location=f+a.lang.urlPrefix("/checkout.php?addMembership="+b+"&_tmvcid="+appDic.require("cart").createVirtualCartCookie())},contactUsCallback:function(){$(".popup-component-wrapper").find(".popup__close-btn").trigger("click");
$(".js-live-chat-board").hasClass("rotated")||$(".js-start-chat").trigger("click")}});window.location.hash="hash"}};
Tm.MembershipsPopup.prototype.initUltimatedSubscribeMembership=function(){var a=document.getElementById("PlasmaPromotion__ultimatedShopify");location.hash="";this.membershipAPI.getMemberships().then(function(a){return a[0]}).then(function(b){b&&b.price&&(a.querySelector("#PlasmaPromotion__membershipPrice").innerHTML=parseInt(b.price,10),a.querySelector("#PlasmaPromotion__membershipSubscribeButton").addEventListener("click",this.subscribeButtonHandler.bind(this,b)),a.classList.remove("PlasmaPromotion--hidden"))}.bind(this)).catch(function(a){console.error("getMemberships request error",
a)})};Tm.MembershipsPopup.prototype.subscribeButtonHandler=function(a,b){b.preventDefault();window.location="//"+Tm.Config.domain+this.lang.urlPrefix("/checkout.php?addMembership="+a.id+"&_tmvcid="+appDic.require("cart").createVirtualCartCookie())};Tm=Tm||{};
Tm.SearchNoResult=function(a){this.location=a;this.noResultContainer=$(".js-no-result-search-container");this.hasConfig=!!Object.keys(Tm.Config.searchRedirect).length;this.percentExpirement=(this.isActiveRedirect="undefined"===typeof Tm.Config.searchRedirect[this.location.lang]?!1:this.noResultContainer.length&&this.hasConfig&&Tm.Config.searchRedirect[this.location.lang].is_active)?Tm.Config.searchRedirect[this.location.lang].empty_results_percent:0;this.redirectUrl=this.isActiveRedirect?Tm.Config.searchRedirect[this.location.lang].url:
""};defineService(["language"],Tm.SearchNoResult);Tm.SearchNoResult.prototype.init=function(){if(!this.isActiveRedirect||!(parseInt(this.percentExpirement,10)>=Math.floor(101*Math.random())))return this.showNoResultPage();window.location.href=this.redirectUrl+window.location.search};Tm.SearchNoResult.prototype.showNoResultPage=function(){$(".js-no-result-search-loader").addClass("hidden");$(".js-no-result-search-block").removeClass("hidden")};tm.collection=tm.collection||{};tm.collection.model={};tm.collection.plugin={};CLS29=function(a,b){this.queueName=a;var c=this,f=localStorage.getItem(this.queueName),f=goog.string.isEmptySafe(f)?[]:JSON.parse(f);window[c.queueName]=$.jqmq({queue:f,delay:-1,batch:10,callback:function(a){var f=new CLS78;$.ajax({url:f.urlPrefix()+"/ajax/collection/batch.php",dataType:"json",data:{items:JSON.stringify(a),render_page_1:detectCollectionPage()?1:0},type:"POST",success:function(f){var h=localStorage.getItem(c.queueName),h=goog.string.isEmptySafe(h)?[]:JSON.parse(h);
goog.array.forEach(a,function(a){goog.array.remove(h,a)});localStorage.setItem(c.queueName,JSON.stringify(h));"function"===typeof b&&b(f);window[c.queueName].next()},error:function(){}})},complete:function(){localStorage.removeItem(c.queueName)}})};CLS29.prototype.storeAction=function(a){var b=localStorage.getItem(this.queueName),b=goog.string.isEmptySafe(b)?[]:JSON.parse(b);b.push(a);localStorage.setItem(this.queueName,JSON.stringify(b));window[this.queueName].add(a)};tm.collection=tm.collection||{};CLS27=function(a){this.language=a};defineService(["language"],CLS27);
CLS27.prototype.search=function(a,b,c){var c=c||!1,f=$.Deferred(),a=this.buildQueryParams(a);$.get(this.language.urlPrefix()+"/ajax/collection/search.php",a).done(function(a){if(tm.search.pseudojson.isPseudoJson(a)){var a=tm.search.pseudojson.fromString(a),b=a.json;b.t=a.thumbnails;b.compatibility=a.compatibility;f.resolve(new CLS82(b))}else c?f.resolve(a):f.resolve(new CLS82(a));appDic.require("discount").drawPrices();$(document).trigger("MainEvents.templates.loaded")});
return f};CLS27.prototype.buildQueryParams=function(a){var b;goog.isDefAndNotNull(a.v)&&(b=a.v,delete a.v,a={v:b,enc:base64.encode(unescape(encodeURIComponent(JSON.stringify(a))))});return a};tm.collection=tm.collection||{};
CLS28=function(a){this._page=0;this._incpage=1;this._engine=a;this._fsm=StateMachine.create({initial:"NORMAL",events:[{name:"auto",from:["NORMAL","UNHOLD"],to:"SEARCH"},{name:"normal",from:"SEARCH",to:"NORMAL"},{name:"stop",from:"SEARCH",to:"SHUTDOWN"},{name:"hold",from:"SEARCH",to:"HOLD"},{name:"unhold",from:"HOLD",to:"UNHOLD"}],"final":"SHUTDOWN",callbacks:{onSEARCH:function(){if(lastPage)this._fsm.stop();else{var a=searchQuery;a.page=this._page+1;this._page+=1;this._incpage+=1;$('<div class="pager_spinner"><span class="spinner"></span></div>').appendTo($(".js-search-listing"));
this._engine.search(a).done(function(a){$(".pager_spinner").remove();goog.string.isEmptySafe(a.getText())?this._fsm.stop():(this._result_block.append(Twig.render(page_divider,{page:a.getPageNumber()})).append(a.getText()),a.hasMore()?0===this._incpage%4?this._fsm.hold():this._fsm.normal():this._fsm.stop())}.bind(this))}}.bind(this),onHOLD:function(){this._enableShowMoreButton(!0)}.bind(this),onUNHOLD:function(){this._enableShowMoreButton(!1);this._fsm.auto()}.bind(this)}})};
defineService(["collection-search-engine"],CLS28);CLS28.prototype.enterDocument=function(a,b,c,f){this._page=f;this._showmore_button=a;this._bottom=b;this._result_block=c;this._showmore_button.click(function(){this._fsm.can("unhold")&&this._fsm.unhold()}.bind(this));this._bottom.appear().on("appear",function(){this._fsm.can("auto")&&this._fsm.auto()}.bind(this));$.force_appear()};
CLS28.prototype._enableShowMoreButton=function(a){var b=this._showmore_button.parent();a?b.show():b.hide()};tm.collection.model.item=function(a,b,c,f,g,h,j,k,l,u){this.id=a;this.namespace=b;this.name=c;this.descr=f;this.count=g;this.icon=h;this.url=j;this.price=k;this.model=l;this.element_id=goog.string.makeSafe(u)};tm.collection.model.type=function(){this._types={keyword:1,topic:2,type:3,template:4,collection:5,atribute:6}};tm.collection.model.type.prototype.getId=function(a){return this._types[a]};tm.collection.model.type.prototype.getValue=function(a){for(var b in this._types)if(a===this._types[b])return b;return""};tm.collection.model.type.prototype.getKeys=function(){return this._types};tm.collection.plugin.template=function(){var a=appDic.require("language"),b=$(".js-template-id:first"),c=$('.js-preview-accordion-panel[data-variant="regular"]');return b.length?new tm.collection.model.item(appDic.require("language").lang+"-template-"+$(b).data("template_id"),"template",$(b).data("template_name"),$(b).data("product_name"),0,$(".js-preview-scr").attr("src"),History.getFullUrl($.url().attr("path"),!1),0<c.length?$(".js-price",c).html():a.formatMoney(0),$(b).data("template_id")):!1};tm.collection.plugin.topic=function(){var a=$(".js-topic-selected"),b=$(".js-search-tags li[data-type=categories]"),c=$(a).data("item_id");return 1===a.length&&1>=b.length?new tm.collection.model.item(appDic.require("language").lang+"-topic-"+c,"topic",$(a).html(),$(a).data("isparent")?Twig.render(categoryText):Twig.render(subCategoryText),$(a).data("count"),$(a).data("js_icon"),location.href,"",$(a).data("item_id")):!1};tm.collection.plugin.attribute=function(){var a=$(".filter-Styles .selected, .filter-Popularity .selected, .filter-features .selected, .filter-colors .selected").first(),b=$(".js-search-tags li[data-type=styles], .js-search-tags li[data-type=popularity], .js-search-tags li[data-type=features], .js-search-tags li[data-type=colors]").first(),c=$(a).data("item_id");return 1===a.length&&1>=b.length?new tm.collection.model.item(appDic.require("language").lang+"-attribute-"+c,"attribute",$(a).html(),$(a).data("isparent")?
Twig.render(categoryText):Twig.render(subCategoryText),$(a).data("count"),$(a).data("js_icon"),location.href,"",$(a).data("item_id")):!1};tm.collection.plugin.type=function(){var a=$(".js-type.selected"),b=$(".js-search-tags li[data-type=types]");if(a.length&&1>=b.length){if(1<a.length&&$.isPlainObject(searchQuery)&&$.isArray(searchQuery.pr)&&searchQuery.pr.length)var c=a.map(function(){return $(this).data("item_id")}),f=goog.array.reduce(searchQuery.pr,function(a,b){return 0!=a?a:goog.array.contains(c,b)?b:a},0),a=a.filter(function(){return $(this).data("item_id")===f});var g=$("span.js-btn",a).html().split(" "),b=goog.string.makeSafe(g[g.length-
1]);g.pop();var g=goog.string.makeSafe(g.join(" ")),h=a.data("item_id");return new tm.collection.model.item(appDic.require("language").lang+"-type-"+h,"type",g,b,$(a).data("count"),$(a).data("js_icon"),location.href,"",$(a).data("item_id"))}return!1};tm.collection.plugin.suggestion=function(a){if(goog.isObject(a)){var b=1===a.type;return new tm.collection.model.item(appDic.require("language").lang+"-keyword-"+a.name,"keyword",a.name,"",goog.isDefAndNotNull(a.count)?a.count:b?1:0,"icon-magnifier",a.url,"","")}return!1};tm.collection.plugin.keyword=function(){if(goog.isDef(arguments)&&arguments[0]){var a=arguments[0];if(!goog.string.isEmptySafe(a.keyword)&&!goog.string.isEmptySafe(a.url)){var b=$("<div>").text(a.keyword).html();sessionStorage.setItem("keyword",b);sessionStorage.setItem("keyword-id",appDic.require("language").lang+"-keyword-"+b);sessionStorage.setItem("keyword-url",a.url);return new tm.collection.model.item(appDic.require("language").lang+"-keyword-"+b,"keyword",b,"",0,"icon-magnifier",a.url,"","")}}a=
$(".js-keywords-found .js-keywords");b=$(".js-keywords-found").data("count");return a.length?new tm.collection.model.item(appDic.require("language").lang+"-keyword-"+$(a).html(),"keyword",$(a).html(),"",goog.isDefAndNotNull(b)?+b:0,"icon-magnifier",$.url().attr("path")+"?"+$.url().attr("query"),"",""):!1};tm.collection.plugin.storedKeyword=function(){var a=sessionStorage.getItem("keyword"),b=sessionStorage.getItem("keyword-id"),c=sessionStorage.getItem("keyword-url");if(!goog.string.isEmptySafe(a)&&!goog.string.isEmptySafe(b)&&!goog.string.isEmptySafe(c)){sessionStorage.removeItem("keyword");sessionStorage.removeItem("keyword-id");sessionStorage.removeItem("keyword-url");var f=goog.string.makeSafe($(".js-keywords-found, .js-topic-selected, .js-type.selected ").data("count"));return new tm.collection.model.item(b,
"keyword",a,"",+f,"icon-magnifier",c,"","")}return!1};tm.collection.plugin.thumbnail=function(a){var b=$('.js-thumbnail[data-tid="'+a+'"]'),c=appDic.require("language");return b.length?new tm.collection.model.item("template-"+a,"collection",$(b).data("template_name"),$(b).data("product_name"),0,$(".js-thumbnail-img",$(b)).attr("src"),$(".js-view-product",$(b)).attr("href"),c.formatMoney($(".js-template-price",$(b).parents("li:first")).attr("data-price")),a):!1};tm.collection.plugin.collection=function(a){var b=$('.js-suggested-item[data-tid="'+a+'"]:first');return b.length?new tm.collection.model.item("template-"+a,"collection",$(b).data("name"),$(b).data("descr"),0,$(b).data("js_icon"),$(b).data("url"),$(b).data("price"),a):!1};tm.collection.model.itemRepository=function(a){this._storageName=a};tm.collection.model.itemRepository.prototype.insert=function(a){var b=this.getAll(),b=$.merge(a,b);localStorage.setItem(this._storageName,JSON.stringify(b))};tm.collection.model.itemRepository.prototype.safeInsert=function(a,b){var c=this.find(a.id);c&&(this.remove(c),a=$.extend(c,{count:a.count}));c=this.getAll();0<b&&b===c.length&&c.splice(b-1,1);c=$.merge([a],c);localStorage.setItem(this._storageName,JSON.stringify(c))};
tm.collection.model.itemRepository.prototype.remove=function(a){var b=goog.array.filter(this.getAll(),function(b){return goog.isObject(a)?b.id!==a.id:b!==a});localStorage.setItem(this._storageName,JSON.stringify(b))};tm.collection.model.itemRepository.prototype.clear=function(){localStorage.removeItem(this._storageName)};
tm.collection.model.itemRepository.prototype.getAll=function(){var a=localStorage.getItem(this._storageName),a=goog.string.isEmptySafe(a)?[]:JSON.parse(a);goog.isDef(arguments)&&arguments[0]&&(a=a.splice(0,+arguments[0]));return a};tm.collection.model.itemRepository.prototype.contains=function(a){var b=this.getAll();return goog.array.some(b,function(b){if(b.id===a.id)return b})};
tm.collection.model.itemRepository.prototype.find=function(a){var b=this.getAll(),c;for(c in b)if(b[c].id===a)return b[c];return!1};tm.collection.model.itemRepository.prototype.first=function(){var a=this.getAll();return 0<a.length?a[a.length-1]:!1};tm.collection.model.itemRepository.prototype.last=function(){var a=this.getAll();return 0<a.length?a[0]:!1};tm.collection.model.itemRepository.prototype.compare=function(a,b){return a.id===b.id&&a.count===b.count};CLS77=function(){};CLS77.prototype.setText=function(a){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$(a).each(function(){var a="",a=$(this).hasClass("added")?$(this).data("title-favorite"):$(this).data("title-not-favorite");$(this).tooltip("destroy");$(this).setTooltip({placement:goog.string.makeSafe($(this).data("placement"))?$(this).data("placement"):"bottom",color:"default",title:a,html_class:"thumb-heart-tooltip"})})};
CLS77.prototype.reinit=function(a){$("body").find(".rd-notice.rd-notice-tooltip.thumb-heart-tooltip").remove();this.setText(a)};CLS30=function(a){this._tooltip=a};defineService(["heart-tooltip"],CLS30);
CLS30.prototype.clear=function(a){var a=$(a).data("tid"),b=$('.js-favorite-btn[data-tid="'+a+'"]'),c=$(b).find("span");$(b).removeClass("added").find(".js-heart-in-progress").remove();0<c.length&&c.text($(b).data("not-added"));0<b.length&&this._tooltip.reinit(b);detectCollectionPage()&&$(".js-thumbnail[data-tid="+a+"]").parents(".thumbnail").addClass("item-deleted");$(".js-popover-collection .js-suggested-item[data-tid="+a+"]").addClass("item-deleted")};
CLS30.prototype.clearHeartInUrl=function(){$(".js-collection-url b").removeClass("filled")};
CLS30.prototype.setAdded=function(a,b){var c=$(a).attr("data-tid"),f=$('.js-favorite-btn[data-tid="'+c+'"]').not(".added");this.animateHeartInUrl(b);if(0!==$(f).length){var g=this,h=$(f).find("span");0<h.length&&h.text($(f).data("added"));b?($(f).each(function(){0===$("i.js-heart-in-progress",this).length&&($(this).addClass("added").removeClass("js-none"),$(this).prepend('<i class="tm-icon icon-heart-empty js-heart-in-progress heart-in-progress animated zoomOut"></i>'))}),setTimeout(function(){$(f).each(function(){$(this).find(".js-heart-in-progress").removeClass("icon-heart-empty heart-in-progress animated zoomOut").addClass("icon-heart icon-heart-small");
g._tooltip.reinit(this)})},500)):($(f).each(function(){0===$("i.js-heart-in-progress",this).length&&$(this).prepend('<i class="tm-icon icon-heart icon-heart-small js-heart-in-progress"></i>')}),setTimeout(function(){$(f).each(function(){$(this).addClass("added").removeClass("js-none");g._tooltip.reinit(this)})},500));detectCollectionPage()&&$(".js-thumbnail[data-tid="+c+"]").parents(".thumbnail").removeClass("item-deleted");$(".js-popover-collection .js-suggested-item[data-tid="+c+"]").removeClass("item-deleted")}};
CLS30.prototype.animateHeartInUrl=function(a){var b=$(".js-collection-url");a?($("b",b).removeClass("filled"),$("b",b).addClass("added"),$("b",b).prepend('<i class="tm-icon icon-heart-empty js-heart-in-progress heart-in-progress animated zoomOut"></i>'),setTimeout(function(){$(".favorite-btn",b).find(".js-heart-in-progress").remove();$("b",b).addClass("filled");$(".favorite-btn",b).removeClass("added")},500)):setTimeout(function(){$("b",b).addClass("filled")},500)};
CLS30.prototype.initTooltip=function(a){this._tooltip.setText(a)};CLS30.prototype.showAll=function(){var a=$(".js-favorite-btn.js-none");$(a).removeClass("js-none");this.initTooltip(a)};CLS30.prototype.updateCounterInCollection=function(a){var b=+$(".js-template-in-collections").text();isNaN(b)||this.fillCounterBlock("create"===a?++b:--b)};
CLS30.prototype.fillCounterBlock=function(a){var b=$(".js-template-info-additional");b.find(".js-template-in-collections").text(a);0<a?b.removeClass("additional-one"):b.addClass("additional-one")};CLS26=function(a,b){this._language=a;this._view=b;this._queueManager=new CLS29("collectionQueue",function(a){"changed"in a&&a.changed&&$(document).trigger("MainEvents.collection.changed");"page1"in a&&($(".js-collection-items").empty().html(a.page1),$(document).trigger("MainEvents.templates.loaded"))});this._isLoaded=!1;this._cookieName="collection"};defineService(["language","view"],CLS26);
CLS26.prototype.initTriggers=function(){this._load();$(".js-collection-url").removeClass("js-none");this._updateCollectionPageUrl();$(document).on("MainEvents.user.login",$.proxy(function(){this.login()},this));$(document).on("MainEvents.user.logout",$.proxy(function(){this.logout()},this));$(document).on("MainEvents.collection.changed",$.proxy(function(){this._updateCollectionPageUrl()},this));var a=this;$(document).on("MainEvents.templates.loaded",function(){$("body").on("mousedown touchstart",
".js-favorite",function(){$(this).addClass("clicked")});$("body").on("touchend mouseleave",".js-favorite",function(){$(this).removeClass("clicked")});$("body").off("click",".js-favorite");$("body").on("click",".js-favorite",function(){$(this).removeClass("clicked");var b=$(this).data("item_name"),c=new tm.collection.model.itemRepository("collection");$(this).removeClass("clicked");$(this).hasClass("added")?(c.remove(b),c.getAll().length||a._view.clearHeartInUrl(),a._view.clear($(this)),a.dispatch($(this),
"delete"),$(document).trigger("MainEvents.collection.item.delete",{id:$(this).data("tid")})):(c.insert([b]),$(document).trigger("MainEvents.collection.item.create",{id:$(this).data("tid")}),a._view.setAdded($(this),!0),a.dispatch($(this),"create"));a._updateCollectionPageUrl();return!1}).on("mouseup",".js-favorite",function(a){a.preventDefault();a.stopPropagation()});$(".js-favorite-btn").each(function(){a._view.initTooltip($(this))});collectionQueue.start();a.renderAll()})};
CLS26.prototype.dispatch=function(a,b){var c=$(a).data("item_name");this._queueManager.storeAction({name:c,action:b,type:"collection"});this._hasCollectionCounter()&&this._view.updateCounterInCollection(b)};CLS26.prototype.renderItem=function(a){a=$('.js-favorite[data-item_name="'+a+'"]').first();0<a.length&&this._view.setAdded(a,!1)};
CLS26.prototype.renderAll=function(){var a=(new tm.collection.model.itemRepository("collection")).getAll();0<a.length&&(this._view.animateHeartInUrl(!1),goog.array.forEach(a,function(a){this.renderItem(a)},this));setTimeout(function(){this._view.showAll()}.bind(this),500)};
CLS26.prototype.fillStorage=function(){var a=this._getCookeValue();return this._isLoaded?$.Deferred().resolve():a?$.ajax({url:this._language.urlPrefix()+"/ajax/collection/search.php?page=0&no-rendering=1&collection="+a,dataType:"json",type:"GET",success:function(a){if(goog.isDef(a)&&goog.isDef(a.t)){var c=new tm.collection.model.itemRepository("collection"),f=new tm.collection.model.itemRepository("viewed-collection");c.clear();f.clear();var a=JSON.parse(a.t),a=goog.object.getValues(a.items),
g=goog.array.map(a,function(a){return a.id});c.insert(g);f.insert(a);detectPageAwareOfFloatPanel()&&appDic.require("viewed").updateCollectionView()}this._isLoaded=!0;this._updateCollectionPageUrl()}.bind(this)}):$.Deferred().resolve()};CLS26.prototype.login=function(){$.ajax({url:this._language.urlPrefix()+"/ajax/collection/login.php",success:$.proxy(function(){this._isLoaded=!1;this._load()},this)})};
CLS26.prototype.logout=function(){this._clear();detectCollectionPage()?window.location.reload():this._updateCollectionPageUrl()};CLS26.prototype._updateCollectionPageUrl=function(){var a=$(".js-collection-url");if(0<a.length){var b=a.data("href").replace(/(collection\/)([a-z0-9\/-]*)$/,"$1"+(this._getCookeValue()?this._getCookeValue()+"/":""));a.attr("data-href",b)}};
CLS26.prototype._clear=function(){Tm.removeCookie(this._cookieName);var a=new tm.collection.model.itemRepository("collection"),b=new tm.collection.model.itemRepository("viewed-collection"),c=a.getAll();b.clear();this._view.clearHeartInUrl();goog.array.forEach(c,function(a){a=$('.js-favorite[data-item_name="'+a+'"]');this._view.clear(a)},this);a.clear();detectPageAwareOfFloatPanel()&&appDic.require("viewed").updateCollectionView();this._isLoaded=!1};
CLS26.prototype._getCookeValue=function(){var a=$.cookie(this._cookieName);return a?a:""};CLS26.prototype._load=function(){this._updateCollectionPageUrl();this.fillStorage().done($.proxy(function(){this.renderAll()},this))};CLS26.prototype._hasCollectionCounter=function(){return 0<$(".template-info__collections").length};CLS90=function(a){this._language=a;this._floatPanel=new Tm.floatPanel;this._maxViewed=20;this._maxViewedCollection=5};defineService(["language"],CLS90);
CLS90.prototype.trackItemPage=function(){this.initTriggers();var a=!1,a=detectPreviewPage()?tm.collection.plugin.template():tm.collection.plugin.keyword()||tm.collection.plugin.topic()||tm.collection.plugin.type(),b=new tm.collection.plugin.storedKeyword;goog.isDefAndNotNull(b)&&!goog.object.isEmpty(b)&&this.dispatch(b);this.dispatch(a);this.renderAll();this._floatPanel.setCustomScrollbar()};
CLS90.prototype.initTriggers=function(){var a=this;$(document).on("MainEvents.user.login",function(){this.login()}.bind(this));$(document).on("MainEvents.userSearchFormAction.push",function(a,c){var f="isSuggestion"in c&&c.isSuggestion?tm.collection.plugin.suggestion(c.selected):tm.collection.plugin.keyword(c);this.dispatch(f);this._updateCounters()}.bind(this));$(document).on("MainEvents.collection.item.create",function(b,c){var f=tm.collection.plugin.collection(c.id);f||(f=tm.collection.plugin.thumbnail(c.id));
f||(f=tm.collection.plugin.template(),f.namespace="collection",f.id="template-"+c.id);(new tm.collection.model.itemRepository("viewed-collection")).safeInsert(f);if(0===$('.js-popover-collection .js-suggested-item[data-tid="'+f.model+'"]').length){$(".js-popover-collection .js-suggested-item").length>=a._maxViewedCollection&&$(".js-popover-collection .js-suggested-item:nth-child("+a._maxViewedCollection+")").addClass("js-none");var g=new tm.collection.model.itemRepository("collection");$(".js-popover-"+
f.namespace).prepend(a.renderItem(f));a._floatPanel.addingAction($(".js-popover-"+f.namespace));$(".js-panel-item.js-collection").addClass("filled");a._updateButton(g)}a._updateCounters();a._floatPanel.addingAction($(".js-panel-item.js-collection"))});$(document).on("MainEvents.collection.item.delete",function(b,c){var f=new tm.collection.model.itemRepository("viewed-collection"),g=f.find("template-"+c.id);f.remove(g);a._updateCounters();a._updateButton(f)});$(document).on("MainEvents.FloatedPanel.popover.hide",
function(a,c){var f=$(c.elements).filter(".opened");$(f).hasClass("js-collection")&&(this.updateCollectionView(),appDic.require("collection").renderAll())}.bind(this))};
CLS90.prototype.dispatch=function(a){if(goog.isDef(a)&&a){if(goog.string.isEmptySafe(a.namespace))return!1;var b=new tm.collection.model.itemRepository("viewed-"+a.namespace);if(b.compare(b.last(),a))return!1;b.safeInsert(a,this._maxViewed);(new Tm.Signin).isLoggedIn()&&"collection"!==a.namespace&&(b.contains(a)?(a=b.find(a.id),$.ajax({url:this._language.urlPrefix()+"/ajax/collection/update-item.php",dataType:"json",data:{item:JSON.stringify(a)},type:"POST"})):$.ajax({url:this._language.urlPrefix()+
"/ajax/collection/add-item.php",dataType:"json",data:{item:JSON.stringify(a)},type:"POST"}));this.render(a.namespace);this._floatPanel.addingAction($(".js-panel-item.js-"+a.namespace))}};
CLS90.prototype.fillStorage=function(){var a=this;if(a._isLoaded)return $.Deferred().resolve();var b=this._getAllViewedItems(),b=goog.array.filter(b,function(a){return goog.isDefAndNotNull(a)&&"element_id"in a&&goog.string.isEmptySafe(a.element_id)&&"collection"!==a.namespace}),c=new tm.collection.model.type,f;for(f in c.getKeys())(new tm.collection.model.itemRepository("viewed-"+f)).clear();return $.ajax({url:this._language.urlPrefix()+"/ajax/collection/viewed-items.php",dataType:"json",
data:{items:JSON.stringify(b)},type:"POST",success:function(b){goog.isDef(b)&&"collections"in b&&goog.isArray(b.collections)&&goog.array.forEach(b.collections,function(a){var a=JSON.parse(a),b=new tm.collection.model.itemRepository("viewed-"+a.type);b.clear();b.insert(goog.object.getValues(a.items))});a._isLoaded=!0}})};CLS90.prototype.login=function(){this.fillStorage().done($.proxy(function(){this.renderAll()},this))};
CLS90.prototype._load=function(){this._floatPanel.updateCustomScrollbar();this._updateCounters();var a=new tm.collection.model.itemRepository("collection");this._updateButton(a)};CLS90.prototype.updateCollectionView=function(){this.render("collection");this._updateCounters();var a=new tm.collection.model.itemRepository("collection");this._updateButton(a);appDic.require("collection").renderAll()};
CLS90.prototype.render=function(a){$(".js-panel-item.js-"+a).removeClass("filled").find(".js-suggested-item").remove();var b=new tm.collection.model.itemRepository("viewed-"+a),c=this,b="collection"===a?b.getAll(this._maxViewedCollection):b.getAll();0<b.length&&(b=goog.array.reduce(b,function(a,b){return a+c.renderItem(b)},""),$(".js-popover-"+a).prepend(b));"collection"===a&&(b=new tm.collection.model.itemRepository(a),b=b.getAll());return $.Deferred().resolve()};
CLS90.prototype.renderAll=function(){var a=new tm.collection.model.type,b;for(b in a.getKeys())this.render(b);this._load()};CLS90.prototype.renderItem=function(a){return!goog.isDefAndNotNull(a)||goog.string.isEmptySafe(a.name)?"":"collection"===a.namespace||"template"===a.namespace?Twig.render(panel_item_template,a):Twig.render(panel_item_search,a)};
CLS90.prototype._getAllViewedItems=function(){var a=[],b=new tm.collection.model.type,c;for(c in b.getKeys())b=new tm.collection.model.itemRepository("viewed-"+c),a=$.merge(a,b.getAll());return a};
CLS90.prototype._updateCounters=function(){var a=new tm.collection.model.type,b;for(b in a.getKeys())a=("collection"===b?new tm.collection.model.itemRepository(b):new tm.collection.model.itemRepository("viewed-"+b)).getAll(),$(".js-panel-item.js-"+b).addClass(0<a.length?"filled":"").find(".js-count-bottom").html(a.length)};
CLS90.prototype._updateButton=function(a){a.getAll().length>this._maxViewedCollection?($(".js-popover-collection .js-popover-button-collection .js-count").html(a.getAll().length-this._maxViewedCollection),$(".js-popover-collection .js-popover-button-collection").removeClass("js-none")):$(".js-popover-collection .js-popover-button-collection").not(".js-none").addClass("js-none")};tm.stringUtils={};tm.stringUtils.noPrefix=function(a){return a.replace(/^.*?-/,"")};tm.stringUtils.bareId=function(a){return parseInt(a.replace(/^\D+/,""))};tm.stringUtils.numberInTheEnd=function(a){if(/(\d+)$/.test(a))return parseInt(RegExp.$1)};tm.stringUtils.bareText=function(a){a=$(a).clone();a.children().remove();return a.text()};tm.stringUtils.jexpr=function(a,b){if(!goog.isArray(b))throw b+" is not an array";return $(goog.array.map(b,function(b){return sprintf(a,b)}).join(","))};
tm.stringUtils.dropTrailing=function(a,b){return a.replace(RegExp(b+"*$"),"")};tm.nodeUtils={};tm.nodeUtils.getElementText=function(a){return $.trim($(a).contents().filter(function(){return 3===this.nodeType}).text())};tm.nodeUtils.getClassOfType=function(a,b){if(a.length)for(var c=a.attr("class").split(/\s+/),f=RegExp("^"+b+"-"),g=0;g<c.length;g++)if(f.test(c[g]))return tm.stringUtils.noPrefix(c[g])};tm.nodeUtils.arrayRemove=function(a,b,c){c=a.slice((c||b)+1||a.length);a.length=0>b?a.length+b:b;return a.push.apply(a,c)};tm.search=tm.search||{};CLS82=function(a){if(!a)throw"Invalid data parameter";this.data_=a};CLS82.prototype.getTemplateCountByProp=function(a){return!goog.isDef(this.data_.p)?{}:!goog.isDef(a)?this.data_.p:goog.isDef(this.data_.p[a])&&goog.isDef(this.data_.p[a].v)?this.data_.p[a].v:{}};CLS82.prototype.getTemplateCountByValue=function(a){if(!goog.isDef(this.data_.p))return 0;var b=goog.array.map(goog.object.getValues(this.data_.p),function(a){if(goog.isDef(a.v))return a.v}),c;for(c in b)if(goog.isDef(b[c][a]))return b[c][a]};
CLS82.prototype.getText=function(){return this.data_.t||""};CLS82.prototype.getCount=function(){return this.data_.c};CLS82.prototype.getNextCount=function(){return 0<this.data_.m?this.data_.m:0};CLS82.prototype.hasMore=function(){return this.data_.n};CLS82.prototype.getPageTitle=function(){return this.data_.pt||""};CLS82.prototype.getPageContentTitle=function(){return this.data_.pct||null};
CLS82.prototype.getPageContentDescription=function(){return this.data_.pcd||null};CLS82.prototype.getPageNumber=function(){return this.data_.pa||1};CLS82.prototype.isRedirect=function(){return goog.isDefAndNotNull(this.data_.r)};CLS82.prototype.getRedirectUrl=function(){return this.data_.r};CLS82.prototype.getTopicMode=function(){return this.data_.co||1};CLS82.prototype.hasKeyword=function(){return this.data_.hk||!1};
CLS82.prototype.hasSpecialUrl=function(a,b){return goog.isDefAndNotNull(this.data_.u[a])&&goog.isDefAndNotNull(this.data_.u[a][b])};CLS82.prototype.getSpecialUrl=function(a,b){return this.data_.u[a][b]};CLS82.prototype.getCurrentUrl=function(){return this.data_.uc};CLS82.prototype.needsRendering=function(){return this.data_.nd};CLS82.prototype.getRelinkingBannerHtml=function(){return this.data_.rb};
CLS82.prototype.getCrossLinkBlockHtml=function(){return this.data_.cssl};CLS82.prototype.getCompatibility=function(){return this.data_.compatibility};CLS81=function(a){this._data={page:1,pr:[],xpr:[]};a&&goog.object.forEach(a,function(a,c){this._data[c]=goog.isArray(a)?goog.array.map(a,function(a){return""+a}):a},this);goog.isDef(this._data.propertylist)&&(CLS81.flattenObject(this._data.propertylist,this._data.pr),delete this._data.propertylist)};CLS81.HARD=1;CLS81.SOFT=2;
CLS81.isVisual=function(a){switch(a){case "pr":return!0;case "category":case "excludeTemplateId":case "xpr":case "type":case "similar-to":return!1;default:return!0}};CLS81.flattenObject=function(a,b){if(goog.isArray(a))for(var c=0,f=a.length;c<f;c++)this.flattenObject(a[c],b);else if(goog.isObject(a))for(c in a)a.hasOwnProperty(c)&&this.flattenObject(a[c],b);else return b.push(a)};
CLS81.prototype.merge=function(a){var b=this.getData(),c=a.getData(),f=$.extend(!0,{},b,c);goog.array.forEach(["colors","pr"],function(a){goog.isDef(b[a])&&goog.isDef(c[a])&&(f[a]=goog.array.concat(b[a],c[a]),goog.array.removeDuplicates(f[a]))});a.hasTopic()&&(this.hasTopic()&&goog.isDef(f.pr))&&goog.array.remove(f.pr,this.getParam("topic")[0]);goog.isDefAndNotNull(f.pr)&&!goog.array.isEmpty(f.pr)&&f.pr.sort();return new CLS81(f)};
CLS81.prototype.getData=function(){var a=this._data;goog.array.forEach(["pr","xpr"],function(b){goog.isArray(a[b])&&goog.array.isEmpty(a[b])&&delete a[b]});return a};
CLS81.prototype.getUrlData=function(){var a={pr:[],xpr:[]},b=this._data,c;for(c in b)switch(c){case "topic":case "types":CLS81.flattenObject(b[c],a.pr);break;case "keyword":a.keywords=b[c];break;default:a[c]=JSON.parse(JSON.stringify(b[c]))}1==a.page&&delete a.page;goog.array.forEach(["pr","xpr"],function(b){goog.array.removeDuplicates(a[b]);goog.array.isEmpty(a[b])&&delete a[b]});return a};
CLS81.prototype.setFromUrlData=function(a){goog.object.forEach(a,function(b,c){switch(c){case "page":this.setPage(a[c]);break;case "keywords":this.setKeyword(a[c]);break;case "author":case "type":case "topic":case "types":case "package":case "category":case "colors":case "date":this.setParam(c,a[c]);break;case "2645":this.setParam("topic",a[c]);break;case "excludepropertylist":case "pr":case "2651":this.appendProperty(a[c]);break;case "xpr":this.appendProperty(a[c],"xpr");break;case "namespace":this.setFromUrlData(a[c])}},
this);return this};CLS81.prototype.setParam=function(a,b){this._data[a]=b;return this};CLS81.prototype.appendProperty=function(a,b){b=b||"pr";this._data[b]=goog.array.map(goog.array.concat(this._data[b],a),function(a){return goog.isString(a)?a:""+a});goog.array.removeDuplicates(this._data[b]);return this};CLS81.prototype.unsetParam=function(a){delete this._data[a];return this};
CLS81.prototype.getParam=function(a){if(this._containsMask(a)){var a=this._nameToRegexp(a),b={},c;for(c in this._data)c.match(a)&&(b[c]=this._data[c]);return b}return this._data[a]};CLS81.prototype.hasParam=function(a){if(this._containsMask(a)){var a=this._nameToRegexp(a),b;for(b in this._data)if(b.match(a))return!0}else return"undefined"!==typeof this._data[a]};CLS81.prototype._nameToRegexp=function(a){return RegExp(a.replace(/\*/g,".*"))};
CLS81.prototype._containsMask=function(a){return-1!==a.indexOf("*")};CLS81.prototype.isParamEmpty=function(a){if(!this.hasParam(a))return!0;a=this._data[a];switch(goog.typeOf(a)){case "null":return!0;case "object":return goog.object.isEmpty(a);case "array":return goog.array.isEmpty(a);case "string":return goog.string.isEmptySafe(a)}return!1};
CLS81.prototype.filterExistingData=function(a){var b={},c=function(a,c){goog.isArray(c)?b[a]=c:-1!==["keyword"].indexOf(a)?b[a]=c:(goog.isDefAndNotNull(b[a])||(b[a]=[]),b[a].push(c))};goog.object.forEach(a,function(a,b){if(!goog.isDefAndNotNull(this._data[b]))return c(b,a);goog.array.forEach(a,function(a){-1===this._data[b].indexOf(a)&&($.isNumeric(a)&&-1!==this._data[b].indexOf(parseInt(a))||c(b,a))},this)},this);return b};
CLS81.prototype.append=function(a){this._data=(new CLS81(this.getData())).merge(new CLS81(a)).getData();return this};CLS81.prototype.reset=function(a){var a=a||CLS81.SOFT,b={};a===CLS81.SOFT&&goog.object.forEach(this._data,function(a,f){CLS81.isVisual(f)||(b[f]=a)});this._data=b;this.setPage(1);return this};
CLS81.prototype.hasKeywordOnly=function(){if(!this.hasKeyword())return!1;var a=0,b;for(b in this._data)"keyword"!==b&&"page"!==b&&a++;return 0===a};CLS81.prototype.setPage=function(a){this.setParam("page",a);return this};CLS81.prototype.getPage=function(){return this.getParam("page")};CLS81.prototype.nextPage=function(){return this.setParam("page",this.getParam("page")+1)};CLS81.prototype.hasPropertyValue=function(a){a=parseInt(a);return goog.array.contains(a)};
CLS81.prototype.hasProperty=function(a){return goog.isDefAndNotNull(this._data.propertylist)?goog.isDefAndNotNull(this._data.propertylist[a]):!1};CLS81.prototype.getKeyword=function(){return this.getParam("keyword")};CLS81.prototype.setKeyword=function(a){goog.string.isEmptySafe(a)?this.unsetParam("keyword"):this.setParam("keyword",a);return this};CLS81.prototype.hasKeyword=function(){return!this.isParamEmpty("keyword")};
CLS81.prototype.hasFilters=function(){return goog.object.some(this._data,function(a,b){switch(b){case "page":case "title":case "keyword":case "keywords":return!1}return goog.isArray(a)?!goog.array.isEmpty(a):!0})};CLS81.prototype.isEmpty=function(){for(var a in this._data)if("page"!==a)return!1;return!0};CLS81.prototype.hasTopic=function(){return this.hasParam("topic")||this.hasProperty("topic")};CLS81.prototype.setId=function(a){this._id=a;return this};
CLS81.prototype.hasTopicProperty=function(){return this.hasTopic()?!0:goog.array.some(this._data.pr,function(a){goog.isString(a)&&(a=parseInt(a));return goog.array.contains(tm.search.ui.__allTopicList,a)})};CLS81.prototype.getTopicProperty=function(){if(this.hasParam("topic"))return this.getParam("topic");for(var a=this._data.pr.length,b=this._data.pr,c,f=0;f<a;f++)if(c=b[f],goog.isString(c)&&(c=parseInt(c)),goog.array.contains(tm.search.ui.__allTopicList,c))return c};tm.search.pseudojson=function(a){goog.isObject(a)&&goog.object.map(a,function(a,c){this[c]=a},this)};tm.search.pseudojson.isPseudoJson=function(a){return goog.isString(a)&&'<html itemtype="pseudojson">'==a.substr(0,28)};
tm.search.pseudojson.fromString=function(a){if(!tm.search.pseudojson.isPseudoJson(a))throw"Pseudo json string is expected.";var b=a.match(/<pseudojsonsection\s+name="\w+".*?>/g);if(!goog.isDefAndNotNull(b))return new tm.search.pseudojson;var c=/"(\w+)"/,b=goog.array.map(b,function(a){a=a.match(c);return[[a[1],a.input]]}),b=goog.object.create(goog.array.flatten(b)),f=/\bformat="(\w+)"/g;goog.object.map(b,function(b,c,j){var k=a.indexOf('<pseudojsonsection name="'+c+'"'),k=a.indexOf(">",k),l=a.indexOf("</pseudojsonsection>",
k),k=a.substr(k+1,l-k-1);b.match(f)&&"json"===RegExp.$1&&(k=JSON.parse(k));j[c]=k});return new tm.search.pseudojson(b)};CLS80=function(a){this.language=a};defineService(["language"],CLS80);
CLS80.prototype.search=function(a,b,c,f){var b=b||"ssearch",c=c||!1,g=$.Deferred(),h=this.buildQueryParams(a);f?(f="",1<goog.object.getCount(a)&&(f="?"+$.param(a)),a=$.get(this.language.urlPrefix()+"/ajax/"+b+"/"+a[Object.keys(a)[0]]+"/"+f)):a=$.get(this.language.urlPrefix()+"/ajax/"+b+".php",h);a.done(function(a){if(tm.search.pseudojson.isPseudoJson(a)){var a=tm.search.pseudojson.fromString(a),b=a.json;b.t=a.thumbnails;b.compatibility=a.compatibility;g.resolve(new CLS82(b))}else c?
g.resolve(a):g.resolve(new CLS82(a));appDic.require("discount").drawPrices();a=appDic.require("experiment");goog.isDef(a)&&a.itemPage()&&a.wrapperPrice();$(document).trigger("MainEvents.templates.loaded")});return g};CLS80.prototype.buildQueryParams=function(a){var b;goog.isDefAndNotNull(a.v)&&(b=a.v,delete a.v,a={v:b,enc:base64.encode(unescape(encodeURIComponent(JSON.stringify(a))))});return a};(function(){var a={VERSION:"2.3.5",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(b,c){var f="string"==typeof b.initial?{state:b.initial}:b.initial,g=b.terminal||b["final"],h=c||b.target||{},j=b.events||[],k=b.callbacks||{},l={},u={},p=function(b){var c=b.from instanceof Array?b.from:b.from?[b.from]:[a.WILDCARD];l[b.name]=l[b.name]||{};for(var f=0;f<c.length;f++)u[c[f]]=
u[c[f]]||[],u[c[f]].push(b.name),l[b.name][c[f]]=b.to||c[f]};f&&(f.event=f.event||"startup",p({name:f.event,from:"none",to:f.state}));for(var q=0;q<j.length;q++)p(j[q]);for(var n in l)l.hasOwnProperty(n)&&(h[n]=a.buildEvent(n,l[n]));for(n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.current="none";h.is=function(a){return a instanceof Array?0<=a.indexOf(this.current):this.current===a};h.can=function(b){return!this.transition&&(l[b].hasOwnProperty(this.current)||l[b].hasOwnProperty(a.WILDCARD))};h.cannot=
function(a){return!this.can(a)};h.transitions=function(){return u[this.current]};h.isFinished=function(){return this.is(g)};h.error=b.error||function(a,b,c,f,g,h,j){throw j||h;};if(f&&!f.defer)h[f.event]();return h},doCallback:function(b,c,f,g,h,j){if(c)try{return c.apply(b,[f,g,h].concat(j))}catch(k){return b.error(f,g,h,j,a.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",k)}},beforeAnyEvent:function(b,c,f,g,h){return a.doCallback(b,b.onbeforeevent,c,f,g,h)},
afterAnyEvent:function(b,c,f,g,h){return a.doCallback(b,b.onafterevent||b.onevent,c,f,g,h)},leaveAnyState:function(b,c,f,g,h){return a.doCallback(b,b.onleavestate,c,f,g,h)},enterAnyState:function(b,c,f,g,h){return a.doCallback(b,b.onenterstate||b.onstate,c,f,g,h)},changeState:function(b,c,f,g,h){return a.doCallback(b,b.onchangestate,c,f,g,h)},beforeThisEvent:function(b,c,f,g,h){return a.doCallback(b,b["onbefore"+c],c,f,g,h)},afterThisEvent:function(b,c,f,g,h){return a.doCallback(b,b["onafter"+c]||
b["on"+c],c,f,g,h)},leaveThisState:function(b,c,f,g,h){return a.doCallback(b,b["onleave"+f],c,f,g,h)},enterThisState:function(b,c,f,g,h){return a.doCallback(b,b["onenter"+g]||b["on"+g],c,f,g,h)},beforeEvent:function(b,c,f,g,h){if(!1===a.beforeThisEvent(b,c,f,g,h)||!1===a.beforeAnyEvent(b,c,f,g,h))return!1},afterEvent:function(b,c,f,g,h){a.afterThisEvent(b,c,f,g,h);a.afterAnyEvent(b,c,f,g,h)},leaveState:function(b,c,f,g,h){var j=a.leaveThisState(b,c,f,g,h),b=a.leaveAnyState(b,c,f,g,h);if(!1===j||!1===
b)return!1;if(a.ASYNC===j||a.ASYNC===b)return a.ASYNC},enterState:function(b,c,f,g,h){a.enterThisState(b,c,f,g,h);a.enterAnyState(b,c,f,g,h)},buildEvent:function(b,c){return function(){var f=this.current,g=c[f]||c[a.WILDCARD]||f,h=Array.prototype.slice.call(arguments);if(this.transition)return this.error(b,f,g,h,a.Error.PENDING_TRANSITION,"event "+b+" inappropriate because previous transition did not complete");if(this.cannot(b))return this.error(b,f,g,h,a.Error.INVALID_TRANSITION,"event "+b+" inappropriate in current state "+
this.current);if(!1===a.beforeEvent(this,b,f,g,h))return a.Result.CANCELLED;if(f===g)return a.afterEvent(this,b,f,g,h),a.Result.NOTRANSITION;var j=this;this.transition=function(){j.transition=null;j.current=g;a.enterState(j,b,f,g,h);a.changeState(j,b,f,g,h);a.afterEvent(j,b,f,g,h);return a.Result.SUCCEEDED};this.transition.cancel=function(){j.transition=null;a.afterEvent(j,b,f,g,h)};var k=a.leaveState(this,b,f,g,h);if(!1===k)return this.transition=null,a.Result.CANCELLED;if(a.ASYNC===k)return a.Result.PENDING;
if(this.transition)return this.transition()}}};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=a),exports.StateMachine=a):"function"===typeof define&&define.amd?define(function(){return a}):"undefined"!==typeof window?window.StateMachine=a:"undefined"!==typeof self&&(self.StateMachine=a)})();tm.search.model={};tm.search.model.Property=function(a,b,c,f){1;this.id=a;this.title=b;this.count=c;this.params=f||{}};tm.search.model.Property.prototype.getParam=function(a){if(goog.isDef(this.params[a]))return this.params[a]};tm.search.model.Property.prototype.setParam=function(a,b){this.params[a]=b;return this};tm.search.model.Property.prototype.uncheck=function(){this.setParam("checked",!1);return this};
tm.search.model.Property.prototype.check=function(){this.setParam("checked",!0);return this};tm.search.model.Property.prototype.toggle=function(){this.isChecked()?this.uncheck():this.check();return this};tm.search.model.Property.prototype.isChecked=function(){return this.getParam("checked")};tm.search.model.Property.prototype.isFixed=function(){return this.getParam("fixed")};tm.search.model.Property.prototype.isVisible=function(){return!this.isFixed()&&!this.isDisabled()};
tm.search.model.Property.prototype.isDisabled=function(){return 1>this.count||!0===this.getParam("inhibit")};tm.search.model.Property.prototype.getProp=function(){return this.getParam("prop")};tm.search.model.Property.prototype.getPropId=function(){return this.getParam("propId")};tm.search.model.PropertyList=function(a){this.propertyValues={};goog.isDef(a)&&goog.array.forEach(a,function(a){a&&this.addValue(a)},this)};tm.search.model.PropertyList.prototype.getCount=function(){return goog.object.getCount(this.propertyValues)};tm.search.model.PropertyList.prototype.addValue=function(a){this.propertyValues[a.id]=a;return this};tm.search.model.PropertyList.prototype.hasValue=function(a){1;return goog.isDef(this.propertyValues[a])};
tm.search.model.PropertyList.prototype.getValue=function(a){1;1;return this.propertyValues[a]};tm.search.model.PropertyList.prototype.hasFixed=function(){return goog.array.some(goog.object.getValues(this.propertyValues),function(a){return a.isFixed()})};tm.search.model.PropertyList.prototype.visit=function(a){return goog.array.filter(goog.object.getValues(goog.object.map(this.propertyValues,function(b){return a(b)},this)),function(a){return goog.isDefAndNotNull(a)})};
tm.search.model.PropertyList.prototype.reset=function(){this.visit(function(a){a.uncheck()})};tm.search.model.PropertyList.prototype.hasVisibleValue=function(a){var b=goog.object.getValues(this.propertyValues);goog.isDef(a)&&(1,b=this.filter(function(b){return b.getPropId()===a}));return goog.array.some(b,function(a){return a.isVisible()})};tm.search.model.PropertyList.prototype.getValuesByPropertyId=function(a){return this.visit(function(b){if(b.getPropId()===a)return b})};
tm.search.model.PropertyList.prototype.getSelected=function(a){return this.filter(function(b){return a?b.isChecked():b.isChecked()&&!b.isDisabled()})};tm.search.model.PropertyList.prototype.filter=function(a){return goog.array.filter(goog.object.getValues(this.propertyValues),a,this)};tm.search2={};tm.search=tm.search||{};tm.search.ui=tm.search.ui||{};function rewriteUrl(a,b){var b=b||window.location.pathname,a=a||{},c=$.url().param();delete c[""];goog.object.forEach(a,function(a,b){0==a?delete c[b]:c[b]=a});"undefined"!==typeof c.keywords&&("undefined"===typeof a.keywords&&0===c.keywords.length)&&delete c.keywords;goog.object.getCount(c)&&(b=b+"?"+$.param(c));return b}function rememberUrl(a,b){b=b||{};History.replaceState(b,document.title,rewriteUrl(a))};CLS83=function(){this._page=void 0};CLS83.idToInteger=function(a){return"string"!==goog.typeOf(a)?0:parseInt(a.replace(/\D/g,""))};
CLS83.prototype.enterDocument=function(a){var a=a||{},b=a.onPageUpdate||jQuery.noop;$(window).scroll($.proxy(function(){var a=0;$("footer:appeared").length&&this._getLastPage()?a=this._getLastPage():(a=$("div.page_divider:appeared"),a=a.length?this._getVisibleDividerPage(a):this._getMajorityPage($("li.thumbnail:appeared")));"undefined"===goog.typeOf(this._page)&&(this._page=a);this._page!==a&&(this._page=a,b(a))},this))};
CLS83.prototype._getLastPage=function(){var a=$("div.page_divider");if(0===a.length)return 0;var b=[],b=a.map(function(){return CLS83.idToInteger($(this).attr("id"))});return b.length?Math.max.apply(Math,b):1};CLS83.prototype._getVisibleDividerPage=function(a){if(1===a.length){var a=a[0],b=CLS83.idToInteger($(a).attr("id"));return 1===b?1:a.getBoundingClientRect().top<$(window).height()/2?b:b-1}};
CLS83.prototype._getMajorityPage=function(a){a=a.map(function(a,c){var f=$(c).prevAll("div.page_divider");if(f.length)return CLS83.idToInteger($(f[0]).attr("id"));if(f=CLS83.idToInteger($("div.data-initialpage").data("id")))return f;f=$(".pagination_divider");return f.length&&(f=parseInt(f.parent().data("initialpage")))?f:1});return a.length?a[0]:1};tm.search2.pager=function(a){this._page=0;this._incpage=1;this._engine=a;this._fsm=StateMachine.create({initial:"NORMAL",events:[{name:"auto",from:["NORMAL","UNHOLD"],to:"SEARCH"},{name:"normal",from:"SEARCH",to:"NORMAL"},{name:"stop",from:"SEARCH",to:"SHUTDOWN"},{name:"hold",from:"SEARCH",to:"HOLD"},{name:"unhold",from:"HOLD",to:"UNHOLD"}],"final":"SHUTDOWN",callbacks:{onSEARCH:function(){if(lastPage)this._fsm.stop();else{var a=searchQuery;a.page=this._page+1;this._page+=1;this._incpage+=1;$('<div class="pager_spinner"><span class="spinner"></span></div>').appendTo($(".js-search-listing-content"));
this._engine.search(a).done(function(a){$(".pager_spinner").remove();goog.string.isEmptySafe(a.getText())?this._fsm.stop():(this._result_block.append(Twig.render(page_divider,{page:a.getPageNumber()})).append(a.getText()),a.hasMore()?0==this._incpage%4?this._fsm.hold():this._fsm.normal():this._fsm.stop(),tm.lazyload.renew())}.bind(this))}}.bind(this),onHOLD:function(){this._enableShowMoreButton(!0)}.bind(this),onUNHOLD:function(){this._enableShowMoreButton(!1);this._fsm.auto()}.bind(this)}})};
defineService(["search-engine"],tm.search2.pager);tm.search2.pager.prototype.enterDocument=function(a,b,c,f){this._page=f;this._showmore_button=a;this._bottom=b;this._result_block=c;this._showmore_button.click(function(){this._fsm.can("unhold")&&this._fsm.unhold()}.bind(this));this._bottom.appear().on("appear",function(){this._fsm.can("auto")&&this._fsm.auto()}.bind(this));$.force_appear()};
tm.search2.pager.prototype._enableShowMoreButton=function(a){var b=this._showmore_button.parent();a?b.show():b.hide()};tm.search2.component=function(){};tm.search2.component.prototype.enterDocument=function(a){this._searchCallback=a.search||$.noop};tm.search2.component.prototype._searchHandler=function(a){return function(){if(!0!==(a||$.noop).apply(this,arguments))return this._searchCallback(),!1}.bind(this)};tm.search2.controller=function(){this._components={keywords:new tm.search2.keywords($("#js-searchForm [name=keywords]").val()),date:new tm.search2.dateRange($("#datetimepicker-start-filter").val(),$("#datetimepicker-end-filter").val())}};
tm.search2.controller.prototype.enterDocument=function(){this._startAutopager();this._startPageKeeper();this._returnToRecentlyClickedThumbnail();this._startWatchingThumbnailClicks();var a=$("#js-searchForm"),b=function(a,b){var g={search:this._collectParamsAndRedirect.bind(this)};goog.object.extend(g,b);a.enterDocument(g)}.bind(this);b(this._components.keywords,{text:a.find("[name=keywords]"),checkbox:$("#search-properties-status"),button:$("#searchFormSubmit")});b(this._components.date,{inputs:$("#datetimepicker-start-filter, #datetimepicker-end-filter"),
submit:$(".js-custom-range-go")})};
tm.search2.controller.prototype._collectParamsAndRedirect=function(){var a=goog.object.map(this._components,function(a){return a.getValues()}),a=goog.array.reduce(goog.object.getValues(a),function(a,b){goog.object.extend(a,b);return a},{}),a=goog.object.filter(a,function(a){switch(!0){case goog.isString(a)&&goog.string.isEmptySafe(a):case goog.isString(a)&&";"===a:case goog.isArray(a)&&0===a.length:case goog.isArray(a)&&goog.array.every(a,goog.string.isEmptySafe):return!1}return!0}),b=window.location.pathname,
c="undefined"!==typeof Twig?Twig.render(pageSearchUrl):"/templates.php",f=!1==this._isSearchPage();if(a.beginning||f)b=c;goog.object.forEach($.url().param(),function(b,c){"keywords"!==c&&"undefined"===typeof a[c]&&(a[c]=b)},this);a.beginning&&(a=goog.object.filter(a,function(a,b){return"keywords"===b}));delete a.beginning;goog.object.getCount(a)&&(b=b+"?"+$.param(a));$(document).trigger("MainEvents.userSearchFormAction.push",{keyword:this._components.keywords.getValues().keywords,url:b,isSuggestion:0});
window.location=b};tm.search2.controller.prototype._startAutopager=function(){detectCollectionPage()?appDic.require("collection-autopager").enterDocument($(".js-btn-more"),$(".js-pager-bottom"),$("#products"),parseInt($(".js-search-listing").data("initialpage"))):appDic.require("autopager").enterDocument($(".js-btn-more"),$(".js-pager-bottom"),$("#products"),parseInt($(".js-search-listing").data("initialpage")))};tm.search2.controller.prototype._isSearchPage=function(){return $("body").hasClass("search")};
tm.search2.controller.prototype._startPageKeeper=function(){var a=new CLS83;History.options.disableSuid=!0;var b=0;a.enterDocument({onPageUpdate:function(a){rememberUrl({page:2>a?0:a});var f=$("#page"+a+" ~ .thumbnail");a>b&&(b=a,f.each(function(){"undefined"!==typeof window.parsePins?window.parsePins(this):setTimeout(function(){"undefined"!==typeof window.parsePins&&window.parsePins(this)},3E3)}))}})};
tm.search2.controller.prototype._returnToRecentlyClickedThumbnail=function(){var a=History.getState().data;if("undefined"!==typeof a.t)$(window).one("load",function(){$.scrollTo("#products .js-thumbnail[data-tid="+a.t+"]")})};
tm.search2.controller.prototype._startWatchingThumbnailClicks=function(){$(".js-thumbContent").live("click","a, img, span, div",function(a){if(this._isSearchPage()){var b=$(a.target).parent("[data-tid]").data("tid");goog.isDefAndNotNull(b)||(b=$(a.target).data("tid"));if(b){var c=$('.js-thumbnail[data-tid="'+b+'"]');if(!c.length)return!1;var a=$(".js-search-listing").data("initialpage"),f=c.closest("li").prevAll("div.page_divider").first();f.length?a=parseInt(f.attr("id").replace(/\D/g,"")):(c=c.closest("li").nextAll("div").first(),
c.length&&(a=parseInt(c.attr("id").replace(/\D/g,""))-1));rememberUrl({page:2>a?0:a},{t:b})}}}.bind(this))};tm.search2.keywords=function(a){this._text=a;this._checkbox=!1};goog.inherits(tm.search2.keywords,tm.search2.component);tm.search2.keywords.prototype.enterDocument=function(a){tm.search2.keywords.superClass_.enterDocument.call(this,a);this._registerCheckboxChange(a.checkbox,a.text);this._registerKeyboardHandler(a.text);this._registerButtonSubmit(a.button,a.text)};tm.search2.keywords.prototype.getValues=function(){return{beginning:goog.isDefAndNotNull(this._checkbox)&&this._checkbox,keywords:$.trim(this._text)}};
tm.search2.keywords.prototype._registerKeyboardHandler=function(a){a.on("keydown",this._searchHandler(function(b){if(13===b.keyCode){$(a).data("cancel-form-submit",!1);var c={has_url:!1,keyword:a.val()};$(a).trigger("check_typeahead",[c]);if(c.has_url)return $(a).data("cancel-form-submit",!0),!0;b.preventDefault();b.stopImmediatePropagation();this._text=$.trim(a.val());this._registerSubmitEvent(a,1)}else return!0}.bind(this)))};
tm.search2.keywords.prototype._registerCheckboxChange=function(a,b){a.on("change",function(){this._checkbox=a.is(":checked");b.attr("placeholder",Twig.render(search_placeholder,{searchWithin:!a.is(":checked")}))}.bind(this))};tm.search2.keywords.prototype._registerButtonSubmit=function(a,b){a.on("click",this._searchHandler(function(){this._text=$.trim(b.val());this._registerSubmitEvent(b,0)}.bind(this)))};
tm.search2.keywords.prototype._registerSubmitEvent=function(a,b){var c={};a.data("autocomplete-used")?(c.eventAction="ViewSuggestions",c.eventLabel=a.data("original-keyword"),c.autocompleteUsed=1):c.eventLabel=this._text;c.submitType=b;$(document).trigger("MainEvents.userUseSuggestionsAction.push",c);a.removeData("autocomplete-used")};tm.search2.dateRange=function(a,b,c){this._from=a;this._to=b;this._property=c};goog.inherits(tm.search2.dateRange,tm.search2.component);tm.search2.dateRange.prototype.enterDocument=function(a){tm.search2.dateRange.superClass_.enterDocument.call(this,a);this._registerDatePicker(a.inputs);this._registerSubmit(a.submit,a.inputs)};tm.search2.dateRange.prototype.getValues=function(){return goog.isDefAndNotNull(this._property)?{date:this._property}:{date:(this._from||"")+";"+(this._to||"")}};
tm.search2.dateRange.prototype._registerDatePicker=function(a){a.datetimepicker({timepicker:!1,format:"m.d.Y",minDate:"2002/01/01",maxDate:"tommorrow",onChangeDateTime:$.noop()})};tm.search2.dateRange.prototype._registerSubmit=function(a,b){a.on("click",this._searchHandler(function(){this._from=$(b[0]).val();this._to=$(b[1]).val();this._property=null}.bind(this)))};CLS88=function(){};CLS88.prototype.getDateFromFormat=function(a){var b=/(\d{2})\/(\d{2})\/(\d{4})\s+(\d{2}):(\d{2}):(\d{2})/;return b.test(a)?(a=b.exec(a),Date.UTC(a[3],a[1]-1,a[2],a[4],a[5],a[6])):0};Tm=Tm||{};Tm.socialGoogleAuth=function(){this.config={GoogleAuth:{},isApiScriptLoaded:!1,apiKey:"",clientId:"",scope:"https://www.googleapis.com/auth/plus.profile.emails.read",src:"https://apis.google.com/js/api.js",callback:function(){}}};
Tm.socialGoogleAuth.prototype.init=function(a){var b=this;b.config=$.extend(b.config,a);a=document.getElementsByTagName("script")[0];if(!document.getElementById(b.config.clientId)){var c=document.createElement("script");c.id=b.config.clientId;c.src=b.config.src;c.async=!0;c.defer=!0;c.onreadystatechange=function(){if("complete"===this.readyState)this.onload()};c.onload=function(){gapi.load("client:auth2",function(){gapi.client.init({apiKey:b.config.apiKey,clientId:b.config.clientId,scope:b.config.scope}).then(function(){b.config.isApiScriptLoaded=
!0;b.config.GoogleAuth=gapi.auth2.getAuthInstance();b.config.callback.apply(b)}).catch(function(a){console.log("Google script exception: ",a);b.config.isApiScriptLoaded=!1})})};a.parentNode.insertBefore(c,a)}};Tm.socialGoogleAuth.prototype.getLoginWindow=function(a){this.config.isApiScriptLoaded&&(this.config.GoogleAuth.isSignedIn.get()?a(this.config.GoogleAuth.currentUser.get()):this.config.GoogleAuth.signIn().then(function(b){a(b)}).catch(function(a){console.log("Google signIn exception: ",a)}))};Tm=Tm||{};Tm.socialFacebookAuth=function(){this.config={isApiScriptLoaded:!1,appId:"",location:"en_US",src:"https://connect.facebook.net/en_US/sdk.js",callback:function(){}}};
Tm.socialFacebookAuth.prototype.init=function(a){var b=this;b.config=$.extend(b.config,a);b.config.src="https://connect.facebook.net/"+b.config.location+"/sdk.js";if(!document.getElementById(b.config.appId)){window.fbAsyncInit=function(){FB.init({appId:b.config.appId,autoLogAppEvents:!0,status:!0,xfbml:!1,version:"v2.11"});b.config.isApiScriptLoaded=!0;b.config.callback.apply(b)};var a=document.getElementsByTagName("script")[0],c=document.createElement("script");c.id=b.config.appId;c.src=b.config.src;
c.async=!0;c.defer=!0;a.parentNode.insertBefore(c,a)}};Tm.socialFacebookAuth.prototype.getLoginWindow=function(a){var b=this;b.config.isApiScriptLoaded&&FB.getLoginStatus(function(c){"connected"===c.status?b.getUser(a):b.fbLogin(a)})};Tm.socialFacebookAuth.prototype.getUser=function(a){var b=this;FB.api("/me",{fields:["first_name","email"]},function(c){c.error&&"OAuthException"===c.error.type?b.fbLogin(a):a(c)})};
Tm.socialFacebookAuth.prototype.fbLogin=function(a){var b=this;FB.login(function(c){c.authResponse&&b.getUser(a)},{scope:"email"})};Tm=Tm||{};Tm.YouTubeAPI=function(){this.options={apiUrl:"//www.youtube.com/iframe_api",iframeClassName:".youtube-video"};this.youtubePlayers={};this.ready=!1;this.init()};
Tm.YouTubeAPI.prototype.init=function(){if(0<$(this.options.iframeClassName).length){var a=document.createElement("script");a.src=this.options.apiUrl;var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);window.onYouTubeIframeAPIReady=function(){this.collectVideos();$(document).on("youtube:collect",this.collectVideos.bind(this)).trigger("youtube:APIReady");this.ready=!0}.bind(this)}};
Tm.YouTubeAPI.prototype.collectVideos=function(){var a=this;$(this.options.iframeClassName).each(function(){var b=$(this).attr("id");a.youtubePlayers[b]||(a.youtubePlayers[b]=new YT.Player(b,{events:{onStateChange:a.onPlayerStateChange}}))})};Tm.YouTubeAPI.prototype.pausePlayers=function(){$.each(this.youtubePlayers,function(){5!==this.getPlayerState()&&this.pauseVideo()})};Tm.YouTubeAPI.prototype.getPlayer=function(a){return this.youtubePlayers[a]};
Tm.YouTubeAPI.prototype.pauseYTVideos=function(a){var b=this;a.each(function(a,f){var g=$(f).attr("id");(g=b.youtubePlayers[g])&&1===g.getPlayerState()&&g.pauseVideo()})};Tm.YouTubeAPI.prototype.onPlayerStateChange=function(a){var b=a.target.getIframe().parentNode.closest("ul.owl-carousel"),a=a.data;1===a&&null!==b?$(b).data("owlCarousel").stop():(2===a||0===a)&&null!==b&&$(b).data("owlCarousel").play()};Tm=Tm||{};Tm.BrowserUtilities=function(){};Tm.BrowserUtilities.prototype.isRetina=function(){return 1.1<window.devicePixelRatio||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)").matches?!0:!1};Tm.BrowserUtilities.prototype.isTmReferrer=function(){return typeof(document.referrer||!1)&&-1!==document.referrer.indexOf(document.location.host)};
Tm.BrowserUtilities.prototype.isElementInViewport=function(a){"function"===typeof jQuery&&a instanceof jQuery&&(a=a[0]);a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)};
Tm.BrowserUtilities.prototype.getSettingValue=function(a,b){b="undefined"!==typeof b?b:!1;if("string"!==typeof a&&a.length)return b;var c=a.split("."),f=$.cookie(c[c.length-1]);if("undefined"!==typeof f)return"0"===f?0:"false"===f?!1:!!f;if("undefined"!==typeof Tm.Config){var g=Tm.Config;c.forEach(function(a){g="undefined"!==typeof g[a]?g[a]:b});return g}return b};Tm=Tm||{};Tm.SegmentationPopup=function(){this._settings={popupSelector:".js-special-modal",closeSelector:".close-popup",popupName:"segmentation-popup",popupInner:".segmentation-inner",hint1Selector:".js-segment-hint-step1",step1Selector:".segmentation-inner__step1",hint2Selector:".js-segment-hint-step2",step2Selector:".segmentation-inner__step2"};this._classes={FADED:"faded",HIDDEN:"hidden",SUCCESS:"success"}};
Tm.SegmentationPopup.prototype.init=function(){this._popup=new Tm.RDPopup({backdrop:"static",popup_step_template:"",popup_name:this._settings.popupName,on_show:this._onPopupShow.bind(this)});this._popup.initModal(Twig.render(segmentationPopup))};Tm.SegmentationPopup.prototype.show=function(a){setTimeout(this._showPopup.bind(this),a)};Tm.SegmentationPopup.prototype._showPopup=function(){this._popup.show();this._hideCloseButton()};
Tm.SegmentationPopup.prototype._onPopupShow=function(){this.step1Node=$(this._settings.step1Selector);this.step2Node=$(this._settings.step2Selector);this.stepNodes=$(this._settings.step1Selector+","+this._settings.step2Selector);this.popupInnerNode=$(this._settings.popupInner);this.step1Node.find(".options").on("click",".option-yes, .option-no",function(a){this.stepNodes.removeClass("ltr rtl");$(a.currentTarget).hasClass("js-option-yes")?(this.stepNodes.addClass("ltr"),this._setUserSegment("personal")):
(this.stepNodes.addClass("rtl"),this._setUserSegment("business"));this.popupInnerNode.css({minHeight:this.step2Node.height()+80});this._unblockModal()}.bind(this));this.step2Node.find(".options").on("click",'[class*="js-option-"]',function(a){if(a=a.currentTarget.className.match(/\s?js-option-(.+)\s?/))this._setUserSegment(a[1]),this._showSuccess()}.bind(this));$(this._settings.hint1Selector).html(this.getRandomNumberBetween(90,99));$(this._settings.hint2Selector).html(this.getRandomNumberBetween(40,
60));this._setCountryFlag()};Tm.SegmentationPopup.prototype._hideCloseButton=function(){$(this._settings.closeSelector).hide()};Tm.SegmentationPopup.prototype._showCloseButton=function(){$(this._settings.closeSelector).show()};Tm.SegmentationPopup.prototype._unblockModal=function(){this._showCloseButton();$(this._settings.popupSelector).on("click.dismiss.modal",function(a){$(a.target).modal("hide")}.bind(this))};
Tm.SegmentationPopup.prototype._setUserSegment=function(a){var b=null;switch(a){case "personal":b=9;break;case "business":b=10;break;case "developer":b=11;break;case "designer":b=12;break;case "business-owner":b=13;break;case "manager":b=14}return appDic.require("api-users").setSegmentOption(b)};Tm.SegmentationPopup.prototype._showSuccess=function(){this.popupInnerNode.addClass(this._classes.FADED);setTimeout(this._manageClasses.bind(this),300)};
Tm.SegmentationPopup.prototype._manageClasses=function(){this.stepNodes.addClass(this._classes.HIDDEN);this.popupInnerNode.addClass(this._classes.SUCCESS).removeClass(this._classes.FADED)};Tm.SegmentationPopup.prototype.getRandomNumberBetween=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)};Tm.SegmentationPopup.prototype._setCountryFlag=function(){var a=$.cookie("country_code");a&&$(".js-segmentation-flag").addClass(a.toLowerCase())};appDic.define("language",CLS78);goog.isDef(Tm.BrowserUtilities)&&appDic.define("browser-utils",Tm.BrowserUtilities);goog.isDef(Tm.Advice)&&appDic.define("tm-advice",Tm.Advice);goog.isDef(Tm.Memberships)&&appDic.define("tm-memberships",Tm.Memberships);goog.isDef(Tm.MembershipsPopup)&&appDic.define("tm-memberships-popup",Tm.MembershipsPopup);goog.isDef(Tm.SearchNoResult)&&appDic.define("search-no-result",Tm.SearchNoResult);
goog.isDef(Tm.BannersController)&&appDic.define("banners-controllers",Tm.BannersController);goog.isDef(CLS77)&&(goog.isDef(CLS26)&&goog.isDef(tm.collection))&&(appDic.define("heart-tooltip",CLS77),appDic.define("view",CLS30),appDic.define("collection",CLS26),appDic.define("collection-search-engine",CLS27),appDic.define("collection-autopager",CLS28),appDic.define("viewed",CLS90));
goog.isDef(tm.search)&&goog.isDef(CLS80)&&appDic.define("search-engine",CLS80);appDic.define("cart",CLS11);appDic.define("discount",CLS31);appDic.define("bonus",CLS10);appDic.define("urlHelper",CLS89);appDic.define("cookie-tracker",Tm.Tracker);appDic.define("cartPopup",CLS13);
goog.isDef(tm.cart.view)&&(goog.isDef(CLS16)&&goog.isDef(CLS12)&&goog.isDef(CLS9))&&(appDic.define("bottom-panel-view",CLS16),appDic.define("bottom-popover-plugin",CLS12),appDic.define("bottom-controller",CLS9));goog.isDef(Tm.OneClickPurchase)&&appDic.define("one-click-purchase",Tm.OneClickPurchase);goog.isDef(CLS87)&&appDic.define("api-users",CLS87);
goog.isDef(CLS86)&&appDic.define("api-notifications",CLS86);goog.isDef(CLS85)&&appDic.define("api-apv",CLS85);goog.isDef(tm.search2)&&goog.isDef(tm.search2.pager)&&appDic.define("autopager",tm.search2.pager);goog.isDef(tm.banner)&&(appDic.define("banner-popup",CLS6),appDic.define("banner-manager",CLS5));goog.array.map(["Checkout3"],function(a){goog.isDef(Tm[a])&&appDic.define(a.toLowerCase(),Tm[a])});
goog.isDef(CLS17)&&(appDic.define("chat-girls",CLS22),appDic.define("chat-text-variator",CLS25),appDic.define("invitation-to-chat",CLS17),appDic.define("invitation-to-chat-timer",CLS21),appDic.define("property-to-type",CLS18));goog.isDef(Tm.Checkout3)&&appDic.define("bonus3",Tm.Checkout3.Payment.Bonus);
goog.isDef(Tm.Notification)&&goog.isDef(Tm.Notification.IndexController)&&(appDic.define("notification-controller",Tm.Notification.IndexController),appDic.define("notification-service",Tm.Notification.Service),appDic.define("notification-model-message-queue",Tm.Notification.Model.MessageQueue),appDic.define("notification-model-websocket-client",Tm.Notification.Model.WebsocketClient),appDic.define("notification-ui-message-list",Tm.Notification.UI.MessageList),appDic.define("notification-ui-indicator",
Tm.Notification.UI.Indicator),appDic.define("time-formatter",Tm.DateFormatter));goog.isDef(Tm.Experiment)&&appDic.define("experiment",Tm.Experiment);goog.isDef(Tm.TemplateOutdated)&&appDic.define("template-outdated",Tm.TemplateOutdated);goog.isDef(tm.softcube)&&goog.isDef(tm.softcube.Softcube)&&appDic.define("softcube",tm.softcube.Softcube);goog.isDef(Tm.Signin)&&appDic.define("signin",Tm.Signin);goog.isDef(Tm.YouTubeAPI)&&appDic.define("youtube-api",Tm.YouTubeAPI);
goog.isDef(Tm.ModuleMediator)&&appDic.define("module-mediator",Tm.ModuleMediator);goog.isDef(Tm.Infographics)&&appDic.define("infographics",Tm.Infographics);goog.isDef(Tm.SegmentationPopup)&&appDic.define("segmentation-popup",Tm.SegmentationPopup);goog.isDef(Tm.socialFacebookAuth)&&appDic.define("tm-facebook-auth",Tm.socialFacebookAuth);goog.isDef(Tm.socialGoogleAuth)&&appDic.define("tm-google-auth",Tm.socialGoogleAuth);Tm=Tm||{};Tm.preloadImages=function(){this.selector={};this.atts={}};Tm.preloadImages.prototype.init=function(a,b){this.atts=b;this.selector=a;a.each(function(a,f){var g=this.queryToJson($(f).attr(b.imageSrcAtribute)),g=this.calcNewSize(g),g=this.newURL(g);$(f).attr(b.atributeName,g)}.bind(this));b.afterWorks(a)};Tm.preloadImages.prototype.isRetina=function(){return appDic.require("browser-utils").isRetina()};
Tm.preloadImages.prototype.queryToJson=function(a){var a=a||"",b=a.split("?"),b="undefined"!==typeof b[1]?b[1].split("&"):[],c={url:a.split("?")[0],status:!1};b.length&&$.each(b,function(a,b){var h=b.split("=");"undefined"!=typeof h[1]&&(c[h[0]]=h[1]);c.status=!0});return c};Tm.preloadImages.prototype.newURL=function(a){var b=a.url,a=$.map(a,function(a,b){var g;"url"!==b&&"status"!==b&&(g=b+"="+a);return g});return b+"?"+a.join("&")};
Tm.preloadImages.prototype.calcNewSize=function(a){var b=JSON.parse(JSON.stringify(a)),c=parseInt(this.selector.parent().width());if(this.atts.autoSize)b.width=c;else switch(!0){case 232>=c:b.width=this.atts.sizes.s232;break;case 251>=c:b.width=this.atts.sizes.s251;break;case 309>=c:b.width=this.atts.sizes.s309;break;case 400>=c:b.width=this.atts.sizes.s400;break;case 768>=c:b.width=this.atts.sizes.s768;break;case 1024>=c:b.width=this.atts.sizes.s1024;break;case 1280>=c:b.width=this.atts.sizes.s1280;
break;case 1440>=c:b.width=this.atts.sizes.s1440;break;case 1680>=c:b.width=this.atts.sizes.s1680;break;case 1920>=c:b.width=this.atts.sizes.s1920;break;default:b.width=this.atts.sizes.s2560}b.width=this.isRetina()&&!this.atts.disableRetina?2*b.width:b.width;"undefined"!==typeof a.height?b.height=Math.round(a.height*b.width/a.width):this.atts.square&&(b.height=b.width);return b};
$.fn.preloadImages=function(a){var a="undefined"===typeof a?{}:a,b=new Tm.preloadImages,c={atributeName:"data-original",imageSrcAtribute:"data-original",autoSize:!1,square:!1,disableRetina:!1,sizes:{s232:232,s251:251,s309:309,s400:400,s768:768,s1024:1024,s1280:1280,s1440:1440,s1680:1680,s1920:1920,s2560:2560},afterWorks:function(){}};$.extend(!0,c,a);b.init($(this),c);return this};$(document).on("TM_JS_LOADED",function(){1==$("#tree").length&&($(".level-3,.level-4,.level-5,.level-2").parent("li").prepend('<ins class="jstree-icon"></ins>'),$(".jstree-icon").click(function(){var a=$(this).parent("li").attr("class");null!==navigator.userAgent.match(/iPod/i)?"active"==a?$(this).parent().removeClass("active").find("ul.level-2, ul.level-3, ul.level-4").css("display","none").find("li").removeClass("active"):($(this).parent().addClass("active").siblings("li").removeClass("active").find("li").removeClass("active"),
$(this).siblings("ul.level-2, ul.level-3, ul.level-4").css("display","block").parent().siblings("li").find("ul.level-2, ul.level-3, ul.level-4").css("display","none")):"active"==a?$(this).parent().removeClass("active").find("ul.level-2, ul.level-3, ul.level-4").hide("slow").find("li").removeClass("active"):($(this).parent().addClass("active").siblings("li").removeClass("active").find("li").removeClass("active"),$(this).siblings("ul.level-2, ul.level-3, ul.level-4").show("slow").parent().siblings("li").find("ul.level-2, ul.level-3, ul.level-4").hide("slow"))}))});tm.lazyload={};
tm.lazyload.renew=function(a,b){$.fn.lazyload&&(a?$(".js-thumbnail-img").each(function(a,b){b=$(b);$(b).closest(".flex-viewport").is(":appeared")||b.is(":appeared")?(b.attr("src",b.data("original")),$.removeData(b,"original")):b.lazyload({effect:"fadeIn"})}):$(".js-thumbnail-img:not(.js-loaded)").preloadImages({afterWorks:function(a){a.lazyload({effect:"fadeIn",event:"scroll hardLoad",effectspeed:500,threshold:b||720,load:function(){$("img[data-original]").each(function(a,b){b.loaded&&(setTimeout(function(){$(b).addClass("js-loaded").parents(".js-thumbnail").find(".img-placeholder").removeAttr("class")},
200),$(b).removeAttr("data-original"))})}})}}))};tm.thumbnail=function(){};tm.thumbnail.renew=function(a){tm.lazyload.renew(a);return $.Deferred().resolve()};function openSelectedLicenseAccordionBlock(a){$(".js-preview-accordion-panel:not(.active)").each(function(){$(this).data("variant")==a&&$(this).find(".panel-title").click()})}
var updateCartSelector=function(){var a=$(".js-template-id").data("template_id");if(null!==a){var b=$.cookie("sc_summary");if(b&&(b=$.parseJSON(base64.decode($.cookie("sc_summary"))),"undefined"!=typeof b.t)){for(i in b.t){var c=b.t[i].match(/([\d]+)-([\d\w]+)/);if(c[1]==a){var f=c[2];break}}"undefined"!=typeof b&&"undefined"!=typeof f&&(a=parseOffersFromCookie(b,a),updateSideBarPriceBlockFromSessionCookie(f,a),$(".js-button-add-to-cart, .js-button-add-to-cart-fixed").html(Twig.render(messageAddedToCart)),
$(document).trigger("MainEvents.cart.loaded.from.cookie"),updateItemBlockInPopup(f,a),updateBuyButtonOnDemoPage(f),updateBuyButtonTextOnDemoPage(f))}}};
function updateSideBarPriceBlockFromSessionCookie(a,b){openSelectedLicenseAccordionBlock(a);if(0<b.length){$('.js-preview-offer input[type="checkbox"]').prop("checked",!1).siblings("a").removeClass("active");for(var c in b)$('input.js-preview-offer-checkbox[type="checkbox"][value="'+b[c]+'"]').prop("checked",!0).siblings("a").first().addClass("active")}}
function updateItemBlockInPopup(a,b){$(".js-popup-cart-item.offer").each(function(){$(this).addClass("js-none");for(var a in b)$(this).hasClass("offer-"+b[a])&&$(this).removeClass("js-none")})}function updateBuyButtonOnDemoPage(){$(".js-demo-buy-button, .js-demo-buy-button-dropdown-toggle").addClass("js-none");$(".already-get, .js-already-get").removeClass("js-none")}function updateBuyButtonTextOnDemoPage(){$(".js-cart-item-info").removeClass("js-none")}
function changeBuyButtonOnDemoPage(a){$(".js-demo-buy-button").each(function(){$(this).data("variant")==a?$(this).removeClass("js-none"):$(this).addClass("js-none")})}function selectPremiumSupportOffer(){$(".thumbnail-download-block-with-offers").length&&$(".js-recommended-services").find(".js-preview-offer-checkbox").each(function(a,b){406==b.value&&$(b).parent().find(".title").click()})}function isAvailableSupport(){return $(".js-preview-offer-406 .js-preview-offer-checkbox").prop("checked")}
function isPreviewFree(){return!!$(".preview-page.preview-free").length}
$(document).on("TM_JS_LOADED",function(){1===$("#purchase_options").length&&$(".js-recommended-services").find(".js-preview-offer a.title").click(function(){$(this).parent().find('input[type="checkbox"]').is(":checked")?($(this).removeClass("active"),$(this).parent().find("input").removeAttr("checked")):($(this).addClass("active"),$(this).parent().find('input[type="checkbox"]').attr("checked",!0));$(".js-preview-accordion-panel").TMCalcPrice()});var a=$(".js-recommended-services"),b=$(".js-one-click-purchase"),
c=$(".form_services");0===$("#purchase_options .panel.active").length&&$("#purchase_options .panel:first").addClass("active").find(".panel-title").click();var f=$("#purchase_options .panel.active").find(".services-container"),g=f.next();f.append(a.removeClass("hidden"));b.removeClass("hidden").insertAfter(g);$("#purchase_options .panel .panel-heading").click(function(){if($(this).parents(".panel").hasClass("active"))return!1;$(this).parent().siblings().removeClass("active");$(this).parent().addClass("active");
$(".js-ocp-anonymus").popover("hide").removeClass("temporary-closed").addClass("closed");var h=$(this).parent(),j=c.find("input:hidden[name=price_variant]");f=h.find(".services-container");g=f.next();f.append(a);b.insertAfter(g);j.val(h.attr("data-variant"));$(".js-preview-accordion-panel").TMCalcPrice();$(document).trigger("MainEvents.templates.changeLicense.accordion")}).filter(".active").click();var h=new tm.cart.model.itemRepository("items");"undefined"!=typeof window.template&&(window.defaultPriceVariationExperiment&&
!h.find({id:"template-"+window.template.id}))&&(0!=$(".js-count-down-anchor div[data-default-variant]").length&&$(".js-count-down-anchor div[data-default-variant] .js-panel-heading a").click(),0!=$(".js-license-popup li[data-default-variant]").length&&$(".js-license-popup li[data-default-variant]").click());selectPremiumSupportOffer();$(document).on("click",".js-preview-offer-checkbox",function(){$(".js-preview-accordion-panel").TMCalcPrice()});h=window.location.hash;""!==h&&h.match(/^[\#\w\-]+$/)?
($(".tab-content "+h).addClass("active").siblings().removeClass("active"),showRightContent()):($('#previewTab li span[data-toggle="tab"]:visible').first().tab("show"),$(".tab-content .tab-pane:first").addClass("active"));$(window).on("popstate",function(){var a=window.location.hash;""!=a&&a.match(/^[\#\w\-]+$/)?$(".tab-content "+a).addClass("active").siblings().removeClass("active"):($("#previewTab li:first").addClass("active").siblings().removeClass("active"),$(".tab-content .tab-pane").first().addClass("active").siblings().removeClass("active"));
showRightContent()});$("#previewTab span[data-toggle='tab']").on("click",function(a){var b=$(this).data("href");$(".tab-content "+b).addClass("active").siblings().removeClass("active");showRightContent();var b=$(this).data("href"),c=$('#previewTab li span[data-toggle="tab"]:visible').first().data("href")==b;if(b!=window.location)if("function"==typeof window.history.pushState)c&&(b=document.location.pathname+(document.location.search?document.location.search:"")),window.history.pushState("changetab",
null,b);else{var f=$(window).scrollTop();c&&(b="#");window.location.hash=b;$(window).scrollTop(f)}a.preventDefault()});$(".js-preview-accordion-panel").on("template.price.calculated",function(a,b){var c=$(this).find(".thumbnail-download-block-with-offers"),f=parseInt(b.templatePrice);if(c.length){var g=$(this).find(".js-button-add-to-cart"),h=c.find(".js-download-block"),j=$(".js-template-support-message");0<f?(h.hide(),g.show()):(h.show(),g.hide());isAvailableSupport()?j.hide():j.show();c.addClass("active");
appDic.require("one-click-purchase").setTemplatePrice(f).redraw()}});$("a.open").click(function(){$("#tellForm").find("input, textarea").popover("destroy").removeClass("error")});$(document).on("click",".js-license-popup-button",function(){$(this).parents(".js-license-popup").modal("hide")});$(".js-preview-accordion-panel").TMCalcPrice();var h=$(".js-tweet-button"),j=$(".js-googleplus-button"),k=$(".js-linkedin-button"),l=$(".js-facebook-button"),u=$(".js-button-download-sample"),p=null,q=null;$.isPlainObject(Tm.Config)&&
($.isPlainObject(Tm.Config.socialCredentials)&&$.isPlainObject(Tm.Config.socialCredentials.facebook))&&(p=Tm.Config.socialCredentials.facebook.appId);$.isPlainObject(Tm.Config)&&($.isPlainObject(Tm.Config.socialCredentials)&&$.isPlainObject(Tm.Config.socialCredentials.google))&&(q=Tm.Config.socialCredentials.google.clientId);if(void 0!==u){var n=[];0<l.length&&n.push("facebook-share");0<h.length&&n.push("twitter-tweet");0<j.length&&n.push("google-plus");0<k.length&&n.push("linkedin-share");0<n.length&&
u.sociallocker({text:{header:" ",message:" "},theme:"starter",locker:{close:!1,useCookies:!0,cookiesLifetime:!1,timer:0},buttons:{order:n,counter:!1},twitter:{tweet:{title:" ",text:h.data("pay-tweet"),url:" ",count:"none",size:"small",showCount:!1}},linkedin:{share:{url:k.data("pay-linkedin")}},google:{plus:{url:j.data("pay-googleplus"),clientId:q}},facebook:{appId:p,share:{url:l.data("pay-facebook"),layout:"button"}}})}h=appDic.require("experiment");goog.isDef(h)&&(h.itemPage()&&$(".js-banner-slider").length)&&
$(".js-banner-slider").sliderAnimation({items:1,navigation:!0,navigationText:["",""],pagination:!0,slideSpeed:700,touchDrag:Modernizr.touch,scrollPerPage:!0,responsive:!0,singleItem:!0,addClassActive:!0,dragBeforeAnimFinish:!1,autoPlay:1E4,lazyLoad:!0,afterInit:function(){$(".js-banner-slider").addClass("show")}});$(".js-preview-scr").preloadImages({disableRetina:!0,afterWorks:function(a){a.lazyload({load:function(){$(this).removeClass("blurred")},effect:"fadeIn",effectspeed:500,threshold:720})}})});
$(window).load(function(){appDic.require("tm-memberships").init()});function activateSocialFreeDownload(a,b){a.hide();b.show()}function modifyPriceAccordionBlockByAllowed(a){$(".js-preview-accordion-panel").each(function(){-1==$.inArray($(this).data("variant"),a)&&$(this).css("display","none")})}function showRightContent(){var a=$(".tab-content .active");a.show();a.prevAll().hide();a.nextAll().show()}
function scrollToReviews(){var a=$("#previewTab");$("html, body").animate({scrollTop:a.offset().top+1},500);$('#previewTab span[data-href="#tab-reviews"]').parent().addClass("active").siblings().removeClass("active");$(".tab-content #tab-reviews").addClass("active").siblings().removeClass("active");showRightContent();window.location.hash="#tab-reviews"}
function previewPageStart(){$(".player-wrapper .youtube-video").css({display:"block"});if(0<$(".player-wrapper .youtube-video").length)$(".js-button-add-to-cart").on("click",function(){appDic.require("youtube-api").pausePlayers()});if(MobileEsp.isMobilePhone||MobileEsp.isTierTablet)$(".js-magnifier").on("touchstart touchend",function(a){0==$(".js-button-wrapper").css("opacity")&&a.preventDefault();$(this).find("span").css({opacity:"0.8"});$(this).next().css({opacity:"1"})}),$(document).on("touchend",
function(a){var b=$(".js-magnifier");!b.is(a.target)&&0===b.has(a.target).length&&(b.find("span").css({opacity:"0"}),b.next().css({opacity:"0"}))});else $("body").one("mousemove",function(){$("#product-preview .slides").hover(function(){$(".js-magnifier [id^=demo_screenshot]").css({opacity:"0.8"});$(".js-button-wrapper").css({opacity:"1"})},function(){$(".js-magnifier [id^=demo_screenshot]").css({opacity:"0"});$(".js-button-wrapper").css({opacity:"0"})});return!1});$(".switchable-text").each(function(){var a=
$(this),b=a.text(),c=a.data("active-text");a.click(function(){a.hasClass("active")?a.removeClass("active").text(b):a.addClass("active").text(c);return!1})});$(".radioblock").find(".radio").live("click",function(){var a=$(this).html();$(this).parent().parent().parent(".radioblock").find(".radio").removeClass("active");$(this).addClass("active");$(this).parent().parent().parent(".radioblock").find('input[type="hidden"]').val(a)});var a=appDic.require("experiment");"undefined"!==typeof previewEngineSearchParams&&
(!goog.isDef(a)||!a.itemPage())&&appDic.require("search-engine").search(previewEngineSearchParams,"similar",!1,!0).done($.proxy(function(a){if(0===a.getCount())$("#similar-block").hide();else{var b=$("#similar-templates");b.html("").append(a.getText()||"");appDic.require("discount").drawPrices();$(document).trigger("Gtag.ee.push.product.template.impressions",{from:"similar.impressions"});$(document).trigger("MainEvents.templates.loaded");a=$("html").attr("dir");$("#similar_templates .slides").owlCarousel({direction:a,
items:4,navigation:!0,navigationText:["",""],slideSpeed:700,pagination:!1,mouseDrag:!1,touchDrag:Modernizr.touch,itemsDesktop:[1599,3],itemsDesktopSmall:!1,itemsTablet:!1,itemsMobile:!1,afterInit:function(){tm.lazyload.renew(!1,999999)}});"undefined"!==typeof window.parsePins?window.parsePins(b[0]):setTimeout(function(){"undefined"!==typeof window.parsePins&&window.parsePins(b[0])},3E3)}},this));$(".license-popup .item").click(function(){$(this).find('input[type="radio"]').attr("checked",!0);$(this).siblings().find('input[type="radio"]').attr("checked",
!1)});$("#product-preview:not(.owl-slides)").magnificPopup({delegate:"a.view",type:"image",preloader:!0,tLoading:"",closeOnContentClick:!0,closeBtnInside:!1,closeMarkup:'<button data-title="'+Twig.render(closeText)+'" type="button" class="js-hint-tooltip mfp-close mfp-control__close" data-placement="bottom">&#215;</button>',mainClass:"mfp-img-mobile",image:{titleSrc:""},gallery:{enabled:!1},callbacks:{open:function(){this.container.next(".js-hint-tooltip").setTooltip()},imageLoadComplete:function(){$(".mfp-content").css({opacity:0,
display:"inline-block"}).animate({opacity:1},600).stop(!0,!0)}}});a={thumbnailsClass:"js-owl-carousel-synced-thumbnails",thumbnailHolderClass:"owl-item__holder",frameClass:"owl-item-frame",syncedClass:"synced"};$(".js-template-img").length&&(a.autoHeight=!0);var b=$(".js-owl-carousel-synced-slides");b.length&&(b.galleryWithThumbnails(a),b.find(".button.view").galleryWithThumbnailsPopup({owlCarouselClass:"owl-carousel-block",thumbnailsClass:"owl-thumbnails",mfpMainClass:"mfp-img-mobile",mfpContentClass:"mfp-content",
controlClass:"mfp-control",magnifierClass:"js-magnifier"}));$("#tabReviewLink, .js-tab-review-anchor").click(function(){scrollToReviews()});$(".js-tab-tdetails-anchor").click(function(){var a=$("html, body"),b=$("#previewTab");a.animate({scrollTop:b.offset().top+1},500);$('#previewTab span[data-href="#tab-details"]').parent().addClass("active").siblings().removeClass("active");$(".tab-content #tab-details").addClass("active").siblings().removeClass("active");showRightContent();window.location.hash=
"#tab-details"});var b=$(".js-template-id"),a=b.data("trial-popup"),b={open_triggers:"#trial_bottom, #trial_overlay",template_id:b.data("template_id")},c=$("#trial-popup-wrapper"),a=!c.length?a:"default";switch(a){case "motocms":(new Tm.MotoTrial(b)).init();break;case "opencart":(new Tm.OpenCartTrial(b)).init();break;case "apv":(new Tm.APVPopup(b)).init();break;case "default":initLegacyTrialPopup(c)}$("img.js-preview-lazy").preloadImages({afterWorks:function(a){a.lazyload({load:function(){var a=parseInt($(this).data("original-width"))<
parseInt($(this).attr("width"))?parseInt($(this).data("original-width"))+"px":"100%";$(this).removeClass("blurred").css("width",a);var b=this;setTimeout(function(){$(b).addClass("js-finish-load")},1E3)},effect:"fadeIn",effectspeed:500,threshold:720})}});appDic.require("template-outdated").showPopup()}
function initLegacyTrialPopup(a){var b=a.find("form");b.formHandler({show_submit_button_hint:!1,autofocus_first_field:!1,popover_placement:"left",on_before_submit:function(){a.data("prevent-close",!0);$(".close-popup").addClass("unhover-close-popup")},on_submit_error:function(){a.data("prevent-close",!1);$(".close-popup").removeClass("unhover-close-popup")},on_submit_success:function(b,f,g){$(".close-popup").removeClass("unhover-close-popup");$(b).find('[name="action"]').val("register");a.data("prevent-close",
!1).find(".js-form-row").hide().end().find(".js-status-row").each(function(){var a=$(".js-existing-user-message",this),f=$(".js-new-user-message",this),k=$(".js-reject-link",this),l=k.find("a");if("undefined"!==typeof g.moto3){var l=$(".js-user-message",this),u=$(".js-update-link",this),p=$(".js-ok-link",this);g.is_new_user?(f.show(),a.hide(),u.hide(),k.hide(),p.show()):(f.hide(),a.show(),u.show(),k.show(),p.hide(),$(".js-update-trial-template").off().on("click",function(){$(b).find('[name="action"]').val("update");
$(b).submit()}));l.html(g.message);l.show()}else u=$(".js-confirmation-link a",this),p=$(".js-template-number",this),u.attr("href",g.confirmation_link),l.attr("href",g.account_link),p.text($("#free-trial-form-tid").val()),g.is_new_user?(a.hide(),k.hide(),f.show()):(f.hide(),a.show(),k.show())}).show().end()}});a.find(".js-confirmation-link a, .js-reject-link a").on("click",function(){a.modal("toggle")});a.on("show.bs.modal",function(){b.find("[name=email]").val("").end().formHandler("hide-errors").formHandler("focus-first");
a.find(".js-form-row").show().end().find(".js-status-row").hide().end()}).on("shown.bs.modal",function(){b.formHandler("focus-first")}).on("hide.bs.modal",function(){if($(this).data("prevent-close"))return!1})}function parseOffersFromCookie(a,b){var c=[];for(i in a.o){var f=a.o[i].match(RegExp("([0-9]+)-"+b));f&&c.push(f[1])}return c}
function getTemplateAuthorProfileInfo(a,b){if(!a||"undefined"===typeof Tm||"undefined"===typeof Tm.Config||"undefined"===typeof Tm.Config.authors||"undefined"===typeof Tm.Config.authors.apiUrl)return!1;var c=new XMLHttpRequest;c.onreadystatechange=function(){if(!(4==this.readyState&&200==this.status))return!1;b(this.response[0])};c.responseType="json";c.open("GET",Tm.Config.authors.apiUrl+"authors?user_id="+a);c.send()}
function trackTemplateAuthorGA(a){a&&window.ga&&(ga("create",a,"auto","vendorTracker"),ga("vendorTracker.send","pageview"))}
function trackTemplateAuthorFBpixel(a){if(a){var b=window,c=void 0,f=void 0,g=void 0;b.fbq||(c=b.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},b._fbq||(b._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],f=document.createElement("script"),f.async=!0,f.src="https://connect.facebook.net/en_US/fbevents.js",g=document.getElementsByTagName("script")[0],g.parentNode.insertBefore(f,g));!0;fbq("init",a);fbq("track","PageView")}}
function updateTemplateTrackingCount(a,b,c){if(!a||"undefined"===typeof Tm||"undefined"===typeof Tm.Config||"undefined"===typeof Tm.Config.statistics||"undefined"===typeof Tm.Config.statistics.apiUrl)return!1;var f=new XMLHttpRequest,g=new FormData,h=b?b.authorUserId:null,j=b?b.gaId:null,b=b?b.fbPixelId:null;authorGaId=c?c.gaLink:null;authorFbId=c?c.fbpLink:null;f.open("POST",Tm.Config.statistics.apiUrl+"statistics/view");g.append("template_id",a);h&&g.append("user_id",h);f.send(g);trackTemplateAuthorGA(j||
authorGaId);trackTemplateAuthorFBpixel(b||authorFbId)}
function templateTrackingCount(){var a=window.template?window.template.id:null;if(!a||"undefined"===typeof Tm||"undefined"===typeof Tm.Config||"undefined"===typeof Tm.Config.products||"undefined"===typeof Tm.Config.products.apiUrl)return!1;var b=new XMLHttpRequest,c,f;b.onreadystatechange=function(){if(!(4==this.readyState&&200==this.status))return!1;c=this.response;getTemplateAuthorProfileInfo(c.authorUserId,function(b){f=b;updateTemplateTrackingCount(a,c,f)})};b.responseType="json";b.open("GET",
Tm.Config.products.apiUrl+"products/en/"+a);b.send()}
function showPocketComponents(){var a=localStorage.getItem("locale"),b=new monsterbundle.default.review("Review",a,"/js/plasma-pocket-react"),c=new monsterbundle.default.comments("Comments",a,"/js/plasma-pocket-react"),f=new monsterbundle.default.vendorInfo("VendorInfo",a,"/js/plasma-pocket-react"),g=new monsterbundle.default.vendorLink("VendorLink",a,"/js/plasma-pocket-react"),a=new monsterbundle.default.documentationLink("DocumentationLink",a,"/js/plasma-pocket-react"),h=$.cookie("access_token"),
j=$(".js-template-id").data("template_id"),k=$(".js-template-id").data("template_author"),l={templateId:j};h&&(l.accessToken=h);0<$("#template-info-vendor-link").length&&($("#template-info-vendor-link").empty(),g.show("#template-info-vendor-link",{vendor:k,withAvatar:!0}));0<$("#preview-vendor-link").length&&($("#preview-vendor-link").empty(),g.show("#preview-vendor-link",{vendor:k}));$("#review-item-page").empty();b.show("#review-item-page",l);$("#comments-item-page").empty();c.show("#comments-item-page",
l);0<$("#vendor-info-item").length&&($("#vendor-info-item").empty(),f.show("#vendor-info-item",{vendor:k,templateId:j,isNewPage:!0}));0<$("#vendor-info-item-old").length&&($("#vendor-info-item-old").empty(),f.show("#vendor-info-item-old",{vendor:k,templateId:j,isNewPage:!1}));0<$("#documentation-link").length&&($("#documentation-link").empty(),a.show("#documentation-link",{templateId:j,isNewPage:!0}));0<$("#documentation-link-old").length&&($("#documentation-link-old").empty(),a.show("#documentation-link-old",
{templateId:j,isNewPage:!1}))}$(document).on("MainEvents.discountLoaded",function(){var a=appDic.require("browser-utils"),b=$(".js-button-add-to-cart"),c=$(".js-template-id");b.length&&c.length&&(detectPreviewPage()&&!a.isElementInViewport(b)&&a.isTmReferrer())&&(a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,b=c.offset().top,b=c.offset().top,a>b||$("html, body").animate({scrollTop:c.offset().top},1E3))});
$(document).on("TM_JS_LOADED",function(){if(detectPreviewPage()){showPocketComponents();var a=setInterval(function(){var a=$(".reviews__count").text();0!=a&&($(".js-count-reviews").html("("+a+")"),$(".js-count-reviews-itemPage").addClass("count").html(a))},500),b=setInterval(function(){var a=$(".Comments__count").text();0!=a&&($(".js-count-comments").html("("+a+")"),$(".js-count-comments-itemPage").addClass("count").html(a))},500);setTimeout(function(){clearInterval(a);clearInterval(b)},1E4)}});
$(document).ready(function(){$(".LoyaltyPictogramWrap").hover(function(){$(this).addClass("LoyaltyPictogramWrap--tooltipShow")},function(){var a=this;setTimeout(function(){$(a).removeClass("LoyaltyPictogramWrap--tooltipShow")},500)});localStorage.getItem("isToReviews")&&(scrollToReviews(),localStorage.removeItem("isToReviews"))});$(window).load(function(){var a=$(".js-share-list");a.filter('[data-type = "buttons-large"]').initSocialWidget({idPrefix:"large-",iconClass:"tm-icon",elementClass:"button",text:{twitter:"undefined"!=typeof messageOnTwitter?Twig.render(messageOnTwitter):"",googlePlus:"undefined"!=typeof messageOnGooglePlus?Twig.render(messageOnGooglePlus):"",facebook:"undefined"!=typeof messageOnFacebook?Twig.render(messageOnFacebook):"",pinterest:"undefined"!=typeof messageOnPinterest?Twig.render(messageOnPinterest):
""}});a.filter('[data-type = "buttons-small"]').initSocialWidget({iconClass:"tm-icon",elementClass:"button"});a.filter('[data-type = "icons"]').initSocialWidget({counter:!0,iconClass:"tm-icon"});a.filter('[data-type = "square-big"]').initSocialWidget({counter:!0,iconClass:"svg square-icon"});a.filter('[data-type = "square-icons"]').initSocialWidget()});
$.fn.initSocialWidget=function(a){var a=$.extend({counter:!1,idPrefix:"",iconClass:"font-icon",elementClass:"box ",enableHover:!1,text:{twitter:"",googlePlus:"",facebook:"",pinterest:"",stumbleupon:""}},a),b=a.counter?'<span class="count" href="#">{total}</span>':"",c="http://www.templatemonster.com"+window.location.pathname;$(this).find("li").each(function(){var f=$(this).attr("class"),g=$(this).data("custom-icon"),h={},j="",k=a.elementClass,j=g?g:"googlePlus"==f?"icon-google":"icon-"+f;h[f]=!0;
"button"===k&&(k+=" social-button btn-"+f);var g=$(this).data("text"),l=$(this).data("via"),u=$(this).data("hashtags"),p=$(this).data("media"),q=$(this).data("descr");if("ar"==$("html").attr("lang")){var n=a.text[f],n=n.replace("Google+","+Google");a.text[f]=n}$(this).sharrre({share:h,template:'<span id="'+a.idPrefix+f+'" class="'+k+'" href="#"><b class="'+j+" "+a.iconClass+'"></b>'+a.text[f]+b+"</span>",url:c,text:g,urlCurl:"/utils/sharrre.php",enableCounter:a.counter,enableHover:a.enableHover,enableTracking:!0,
render:function(a,b){b.enableCounter||$(a.element).html(b.template)},buttons:{twitter:{via:l?l:"",hashtags:u?u:""},pinterest:{url:c,media:p?p:"",description:q?q:""}},click:function(a){a.simulateClick();a.openPopup(f)}})})};(function(a){function b(b,c){a(c.more_button_selector,b).removeClass("half-disabled loading").removeAttr("disabled")}var c={more_button_selector:".js-reviews-more"};a.fn.reviewsList=function(f){var g=a.extend(c,a.isPlainObject(f)?f:{});a(this).on("click",g.more_button_selector,function(){var c=a(this).parents(".js-reviews:first"),f=c.data("search"),k=c.data("limit"),l=a(c).find(".js-reviews-content>div").size();a(g.more_button_selector,c).addClass("half-disabled loading").attr("disabled","disabled");
var u=new CLS78;a.ajax({url:u.urlPrefix()+"/ajax/reviews.php",type:"GET",data:{search:f,offset:l,limit:k},async:!0,dataType:"json",success:function(f){f.status&&(a(".js-reviews-content",c).append(f.html),a(c).find(".js-reviews-content>div").size()>=a(c).data("total-count")&&a(g.more_button_selector,c).hide());b(c,g)},error:function(){b(c,g)}});return!1})}})(jQuery);var PromocodeCreator=function(a,b,c){var f=new CLS78;this.createPromocode=function(a,k){b.val("");c.show();$.ajax({url:f.urlPrefix()+"/ajax/create-preset-promocode.php",type:"POST",data:{promocodePreset:a,designNumber:k},dataType:"json",success:g,error:h})};var g=function(f){c.hide();a.modal("show");f.status?b.val(f.code):b.val(f.errors)},h=function(){c.hide();a.modal("show");b.val("Server Error")}};
$(document).on("TM_JS_LOADED",function(){$('[data-promocode-generator="preset"]').click(function(){var a=$(this).data("preset"),b=$(this).data("design-number"),c=$("#promocode_modal"),f=$("#copy-promocode"),g=$("[data-preloader]");(new PromocodeCreator(c,f,g)).createPromocode(a,b)})});$(document).on("TM_JS_LOADED",function(){var a=$.proxy(function(){$("body").append('<span class="back-to-top"><i class="icon-arrow-up"></i><span>Up</span></span>');$(window).scroll(function(){220<$(this).scrollTop()?$(".back-to-top").fadeIn(500):$(".back-to-top").fadeOut(500)});$(".back-to-top").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},500);return!1})},this);$("body").on("page.class.js-frontend",a).on("page.class.page-template-page-landing-php",a).on("page.class.page-template-page-landing-super-type-php",
a).on("page.class.single-presentations",a)});CLS79=function(){this.list=[]};CLS79.prototype.enterDocument=function(a){this.container=a.container;this.shut().init().register()};CLS79.prototype.add=function(a){this.list.push(a);return this};CLS79.prototype.init=function(){this.visit(function(a){a.init&&a.init(a.menu)});return this};
CLS79.prototype.register=function(){var a="";this.visit(function(b){b.button.on("click touchend",function(){var c=0==b.menu.filter(":visible").length,f=b.menu.siblings(".js-hint-tooltip");this.shut(b.menu);c?(b.container.hasClass(b.active)||b.container.addClass(b.active),b.menu.slideDown(),$(b.menu).find(".js-dropdown").trigger("NotificationDropDown.opened"),a=a||f.data("title"),f.tooltip("hide").tooltip("destroy").data("title",""),$(".header-tooltip").remove(),b.click&&$("a",b.menu).click(function(a){b.menu.slideUp();
b.click(b.menu,$(a.target).closest("a"));return!1})):(b.menu.slideUp(),f.setTooltip({title:a}));return!1}.bind(this))}.bind(this));$(document).on("click",function(b){var c=$.Deferred().done(function(){this.shut()}.bind(this));this.visit(function(f){$(f.menu).has(b.target).length?c.reject():f.menu.siblings(".js-hint-tooltip").setTooltip({title:a})});c.resolve()}.bind(this));return this};
CLS79.prototype.shut=function(a){this.visit(function(b){b.container.removeClass(b.active);$("a",b.menu).off("click");(!a||!b.menu.is(a))&&b.menu.hide()});return this};
CLS79.prototype.visit=function(a){goog.array.forEach(this.list,function(b){var c=$("."+b.cls,this.container),f=goog.isDef(b.button)?$("."+b.button,this.container):c.prev(),g=goog.isDef(b.active)?b.active:b.cls+"-active",h=goog.isDef(b.click)?b.click:void 0,b=goog.isDef(b.init)?b.init:void 0;a({container:this.container,menu:c,button:f,active:g,init:b,click:h})},this)};$(function(){var a=new CLS79;a.add({cls:"sign-in-form",button:"sign-in"}).add({cls:"help-menu"}).add({cls:"languages-menu"}).add({cls:"account-menu"}).add({cls:"notification-menu"}).add({cls:"dropdown-menu",button:"sticky-dropdown-icon"});a.enterDocument({container:$("#header .user-menu, .landing-page-presentations .container")})});$(document).on("TM_JS_LOADED",function(){var a=$.Deferred(),b=$("#show-more-features");b.click(function(){var c=b.prev();c.slideToggle();$("#show-more-features>span").toggleClass("hidden");a.done(function(a){c.html(a)});if("pending"===a.state()){var f={v:2,user:searchQuery};$.when(appDic.require("search-engine").search(f,"properties",!0)).then(function(b){a.resolve(b)})}})});
$(document).on("TM_JS_LOADED",function(){$("#bestsellers-show-more").toggle(function(){$(".js-types-wrapper").slideDown();$("#bestsellers-show-more>span").toggleClass("hidden")},function(){$(".js-types-wrapper").slideUp();$("#bestsellers-show-more>span").toggleClass("hidden")})});$(document).on("TM_JS_LOADED",function(){function a(a){var c="",f=c=c="";1===a.type?(a.price&&(c='<span class="js-suggested-price" data-tid="'+a.id+'" data-price="'+a.price+'">'+b.formatMoney(a.price)+"</span>",c=a.price?'<div class="suggested-item-additional">'+c+"</div>":""),f='<img class="suggested-item-icon" src="'+a.icon+'?width=50">'):(a.count&&(c='<span class="suggestion-count">'+a.count+"</span>",c=a.count?'<div class="suggested-item-additional">'+c+"</div>":""),f='<div class="suggested-item-icon '+
(a.icon?"svg "+a.icon:"placeholder tm-icon icon-binoculars")+'"></div>');return c='<div class="suggested-item js-suggested-item" data-tid="'+a.id+'">'+f+'<div class="suggested-item-info"><div class="suggested-item-name">'+(a.name?a.name:"")+'</div><div class="suggested-item-descr">'+(a.descr?a.descr:"")+"</div></div>"+c+"</div>"}var b=new CLS78,c=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{filter:function(a){return a.suggestion},
url:b.urlPrefix()+"/ajax/suggestion/?keyword=%QUERY",prepare:function(a,b){b.url=b.url.replace("%QUERY",encodeURIComponent(a.toLowerCase()));return b}}}),f=$(".js-typeahead2");if(0!==f.length){f.typeahead({hint:!0,highlight:!0,minLength:1},{name:"templates-topics",source:c,displayKey:"name",limit:10,templates:{suggestion:a}});var g=!1,h=f.data("tt-typeahead"),j=h.input.$overflowHelper;f.on("typeahead:render",function(){0<f.siblings(".tt-menu:visible").length&&(appDic.require("discount").drawPrices(),
k("destroy"))}).on("typeahead:open",function(){g||k("destroy")}).on("typeahead:close",function(){g&&k("set")}).on("typeahead:cursorchange",function(a,b){b&&f.data("last-suggestion",b.name)}).on("typeahead:autocomplete",function(a,b){b&&f.data("last-suggestion",b.name);f.data("autocomplete-used",!0);f.data("original-keyword",j.text())}).on("typeahead:select",function(a,b){var c=f.data("autocomplete-used");$(document).trigger("MainEvents.userUseSuggestionsAction.push",{eventAction:"ViewSuggestions",
eventLabel:c?f.data("original-keyword"):j.text(),submitType:f.data("enter-pressed")?1:0,autocompleteUsed:c?1:0});f.removeData("enter-pressed");f.removeData("autocomplete-used");$(document).trigger("MainEvents.userSearchFormAction.push",{keyword:b.name,isSuggestion:1,selected:b});b.url?window.location.href=b.url:$(this).parents("form").submit()}).on("typeahead:asyncrequest",function(){g&&k("set")}).on("focus",function(){$(this).parents(".tm-rd-input").addClass("onfocus")}).on("blur",function(){var a=
$(this).data("last-value");a&&$(this).val()!==a&&$(this).val(a);$(this).parents(".tm-rd-input").removeClass("onfocus")}).on("keyup paste cut",function(){$(this).data("last-value",$(this).val());$(this).val().length?$("#searchFormSubmit").removeClass("hidden"):($("#searchFormSubmit").addClass("hidden"),g&&k("set"))}).on("check_typeahead",function(a,b){b.has_url=$(a.target).data("last-suggestion")===b.keyword});0<$(".js-typeahead2.tt-input").val().length&&f.trigger("keyup");var k=function(a){switch(a){case "set":f.parent().siblings(".js-hint-tooltip").setTooltip();
g=!1;break;case "destroy":f.parent().siblings(".js-hint-tooltip").tooltip("destroy"),g=!0}},c=h.constructor.prototype,l=c._onEnterKeyed;c._onEnterKeyed=function(a,b){f.data("enter-pressed",!0);l.call(h,a,b)}}});Tm=Tm||{};Tm.leaveDocument=function(a){var b=1E3,c=!1;window.onmousemove=function(a){a=a||window.event;return b=a.clientY};$(document).mouseout(function(f){f=null!=f?f:{e:window.event};f=f.relatedTarget||f.toElement;if((!f||"HTML"===f.nodeName)&&100>b&&!c){if("undefined"!==typeof a.onLeave)a.onLeave();return c=!0}})};Tm=Tm||{};
Tm.ProductOfTheDay=function(a){this._config=$.extend({banner_selector:".js-product-of-the-day",banner_item_selector:".js-product-of-the-day-item",banner_hidden_class:"hidden",slider_selector:".js-product-day-carousel",slider_style:"slideQuint",slider_speed:700,counter_selector:".template-banner:not(.hidden) .js-flipcounter",counter_theme:"RDHourlyCounter",counter_timer_countdown:0,counter_duration:0,counter_startDate:0,counter_viewType:0,labels:[Twig.render(hours),Twig.render(minutes),Twig.render(t_seconds)],timer:null},
a);this._clock=null};Tm.ProductOfTheDay.prototype.init=function(a){var b=null;$(this._config.banner_selector).data("discounts-applied")||(a=$(a).map(function(a,f){!b&&f.period_stop&&(b=f.period_stop);return f.id}),a.length?(this._switchBanners(a),this._initCounter(b),this._initSlider(),$(this._config.banner_selector).data("discounts-applied",!0),a=document.createEvent("Event"),a.initEvent("ProductOfTheDayExperimentInit",!1,!0),document.dispatchEvent(a)):$(this._config.banner_selector).remove())};
Tm.ProductOfTheDay.prototype._switchBanners=function(a){$(this._config.banner_item_selector,this._config.banner_selector).each($.proxy(function(b,c){var f=$(c).data("tid");-1===$.inArray(f,a)&&$(c).remove()},this))};
Tm.ProductOfTheDay.prototype._initSlider=function(){$(this._config.slider_selector).owlCarousel({items:1,navigation:!0,navigationText:["",""],slideSpeed:this._config.slider_speed,pagination:!1,transitionStyle:this._config.slider_style,addClassActive:!0,dragBeforeAnimFinish:!1,lazyLoad:!0,singleItem:!0,afterInit:function(a){function b(a,b){if(!MobileEsp.DetectIos()){var c=["bottom","bottom"];1200>=$(window).width()&&(c=["right","left"]);a.setTooltip({placement:c[0],title:Twig.render(previousProduct)});
b.setTooltip({placement:c[1],title:Twig.render(nextProduct)})}}var c=$(a),a=c.find(".active"),f=a.parents(".owl-wrapper-outer"),a=a.next(),g=null,h=0;if(0===a.length)return!1;var h=a.offset().left-f.offset().left,j=[],k=0,l=0,g=function(a){if(void 0===a)return 0<l?"bwd":"fwd";!k||3>k?(j.push(a.pageX),k++):(l=j[2]-j[0],j=[],k=0);return 0<l?"bwd":"fwd"};c.on("click touchend",".owl-prev,.owl-next",function(){$(this).hasClass("owl-next")?(c.removeClass("backwards"),c.addClass("forwards")):(c.removeClass("forwards"),
c.addClass("backwards"))});c.on("mousedown touchstart",function(){var a=c.find(".active");$(this).on("mousemove touchmove",function(b){var c=g(b),b=f.offset().left,c="fwd"===c?a.next():a.prev();0>=c.length||(b=(Math.abs(c.offset().left-b)/h).toFixed(1),a.css({opacity:b}),c.css({opacity:1-b}))})}).on("mouseup touchend",function(){$(this).off("mousemove")});var u=c.find(".owl-prev"),p=c.find(".owl-next");b(u,p);$(window).resize(function(){b(u,p)})},afterMove:function(a){a=$(a).find(".active");a.animate({opacity:1});
a.prev().animate({opacity:0});a.next().animate({opacity:0})}})};
Tm.ProductOfTheDay.prototype._initCounter=function(a){var b=$(this._config.counter_selector);if(0<b.length){var c=0,f=null,g=this._getTimeToStop(a);if(this._config.counter_viewType)var h=new CLS88,f=new Date(h.getDateFromFormat(this._config.counter_startDate)),a=new Date(h.getDateFromFormat(a)),h=Math.round((a.getTime()-f.getTime())/1E3)/this._config.counter_duration,a=Math.round(g/h),f=4,c=this._config.counter_timer_countdown?a:this._config.counter_duration-a;if((this._clock=b.FlipClock(c,{clockFace:this._config.counter_theme,
minimumDigits:f,autoStart:!1,countdown:!0,callbacks:{start:function(){$(document).trigger("MainEvents.flipclock.start")},stop:function(){$(document).trigger("MainEvents.flipclock.stop")}},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"rd-face flip-clock-wrapper"},labels:this._config.labels}))&&!this._clock.running&&g)this._config.counter_viewType||this._clock.setTime(g),this._clock.setCountdown(!0),
this._clock.start(),this._config.counter_viewType&&this._initArbitraryCounting(h)}};Tm.ProductOfTheDay.prototype._initArbitraryCounting=function(a){setTimeout(function(){var b=setInterval(function(){this._clock.time.time>=this._config.counter_duration-1?(this._clock.stop(),$(".js-close-banner").trigger("click"),clearInterval(b)):this._config.counter_timer_countdown?this._clock.decrement():this._clock.increment()}.bind(this),1E3*a)}.bind(this))};Tm.ProductOfTheDay.prototype._getTime=function(){return new Date};
Tm.ProductOfTheDay.prototype._getTimeToStop=function(a){if(a){var b=new CLS88,c=this._getTime(),a=new Date(b.getDateFromFormat(a));return Math.round((a.getTime()-c.getTime())/1E3)}return 0};(function(a){a.fn.galleryWithThumbnails=function(b){function c(a){a&&(l=a.position().left,k.css("transform","translateX("+l+"px)"))}var f=a.extend({thumbnailsClass:null,thumbnailHolderClass:null,frameClass:null,syncedClass:null,autoHeight:null},b),g,h,j,k,l,u;g=a(this);h=a("."+f.thumbnailsClass);j="."+f.thumbnailHolderClass;g.owlCarousel({singleItem:!0,items:1,slideSpeed:500,pagination:!1,addClassActive:!0,afterAction:function(){var a=this.currentItem;h.find(".owl-item").removeClass(f.syncedClass).eq(a).addClass(f.syncedClass)},
afterMove:function(){u=h.find(".owl-item.synced "+j);c(u)},beforeMove:function(){this.options.autoHeight=f.autoHeight}});h.owlCarousel({items:5,pagination:!1,responsive:!1,mouseDrag:!1,touchDrag:!1,afterInit:function(b){b.find(".owl-item").eq(0).addClass(f.syncedClass);b.on("click",".owl-item",function(b){b.preventDefault();b=a(this).data("owlItem");g.trigger("owl.goTo",b);u=a(this).find(j);c(u);0<g.find(".youtube-video").length&&appDic.require("youtube-api").pausePlayers();var f=a(this).find(j);
f.addClass("active");setTimeout(function(){f.removeClass("active")},300)});a(window).on("resize",function(){c(u)})}});h.find(".owl-wrapper").append("<span class="+f.frameClass+"></span>");k=a("."+f.frameClass);b=h.find(".owl-item:first-child").position().left;k.css("transform","translateX("+b+"px)")};a.fn.galleryWithThumbnailsPopup=function(b){function c(a,b){var c,f;c=j.find(".owl-item__image:first");f=c.data(a);c.attr("src",f);c.addClass("blurred");b&&("function"===typeof b&&!I)&&c.load(function(){b();
setTimeout(function(){c.removeClass("blurred")},500)})}function f(a){var b,c;c=j.find(".owl-item__thumbnail");b=c.first();a=b.data(a);b.attr("src",a);c.addClass("blurred");setTimeout(function(){c.removeClass("blurred")},500)}function g(){a("."+h.mfpContentClass).show().animate({opacity:1},500)}var h=a.extend({owlCarouselClass:null,thumbnailsClass:null,mfpMainClass:null,mfpContentClass:null,controlClass:null,magnifierClass:null},b),j=a("."+h.owlCarouselClass),k=j.find(".js-owl-carousel-synced-slides").data("owlCarousel"),
l=j.find("."+h.thumbnailsClass),u=j.find("."+h.magnifierClass),p=h.controlClass+"__toggle",b=h.controlClass+"__close",q=Twig.render(toggleText),n=Twig.render(closeText),A,I;I=a("html.ie11").length||a("html.ie").length;a(this).magnificPopup({items:{src:j,type:"inline"},closeOnBgClick:!1,closeBtnInside:!1,closeMarkup:'<div class="'+h.controlClass+'"><button data-title="'+n+'" type="button" class="js-hint-tooltip mfp-close '+b+'" data-placement="bottom">&#215;</button></div>',preloader:!0,removalDelay:1E3,
tLoading:"",mainClass:h.mfpMainClass,alignTop:!0,fixedContentPos:!0,callbacks:{beforeOpen:function(){c("full",function(){g()});f("full")},open:function(){var b=a("."+h.controlClass),c=a("."+p),f='<button data-title="'+q+'" class="js-hint-tooltip '+p+' icon-arrow-small-up" aria-expanded="true" data-placement="bottom"></button>';A=k.currentItem;k.reinit({afterInit:function(){this.currentItem=A}});l.length&&(c.length||b.prepend(f),a("."+p).click(function(){a(this).toggleClass(p+"_collapse js-hint-tooltip").tooltip("toggleEnabled");
l.toggleClass("collapsed")}),u.one("click",function(a){a.preventDefault();this.close()}.bind(this)));b.find(".js-hint-tooltip").setTooltip();this.updateStatus("loading")},elementParse:function(){I&&setTimeout(function(){g()},4E3)},close:function(){c("crop");f("crop");A=k.currentItem;j.removeClass("mfp-hide");a("."+h.mfpContentClass).removeClass("mfp-content-load");a("."+p).removeClass(p+"_collapse");l.removeClass("collapsed")},afterClose:function(){k.reinit({afterInit:function(){this.jumpTo(A)}})}}})}})(jQuery);Tm=Tm||{};Tm.EmailServiceDetector=function(){};
Tm.EmailServiceDetector.providerList={Zoho:{domains:["zoho.eu"],link:"https://zoho.eu"},Gmail:{domains:["gmail.com"],link:"https://gmail.com"},"Mail.ru":{domains:["mail.ru","bk.ru","inbox.ru","list.ru","mail.ua"],link:"https://mail.ru"},"Yandex.Mail":{domains:["yandex.ru","ya.ru","yandex.ua","ya.ua"],link:"https://mail.yandex.ru"},Outlook:{domains:["outlook.com","hotmail.com"],link:"https://login.live.com"},"AOL Mail.":{domains:["aol.com"],link:"https://my.screenname.aol.com/"},"Yahoo! Mail":{domains:["yahoo.com"],
link:"https://login.yahoo.com"},iCloud:{domains:["icloud.com"],link:"https://www.icloud.com/#mail"}};Tm.EmailServiceDetector.getHost=function(a){return!a?null:(a=a.toLowerCase().match(/@[^\s]+$/))&&a[0].slice(1)};Tm.EmailServiceDetector.getProviderByEmail=function(a){var a=this.getHost(a),b;for(b in this.providerList)for(var c=this.providerList[b],f=0;f<c.domains.length;f++)if(a===c.domains[f])return{name:b,url:c.link};return null};function setOwlCarouselNavID(a,b){var c=a.$elem.closest(b).attr("id");a.buttonNext.attr("id","owl-next-"+c);a.buttonPrev.attr("id","owl-prev-"+c)}function checkOverlayButton(){return 0<$(".js_wp_button_overlay").length}
function triggerOverlayButton(){var a=$("#sticky-nav");checkOverlayButton()&&$(window).scrollTop()>$(".js_wp_button_overlay").offset().top?(a.hasClass("js-features-invisible")&&a.find(".cms-type-block").hide(),$("button.js-sticky-btn").parents(".form-wrapper").fadeIn(),$(".js-sticky-btn").fadeIn(),$(".cms-type-block").addClass("cms-text-width")):($("button.js-sticky-btn").parents(".form-wrapper").stop(!0,!0).fadeOut(),$(".js-sticky-btn").stop(!0,!0).hide("normal",function(){a.hasClass("js-features-invisible")&&
a.find(".cms-type-block").show()}),$(".cms-type-block").removeClass("cms-text-width"))}
detectPreviewPage()&&detectPreviewPriceBlock()&&(appDic.require("one-click-purchase").init(),$(document).on("TM_JS_LOADED",function(){$("#purchase_options").data("startPos",$("#purchase_options").offset().top-20);$("body").data("windowWidth",$(window).width());$("body").data("windowHeight",$(window).height());fixedAddCart()}),$(window).on("scroll",function(){fixedAddCart()}),$(window).on("resize",function(){$(window).width()!==$("body").data("windowWidth")&&$(window).height()!==$("body").data("windowHeight")&&
($("#purchase_options").data("startPos",$("#purchase_options").offset().top-20),fixedAddCart())}));$.fn.scrollToHash=function(a,b){a=a||0;b=b||500;$(this).on("click",function(c){c.preventDefault();c=$(this).data("href")||$(this).attr("href");c=$(c).offset().top;$("html, body").animate({scrollTop:c+a},b)})};
function fixedAddCart(){if(!MobileEsp.DetectIos()&&!MobileEsp.DetectAndroid()){var a=0<$(".js-banner-timer").length&&!$(".js-banner-timer").hasClass("hidden")&&appDic.require("banner-manager").isActiveBanner(),b=$("#purchase_options"),c=$(".js-countdown-block"),f=0<c.length&&c.hasClass("show")?c.height():0;contentHeight=a?b.height()+20+$(".banner-wrap").height():b.height()+40;startPos=parseInt(b.data("startPos"))-f+(a?10:0);finishPos=0<$(".print-page").length?$(".print-page").offset().top-f-contentHeight:
$("#footer").offset().top-contentHeight;isFix=a?$(window).height()>=contentHeight&&$(window).scrollTop()>startPos:$(window).height()>=contentHeight+f&&$(window).scrollTop()>startPos;b.length&&appDic.require("one-click-purchase").setFixedFlag(isFix).redraw();isFix?(b.css({position:"fixed",width:b.outerWidth()}),c.css({width:b.outerWidth()}),$(window).scrollTop()<finishPos?b.css({top:a?$(".banner-wrap").height()+10:+f?f+40:20}):0<$(".print-page").length?b.css({top:$(".print-page").offset().top-$(window).scrollTop()-
b.height()-(a?10:20)}):b.css({top:$("#footer").offset().top-$(window).scrollTop()-b.height()-(a?10:20)})):(b.attr("style",null),c.attr("style",null))}}
function expandText(a,b,c,f,g){function h(a,b){a.stop().animate({height:f},{complete:function(){$(".expand-title",b).show();$(".collapse-title",b).hide()}});return!0}var j=b.height();b.css({overflow:"hidden"});g?($(".collapse-title",a).hide(),h(b,c)):$(".expand-title",a).hide();var k=!!g;c.click(function(){var a;if(k){var c=$(this);b.stop().animate({height:j},{complete:function(){$(".expand-title",c).hide();$(".collapse-title",c).show()}});a=!1}else a=h(b,$(this));k=a;return!1})}
function initDiscounts(a){$(".js-price, .js-price .discount, .js-license, .js-total-promocode-discount-amount").addClass("hide-price");window.ssd=[];var b={};appDic.require("urlHelper").moveToCookie("nld","nld");$.cookie("nld")&&(b.nld=$.cookie("nld"));var c=new CLS78;$(".price-block").addClass("hide-price");return $.ajax({url:c.urlPrefix()+"/ajax/socialcap.php",type:"GET",data:b,dataType:"JSON",success:function(a){if("object"===typeof a&&a.nld){var c=b.nld.split(","),c=c.filter(function(b){return b===
a.nld});b.nld=c.join(",");$.cookie("nld",b.nld)}}}).always(function(){$.ajax({url:c.urlPrefix()+"/ajax/discounts.php",type:"GET",data:b,dataType:"JSON",success:function(b){a&&$(".js-cart-summary-content").html(a);appDic.require("discount").initDiscountValues(b).drawPrices()}}).always(function(){appDic.require("discount").setLoaded().showPrices();detectDemoPage()&&activeDefaultPrice();$(document).trigger("MainEvents.discountLoaded")})})}
function getGaClientIdentifierQuery(){var a="";if("undefined"===typeof ga)return a;var b=ga.getAll();b.length&&(a="&"+b[0].get("linkerParam"));return a}Modernizr.addTest("firefox",function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("firefox")?(a=a.split("firefox/")[1],"undefined"!=typeof a[1]&&(a=parseInt(a[1]),$.isNumeric(a))?a:!0):!1});Modernizr.addTest("ie11",function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("trident")&&-1!=a.indexOf("rv:11")});
Modernizr.addTest("ie",function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1});Modernizr.addTest("mac",function(){return-1!=$.inArray(navigator.platform,["Mac68K","MacPPC","MacIntel"])});Modernizr.addTest("linux",function(){return-1!=$.inArray(navigator.platform,["Linux x86_64"])});
function detectModernIe(){var a=navigator.userAgent;-1!=a.indexOf("Trident")&&-1!=a.indexOf("rv:11")&&$("html").addClass("ie11");-1!=a.indexOf("Trident")&&-1!=a.indexOf("MSIE 10.0")&&$("html").addClass("ie10")}function detectOldIe(){return Modernizr.ie&&(isNaN(Modernizr.ie)||9>=Modernizr.ie)}function detectGoogleChrome(){return"undefined"!==typeof $.browser&&$.browser.chrome}
function detectSafari(){return-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?($("html").addClass("safari"),!0):!1}function detectPreviewPage(){return 0<$("#preview-page").length}function detectIndexPage(){return 0<$("#index-page").length}function detectFliper(){return 0<$(".perspective").length}function detectFreePage(){return 0<$("#free-templates").length}function detectSearchListing(){return 0<$(".js-search-listing").length}
function detectCheckoutPage(){return 0<$("#checkout-page").length}function detectCartPage(){return 0<$("#cart-page").length}function detectVideoHeader(){return 0<$(".video-header").length}function detectStatusDownloadPage(){return 0<$("#status-download-page").length}function detectDemoPage(){return 0<$("#demo-page").length}function detectDemoPageWithPrice(){return detectDemoPage()&&0==$(".js-price-hidden").length}
function detectPresentantionPage(){return $("body").is(".single-presentations, .page-template-page-landing-presentations")}function detectAdwordPage(){return $("body").is(".single-addwords, .single-welcome-discount")}function detectSpecialPages(){return detectCartPage()||detectCheckoutPage()||detectPresentantionPage()||detectAdwordPage()||detectDemoPage()}function detectSSDPages(){return detectDemoPage()||detectIndexPage()||detectPreviewPage()||detectCartPage()||detectCheckoutPage()}
function detectWPFiltersPage(){return 0<$(".js-wp-filters").length}function detectMapPage(){return 0<$(".js-map-social").length}function detectWPDefaultSoonPage(){return 0<$(".default-light-soon").length}function detectWPSidebar(){return 0<$(".js-wp-sidebar").length}function detectZeroCart(){return 0==$(".js-cart-summary .total-price .js-total-price").data("price")}function detectShareList(){return 0<$(".js-share-list").length}function detectWPWelcomePage(){return 0<$(".single-addwords").length}
function detectWPLandingPage(){return 0<$(".landing-page").length}function detectCheckoutPageStepFour(){return 0<$("#checkout-page .js-step-step4").length}function detectCheckoutPageStepThree(){return 0<$("#checkout-page .js-step-step3:visible").length}function detectWPLandingPresentations(){return 0<$(".landing-page-presentations").length}function detectPressPage(){return 0<$(".single-press").length}function detectCollectionPage(){return 0<!!$("#collection-page").length}
function detectPreviewPriceBlock(){return 0<$("#purchase_options").length}function detectPageAwareOfFloatPanel(){return!detectCartPage()&&!detectCheckoutPage()&&!detectStatusDownloadPage()&&!detectAdwordPage()&&!detectWPLandingPresentations()&&!detectWPWelcomePage()&&!detectDemoPage()}function detectRTL(){return 0<$("rtl"===document.dir).length}function calcDiscount(a,b){return Math.round(a-a*b/100)}function separatorHeightChange(){$(".footer-columns .row").children("div").equalsHeights()}
function separatorHeightForEmptyBlock(){1>$(".footer-columns .row div:first").children().height()&&$(".footer-columns .row div:eq(1)").addClass("js-no-separ")}function playVideoMob(){$("#breadcrumbs, .header-unit").fadeOut(500);wistiaEmbed.play();$(".js-video-header").animate({height:"501px"},500,function(){$(".js-mfp-close").fadeIn(600);$("#wista").css("zIndex","3");$("#wista").animate({opacity:"1"},600)});$(".js-share-list").css("top","40%")}
function playVideoPc(){$("#breadcrumbs, .header-unit").fadeOut(500);$(".js-video-header").animate({height:"501px"},500,function(){wistiaEmbed.play();$(".js-mfp-close").fadeIn(600);$("#wista").css("zIndex","3");$("#wista").animate({opacity:"1"},500)});$(".js-share-list").css("top","40%")}
function stopVideo(){wistiaEmbed.pause();$(".js-mfp-close").fadeOut(400);$("#wista").animate({opacity:"0"},400,function(){$("#wista").css("zIndex","-1");$("#breadcrumbs, .header-unit").fadeIn(400)});$(".js-video-header").delay(100).animate({height:"306px"},300);$(".js-share-list").delay(100).animate({top:"32%"},300);wistiaEmbed.time(0);wistiaEmbed.pause()}
function showSelectedTab(){var a=window.location.hash;if(0==a.length)return 0==$("#previewTab li.active").length&&$("#previewTab li:first a").tab("show"),!1;var b=a.match("^#(tab-)?([a-z-]+)(-tab)?$");if(null!==b&&(void 0!=b[1]||void 0!=b[3])){b=$("#link-tab-"+b[2]);if(0==b.length)return!1;$("#previewTab li.active a").attr("href")!=a&&b.tab("show");waitAndScrollToTabsPanel()}else 0==$("#previewTab li.active").length&&$("#previewTab li:first a").tab("show")}
function waitAndScrollToTabsPanel(){var a=$("#previewTab");if(0==a.length)return!1;$("html, body").stop().animate({scrollTop:a.offset().top+"px"},500,"swing")}detectFliper()&&document.querySelector("#js-flipper-mobile").addEventListener("touchstart",function(){document.querySelector(".js-ipad-focus-disable").blur()},!0);function footerBottom(){var a=$(window).height(),b=$("#footer").outerHeight(!0),c=$("#header").outerHeight(!0);$("#content, .type-page").css("min-height",a-b-c)}
function includeJSFile(a){var b=document.createElement("script");b.src=a;document.getElementsByTagName("head")[0].appendChild(b)}$.fn.equalsHeights=function(a){"undefined"==typeof a&&(a=!0);var b=$(this),c,f=[];b.length&&(b.css("height","auto").each(function(){a?f.push($(this).outerHeight()):f.push($(this).height())}),c=Math.max.apply(0,f),b.height(c));return b};
$.fn.equalHeights_inrow=function(a){for(var a=$.extend({numItem_inrow:"",outer:"true"},a),b=this.length,c=0;c<=b/a.numItem_inrow;c++)this.slice(c*a.numItem_inrow,c*a.numItem_inrow+a.numItem_inrow).equalsHeights(a.outer)};
$.fn.setTooltip=function(a){this.each(function(){$(this).tooltip("destroy");var b=$(this).data("placement"),c=$(this).data("color"),f=$(this).data("title"),g=$(this).data("html-class"),h=$(this).data("hide-on-tablet"),j=$(this).data("mode"),b=$.extend({placement:b?b:"top",title:f?f:"",delay:{show:200,hide:0},container:"body",color:c?c:"default",html_class:g?g:"",mode:j?j:"single-line",hideOnTablet:h?h:"false"},a);b.template='<div class="rd-notice rd-notice-tooltip rd-notice-position-'+b.placement+
" rd-notice-type-"+b.color+" "+b.html_class+" "+b.mode+'" role="tooltip"><div class="arrow"></div><div class="rd-notice-content">'+b.title+"</div></div>";if(!(!0==b.hideOnTablet&&(MobileEsp.DetectIos()||MobileEsp.DetectAndroid())))$(this).tooltip(b).on("click",function(){$(this).tooltip("hide")})});return this};
$(window).load(function(){$(".owl-prev, .owl-next").on("mousedown",function(){$(this).addClass("active-style")});$(document).on("mouseup",function(){$(".owl-buttons .active-style").each(function(){$(this).removeClass("active-style")})});initDiscounts().done(function(){detectPreviewPage()&&previewPageStart()});detectCheckoutPageStepFour()&&((Modernizr.mac||Modernizr.linux)&&Modernizr.firefox)&&$("#apv-request-form-phone").addClass("apv-request-phone-moz");$(document).trigger("Gtag.ee.push.product.template.impressions",
{from:"static.impressions.template"});(detectCartPage()||detectPreviewPage()||detectCheckoutPageStepFour())&&$(document).trigger("Gtag.ee.push.product.offer.impressions",{from:"static.impressions.offer"});$(document).trigger("Gtag.ee.push.promo.view",{from:"static.impressions.promo"});$(document).trigger("Gtag.user.push",{from:"static.cid"});0<$(".js-video-header").length&&($(".js-watch-btn").click(function(){MobileEsp.isMobilePhone||MobileEsp.isTierTablet?playVideoMob():playVideoPc()}),$(".js-mfp-close").click(function(){stopVideo()}));
detectPreviewPage()&&(templateTrackingCount(),showSelectedTab(),$(window).on("hashchange",function(){showSelectedTab()}));(detectPreviewPage()||detectDemoPageWithPrice())&&(new CLS53).enterDocument();var a=$(".rd-review-slider .js-owl-carousel-two"),b=a.find(".owl-prev"),a=a.find(".owl-next");b.setTooltip({placement:"left",title:Twig.render(tooltipReviewsPreview)});a.setTooltip({placement:"right",title:Twig.render(tooltipReviewsNext)});a=$(".rd-review-slider:not(.promocodes)");
b=a.find(".owl-prev");a=a.find(".owl-next");b.setTooltip({placement:"left",title:"Previous testimonial"});a.setTooltip({placement:"right",title:"Next testimonial"});b=$(".js-hint-tooltip");0<b.length&&b.setTooltip();$(".page").hasClass("blank-page")||(footerBottom(),$(window).resize(function(){footerBottom()}));$(document).on("drawDiscounts.ProductOfTheDay",function(a,b){b&&(b.templates&&0<b.templates.length)&&(new Tm.ProductOfTheDay).init(b.templates)});appDic.require("infographics").run()});
function drawReviewGravatar(){$(".js-footer-review-item").each(function(a,b){var c=$(b).find(".review-author").text();(new Tm.RdGravatar).draw("",c).done(function(a){$(b).find(".review-author-img").html(a.html)}.bind(this))})}
$(document).on("TM_JS_LOADED",function(){function a(a){var b=$(a+" .show-more-templates"),a=$(a).data("total"),c=b.data("count"),f=b.data("page");$(document).trigger("stop.cart.load",{button:b,callbackFunk:function(){b.prop("disabled",!1)}});a<=f*c&&b.hide()}function b(a){var b=$(this);a.stopPropagation();!1===b.hasClass("is-active")&&(a.preventDefault(),c(),b.addClass("is-active"))}function c(){$(".main-menu > .is-active").length&&$(".main-menu > .is-active").removeClass("is-active")}window.banner_zone=
window.banner_zone||[];window.banner_zone.length&&appDic.require("banners-controllers").show();appDic.require("collection").initTriggers();detectPageAwareOfFloatPanel()&&($("body").append(Twig.render(panel_bottom)),(new Tm.floatPanel).init(),appDic.require("viewed").trackItemPage(),appDic.require("bottom-controller").init(),appDic.require("cart").checkCookie());detectCartPage()&&appDic.require("bottom-controller").getCartContent();$("html").hasClass("firefox")&&($("[type=submit]").addClass("loading"),
setTimeout(function(){$("[type=submit]").removeClass("loading")},1));$.cookie("bgv")||($(".badge-big").css("margin-top","0px"),setTimeout(function(){$(".badge-big").animate({"margin-top":"-58px"},400,"easeOutBack")},3E3),Tm.setCookie("bgv","1"));$(".badge-big").hover(function(){$(this).stop(!0,!1).animate({"margin-top":"0px"},250,"easeOutCirc")},function(){$(this).stop(!1,!0).animate({"margin-top":"-58px"},400,"easeOutBack")});if(detectWPWelcomePage()||detectWPLandingPresentations())$("#sticky-nav").sticky({topSpacing:0}),
checkOverlayButton()&&(triggerOverlayButton(),$(window).scroll(function(){triggerOverlayButton()}));$('a[href^="#anchor-"]').click(function(){var a=$(this).attr("href");$("html, body").animate({scrollTop:$(a).offset().top},500);return!1});$(window).resize(function(){var a=$(".form-group.has-error input"),b=$(".js-ocp-btn");0<a.length&&a.popover("show");0<b.length&&b.popover("hide")});$(function(){var a=null,b=appDic.require("language");if(document.forms.signin||document.forms.signin3||$(".js-signin-menu").length){a=
new Tm.Signin;a.init();var c=$("#header-signin-link"),f="en"===b.lang?"?":"?lang="+b.lang;c.attr("data-href",c.attr("data-href")+f)}detectCheckoutPage()&&(c=$(document.body).is(".js-checkout3")?appDic.require("checkout3"):detectZeroCart()?new Tm.FreeCheckout:new Tm.Checkout,c.init(),"step4"==c.getStep()&&(new Tm.StatusDownload).init());(new CLS48).enterDocument();var c=appDic.require("cookie-tracker"),g=new Tm.GCDiscount,h=appDic.require("banner-manager"),j=!detectCartPage()&&
!detectCheckoutPage()&&!detectPresentantionPage()&&!detectAdwordPage()&&!detectDemoPage()&&b.isDefault(),k={method:"GET",cache:!0};c.checkCookie({onComplete:function(){a&&a.checkCookie();j&&g.isSurveyAllowed()&&$.ajax("/ajax/gc/survey-popup.php",k).done(function(a){Tm.leaveDocument({onLeave:function(){h.isTopBannerOn()||g.showSurveyPopup(a)}})});(new Tm.LangSwitchPopover({sourceLocale:b.lang})).init()},onLogin:function(){$.ajax("/account-ajax/login.php").success(function(){$(document).trigger("MainEvents.user.login")})},
onLogout:function(){$(document).trigger("MainEvents.user.logout")}});j&&g.isDiscountAllowed()&&window.setTimeout(function(){$.ajax("/ajax/gc/discount-popup.php?country="+g.getCountryCode(),k).done(function(a){!h.isTopBannerOn()&&a.length&&(g.showDiscountPopup(a),goog.isDef(a)&&"popup"in a&&$.ajax({url:"/ajax/gc/apply-discount.php",method:"POST",success:function(a){"status"in a&&(a.status&&1===a.status)&&initDiscounts()}}))})},6E4)});0!==$("#timeline").length&&($(".full").prepend($("#timeline").html()),
$("#timeline").html(""));$(".js-search-label").click(function(){$(".js-typeahead2").val($(this).text());return!1});$(".keyword-search-field").keydown(function(a){if(13===a.keyCode&&0===a.charCode)return a.stopPropagation(),$(a.currentTarget).data("cancel-form-submit")||$(a.currentTarget).closest("form").submit(),!1});if((detectSearchListing()||detectFreePage())&&!detectWPLandingPage()){var f=$(".js-slide-down-txt");f.length&&f.each(function(){expandText($(this),$(".js-slide-down-text",this),$(".js-slide-down-link",
this),62)})}if(detectWPFiltersPage()){var f=function(){return!1},g=function(a){"undefined"!=typeof $(a.target).attr("href")&&(window.location.href=$(a.target).attr("href"));return!1};"undefined"!=typeof searchUiOptions.topics&&(searchUiOptions.topics.onSelectNode=g,searchUiOptions.topics.onClick=f);var h=["properties","compatibility","daterange","colors","feature"];for(k in h)searchUiOptions[h[k]]=searchUiOptions[h[k]]||{},searchUiOptions[h[k]].onClick=f,searchUiOptions[h[k]].onSelect=g;searchUiOptions.bestsellers=
searchUiOptions.bestsellers||{};searchUiOptions.bestsellers.onClick=g;searchUiOptions.bestsellers.onSelect=f;searchUiOptions.bestsellers.withCheckboxes=!1;searchUiOptions.daterange.onSelect=function(a){if(a&&"undefined"!=typeof $(a.target).attr("href"))return tm.search.ui.uiController.redir($(a.target).attr("href")),!1;var a=searchUi.getDateRangeSearchParams()||"",b=new CLS81(searchUiOptions.userParams);a&&b.setFromUrlData(a);a=searchUiOptions.baseUrl+_paramToUrl(b.getUrlData());tm.search.ui.uiController.redir(a);
return!1}}"undefined"!=typeof searchContainerId&&appDic.require("search-engine").search(searchContainerParams,searchContainerView).done($.proxy(function(a){jQuery(searchContainerId).html("").append(a.getText()||"");appDic.require("discount").drawPrices();$(document).trigger("Gtag.ee.push.product.template.impressions",{from:"search block for WordPress.impressions"});$(document).trigger("Gtag.ee.push.promo.view",{from:"static.impressions.promo"});$(document).trigger("MainEvents.templates.loaded")},
this));var j={renderer:null,local_searchContainer:null,count:0,func:function(b){var c="undefined"!==typeof b?b.getCount():this.count,b=b&&b.getText();0===c?this.renderer&&"list"==this.renderer||"grid"==this.renderer?a(this.local_searchContainer):$(this.local_searchContainer).hide():(jQuery(this.local_searchContainer+" .thumbnails").append(b||"").removeClass("js-none"),appDic.require("discount").drawPrices(),$(document).trigger("Gtag.ee.push.product.template.impressions",{from:"drawSlider.function.impressions"}),
$(document).trigger("MainEvents.templates.loaded"),a(this.local_searchContainer),c=4,$(".js-search-filters").length&&(c=3),tm.lazyload.renew(),$(this.local_searchContainer+" .js_product_slides .slides").owlCarousel({items:c,itemsDesktop:[1600,c],itemsDesktopSmall:!1,itemsTablet:!1,itemsMobile:!1,navigation:!0,navigationText:["",""],mouseDrag:!1,touchDrag:Modernizr.touch,slideSpeed:700,pagination:!1,beforeInit:function(){0<$(".super-type").length&&$(".search-bnr-wrapper:empty")&&$(".search-bnr-wrapper:empty").remove()},
afterInit:function(){tm.lazyload.renew(!1,999999);setOwlCarouselNavID($(this)[0],".similar-templates")}}))}};if("undefined"!=typeof ajaxSearchParams)for(var k=0;k<ajaxSearchParams.length;k++){var f=ajaxSearchParams[k].searchContainer,g=ajaxSearchParams[k].searchContainerParams,h=ajaxSearchParams[k].searchContainerView,l=ajaxSearchParams[k].opt_raw||!1,u=ajaxSearchParams[k].is_direct_url||!1,p=Object.create(j);p.local_searchContainer=f;appDic.require("search-engine").search(g,h,l,u).done($.proxy(p.func,
p))}$(".items_block").on("click",".show-more-templates",function(){var a=$(this),b=a.data("target"),c=a.data("renderer"),f=a.data("page"),g=a.data("count"),h=a.data("search"),k=Object.create(j),h=h||{};h.renderer=c;h.limitCount=g;h.page=++f;a.data("page",f);var l=$(this);$(document).trigger("start.cart.load",{button:l,callbackFunk:function(){l.removeClass("disabled")}});l.prop("disabled",!0);k.local_searchContainer=b;k.renderer=c;appDic.require("search-engine").search(h,"slides").done($.proxy(k.func,
k))});$(".js-static-slider").each(function(){var a=Object.create(j);a.local_searchContainer="#"+$(this).attr("id");a.count=$(this).attr("data-count");a.func()});var q=null;$(document).on("mousedown",function(a){q=a.target});$(document).on("mouseup",".js-btn[data-href]",function(a){if(q==a.target){var b=$(this).data("target");$(this).hasClass("js-demo-buy-button")&&(new CLS46).addDataToCart($(this).parents(".js-template-id").first().data("template_id"),"template");
var c=$(this).data("href");if(c)return a=a||{},3!==a.which&&(b?window.open(c,b):a.ctrlKey||2===a.which?window.open(c):window.location.href=c),!1}});$(".thumbnail").on("touchend",".js-btn[data-href]",function(a){$(this).parents(".js-thumbnail").trigger("mouseenter");a.stopImmediatePropagation()});$(".js-owl-carousel-single-lazy").owlCarousel({singleItem:!0,lazyLoad:!0,slideSpeed:700,navigation:!0,navigationText:["",""],pagination:!1,mouseDrag:!1,touchDrag:Modernizr.touch,afterInit:function(){$(".js-owl-carousel-single-lazy").addClass("show");
setOwlCarouselNavID($(this)[0],"#video-testimonial-wrapper")},afterMove:function(){detectIndexPage()&&$(".js-owl-carousel-single-lazy .choke").trigger("plug.choke")}});if(detectIndexPage())$(".owl-prev,.owl-next").on("click touchend",function(){$(".js-owl-carousel-single-lazy .choke").trigger("plug.choke")});$(".js-owl-carousel-two").owlCarousel({items:2,navigation:!0,navigationText:["",""],pagination:!0,slideSpeed:700,mouseDrag:!1,touchDrag:Modernizr.touch,onTranslate:2,scrollPerPage:!0,itemsCustom:[[0,
2]],afterInit:function(){drawReviewGravatar()}});$(".js-owl-carousel-single").owlCarousel({singleItem:!0,navigation:!0,navigationText:["",""],pagination:!1,slideSpeed:700,mouseDrag:!1,touchDrag:Modernizr.touch,afterInit:function(){0<$(".footer-block .js-owl-carousel-single").length&&separatorHeightChange();drawReviewGravatar()},afterUpdate:function(){0<$(".footer-block .js-owl-carousel-single").length&&separatorHeightChange()}});$(".choke").each(function(){var a=$(this),b=a.data("src");a.click(function(){$("img",
a).hide();$('<iframe  class="testimon-video" src="'+b+'"/>').css({opacity:0}).appendTo(a).animate({opacity:1},{});return!1}).on("plug.choke",function(){$("iframe",a).remove();$("img",a).show()})});$(".footer-columns .description-quote-text").each(function(){var a=$(this).height(),b=$(this).parent().find(".review-show-more");$(window).on("resize",function(){64>=a?b.addClass("js-none"):(b.removeClass("js-none"),$(".footer-columns .description-quote-text").css({"max-height":"64px"}))})});f=$(".question-icon");
g=(g=f.data("placement"))&&!detectRTL()?g:"right";f.popover({html:!0,container:"body",trigger:"hover",placement:g,template:Twig.render(questionTooltip,{placement:g}),content:function(){return $(this).find(".question-content").html()}});Modernizr.touch&&($(document).on("touchstart",c),$(".main-menu > li").on("touchstart",b),$(".sub-menu-1_dropdown .sub-menu-1__item").on("touchstart",b));$("body").append('<div id="thubContent0" class="thumbContent js-thumbContent"></div><div id="thubContent1" class="thumbContent js-thumbContent"></div>');
"undefined"==typeof thubContentId&&(thubContentId=0);var n,A=Twig.render(messageShowMore),I=Twig.render(messageShowLess);$(document).on("mouseleave",".thumbnails .js-thumbnail, .js-ajax-result-thumbnails .js-thumbnail",function(){clearInterval(n)}).on("mouseenter",".thumbnails .js-thumbnail, .js-ajax-result-thumbnails .js-thumbnail",function(){if($(this).parent().hasClass("deleted"))return!0;var a=$("#thubContent"+thubContentId),b=$(this).closest(".thumbnail"),c=b.html();a.html(c).find(".js-thumb_preview").css({width:"400px"});
c=a.find(".js-thumbnail-img");c.attr("data-original",c.attr("src")).attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=").parent().before('<span class="img-placeholder tm-icon icon-sand-clock"></span>');appDic.require("heart-tooltip").setText($(".js-favorite",a));c.preloadImages({square:!0,afterWorks:function(a){a.lazyload({effect:"fadeIn",event:"hardLoad",effectspeed:500,threshold:720,load:function(){$("img[data-original]").each(function(a,
b){b.loaded&&setTimeout(function(){$(b).addClass("js-loaded").parents(".js-thumbnail").find(".img-placeholder").removeAttr("class")},200)})}});a.trigger("hardLoad")}});$(document).trigger("Gtag.ee.push.product.template.impressions",{from:"popup.thumb.impressions.template"});var c=a.outerWidth(),f=a.outerHeight(),g=b.outerWidth(),h=(c-g)/2,g=b.offset(),j=g.top-80,k=h=g.left-h,l=j,p=$(document).scrollLeft(),q=$(window).width(),u=$(document).scrollTop(),w=$(window).height(),H=!1;g.top+b.height()>u+w&&
(H=!0);k+c>p+q?h=k-(k+c-(p+q))-30:30>k-p&&(h=30+p);l+f>u+w?j=l-(l+f-(u+w))-30:30>l-u&&(j=30+u);a.css({top:j,left:h});clearTimeout(n);n=setTimeout(function(){a.fadeIn();var b=a.find(".js-thumb-description").height();63<b&&(a.find(".js-thumb-description").append('<span id="slide-down-text-thumb" class="js-slide-down-link-thumb link-1 link-blue description-link"><span class="expand-title">'+A+'</span><span class="collapse-title">'+I+"</span></span>"),expandText($(".js-slide-down-txt-thumb",a),$(".js-slide-down-text-thumb",
a),$(".js-slide-down-link-thumb",a),48,!0),H&&a.css("top",a.offset().top+(b-48)))},400)});tm.thumbnail.renew();if(MobileEsp.DetectIos())$(".thumbnail").click(function(){$("#thubContent"+thubContentId).html("")});else $("#thubContent0, #thubContent1").on("mouseleave",function(){var a=$("#thubContent"+thubContentId);clearTimeout(n);a.html("");a.fadeOut();thubContentId=0===thubContentId?1:0});$(".custom-range-heading").click(function(){$(".custom-range-heading b").toggleClass("icon-arrow-small-down").toggleClass("icon-arrow-small-up");
$(".js-custom-range").toggle()});separatorHeightChange();separatorHeightForEmptyBlock();$(window).on("resize",function(){$(".footer-columns .row").children("div").attr("style","none");separatorHeightChange()});$("#footer #mailchimp_form").bind("DOMSubtreeModified",function(){separatorHeightChange()});var w={},f={},g={},h={},l={};jQuery(document).on("submitResponse.default",function(){Recaptcha.reload()});if("tm_forms"in window)for(k in window.tm_forms)u=document.forms[window.tm_forms[k].name],w[window.tm_forms[k].name]=
window.tm_forms[k].on_before_submit,f[window.tm_forms[k].name]=window.tm_forms[k].popover_placement,g[window.tm_forms[k].name]=1>window.tm_forms[k].ajax,h[window.tm_forms[k].name]="#"+$(u).find('.ninja-forms-field[type="submit"]').attr("id"),l[window.tm_forms[k].name]=!!window.tm_forms[k].autoscroll_on_error,$(u).formHandler({disable_ajax:g[u.name],ajax_async_mode:!0,autofocus_first_field:!1,popover_placement:f[u.name],submit_button:h[u.name],autoscroll_on_form_error:l[u.name],on_after_ajax_validate:function(a,
b,c,f){a=$(a).find("[type=submit]");!f.status&&a.hasClass("loading")&&a.removeClass("loading")},on_before_submit:function(a,b){var c=w[a.name];if("function"===typeof c&&!1===c(a,b))return!1},on_submit_success:function(a,b,c){b=c.form_settings;"undefined"!=typeof b&&0<b.clear_complete&&$(":input:visible",a).not("[type=submit], [type=checkbox]").val("").end().filter("[type=checkbox]").prop("checked",!1).end();"undefined"!=typeof b&&0<b.hide_complete?$(a).hide():"undefined"!=typeof c.success&&c.success.success_msg.length&&
$(a).formHandler("show-errors",[{messages:c.success.success_msg}],[],!1)}});$("select.ninja-forms-field").chosen();$(".js-reviews").reviewsList();detectModernIe();detectSafari();$(".related-2,.related-3").find("li").equalsHeights();$(window).on("discount.update resize",function(){$(".related-2,.related-3").find("li").equalsHeights()});$(".list-features .maxheight, .wp-categories-list .col-lg-3").equalsHeights(!1);$.stellar("refresh");$.stellar({horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,
verticalOffset:0,responsive:!1,scrollProperty:"scroll",positionProperty:"position",parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(a){a.hide()},showElement:function(a){a.show()}});$("#wizard").length&&(k=appDic.require("language").lang,includeJSFile("/js/tm/wizard."+k+".js?d=abd0f20"),$("#wizard-start").removeClass("disabled"));$("html:not(.touch)").on("show.bs.modal",".js-special-modal",function(a){$(a.target).removeClass("off")}).on("hidden.bs.modal",".js-special-modal",
function(a){$(a.target).addClass("off")});$(document).on("hidden.bs.modal",".modal",function(){$(".modal").each(function(){$(this).is(":visible")&&$(document.body).addClass("modal-open")})});$('#mce-EMAIL, input[id^="mce-EMAIL"]').on("keydown",function(a){if(13!=a.key\u0421ode||13!=a.which)$("#mce-success-response").hide(),$("#mce-error-response").hide(),$("div.mce_inline_error").hide()});$(document).trigger("MainEvents.templates.loaded");k=document.querySelectorAll(".rd-slider__trigger");f=k.length;
for(g=0;g<f;g++)k[g].classList.add("rd-slider_index_"+g),rdSlider=new RDSlider({range:".rd-slider_index_"+g});appDic.require("search-no-result").init();$("body").append(Twig.render(banner_cookie));var G=$(".js-gdpr-info"),k=$.cookie("country_code"),f="AT BE BG HR CY CZ DK EE FI FR DE GR HU IE IT LV LT LU MT NL PL PT RO SK SI ES SE UK".split(" "),k="undefined"!==typeof k&&-1<f.indexOf(k);"undefined"===typeof $.cookie("cookie_closed")&&k&&(G.css("display","flex"),G.find(".closeButton").on("click",function(){$.cookie("cookie_closed",
"1",{expires:365});G.css("display","none")}))});
$(window).load(function(){appDic.require("tm-advice").init();var a=appDic.require("invitation-to-chat"),b=$.cookie("country_code");b||(b="UN");a.initTriggers();goog.isDefAndNotNull(Tm.Config)&&("chat"in Tm.Config&&"enabled"in Tm.Config.chat&&"blockedCountry"in Tm.Config.chat&&Tm.Config.chat.enabled&&!goog.array.contains(Tm.Config.chat.blockedCountry,b))&&(a.load(),a.setConfig(Tm.Config.chat),b=appDic.require("invitation-to-chat-timer"),"timers"in Tm.Config.chat&&b.setConfig(Tm.Config.chat.timers).init());
$(document).on("click",".js-start-chat__room_presales",function(){"undefined"!==typeof a&&a.goToPreSalesRoom.call(a)}).on("click",".js-start-chat__room_billing",function(){"undefined"!==typeof a&&a.goToBillingRoom.call(a)})});$(window).load(function(){widthDropdownSubMenu()});$(window).resize(function(){widthDropdownSubMenu()});
function widthDropdownSubMenu(){var a=$(document).width();$(".js-submenu-item").each(function(){var b=$(this),c=b.find($(".js-dropdown-firstmenu"));c.width()>b.width()?b.addClass("sub-menu-1__item_border"):b.removeClass("sub-menu-1__item_border");var f=b.offset().left;c.width()>a-f?b.addClass("sub-menu-1__item_left"):b.removeClass("sub-menu-1__item_left")})}
$.fn.addActiveClassOnClick=function(){var a=$(this);$("html.ie11").length&&(a.on("mousedown",function(){$(this).addClass("css-active")}),$(document).on("mouseup",function(){$(".css-active").removeClass("css-active")}))};if(detectWPLandingPage())$(".modal.video-popup").on("hide.bs.modal",function(){appDic.require("youtube-api").pausePlayers()});
$(document).ready(function(){var a=$("#no-result-search").find("input[name=keywords]");$("#no-result-search").on("submit",function(){return!!$.trim(a.val())});setTimeout(function(){if(!detectCartPage()&&!detectCheckoutPage()&&!detectDemoPage()){"//assets.pinterest.com/js/pinit.js";var a=document.createElement("script");a.src="//assets.pinterest.com/js/pinit.js";a.type="text/javascript";a.setAttribute("data-pin-build","parsePins");document.body.appendChild(a)}},3E3)});
$(document).on("MainEvents.discountLoaded",function(){var a=appDic.require("browser-utils"),b=$(".js-checkout-button"),c=$(".js-cart-summary");b.length&&c.length&&detectCartPage()&&!a.isElementInViewport(b)&&$("html, body").animate({scrollTop:c.offset().top+c.height()-$(window).height()},1E3)});(function(){$(document).on("TM_JS_LOADED",function(){$(document).on("page.id.preview-page",updateCartSelector);$(document).on("page.id.demo-page ",updateCartSelector);$(document).on("page.class.search page.id.index-page page.id.collection-page",function(){tm.thumbnail.renew()});var a=$("body"),b=$.trim(a.attr("id"));""!==b&&$(a).trigger("page.id."+b);b=$.trim(a.attr("class"));""!==b&&(b=b.split(/\s+/),goog.array.forEach(b,function(b){$(a).trigger("page.class."+b)}))})})();(function(){(new tm.search2.controller).enterDocument()})();!function(a){var b,c,f,g=Math.max,h=Math.min;b={};b.d=a(document);b.t=function(a){return a.originalEvent.touches.length-1};c=function(){var c=this;this.cv=this.v=this.g=this.i=this.$=this.o=null;this.y=this.x=0;this.c=this.$c=null;this.t=0;this.isInit=!1;this.rH=this.eH=this.cH=this.dH=this.pColor=this.fgColor=null;this.scale=1;this.run=function(){var b=function(a,b){for(var f in b)c.o[f]=b[f];c.init();c._configure()._draw()};if(!this.$.data("kontroled"))return this.$.data("kontroled",!0),this.extend(),
this.o=a.extend({min:this.$.data("min")||0,max:this.$.data("max")||100,stopper:!0,readOnly:this.$.data("readonly"),cursor:!0===this.$.data("cursor")&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")||0.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor")||
this.$.data("fgcolor")||"#87CEEB",inline:!1,step:this.$.data("step")||1,draw:null,change:null,cancel:null,release:null,error:null},this.o),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(b){var f=a(this);c.i[b]=f;c.v[b]=f.val();f.bind("change",function(){var a={};a[b]=f.val();c.val(a)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.$.val(),""==this.v&&(this.v=this.o.min),this.$.bind("change",function(){c.val(c._validate(c.$.val()))})),!this.o.displayInput&&
this.$.hide(),this.$c=a('<canvas width="'+this.o.width+'px" height="'+this.o.height+'px"></canvas>'),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,this.c?(this.$.wrap(a('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>')).before(this.$c),this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||
1),1!==this.scale&&(this.$c[0].width*=this.scale,this.$c[0].height*=this.scale,this.$c.width(this.o.width),this.$c.height(this.o.height)),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",b).parent().bind("configure",b),this._listen()._configure()._xy().init(),this.isInit=!0,this._draw(),this):(this.o.error&&this.o.error(),void 0)};this._draw=function(){var a=!0,b=document.createElement("canvas");b.width=c.o.width*c.scale;b.height=c.o.height*c.scale;
c.g=b.getContext("2d");c.clear();c.dH&&(a=c.dH());!1!==a&&c.draw();c.c.drawImage(b,0,0)};this._touch=function(a){var f=function(a){a=c.xy2val(a.originalEvent.touches[c.t].pageX,a.originalEvent.touches[c.t].pageY);a!=c.cv&&(c.cH&&!1===c.cH(a)||(c.change(c._validate(a)),c._draw()))};return this.t=b.t(a),f(a),b.d.bind("touchmove.k",f).bind("touchend.k",function(){b.d.unbind("touchmove.k touchend.k");c.rH&&!1===c.rH(c.cv)||c.val(c.cv)}),this};this._mouse=function(a){var f=function(a){a=c.xy2val(a.pageX,
a.pageY);a!=c.cv&&(c.cH&&!1===c.cH(a)||(c.change(c._validate(a)),c._draw()))};return f(a),b.d.bind("mousemove.k",f).bind("keyup.k",function(a){27===a.keyCode&&!(b.d.unbind("mouseup.k mousemove.k keyup.k"),c.eH&&!1===c.eH())&&c.cancel()}).bind("mouseup.k",function(){b.d.unbind("mousemove.k mouseup.k keyup.k");c.rH&&!1===c.rH(c.cv)||c.val(c.cv)}),this};this._xy=function(){var a=this.$c.offset();return this.x=a.left,this.y=a.top,this};this._listen=function(){return this.o.readOnly?this.$.attr("readonly",
"readonly"):(this.$c.bind("mousedown",function(a){a.preventDefault();c._xy()._mouse(a)}).bind("touchstart",function(a){a.preventDefault();c._xy()._touch(a)}),this.listen()),this};this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,
this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(a){return~~((0>a?-0.5:0.5)+a/this.o.step)*this.o.step};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(){};this.val=function(){};this.xy2val=function(){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(a,b){var c;return a=a.substring(1,7),c=[parseInt(a.substring(0,2),16),parseInt(a.substring(2,4),16),parseInt(a.substring(4,6),16)],"rgba("+
c[0]+","+c[1]+","+c[2]+","+b+")"};this.copy=function(a,b){for(var c in a)b[c]=a[c]}};f=function(){c.call(this);this.w2=this.cursorExt=this.lineWidth=this.radius=this.xy=this.startAngle=null;this.PI2=2*Math.PI;this.extend=function(){this.o=a.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)};this.val=function(a){return null==a?this.v:(this.cv=this.o.stopper?g(h(a,this.o.max),this.o.min):a,this.v=this.cv,
this.$.val(this.v),this._draw(),void 0)};this.xy2val=function(a,b){var c,f;return c=Math.atan2(a-(this.x+this.w2),-(b-this.y-this.w2))-this.angleOffset,this.angleArc!=this.PI2&&0>c&&-0.5<c?c=0:0>c&&(c+=this.PI2),f=~~(0.5+c*(this.o.max-this.o.min)/this.angleArc)+this.o.min,this.o.stopper&&(f=g(h(f,this.o.max),this.o.min)),f};this.listen=function(){var b,c,f=this,u=function(a){a.preventDefault();var b=a.originalEvent,a=b.detail||b.wheelDeltaX,b=b.detail||b.wheelDeltaY,a=parseInt(f.$.val())+(0<a||0<
b?f.o.step:0>a||0>b?-f.o.step:0);f.cH&&!1===f.cH(a)||f.val(a)},p=1,q={37:-f.o.step,38:f.o.step,39:f.o.step,40:-f.o.step};this.$.bind("keydown",function(n){var u=n.keyCode;if(96<=u&&105>=u&&(u=n.keyCode=u-48),b=parseInt(String.fromCharCode(u)),isNaN(b)&&(13!==u&&8!==u&&9!==u&&189!==u&&n.preventDefault(),-1<a.inArray(u,[37,38,39,40])))n.preventDefault(),n=parseInt(f.$.val())+q[u]*p,f.o.stopper&&(n=g(h(n,f.o.max),f.o.min)),f.change(n),f._draw(),c=window.setTimeout(function(){p*=2},30)}).bind("keyup",
function(){isNaN(b)?c&&(window.clearTimeout(c),c=null,p=1,f.val(f.$.val())):f.$.val()>f.o.max&&f.$.val(f.o.max)||f.$.val()<f.o.min&&f.$.val(f.o.min)});this.$c.bind("mousewheel DOMMouseScroll",u);this.$.bind("mousewheel DOMMouseScroll",u)};this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min);this.$.val(this.v);this.w2=this.o.width/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=
this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var a=g(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.o.width/
2+4>>0)+"px",height:(this.o.width/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.o.width/3>>0)+"px","margin-left":"-"+(3*this.o.width/4+2>>0)+"px",border:0,background:"none",font:"bold "+(this.o.width/a>>0)+"px Arial","text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(a){this.cv=a;this.$.val(a)};this.angle=function(a){return(a-this.o.min)*this.angleArc/
(this.o.max-this.o.min)};this.draw=function(){var a,b,c=this.g,f=this.angle(this.cv),g=this.startAngle,f=g+f,h=1;c.lineWidth=this.lineWidth;c.lineCap=this.lineCap;this.o.cursor&&(g=f-this.cursorExt)&&(f+=this.cursorExt);c.beginPath();c.strokeStyle=this.o.bgColor;c.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,!0);c.stroke();this.o.displayPrevious&&(b=this.startAngle+this.angle(this.v),a=this.startAngle,this.o.cursor&&(a=b-this.cursorExt)&&(b+=this.cursorExt),c.beginPath(),c.strokeStyle=
this.pColor,c.arc(this.xy,this.xy,this.radius,a,b,!1),c.stroke(),h=this.cv==this.v);c.beginPath();c.strokeStyle=h?this.o.fgColor:this.fgColor;c.arc(this.xy,this.xy,this.radius,g,f,!1);c.stroke()};this.cancel=function(){this.val(this.v)}};a.fn.dial=a.fn.knob=function(b){return this.each(function(){var c=new f;c.o=b;c.$=a(this);c.run()}).parent()}}(jQuery);document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new u(this))}function b(a,b,c){var f=J.call(arguments,2);return function(){return a.apply(b,f.concat(J.call(arguments)))}}function c(a){var b=a.srcElement;switch(a.propertyName){case "width":b.style.width=b.attributes.width.nodeValue+"px";b.getContext().clearRect();break;case "height":b.style.height=b.attributes.height.nodeValue+"px",b.getContext().clearRect()}}function f(a){a=a.srcElement;a.firstChild&&
(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function g(){return[[1,0,0],[0,1,0],[0,0,1]]}function h(a,b){for(var c=g(),f=0;3>f;f++)for(var h=0;3>h;h++){for(var j=0,k=0;3>k;k++)j+=a[f][k]*b[k][h];c[f][h]=j}return c}function j(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;
b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}function k(a){var b,c=1,a=String(a);if("rgb"==a.substring(0,3)){b=a.indexOf("(",3);var f=a.indexOf(")",b+1),f=a.substring(b+1,f).split(",");b="#";for(var g=0;3>g;g++)b+=v[Number(f[g])];4==f.length&&"a"==a.substr(3,1)&&(c=f[3])}else b=a;return{color:b,alpha:c}}function l(a){switch(a){case "butt":return"flat";case "round":return"round";default:return"square"}}function u(a){this.m_=
g();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*B;this.globalAlpha=1;this.canvas=a;var b=a.ownerDocument.createElement("div");b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px";b.style.overflow="hidden";b.style.position="absolute";a.appendChild(b);this.element_=b;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function p(a,b,c,f){a.currentPath_.push({type:"bezierCurveTo",
cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:f.x,y:f.y});a.currentX_=f.x;a.currentY_=f.y}function q(a,b,c){var f;a:{for(f=0;3>f;f++)for(var g=0;2>g;g++)if(!isFinite(b[f][g])||isNaN(b[f][g])){f=!1;break a}f=!0}f&&(a.m_=b,c&&(a.lineScale_=z(C(b[0][0]*b[1][1]-b[0][1]*b[1][0]))))}function n(a){this.type_=a;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function A(){}var I=Math,w=I.round,G=I.sin,m=I.cos,C=I.abs,z=I.sqrt,B=10,x=B/2,J=Array.prototype.slice,P={init:function(a){/MSIE/.test(navigator.userAgent)&&
!window.opera&&(a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",b(this.init_,this,a)))},init_:function(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_";b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}a=
a.getElementsByTagName("canvas");for(b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(b){if(!b.getContext){b.getContext=a;b.innerHTML="";b.attachEvent("onpropertychange",c);b.attachEvent("onresize",f);var g=b.attributes;g.width&&g.width.specified?b.style.width=g.width.nodeValue+"px":b.width=b.clientWidth;g.height&&g.height.specified?b.style.height=g.height.nodeValue+"px":b.height=b.clientHeight}return b}};P.init();for(var v=[],N=0;16>N;N++)for(var L=0;16>L;L++)v[16*N+L]=N.toString(16)+
L.toString(16);N=u.prototype;N.clearRect=function(){this.element_.innerHTML=""};N.beginPath=function(){this.currentPath_=[]};N.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};N.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};N.bezierCurveTo=function(a,b,c,f,g,h){g=this.getCoords_(g,h);a=this.getCoords_(a,b);c=this.getCoords_(c,
f);p(this,a,c,g)};N.quadraticCurveTo=function(a,b,c,f){a=this.getCoords_(a,b);c=this.getCoords_(c,f);f={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};p(this,f,{x:f.x+(c.x-this.currentX_)/3,y:f.y+(c.y-this.currentY_)/3},c)};N.arc=function(a,b,c,f,g,h){var c=c*B,j=h?"at":"wa",k=a+m(f)*c-x,l=b+G(f)*c-x,f=a+m(g)*c-x,g=b+G(g)*c-x;k==f&&!h&&(k+=0.125);a=this.getCoords_(a,b);k=this.getCoords_(k,l);f=this.getCoords_(f,g);this.currentPath_.push({type:j,x:a.x,y:a.y,radius:c,
xStart:k.x,yStart:k.y,xEnd:f.x,yEnd:f.y})};N.rect=function(a,b,c,f){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+f);this.lineTo(a,b+f);this.closePath()};N.strokeRect=function(a,b,c,f){var g=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+f);this.lineTo(a,b+f);this.closePath();this.stroke();this.currentPath_=g};N.fillRect=function(a,b,c,f){var g=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+f);this.lineTo(a,
b+f);this.closePath();this.fill();this.currentPath_=g};N.createLinearGradient=function(a,b,c,f){var g=new n("gradient");g.x0_=a;g.y0_=b;g.x1_=c;g.y1_=f;return g};N.createRadialGradient=function(a,b,c,f,g,h){var j=new n("gradientradial");j.x0_=a;j.y0_=b;j.r0_=c;j.x1_=f;j.y1_=g;j.r1_=h;return j};N.drawImage=function(a,b){var c,f,g,h,j,k,l,n;g=a.runtimeStyle.width;h=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height="auto";var m=a.width,p=a.height;a.runtimeStyle.width=g;a.runtimeStyle.height=
h;if(3==arguments.length)c=arguments[1],f=arguments[2],j=k=0,l=g=m,n=h=p;else if(5==arguments.length)c=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4],j=k=0,l=m,n=p;else if(9==arguments.length)j=arguments[1],k=arguments[2],l=arguments[3],n=arguments[4],c=arguments[5],f=arguments[6],g=arguments[7],h=arguments[8];else throw Error("Invalid number of arguments");var q=this.getCoords_(c,f),u=[];u.push(" <g_vml_:group",' coordsize="',10*B,",",10*B,'"',' coordorigin="0,0"',' style="width:',10,
"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]){var v=[];v.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",w(q.x/B),",","Dy=",w(q.y/B),"");var x=this.getCoords_(c+g,f),A=this.getCoords_(c,f+h);c=this.getCoords_(c+g,f+h);q.x=I.max(q.x,x.x,A.x,c.x);q.y=I.max(q.y,x.y,A.y,c.y);u.push("padding:0 ",w(q.x/B),"px ",w(q.y/B),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",v.join(""),", sizingmethod='clip');")}else u.push("top:",
w(q.y/B),"px;left:",w(q.x/B),"px;");u.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',B*g,"px;"," height:",B*h,'px;"',' cropleft="',j/m,'"',' croptop="',k/p,'"',' cropright="',(m-j-l)/m,'"',' cropbottom="',(p-k-n)/p,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",u.join(""))};N.stroke=function(a){var b=[],c=k(a?this.fillStyle:this.strokeStyle),f=c.color,c=c.alpha*this.globalAlpha;b.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,
"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*B," ",10*B,'"',' stroked="',!a,'"',' path="');for(var g=null,h=null,j=null,n=null,m=0;m<this.currentPath_.length;m++){var p=this.currentPath_[m];switch(p.type){case "moveTo":b.push(" m ",w(p.x),",",w(p.y));break;case "lineTo":b.push(" l ",w(p.x),",",w(p.y));break;case "close":b.push(" x ");p=null;break;case "bezierCurveTo":b.push(" c ",w(p.cp1x),",",w(p.cp1y),",",w(p.cp2x),",",w(p.cp2y),",",w(p.x),",",w(p.y));break;case "at":case "wa":b.push(" ",
p.type," ",w(p.x-this.arcScaleX_*p.radius),",",w(p.y-this.arcScaleY_*p.radius)," ",w(p.x+this.arcScaleX_*p.radius),",",w(p.y+this.arcScaleY_*p.radius)," ",w(p.xStart),",",w(p.yStart)," ",w(p.xEnd),",",w(p.yEnd))}if(p){if(null==g||p.x<g)g=p.x;if(null==j||p.x>j)j=p.x;if(null==h||p.y<h)h=p.y;if(null==n||p.y>n)n=p.y}}b.push(' ">');if(a)if("object"==typeof this.fillStyle){var f=this.fillStyle,q=0,p=c=a=0,u=1;"gradient"==f.type_?(q=f.x1_/this.arcScaleX_,g=f.y1_/this.arcScaleY_,m=this.getCoords_(f.x0_/this.arcScaleX_,
f.y0_/this.arcScaleY_),q=this.getCoords_(q,g),q=180*Math.atan2(q.x-m.x,q.y-m.y)/Math.PI,0>q&&(q+=360),1E-6>q&&(q=0)):(m=this.getCoords_(f.x0_,f.y0_),p=j-g,u=n-h,a=(m.x-g)/p,c=(m.y-h)/u,p/=this.arcScaleX_*B,u/=this.arcScaleY_*B,m=I.max(p,u),p=2*f.r0_/m,u=2*f.r1_/m-p);g=f.colors_;g.sort(function(a,b){return a.offset-b.offset});for(var h=g.length,n=g[0].color,j=g[h-1].color,v=g[0].alpha*this.globalAlpha,x=g[h-1].alpha*this.globalAlpha,A=[],m=0;m<h;m++){var z=g[m];A.push(z.offset*u+p+" "+z.color)}b.push('<g_vml_:fill type="',
f.type_,'"',' method="none" focus="100%"',' color="',n,'"',' color2="',j,'"',' colors="',A.join(","),'"',' opacity="',x,'"',' g_o_:opacity2="',v,'"',' angle="',q,'"',' focusposition="',a,",",c,'" />')}else b.push('<g_vml_:fill color="',f,'" opacity="',c,'" />');else a=this.lineScale_*this.lineWidth,1>a&&(c*=a),b.push("<g_vml_:stroke",' opacity="',c,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',l(this.lineCap),'"',' weight="',a,'px"',' color="',f,'" />');b.push("</g_vml_:shape>");
this.element_.insertAdjacentHTML("beforeEnd",b.join(""))};N.fill=function(){this.stroke(!0)};N.closePath=function(){this.currentPath_.push({type:"close"})};N.getCoords_=function(a,b){var c=this.m_;return{x:B*(a*c[0][0]+b*c[1][0]+c[2][0])-x,y:B*(a*c[0][1]+b*c[1][1]+c[2][1])-x}};N.save=function(){var a={};j(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=h(g(),this.m_)};N.restore=function(){j(this.aStack_.pop(),this);this.m_=this.mStack_.pop()};N.translate=function(a,b){q(this,h([[1,
0,0],[0,1,0],[a,b,1]],this.m_),!1)};N.rotate=function(a){var b=m(a),a=G(a);q(this,h([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};N.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;q(this,h([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};N.transform=function(a,b,c,f,g,j){q(this,h([[a,b,0],[c,f,0],[g,j,1]],this.m_),!0)};N.setTransform=function(a,b,c,f,g,h){q(this,[[a,b,0],[c,f,0],[g,h,1]],!0)};N.clip=function(){};N.arcTo=function(){};N.createPattern=function(){return new A};n.prototype.addColorStop=function(a,
b){b=k(b);this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};G_vmlCanvasManager=P;CanvasRenderingContext2D=u;CanvasGradient=n;CanvasPattern=A}();(function(a){var b,c,f=function(){b=(new (window.UAParser||exports.UAParser)).getResult();c=new Detector;return this};f.prototype={getSoftwareVersion:function(){return"0.1.11"},getBrowserData:function(){return b},getFingerprint:function(){var a=b.ua,c=this.getScreenPrint(),f=this.getPlugins(),k=this.getFonts(),l=this.isLocalStorage(),u=this.isSessionStorage(),p=this.getTimeZone(),q=this.getLanguage(),n=this.getSystemLanguage(),A=this.isCookie(),I=this.getCanvasPrint();return murmurhash3_32_gc(a+"|"+
c+"|"+f+"|"+k+"|"+l+"|"+u+"|"+p+"|"+q+"|"+n+"|"+A+"|"+I,256)},getCustomFingerprint:function(){for(var a="",b=0;b<arguments.length;b++)a+=arguments[b]+"|";return murmurhash3_32_gc(a,256)},getUserAgent:function(){return b.ua},getUserAgentLowerCase:function(){return b.ua.toLowerCase()},getBrowser:function(){return b.browser.name},getBrowserVersion:function(){return b.browser.version},getBrowserMajorVersion:function(){return b.browser.major},isIE:function(){return/IE/i.test(b.browser.name)},isChrome:function(){return/Chrome/i.test(b.browser.name)},
isFirefox:function(){return/Firefox/i.test(b.browser.name)},isSafari:function(){return/Safari/i.test(b.browser.name)},isMobileSafari:function(){return/Mobile\sSafari/i.test(b.browser.name)},isOpera:function(){return/Opera/i.test(b.browser.name)},getEngine:function(){return b.engine.name},getEngineVersion:function(){return b.engine.version},getOS:function(){return b.os.name},getOSVersion:function(){return b.os.version},isWindows:function(){return/Windows/i.test(b.os.name)},isMac:function(){return/Mac/i.test(b.os.name)},
isLinux:function(){return/Linux/i.test(b.os.name)},isUbuntu:function(){return/Ubuntu/i.test(b.os.name)},isSolaris:function(){return/Solaris/i.test(b.os.name)},getDevice:function(){return b.device.model},getDeviceType:function(){return b.device.type},getDeviceVendor:function(){return b.device.vendor},getCPU:function(){return b.cpu.architecture},isMobile:function(){var a=b.ua||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))},isMobileMajor:function(){return this.isMobileAndroid()||this.isMobileBlackBerry()||this.isMobileIOS()||this.isMobileOpera()||this.isMobileWindows()},isMobileAndroid:function(){return b.ua.match(/Android/i)?!0:!1},isMobileOpera:function(){return b.ua.match(/Opera Mini/i)?!0:!1},isMobileWindows:function(){return b.ua.match(/IEMobile/i)?!0:!1},isMobileBlackBerry:function(){return b.ua.match(/BlackBerry/i)?!0:!1},isMobileIOS:function(){return b.ua.match(/iPhone|iPad|iPod/i)?!0:!1},isIphone:function(){return b.ua.match(/iPhone/i)?
!0:!1},isIpad:function(){return b.ua.match(/iPad/i)?!0:!1},isIpod:function(){return b.ua.match(/iPod/i)?!0:!1},getScreenPrint:function(){return"Current Resolution: "+this.getCurrentResolution()+", Available Resolution: "+this.getAvailableResolution()+", Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()},getColorDepth:function(){return screen.colorDepth},getCurrentResolution:function(){return screen.width+"x"+screen.height},getAvailableResolution:function(){return screen.availWidth+
"x"+screen.availHeight},getDeviceXDPI:function(){return screen.deviceXDPI},getDeviceYDPI:function(){return screen.deviceYDPI},getPlugins:function(){for(var a="",b=0;b<navigator.plugins.length;b++)a=b==navigator.plugins.length-1?a+navigator.plugins[b].name:a+(navigator.plugins[b].name+", ");return a},isJava:function(){return navigator.javaEnabled()},getJavaVersion:function(){return deployJava.getJREs().toString()},isFlash:function(){return navigator.plugins["Shockwave Flash"]?!0:!1},getFlashVersion:function(){return this.isFlash()?
(objPlayerVersion=swfobject.getFlashPlayerVersion(),objPlayerVersion.major+"."+objPlayerVersion.minor+"."+objPlayerVersion.release):""},isSilverlight:function(){return navigator.plugins["Silverlight Plug-In"]?!0:!1},getSilverlightVersion:function(){return this.isSilverlight()?navigator.plugins["Silverlight Plug-In"].description:""},isMimeTypes:function(){return navigator.mimeTypes.length?!0:!1},getMimeTypes:function(){for(var a="",b=0;b<navigator.mimeTypes.length;b++)a=b==navigator.mimeTypes.length-
1?a+navigator.mimeTypes[b].description:a+(navigator.mimeTypes[b].description+", ");return a},isFont:function(a){return c.detect(a)},getFonts:function(){for(var a="Abadi MT Condensed Light;Adobe Fangsong Std;Adobe Hebrew;Adobe Ming Std;Agency FB;Aharoni;Andalus;Angsana New;AngsanaUPC;Aparajita;Arab;Arabic Transparent;Arabic Typesetting;Arial Baltic;Arial Black;Arial CE;Arial CYR;Arial Greek;Arial TUR;Arial;Batang;BatangChe;Bauhaus 93;Bell MT;Bitstream Vera Serif;Bodoni MT;Bookman Old Style;Braggadocio;Broadway;Browallia New;BrowalliaUPC;Calibri Light;Calibri;Californian FB;Cambria Math;Cambria;Candara;Castellar;Casual;Centaur;Century Gothic;Chalkduster;Colonna MT;Comic Sans MS;Consolas;Constantia;Copperplate Gothic Light;Corbel;Cordia New;CordiaUPC;Courier New Baltic;Courier New CE;Courier New CYR;Courier New Greek;Courier New TUR;Courier New;DFKai-SB;DaunPenh;David;DejaVu LGC Sans Mono;Desdemona;DilleniaUPC;DokChampa;Dotum;DotumChe;Ebrima;Engravers MT;Eras Bold ITC;Estrangelo Edessa;EucrosiaUPC;Euphemia;Eurostile;FangSong;Forte;FrankRuehl;Franklin Gothic Heavy;Franklin Gothic Medium;FreesiaUPC;French Script MT;Gabriola;Gautami;Georgia;Gigi;Gisha;Goudy Old Style;Gulim;GulimChe;GungSeo;Gungsuh;GungsuhChe;Haettenschweiler;Harrington;Hei S;HeiT;Heisei Kaku Gothic;Hiragino Sans GB;Impact;Informal Roman;IrisUPC;Iskoola Pota;JasmineUPC;KacstOne;KaiTi;Kalinga;Kartika;Khmer UI;Kino MT;KodchiangUPC;Kokila;Kozuka Gothic Pr6N;Lao UI;Latha;Leelawadee;Levenim MT;LilyUPC;Lohit Gujarati;Loma;Lucida Bright;Lucida Console;Lucida Fax;Lucida Sans Unicode;MS Gothic;MS Mincho;MS PGothic;MS PMincho;MS Reference Sans Serif;MS UI Gothic;MV Boli;Magneto;Malgun Gothic;Mangal;Marlett;Matura MT Script Capitals;Meiryo UI;Meiryo;Menlo;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft Uighur;Microsoft YaHei;Microsoft Yi Baiti;MingLiU;MingLiU-ExtB;MingLiU_HKSCS;MingLiU_HKSCS-ExtB;Miriam Fixed;Miriam;Mongolian Baiti;MoolBoran;NSimSun;Narkisim;News Gothic MT;Niagara Solid;Nyala;PMingLiU;PMingLiU-ExtB;Palace Script MT;Palatino Linotype;Papyrus;Perpetua;Plantagenet Cherokee;Playbill;Prelude Bold;Prelude Condensed Bold;Prelude Condensed Medium;Prelude Medium;PreludeCompressedWGL Black;PreludeCompressedWGL Bold;PreludeCompressedWGL Light;PreludeCompressedWGL Medium;PreludeCondensedWGL Black;PreludeCondensedWGL Bold;PreludeCondensedWGL Light;PreludeCondensedWGL Medium;PreludeWGL Black;PreludeWGL Bold;PreludeWGL Light;PreludeWGL Medium;Raavi;Rachana;Rockwell;Rod;Sakkal Majalla;Sawasdee;Script MT Bold;Segoe Print;Segoe Script;Segoe UI Light;Segoe UI Semibold;Segoe UI Symbol;Segoe UI;Shonar Bangla;Showcard Gothic;Shruti;SimHei;SimSun;SimSun-ExtB;Simplified Arabic Fixed;Simplified Arabic;Snap ITC;Sylfaen;Symbol;Tahoma;Times New Roman Baltic;Times New Roman CE;Times New Roman CYR;Times New Roman Greek;Times New Roman TUR;Times New Roman;TlwgMono;Traditional Arabic;Trebuchet MS;Tunga;Tw Cen MT Condensed Extra Bold;Ubuntu;Umpush;Univers;Utopia;Utsaah;Vani;Verdana;Vijaya;Vladimir Script;Vrinda;Webdings;Wide Latin;Wingdings".split(";"),
b="",f=0;f<a.length;f++)c.detect(a[f])&&(b=f==a.length-1?b+a[f]:b+(a[f]+", "));return b},isLocalStorage:function(){try{return!!a.localStorage}catch(b){return!0}},isSessionStorage:function(){try{return!!a.sessionStorage}catch(b){return!0}},isCookie:function(){return navigator.cookieEnabled},getTimeZone:function(){return String(String(new Date).split("(")[1]).split(")")[0]},getLanguage:function(){return navigator.language},getSystemLanguage:function(){return navigator.systemLanguage},isCanvas:function(){var a=
document.createElement("canvas");try{return!(!a.getContext||!a.getContext("2d"))}catch(b){return!1}},getCanvasPrint:function(){var a=document.createElement("canvas"),b;try{b=a.getContext("2d")}catch(c){return""}b.textBaseline="top";b.font="14px 'Arial'";b.textBaseline="alphabetic";b.fillStyle="#f60";b.fillRect(125,1,62,20);b.fillStyle="#069";b.fillText("ClientJS,org <canvas> 1.0",2,15);b.fillStyle="rgba(102, 204, 0, 0.7)";b.fillText("ClientJS,org <canvas> 1.0",4,17);return a.toDataURL()}};"object"===
typeof module&&"undefined"!==typeof exports&&(module.exports=f);a.ClientJS=f})(window);
var deployJava=function(){function a(a){j.debug&&(console.log?console.log(a):alert(a))}function b(a){if(null==a||0==a.length)return"http://java.com/dt-redirect";"&"==a.charAt(0)&&(a=a.substring(1,a.length));return"http://java.com/dt-redirect?"+a}var c=["id","class","title","style"];"classid codebase codetype data type archive declare standby height width usemap name tabindex align border hspace vspace".split(" ").concat(c,["lang","dir"],"onclick ondblclick onmousedown onmouseup onmouseover onmousemove onmouseout onkeypress onkeydown onkeyup".split(" "));
var f="codebase code name archive object width height alt align hspace vspace".split(" ").concat(c),g;try{g=-1!=document.location.protocol.indexOf("http")?"//java.com/js/webstart.png":"http://java.com/js/webstart.png"}catch(h){g="http://java.com/js/webstart.png"}var j={debug:null,version:"20120801",firefoxJavaVersion:null,myInterval:null,preInstallJREList:null,returnPage:null,brand:null,locale:null,installType:null,EAInstallEnabled:!1,EarlyAccessURL:null,oldMimeType:"application/npruntime-scriptable-plugin;DeploymentToolkit",
mimeType:"application/java-deployment-toolkit",launchButtonPNG:g,browserName:null,browserName2:null,getJREs:function(){var b=[];if(this.isPluginInstalled())for(var c=this.getPlugin().jvms,f=0;f<c.getLength();f++)b[f]=c.get(f).version;else c=this.getBrowser(),"MSIE"==c?this.testUsingActiveX("1.7.0")?b[0]="1.7.0":this.testUsingActiveX("1.6.0")?b[0]="1.6.0":this.testUsingActiveX("1.5.0")?b[0]="1.5.0":this.testUsingActiveX("1.4.2")?b[0]="1.4.2":this.testForMSVM()&&(b[0]="1.1"):"Netscape Family"==c&&(this.getJPIVersionUsingMimeType(),
null!=this.firefoxJavaVersion?b[0]=this.firefoxJavaVersion:this.testUsingMimeTypes("1.7")?b[0]="1.7.0":this.testUsingMimeTypes("1.6")?b[0]="1.6.0":this.testUsingMimeTypes("1.5")?b[0]="1.5.0":this.testUsingMimeTypes("1.4.2")?b[0]="1.4.2":"Safari"==this.browserName2&&(this.testUsingPluginsArray("1.7.0")?b[0]="1.7.0":this.testUsingPluginsArray("1.6")?b[0]="1.6.0":this.testUsingPluginsArray("1.5")?b[0]="1.5.0":this.testUsingPluginsArray("1.4.2")&&(b[0]="1.4.2")));if(this.debug)for(f=0;f<b.length;++f)a("[getJREs()] We claim to have detected Java SE "+
b[f]);return b},installJRE:function(a,b){if(this.isPluginInstalled()&&this.isAutoInstallEnabled(a)){var c=!1;if(c=this.isCallbackSupported()?this.getPlugin().installJRE(a,b):this.getPlugin().installJRE(a))this.refresh(),null!=this.returnPage&&(document.location=this.returnPage);return c}return this.installLatestJRE()},isAutoInstallEnabled:function(a){if(!this.isPluginInstalled())return!1;"undefined"==typeof a&&(a=null);if("MSIE"!=deployJava.browserName||deployJava.compareVersionToPattern(deployJava.getPlugin().version,
["10","0","0"],!1,!0))a=!0;else if(null==a)a=!1;else{var b="1.6.0_33+";if(null==b||0==b.length)a=!0;else{var c=b.charAt(b.length-1);"+"!=c&&"*"!=c&&-1!=b.indexOf("_")&&"_"!=c&&(b+="*",c="*");b=b.substring(0,b.length-1);if(0<b.length){var f=b.charAt(b.length-1);if("."==f||"_"==f)b=b.substring(0,b.length-1)}a="*"==c?0==a.indexOf(b):"+"==c?b<=a:!1}a=!a}return a},isCallbackSupported:function(){return this.isPluginInstalled()&&this.compareVersionToPattern(this.getPlugin().version,["10","2","0"],!1,!0)},
installLatestJRE:function(a){if(this.isPluginInstalled()&&this.isAutoInstallEnabled()){var c=!1;if(c=this.isCallbackSupported()?this.getPlugin().installLatestJRE(a):this.getPlugin().installLatestJRE())this.refresh(),null!=this.returnPage&&(document.location=this.returnPage);return c}a=this.getBrowser();c=navigator.platform.toLowerCase();if("true"==this.EAInstallEnabled&&-1!=c.indexOf("win")&&null!=this.EarlyAccessURL)this.preInstallJREList=this.getJREs(),null!=this.returnPage&&(this.myInterval=setInterval("deployJava.poll()",
3E3)),location.href=this.EarlyAccessURL;else{if("MSIE"==a)return this.IEInstall();if("Netscape Family"==a&&-1!=c.indexOf("win32"))return this.FFInstall();location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:""))}return!1},runApplet:function(b,c,f){if("undefined"==f||null==f)f="1.1";var g=f.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");null==this.returnPage&&(this.returnPage=document.location);
null!=g?"?"!=this.getBrowser()?this.versionCheck(f+"+")?this.writeAppletTag(b,c):this.installJRE(f+"+")&&(this.refresh(),location.href=document.location,this.writeAppletTag(b,c)):this.writeAppletTag(b,c):a("[runApplet()] Invalid minimumVersion argument to runApplet():"+f)},writeAppletTag:function(a,b){var c="<applet ",g="",h=!0;if(null==b||"object"!=typeof b)b={};for(var j in a){var k;a:{k=j.toLowerCase();for(var l=f.length,u=0;u<l;u++)if(f[u]===k){k=!0;break a}k=!1}k?(c+=" "+j+'="'+a[j]+'"',"code"==
j&&(h=!1)):b[j]=a[j]}j=!1;for(var z in b){"codebase_lookup"==z&&(j=!0);if("object"==z||"java_object"==z||"java_code"==z)h=!1;g+='<param name="'+z+'" value="'+b[z]+'"/>'}j||(g+='<param name="codebase_lookup" value="false"/>');h&&(c+=' code="dummy"');document.write(c+">\n"+g+"\n</applet>")},versionCheck:function(b){var c=0,f=b.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?(\\*|\\+)?$");if(null!=f){for(var g=b=!1,h=[],j=1;j<f.length;++j)"string"==typeof f[j]&&""!=f[j]&&(h[c]=f[j],c++);"+"==h[h.length-
1]?(g=!0,b=!1,h.length--):"*"==h[h.length-1]?(g=!1,b=!0,h.length--):4>h.length&&(g=!1,b=!0);c=this.getJREs();for(j=0;j<c.length;++j)if(this.compareVersionToPattern(c[j],h,b,g))return!0}else c="Invalid versionPattern passed to versionCheck: "+b,a("[versionCheck()] "+c),alert(c);return!1},isWebStartInstalled:function(b){if("?"==this.getBrowser())return!0;if("undefined"==b||null==b)b="1.4.2";var c=!1;null!=b.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$")?c=this.versionCheck(b+"+"):(a("[isWebStartInstaller()] Invalid minimumVersion argument to isWebStartInstalled(): "+
b),c=this.versionCheck("1.4.2+"));return c},getJPIVersionUsingMimeType:function(){for(var a=0;a<navigator.mimeTypes.length;++a){var b=navigator.mimeTypes[a].type.match(/^application\/x-java-applet;jpi-version=(.*)$/);if(null!=b&&(this.firefoxJavaVersion=b[1],"Opera"!=this.browserName2))break}},launchWebStartApplication:function(a){navigator.userAgent.toLowerCase();this.getJPIVersionUsingMimeType();if(0==this.isWebStartInstalled("1.7.0")&&(0==this.installJRE("1.7.0+")||0==this.isWebStartInstalled("1.7.0")))return!1;
var b=null;document.documentURI&&(b=document.documentURI);null==b&&(b=document.URL);var c=this.getBrowser(),f;"MSIE"==c?f='<object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" width="0" height="0"><PARAM name="launchjnlp" value="'+a+'"><PARAM name="docbase" value="'+b+'"></object>':"Netscape Family"==c&&(f='<embed type="application/x-java-applet;jpi-version='+this.firefoxJavaVersion+'" width="0" height="0" launchjnlp="'+a+'"docbase="'+b+'" />');"undefined"==document.body||null==document.body?
(document.write(f),document.location=b):(a=document.createElement("div"),a.id="div1",a.style.position="relative",a.style.left="-10000px",a.style.margin="0px auto",a.className="dynamicDiv",a.innerHTML=f,document.body.appendChild(a))},createWebStartLaunchButtonEx:function(a){null==this.returnPage&&(this.returnPage=a);document.write('<a href="'+("javascript:deployJava.launchWebStartApplication('"+a+"');")+'" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},
createWebStartLaunchButton:function(a,b){null==this.returnPage&&(this.returnPage=a);document.write('<a href="'+("javascript:if (!deployJava.isWebStartInstalled(&quot;"+b+"&quot;)) {if (deployJava.installLatestJRE()) {if (deployJava.launch(&quot;"+a+"&quot;)) {}}} else {if (deployJava.launch(&quot;"+a+"&quot;)) {}}")+'" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},launch:function(a){document.location=a;return!0},isPluginInstalled:function(){var a=
this.getPlugin();return a&&a.jvms?!0:!1},isAutoUpdateEnabled:function(){return this.isPluginInstalled()?this.getPlugin().isAutoUpdateEnabled():!1},setAutoUpdateEnabled:function(){return this.isPluginInstalled()?this.getPlugin().setAutoUpdateEnabled():!1},setInstallerType:function(a){this.installType=a;return this.isPluginInstalled()?this.getPlugin().setInstallerType(a):!1},setAdditionalPackages:function(a){return this.isPluginInstalled()?this.getPlugin().setAdditionalPackages(a):!1},setEarlyAccess:function(a){this.EAInstallEnabled=
a},isPlugin2:function(){if(this.isPluginInstalled()&&this.versionCheck("1.6.0_10+"))try{return this.getPlugin().isPlugin2()}catch(a){}return!1},allowPlugin:function(){this.getBrowser();return"Safari"!=this.browserName2&&"Opera"!=this.browserName2},getPlugin:function(){this.refresh();var a=null;this.allowPlugin()&&(a=document.getElementById("deployJavaPlugin"));return a},compareVersionToPattern:function(a,b,c,f){if(void 0==a||void 0==b)return!1;var g=a.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");
if(null!=g){for(var h=0,a=[],j=1;j<g.length;++j)"string"==typeof g[j]&&""!=g[j]&&(a[h]=g[j],h++);g=Math.min(a.length,b.length);if(f){for(j=0;j<g;++j){if(a[j]<b[j])return!1;if(a[j]>b[j])break}return!0}for(j=0;j<g;++j)if(a[j]!=b[j])return!1;return c?!0:a.length==b.length}return!1},getBrowser:function(){if(null==this.browserName){var b=navigator.userAgent.toLowerCase();a("[getBrowser()] navigator.userAgent.toLowerCase() -> "+b);-1!=b.indexOf("msie")&&-1==b.indexOf("opera")?this.browserName2=this.browserName=
"MSIE":-1!=b.indexOf("iphone")?(this.browserName="Netscape Family",this.browserName2="iPhone"):-1!=b.indexOf("firefox")&&-1==b.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Firefox"):-1!=b.indexOf("chrome")?(this.browserName="Netscape Family",this.browserName2="Chrome"):-1!=b.indexOf("safari")?(this.browserName="Netscape Family",this.browserName2="Safari"):-1!=b.indexOf("mozilla")&&-1==b.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Other"):-1!=
b.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Opera"):(this.browserName="?",this.browserName2="unknown");a("[getBrowser()] Detected browser name:"+this.browserName+", "+this.browserName2)}return this.browserName},testUsingActiveX:function(b){b="JavaWebStart.isInstalled."+b+".0";if("undefined"==typeof ActiveXObject||!ActiveXObject)return a("[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?"),!1;try{return null!=new ActiveXObject(b)}catch(c){return!1}},
testForMSVM:function(){if("undefined"!=typeof oClientCaps){var a=oClientCaps.getComponentVersion("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}","ComponentID");return""==a||"5,0,5000,0"==a?!1:!0}return!1},testUsingMimeTypes:function(b){if(!navigator.mimeTypes)return a("[testUsingMimeTypes()] Browser claims to be Netscape family, but no mimeTypes[] array?"),!1;for(var c=0;c<navigator.mimeTypes.length;++c){s=navigator.mimeTypes[c].type;var f=s.match(/^application\/x-java-applet\x3Bversion=(1\.8|1\.7|1\.6|1\.5|1\.4\.2)$/);
if(null!=f&&this.compareVersions(f[1],b))return!0}return!1},testUsingPluginsArray:function(a){if(!navigator.plugins||!navigator.plugins.length)return!1;for(var b=navigator.platform.toLowerCase(),c=0;c<navigator.plugins.length;++c)if(s=navigator.plugins[c].description,-1!=s.search(/^Java Switchable Plug-in (Cocoa)/)){if(this.compareVersions("1.5.0",a))return!0}else if(-1!=s.search(/^Java/)&&-1!=b.indexOf("win")&&(this.compareVersions("1.5.0",a)||this.compareVersions("1.6.0",a)))return!0;return this.compareVersions("1.5.0",
a)?!0:!1},IEInstall:function(){location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:""));return!1},done:function(){},FFInstall:function(){location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:"")+(null!=this.installType?"&type="+this.installType:""));return!1},compareVersions:function(a,b){for(var c=
a.split("."),f=b.split("."),g=0;g<c.length;++g)c[g]=Number(c[g]);for(g=0;g<f.length;++g)f[g]=Number(f[g]);2==c.length&&(c[2]=0);return c[0]>f[0]?!0:c[0]<f[0]?!1:c[1]>f[1]?!0:c[1]<f[1]?!1:c[2]>f[2]?!0:c[2]<f[2]?!1:!0},enableAlerts:function(){this.browserName=null;this.debug=!0},poll:function(){this.refresh();var a=this.getJREs();0==this.preInstallJREList.length&&0!=a.length&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage));0!=this.preInstallJREList.length&&0!=
a.length&&this.preInstallJREList[0]!=a[0]&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage))},writePluginTag:function(){var a=this.getBrowser();"MSIE"==a?document.write('<object classid="clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA" id="deployJavaPlugin" width="0" height="0"></object>'):"Netscape Family"==a&&this.allowPlugin()&&this.writeEmbedTag()},refresh:function(){navigator.plugins.refresh(!1);"Netscape Family"==this.getBrowser()&&this.allowPlugin()&&null==
document.getElementById("deployJavaPlugin")&&this.writeEmbedTag()},writeEmbedTag:function(){var a=!1;if(null!=navigator.mimeTypes){for(var b=0;b<navigator.mimeTypes.length;b++)navigator.mimeTypes[b].type==this.mimeType&&navigator.mimeTypes[b].enabledPlugin&&(document.write('<embed id="deployJavaPlugin" type="'+this.mimeType+'" hidden="true" />'),a=!0);if(!a)for(b=0;b<navigator.mimeTypes.length;b++)navigator.mimeTypes[b].type==this.oldMimeType&&navigator.mimeTypes[b].enabledPlugin&&document.write('<embed id="deployJavaPlugin" type="'+
this.oldMimeType+'" hidden="true" />')}}};j.writePluginTag();if(null==j.locale){c=null;if(null==c)try{c=navigator.userLanguage}catch(k){}if(null==c)try{c=navigator.systemLanguage}catch(l){}if(null==c)try{c=navigator.language}catch(u){}null!=c&&(c.replace("-","_"),j.locale=c)}return j}(),Detector=function(){var a=["monospace","sans-serif","serif"],b=document.getElementsByTagName("body")[0],c=document.createElement("span");c.style.fontSize="72px";c.innerHTML="mmmmmmmmmmlli";var f={},g={},h;for(h in a)c.style.fontFamily=
a[h],b.appendChild(c),f[a[h]]=c.offsetWidth,g[a[h]]=c.offsetHeight,b.removeChild(c);this.detect=function(h){var k=!1,l;for(l in a){c.style.fontFamily=h+","+a[l];b.appendChild(c);var u=c.offsetWidth!=f[a[l]]||c.offsetHeight!=g[a[l]];b.removeChild(c);k=k||u}return k}};
function murmurhash3_32_gc(a,b){var c,f,g,h,j;c=a.length&3;f=a.length-c;g=b;for(j=0;j<f;)h=a.charCodeAt(j)&255|(a.charCodeAt(++j)&255)<<8|(a.charCodeAt(++j)&255)<<16|(a.charCodeAt(++j)&255)<<24,++j,h=3432918353*(h&65535)+((3432918353*(h>>>16)&65535)<<16)&4294967295,h=h<<15|h>>>17,h=461845907*(h&65535)+((461845907*(h>>>16)&65535)<<16)&4294967295,g^=h,g=g<<13|g>>>19,g=5*(g&65535)+((5*(g>>>16)&65535)<<16)&4294967295,g=(g&65535)+27492+(((g>>>16)+58964&65535)<<16);h=0;switch(c){case 3:h^=(a.charCodeAt(j+
2)&255)<<16;case 2:h^=(a.charCodeAt(j+1)&255)<<8;case 1:h^=a.charCodeAt(j)&255,h=3432918353*(h&65535)+((3432918353*(h>>>16)&65535)<<16)&4294967295,h=h<<15|h>>>17,g^=461845907*(h&65535)+((461845907*(h>>>16)&65535)<<16)&4294967295}g^=a.length;g^=g>>>16;g=2246822507*(g&65535)+((2246822507*(g>>>16)&65535)<<16)&4294967295;g^=g>>>13;g=3266489909*(g&65535)+((3266489909*(g>>>16)&65535)<<16)&4294967295;return(g^g>>>16)>>>0}
var swfobject=function(){function a(){if(!O){try{var a=m.getElementsByTagName("body")[0].appendChild(m.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}O=!0;for(var a=B.length,c=0;c<a;c++)B[c]()}}function b(a){O?a():B[B.length]=a}function c(a){if("undefined"!=typeof G.addEventListener)G.addEventListener("load",a,!1);else if("undefined"!=typeof m.addEventListener)m.addEventListener("load",a,!1);else if("undefined"!=typeof G.attachEvent){var b=G;b.attachEvent("onload",a);P[P.length]=
[b,"onload",a]}else if("function"==typeof G.onload){var c=G.onload;G.onload=function(){c();a()}}else G.onload=a}function f(){var a=x.length;if(0<a)for(var b=0;b<a;b++){var c=x[b].id,f=x[b].callbackFn,l={success:!1,id:c};if(0<R.pv[0]){var m=q(c);if(m)if(!n(x[b].swfVersion)||R.wk&&312>R.wk)if(x[b].expressInstall&&h()){l={};l.data=x[b].expressInstall;l.width=m.getAttribute("width")||"0";l.height=m.getAttribute("height")||"0";m.getAttribute("class")&&(l.styleclass=m.getAttribute("class"));m.getAttribute("align")&&
(l.align=m.getAttribute("align"));for(var p={},m=m.getElementsByTagName("param"),u=m.length,v=0;v<u;v++)"movie"!=m[v].getAttribute("name").toLowerCase()&&(p[m[v].getAttribute("name")]=m[v].getAttribute("value"));j(l,p,c,f)}else k(m),f&&f(l);else I(c,!0),f&&(l.success=!0,l.ref=g(c),f(l))}else I(c,!0),f&&((c=g(c))&&"undefined"!=typeof c.SetVariable&&(l.success=!0,l.ref=c),f(l))}}function g(a){var b=null;(a=q(a))&&"OBJECT"==a.nodeName&&("undefined"!=typeof a.SetVariable?b=a:(a=a.getElementsByTagName("object")[0])&&
(b=a));return b}function h(){return!D&&n("6.0.65")&&(R.win||R.mac)&&!(R.wk&&312>R.wk)}function j(a,b,c,f){D=!0;L=f||null;y={success:!1,id:c};var g=q(c);if(g){"OBJECT"==g.nodeName?(v=l(g),N=null):(v=g,N=c);a.id="SWFObjectExprInst";if("undefined"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if("undefined"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";m.title=m.title.slice(0,47)+" - Flash Player Installation";f=R.ie&&R.win?"ActiveX":
"PlugIn";f="MMredirectURL="+G.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+m.title;b.flashvars="undefined"!=typeof b.flashvars?b.flashvars+("&"+f):f;R.ie&&R.win&&4!=g.readyState&&(f=m.createElement("div"),c+="SWFObjectNew",f.setAttribute("id",c),g.parentNode.insertBefore(f,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}());u(a,b,c)}}function k(a){if(R.ie&&R.win&&4!=a.readyState){var b=m.createElement("div");
a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(l(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(l(a),a)}function l(a){var b=m.createElement("div");if(R.win&&R.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName("object")[0])if(a=a.childNodes)for(var c=a.length,f=0;f<c;f++)1==a[f].nodeType&&"PARAM"==a[f].nodeName||8==a[f].nodeType||b.appendChild(a[f].cloneNode(!0));return b}function u(a,
b,c){var f,g=q(c);if(R.wk&&312>R.wk)return f;if(g)if("undefined"==typeof a.id&&(a.id=c),R.ie&&R.win){var h="",j;for(j in a)a[j]!=Object.prototype[j]&&("data"==j.toLowerCase()?b.movie=a[j]:"styleclass"==j.toLowerCase()?h+=' class="'+a[j]+'"':"classid"!=j.toLowerCase()&&(h+=" "+j+'="'+a[j]+'"'));j="";for(var k in b)b[k]!=Object.prototype[k]&&(j+='<param name="'+k+'" value="'+b[k]+'" />');g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+h+">"+j+"</object>";J[J.length]=a.id;
f=q(a.id)}else{k=m.createElement("object");k.setAttribute("type","application/x-shockwave-flash");for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(h in b)b[h]!=Object.prototype[h]&&"movie"!=h.toLowerCase()&&(a=k,j=h,l=b[h],c=m.createElement("param"),c.setAttribute("name",j),c.setAttribute("value",l),a.appendChild(c));g.parentNode.replaceChild(k,g);f=k}return f}function p(a){var b=q(a);b&&"OBJECT"==
b.nodeName&&(R.ie&&R.win?(b.style.display="none",function(){if(4==b.readyState){var c=q(a);if(c){for(var f in c)"function"==typeof c[f]&&(c[f]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function q(a){var b=null;try{b=m.getElementById(a)}catch(c){}return b}function n(a){var b=R.pv,a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=
a[2]?!0:!1}function A(a,b,c,f){if(!R.ie||!R.mac){var g=m.getElementsByTagName("head")[0];g&&(c=c&&"string"==typeof c?c:"screen",f&&(K=H=null),H&&K==c||(f=m.createElement("style"),f.setAttribute("type","text/css"),f.setAttribute("media",c),H=g.appendChild(f),R.ie&&R.win&&"undefined"!=typeof m.styleSheets&&0<m.styleSheets.length&&(H=m.styleSheets[m.styleSheets.length-1]),K=c),R.ie&&R.win?H&&"object"==typeof H.addRule&&H.addRule(a,b):H&&"undefined"!=typeof m.createTextNode&&H.appendChild(m.createTextNode(a+
" {"+b+"}")))}}function I(a,b){if(T){var c=b?"visible":"hidden";O&&q(a)?q(a).style.visibility=c:A("#"+a,"visibility:"+c)}}function w(a){return null!=/[\\\"<>\.;]/.exec(a)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(a):a}var G=window,m=document,C=navigator,z=!1,B=[function(){if(z){var a=m.getElementsByTagName("body")[0],b=m.createElement("object");b.setAttribute("type","application/x-shockwave-flash");var c=a.appendChild(b);if(c){var g=0;(function(){if("undefined"!=typeof c.GetVariable){var h=
c.GetVariable("$version");h&&(h=h.split(" ")[1].split(","),R.pv=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}else if(10>g){g++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;f()})()}else f()}else f()}],x=[],J=[],P=[],v,N,L,y,O=!1,D=!1,H,K,T=!0,R,S="undefined"!=typeof m.getElementById&&"undefined"!=typeof m.getElementsByTagName&&"undefined"!=typeof m.createElement,Q=C.userAgent.toLowerCase(),U=C.platform.toLowerCase(),na=U?/win/.test(U):/win/.test(Q),U=U?/mac/.test(U):/mac/.test(Q),
Q=/webkit/.test(Q)?parseFloat(Q.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,Y=!+"\v1",ia=[0,0,0],ba=null;if("undefined"!=typeof C.plugins&&"object"==typeof C.plugins["Shockwave Flash"])!(ba=C.plugins["Shockwave Flash"].description)||"undefined"!=typeof C.mimeTypes&&C.mimeTypes["application/x-shockwave-flash"]&&!C.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(z=!0,Y=!1,ba=ba.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),ia[0]=parseInt(ba.replace(/^(.*)\..*$/,"$1"),10),ia[1]=parseInt(ba.replace(/^.*\.(.*)\s.*$/,
"$1"),10),ia[2]=/[a-zA-Z]/.test(ba)?parseInt(ba.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof G.ActiveXObject)try{var ua=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");ua&&(ba=ua.GetVariable("$version"))&&(Y=!0,ba=ba.split(" ")[1].split(","),ia=[parseInt(ba[0],10),parseInt(ba[1],10),parseInt(ba[2],10)])}catch(ec){}R={w3:S,pv:ia,wk:Q,ie:Y,win:na,mac:U};R.w3&&(("undefined"!=typeof m.readyState&&"complete"==m.readyState||"undefined"==typeof m.readyState&&(m.getElementsByTagName("body")[0]||
m.body))&&a(),O||("undefined"!=typeof m.addEventListener&&m.addEventListener("DOMContentLoaded",a,!1),R.ie&&R.win&&(m.attachEvent("onreadystatechange",function(){"complete"==m.readyState&&(m.detachEvent("onreadystatechange",arguments.callee),a())}),G==top&&function(){if(!O){try{m.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}a()}}()),R.wk&&function(){O||(/loaded|complete/.test(m.readyState)?a():setTimeout(arguments.callee,0))}(),c(a)));R.ie&&R.win&&window.attachEvent("onunload",
function(){for(var a=P.length,b=0;b<a;b++)P[b][0].detachEvent(P[b][1],P[b][2]);a=J.length;for(b=0;b<a;b++)p(J[b]);for(var c in R)R[c]=null;R=null;for(var f in swfobject)swfobject[f]=null;swfobject=null});return{registerObject:function(a,b,c,f){if(R.w3&&a&&b){var g={};g.id=a;g.swfVersion=b;g.expressInstall=c;g.callbackFn=f;x[x.length]=g;I(a,!1)}else f&&f({success:!1,id:a})},getObjectById:function(a){if(R.w3)return g(a)},embedSWF:function(a,c,f,g,k,l,m,p,q,v){var w={success:!1,id:c};R.w3&&!(R.wk&&312>
R.wk)&&a&&c&&f&&g&&k?(I(c,!1),b(function(){f+="";g+="";var b={};if(q&&"object"===typeof q)for(var x in q)b[x]=q[x];b.data=a;b.width=f;b.height=g;x={};if(p&&"object"===typeof p)for(var r in p)x[r]=p[r];if(m&&"object"===typeof m)for(var y in m)x.flashvars="undefined"!=typeof x.flashvars?x.flashvars+("&"+y+"="+m[y]):y+"="+m[y];if(n(k))r=u(b,x,c),b.id==c&&I(c,!0),w.success=!0,w.ref=r;else{if(l&&h()){b.data=l;j(b,x,c,v);return}I(c,!0)}v&&v(w)})):v&&v(w)},switchOffAutoHideShow:function(){T=!1},ua:R,getFlashPlayerVersion:function(){return{major:R.pv[0],
minor:R.pv[1],release:R.pv[2]}},hasFlashPlayerVersion:n,createSWF:function(a,b,c){if(R.w3)return u(a,b,c)},showExpressInstall:function(a,b,c,f){R.w3&&h()&&j(a,b,c,f)},removeSWF:function(a){R.w3&&p(a)},createCSS:function(a,b,c,f){R.w3&&A(a,b,c,f)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=m.location.search||m.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return w(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return w(b[c].substring(b[c].indexOf("=")+
1))}return""},expressInstallCallback:function(){if(D){var a=q("SWFObjectExprInst");a&&v&&(a.parentNode.replaceChild(v,a),N&&(I(N,!0),R.ie&&R.win&&(v.style.display="block")),L&&L(y));D=!1}}}}();
(function(a,b){var c={extend:function(a,b){for(var c in b)-1!=="browser cpu device engine os".indexOf(c)&&0===b[c].length%2&&(a[c]=b[c].concat(a[c]));return a},has:function(a,b){return"string"===typeof a?-1!==b.toLowerCase().indexOf(a.toLowerCase()):!1},lowerize:function(a){return a.toLowerCase()},major:function(a){return"string"===typeof a?a.split(".")[0]:b}},f=function(){for(var a,c=0,f,g,h,j,k,l,u=arguments;c<u.length&&!k;){var z=u[c],B=u[c+1];if("undefined"===typeof a)for(h in a={},B)B.hasOwnProperty(h)&&
(j=B[h],"object"===typeof j?a[j[0]]=b:a[j]=b);for(f=g=0;f<z.length&&!k;)if(k=z[f++].exec(this.getUA()))for(h=0;h<B.length;h++)l=k[++g],j=B[h],"object"===typeof j&&0<j.length?2==j.length?a[j[0]]="function"==typeof j[1]?j[1].call(this,l):j[1]:3==j.length?a[j[0]]="function"!==typeof j[1]||j[1].exec&&j[1].test?l?l.replace(j[1],j[2]):b:l?j[1].call(this,l,j[2]):b:4==j.length&&(a[j[0]]=l?j[3].call(this,l.replace(j[1],j[2])):b):a[j]=l?l:b;c+=2}return a},g=function(a,f){for(var g in f)if("object"===typeof f[g]&&
0<f[g].length)for(var h=0;h<f[g].length;h++){if(c.has(f[g][h],a))return"?"===g?b:g}else if(c.has(f[g],a))return"?"===g?b:g;return a},h={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},j={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/\s(opr)\/([\w\.]+)/i],[["name",
"Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],
[["name","Yandex"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],
["version",["name","MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],["version",["name","Android Browser"]],[/FBAV\/([\w\.]+);/i],["version",["name","Facebook"]],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",g,{"1.0":"/8","1.2":"/1","1.3":"/3",
"2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,
/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",c.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",c.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],
[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",c.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],
["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",g,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,
/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[["vendor","Sony"],["model","Xperia Phone"],["type",
"mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",g,{HTC:"APA",Sprint:"Sprint"}],["model",g,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,
/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],
["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(samsung);smarttv/i],["vendor","model",["type","smarttv"]],
[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,
/lg[e;\s\/-]+(\w+)*/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],
[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[["type",c.lowerize],"vendor","model"]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],
[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",g,h]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",g,h]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],
[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],
"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,
/(unix)\s?([\w\.]+)*/i],["name","version"]]},k=function(b,g){if(!(this instanceof k))return(new k(b,g)).getResult();var h=b||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),l=g?c.extend(j,g):j;this.getBrowser=function(){var a=f.apply(this,l.browser);a.major=c.major(a.version);return a};this.getCPU=function(){return f.apply(this,l.cpu)};this.getDevice=function(){return f.apply(this,l.device)};this.getEngine=function(){return f.apply(this,l.engine)};this.getOS=function(){return f.apply(this,
l.os)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return h};this.setUA=function(a){h=a;return this};this.setUA(h);return this};k.VERSION="0.7.10";k.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"};k.CPU={ARCHITECTURE:"architecture"};k.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",
EMBEDDED:"embedded"};k.ENGINE={NAME:"name",VERSION:"version"};k.OS={NAME:"name",VERSION:"version"};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=k),exports.UAParser=k):"function"===typeof define&&define.amd?define(function(){return k}):a.UAParser=k;var l=a.jQuery||a.Zepto;if("undefined"!==typeof l){var u=new k;l.ua=u.getResult();l.ua.get=function(){return u.getUA()};l.ua.set=function(a){u.setUA(a);var a=u.getResult(),b;for(b in a)l.ua[b]=a[b]}}})("object"===
typeof window?window:this);function setElementIdMenuTracker(){function a(a){a.each(function(){$(this).click(function(){var a=$(this).attr("id").replace("nm-",""),b=a.indexOf("-");-1===b?f=g=a:(f=a.slice(0,b),g=a.slice(b+1));dataLayer.push({event:"nm-click",eventCategory:"Main Menu",eventAction:f,eventLabel:g})})})}var b=$(".main-menu li a"),c=$(".sub-menu  li a[id^='nm-top']"),f="",g="";a(b);a(c)}$(document).on("TM_JS_LOADED",function(){setElementIdMenuTracker()});(function(a){a.pandalocker||(a.pandalocker={});a.pandalocker.lang||(a.pandalocker.lang={});a.pandalocker.lang.defaults||(a.pandalocker.lang.defaults={});a.pandalocker.lang.defaults={confirm_screen_title:"Please Confirm Your Email",confirm_screen_instructiont:"We have sent a confirmation email to {email}. Please click on the confirmation link in the email to reveal the content.",confirm_screen_note1:"The content will be unlocked automatically within 10 seconds after confirmation.",confirm_screen_note2:"Note delivering the email may take several minutes.",
confirm_screen_cancel:"(cancel)",confirm_screen_open:"Open my inbox on {service}",onestep_screen_title:"One Step To Complete",onestep_screen_instructiont:"Please enter your email below to continue.",onestep_screen_button:"OK, complete",signin_long:"Sign in via {name}",signin_short:"via {name}",signin_facebook_name:"Facebook",signin_twitter_name:"Twitter",signin_google_name:"Google",signin_linkedin_name:"LinkedIn",misc_data_processing:"Processing data, please wait...",misc_or_enter_email:"or enter your email manually to sign in",
misc_enter_your_name:"enter your name",misc_enter_your_email:"enter your email address",misc_your_agree_with:"By clicking on the button(s), you agree with {links}",misc_terms_of_use:"Terms of Use",misc_privacy_policy:"Privacy Policy",misc_or_wait:"or wait {timer}s",misc_close:"Close",misc_or:"OR",errors_empty_email:"Please enter your email address.",errors_inorrect_email:"It seems you entered an incorrect email address. Please check it.",errors_empty_name:"Please enter your name.",errors_empty_field:"Please fill this field.",
errors_invalid_value:"Invalid value. Please check the value you entered.",errors_invalid_date:"Please enter a valid date.",errors_invalid_month:"Please enter a valid month number (between 01 and 12).",errors_invalid_day:"Please enter a valid day number (between 01 and 31).",errors_subscription_canceled:"You have canceled your subscription.",errors_not_signed_in:"Sorry, but you have not signed in. Please try again.",res_errors_not_granted:"Sorry, but you have not granted all the required permissions ({permissions}). Please try again.",
error:"error",noSpam:"Your email address is 100% safe from spam!",errors:{ajaxError:"Unexpected ajax error. Please check the console log to get more details.",unableToLoadSDK:'Unable to load SDK script for "{0}" due to the error "{1}". Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) or usage of private tabs in FireFox may cause this issue. Turn them off and try again.',unableToCreateControl:"Unable to create ({0}). Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.",
invlidFacebookAppId:"Invalid App ID or given URL is not allowed by the Application configuration: One or more of the given URLs is not allowed by the App's settings.  It must match the Website URL or Canvas URL, or the domain must be a subdomain of one of the App's domains.",emptyFBAppIdError:"Please set your Facebook App ID.",emptyTwitterFollowUrlError:"Please set an URL of your Twitter profile.",tweetNotFound:"Please make sure that you have posted the tweet. Unfortunately we have not manage to find the tweet in your account.",
followingNotFound:"Please make sure that you have followed us. Unfortunately we have not manage to find you in the list of followers.",unsupportedTwitterTweetLayout:"The Twitter Tweet Button doesn't support the vertical layout. Please remove the Tweet button or select another theme.",unsupportedTwitterFollowLayout:"The Twitter Follow Button doesn't support the vertical layout. Please remove the Follow button or select another theme.",emptyYoutubeChannelId:"Please set your Youtube Channel ID.",emptyGoogleClientId:"Please set your Google Client ID.",
unsupportedYoutubeSubscribeLayout:"The Youtube Subscribe Button doesn't support the vertical layout. Please remove the Subscribe button or select another theme."},scopes:{signinLocker:{defaultHeader:"Sing In To Unlock This Content",defaultMessage:"Please sign in. Just click one of the buttons below to get instant access.",btnSubscribe:"sign in to unlock",viaSignInLong:"{long}",viaSignInShort:"{short}"},emailLocker:{defaultHeader:"This Content Is Only For Subscribers",defaultMessage:"Please subscribe to unlock this content. Just enter your email.",
btnSubscribe:"subscribe to unlock",viaSignInLong:"{short}",viaSignInShort:"{name}"},socialLocker:{defaultHeader:"This content is locked",defaultMessage:"Please support us, use one of the buttons below to unlock the content."}},connectButtons:{defaultMessage:"subscribe via your social profile by one click",facebook:{},google:{clientIdMissed:"The Google Client ID is not set. You need to generate a client ID before using the button.",unexpectedError:"Unable to sign in. Unexpected error occurred: {0}"},
twitter:{proxyEmpty:"The proxy URL is empty. The proxy is used to call Twitter API."},linkedin:{clientIdMissed:"The LinkedIn Client ID or Client Secret is not set. You need to set these settings before using the button."},defaultSeparator:"or",errorYouTubeChannelMissed:"Please set an ID of your Youtube channel to subscribe.",errorLinkedInCompanyNotFound:"The LinkedIn company '{0}' not found.",errorLinkedInCompanyMissed:"Please specify the LinkedIn company ID or name to follow.",errorTwitterUserMissed:"Please specify the Twitter user name to follow.",
errorTwitterMessageMissed:"Please specify the message to tweet."},subscription:{defaultText:"Cannot sign in via social networks? Enter your email manually.",defaultButtonText:"done, sign in to unlock"},socialButtons:{facebookLike:"like us",facebookShare:"share",twitterTweet:"tweet",twitterFollow:"follow us",googlePlus:"+1 us",googleShare:"share",youtubeSubscribe:"subscribe",linkedinShare:"share"}};a.pandalocker.lang=a.pandalocker.lang.defaults;window.__pandalockers&&window.__pandalockers.lang&&(a.pandalocker.lang=
a.extend(a.pandalocker.lang,window.__pandalockers.lang),window.__pandalockers.lang=null)})(jQuery);
(function(a){a.pandalocker.themes||(a.pandalocker.themes={});a.pandalocker.themes["great-attractor"]={};a.pandalocker.themes["friendly-giant"]={theme:{fonts:[{name:"Open Sans",styles:["400","700"]}]}};a.pandalocker.themes["dark-force"]={theme:{fonts:[{name:"Montserrat",styles:["400","700"]}]}};a.pandalocker.themes.starter={socialButtons:{layout:"horizontal",counter:!0,flip:!1}};a.pandalocker.themes.secrets={socialButtons:{layout:"horizontal",counter:!0,flip:!0}};a.pandalocker.themes.dandyish={socialButtons:{unsupported:["twitter-follow"],
layout:"vertical",counter:!0,flip:!1}};a.pandalocker.themes.glass={socialButtons:{layout:"horizontal",counter:!0,flip:!1}};a.pandalocker.themes.flat={socialButtons:{layout:"horizontal",counter:!0,flip:!0}}})(jQuery);
!function(a){a.pandalocker||(a.pandalocker={});a.pandalocker.data||(a.pandalocker.data={});a.pandalocker.entity||(a.pandalocker.entity={});a.pandalocker.groups||(a.pandalocker.groups={});a.pandalocker.controls||(a.pandalocker.controls={});a.pandalocker.tools||(a.pandalocker.tools={});a.pandalocker.storages||(a.pandalocker.storages={});a.pandalocker.services||(a.pandalocker.services={});a.pandalocker.extras||(a.pandalocker.extras={});a.pandalocker.controls["social-buttons"]||(a.pandalocker.controls["social-buttons"]=
{});a.pandalocker.controls["connect-buttons"]||(a.pandalocker.controls["connect-buttons"]={});a.pandalocker.controls.subscription||(a.pandalocker.controls.subscription={})}(jQuery);
!function(a){a.pandalocker||(a.pandalocker={});a.pandalocker.filters=a.pandalocker.filters||{_items:{},_priorities:{},run:function(a,c){var f=c&&0<c.length?c[0]:null;if(!this._items[a])return f;for(var g in this._priorities[a])if(this._priorities[a].hasOwnProperty(g))for(var h=this._priorities[a][g],j=0;j<this._items[a][h].length;j++)f=this._items[a][h][j],f=f.apply(f,c);return f},add:function(b,c,f){f||(f=10);this._items[b]||(this._items[b]={});this._items[b][f]||(this._items[b][f]=[]);this._items[b][f].push(c);
this._priorities[b]||(this._priorities[b]=[]);-1===a.inArray(f,this._priorities[b])&&this._priorities[b].push(f);this._priorities[b].sort(function(a,b){return a-b})}};a.pandalocker.hooks=a.pandalocker.hooks||{run:function(b,c){a.pandalocker.filters.run(b,c)},add:function(b,c,f){a.pandalocker.filters.add(b,c,f)}}}(jQuery);
!function(a,b,c){c.pandalocker||(c.pandalocker={});c.pandalocker.deferred=c.Deferred||function(){var a=[],b=[],c=[];this.rejected=this.resolved=!1;this.arg2=this.arg1=null;this.resolve=function(b,g){if(this.resolved||this.rejected)return this;this.resolved=!0;this.arg1=b;this.arg2=g;for(var l=0;l<a.length;l++)a[l](b,g);for(l=0;l<c.length;l++)c[l](b,g);return this};this.reject=function(a,f){if(this.resolved||this.rejected)return this;this.rejected=!0;this.arg1=a;this.arg2=f;for(var l=0;l<b.length;l++)b[l](a,
f);for(l=0;l<c.length;l++)c[l](a,f);return this};this.done=this.success=function(b){return this.resolved?b&&b(this.arg1,this.arg2):a.push(b),this};this.fail=this.error=function(a){return this.rejected?a&&a(this.arg1,this.arg2):b.push(a),this};this.always=function(a){return this.resolved||this.rejected?a&&a(this.arg1,this.arg2):c.push(a),this};this.promise=function(){return this}}}(window,document,jQuery);
!function(a){a.pandalocker.tools||(a.pandalocker.tools={});a.pandalocker.tools.extend=function(b){function c(){}return c.prototype=a.extend(!0,{},b),new c};a.pandalocker.error=function(a){this.onpsl=!0;this.message=a};a.pandalocker.tools.normilizeHtmlOption=function(b){return b?"function"==typeof b?b(this):"string"==typeof b?a("<div>"+b+"</div>"):"object"==typeof b?b.clone():b:b};a.pandalocker.tools.diffArrays=function(b,c){return a.grep(b,function(b){return-1==a.inArray(b,c)})};a.pandalocker.tools.unionArrays=
function(b,c){return a.grep(b,function(b){return-1!==a.inArray(b,c)})};a.pandalocker.tools.cookie=a.pandalocker.tools.cookie||function(b,c,f){if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(c))||null===c||void 0===c)){if(f=a.extend({},f),(null===c||void 0===c)&&(f.expires=-1),"number"==typeof f.expires){var g=f.expires,h=f.expires=new Date;h.setDate(h.getDate()+g)}return c=String(c),document.cookie=[encodeURIComponent(b),"=",f.raw?c:encodeURIComponent(c),f.expires?"; expires="+
f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}for(var f=c||{},h=f.raw?function(a){return a}:decodeURIComponent,j=document.cookie.split("; "),k=0;g=j[k]&&j[k].split("=");k++)if(h(g[0])===b)return h(g[1]||"");return null};a.pandalocker.tools.hash=a.pandalocker.tools.hash||function(a){var c=0;if(!a||0===a.length)return c;for(var f=0;f<a.length;f++)var g=a.charCodeAt(f),c=(c<<5)-c+g,c=c&c;return c=c.toString(16),c.replace("-","0")};
a.pandalocker.tools.has3d=a.pandalocker.tools.has3d||function(){var a,c=document.createElement("p"),f={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform"};c.className="onp-sl-always-visible";document.body.insertBefore(c,null);for(var g in f)void 0!==c.style[g]&&(c.style[g]="translate3d(1px,1px,1px)",a=window.getComputedStyle(c).getPropertyValue(f[g]));return document.body.removeChild(c),void 0!==a&&0<a.length&&
"none"!==a};a.pandalocker.tools.canBlur=a.pandalocker.tools.canBlur||function(){var a=document.createElement("div");a.style.cssText=_browserPrefixes.join("filter:blur(2px); ");if(a=!!a.style.length&&(void 0===document.documentMode||9<document.documentMode))return!0;try{a=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(c){}return a};a.pandalocker.isTouch=a.pandalocker.isTouch||function(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in
window)};a.pandalocker.widget=function(b,c){var f={createWidget:function(f,h){var j=a.extend(!0,{},c);if(j.element=a(f),"BODY"==f.tagName)a("body").wrapInner('<div class="onp-sl-body-inner-wrap"></div>'),j.element=a(".onp-sl-body-inner-wrap");j.options=a.extend(!0,j.options,h);j._init&&j._init();j._create&&j._create();a.data(f,"plugin_"+b,j)},callMethod:function(a,b){return a[b]&&a[b]()}};a.fn[b]=function(){var c=arguments,h=arguments.length,j=this;return this.each(function(){var k=a.data(this,"plugin_"+
b);!k&&1>=h?f.createWidget(this,h?c[0]:!1):1==h&&(j=f.callMethod(k,c[0]))}),j}};a.pandalocker.detectBrowser=a.pandalocker.detectBrowser||function(){var b=(jQuery.uaMatch||function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}})(navigator.userAgent);a.pandalocker.browser=
{};b.browser&&(a.pandalocker.browser[b.browser]=!0,a.pandalocker.browser.version=b.version);b=-1;if("Microsoft Internet Explorer"==navigator.appName){var c=navigator.userAgent,f=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=f.exec(c)&&(b=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(c=navigator.userAgent,f=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=f.exec(c)&&(b=parseFloat(RegExp.$1)));0<b&&(a.pandalocker.browser.msie=!0,a.pandalocker.browser.version=b);a.pandalocker.browser.chrome?a.pandalocker.browser.webkit=
!0:a.pandalocker.browser.webkit&&(a.pandalocker.browser.safari=!0)};a.pandalocker.detectBrowser();a.pandalocker.tools.camelCase=function(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})};a.pandalocker.tools.capitaliseFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};a.pandalocker.tools.isMobile=function(){return/webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?!0:/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)?!0:
!1};a.pandalocker.tools.isTabletOrMobile=function(){return/webOS|iPhone|iPad|Android|iPod|BlackBerry/i.test(navigator.userAgent)?!0:!1};a.pandalocker.tools.isInAppBrowser=function(){return a.pandalocker.tools.getInAppBrowser()?!0:!1};a.pandalocker.tools.getInAppBrowser=function(){return/FBAN|FBAV/i.test(navigator.userAgent)?"Facebook In-App browser":/Instagram/i.test(navigator.userAgent)?"Instagram In-App browser":/Twitter/i.test(navigator.userAgent)?"Twitter In-App browser":/VKAndroid/i.test(navigator.userAgent)?
"VK In-App browser":!1};a.pandalocker.tools.updateQueryStringParameter=function(a,c,f){var g=RegExp("([?&])"+c+"=.*?(&|$)","i"),h=-1!==a.indexOf("?")?"&":"?";return a.match(g)?a.replace(g,"$1"+c+"="+f+"$2"):a+h+c+"="+f};a.pandalocker.tools.isValidEmailAddress=function(a){return RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(a)};
a.pandalocker.tools.isValidUrl=function(a){return RegExp(/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i).test(a)};
a.pandalocker.tools.findLeftWindowBoundry=function(){return window.screenLeft?window.screenLeft:window.screenX?window.screenX:0};a.pandalocker.tools.findTopWindowBoundry=function(){return window.screenTop?window.screenTop:window.screenY?window.screenY:0};a.pandalocker.tools.extractJSON=function(b){var c,f,g;c=b.indexOf("{",c+1);do{if(f=b.lastIndexOf("}"),c>=f)return null;do{g=b.substring(c,f+1);try{var h=a.parseJSON(g);if(h)return h}catch(j){}f=b.substr(0,f).lastIndexOf("}")}while(f>c);c=b.indexOf("{",
c+1)}while(-1!=c);return!1};a.pandalocker.tools.saveValue=function(b,c,f){if(localStorage&&localStorage.setItem)try{localStorage.setItem(b,c)}catch(g){a.pandalocker.tools.cookie(b,c,{expires:f,path:"/"})}else a.pandalocker.tools.cookie(b,c,{expires:f,path:"/"})};a.pandalocker.tools.getValue=function(b,c){var f=localStorage&&localStorage.getItem&&localStorage.getItem(b);return f||(f=a.pandalocker.tools.cookie(b)),f?f:c};a.pandalocker.tools.guid=function(){var a=function(){return Math.floor(65536*(1+
Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}(jQuery);
!function(a){a.pandalocker.sdk=a.pandalocker.sdk||{_ready:{},_connected:{},_error:{},getSDK:function(b){return b=a.pandalocker.tools.camelCase(b),a.pandalocker.sdk[b]?a.pandalocker.sdk[b]:null},isConnected:function(b){if(0<a("#"+b.scriptId).length)return!0;var c=!1;return a("script").each(function(){var f=a(this).attr("src");return f?(c=-1!==f.indexOf(b.url),c?(a(this).attr("id",b.scriptId),!1):void 0):!0}),c},getLoadingScript:function(b){var c=a("#"+b.scriptId),b=a("script[src='*"+b.url+"']");return 0<
c.length?c:b},isLoaded:function(a){return this.isConnected(a)&&a.isLoaded&&a.isLoaded()},connect:function(b,c,f){var g=this,h=this.getSDK(b),j=new a.pandalocker.deferred;if(!h)return console&&console.log("Invalide SDK name: "+b),j.reject("invalide-sdk"),j.promise();if(h.options=c,setTimeout(function(){h.isLoaded()?g.setup&&g.setup():(g._connected[b]=!1,j.reject("timeout"))},f),this._ready[b])return j.resolve(),j.promise();if(a(document).bind(b+"-init",function(){j.resolve()}),a(document).bind(b+"-error",
function(a,c){g._error[b]=!0;j.reject(c)}),this._connected[b]&&!g._error[b])return j.promise();h.createEvents||(h.createEvents=function(){var b=function(){a(document).trigger(h.name+"-init")};return h.isLoaded()?void b():void a(document).bind(h.name+"-script-loaded",function(){b()})});h.prepare&&h.prepare();var c=h.isLoaded(),k=this.isConnected(h);if(a(document).bind(b+"-init",function(){g._ready[b]=!0}),this._connected[b]||h.createEvents(),!k||g._error[b]){if(g._error[b]){var l=this.getLoadingScript(h);
l&&l.remove()}k=document.createElement("script");k.type="text/javascript";k.id=h.scriptId;k.src=h.url;var u=h.getScriptBody?h.getScriptBody():null;u&&(k.innerHtml=u);document.getElementsByTagName("body")[0].appendChild(k)}c||(l=this.getLoadingScript(h)[0],l.onerror=function(b){console&&console.log("Failed to load SDK script:");console&&console.log(b);a(document).trigger(h.name+"-error",["blocked"])},l.onreadystatechange=l.onload=function(){var b=l.readyState;(!b||/loaded|complete/.test(b))&&(a(document).trigger(h.name+
"-script-loaded"),a(document).unbind(h.name+"-script-loaded"))});return setTimeout(function(){h.isLoaded()||a(document).trigger(h.name+"-error",["timeout"])},f),this._connected[b]=!0,j.promise()}}}(jQuery);
!function(a){var b=function(){var a=this;return a&&a.hasOwnProperty&&a instanceof b||(a=new b),a._init.apply(a,arguments)},c,f,g=/^(?:(https?:\/\/|\/\/)|(\/|\?|#)|[^;:@=\.\s])/i,h=/^(?:(https?):\/\/|\/\/)(?:([^:@\s]+:?[^:@\s]+?)@)?((?:[^;:@=\/\?\.\s]+\.)+[A-Za-z0-9\-]{2,})(?::(\d+))?(?=\/|\?|#|$)([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,j=/^([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,k=/^\s+|\s+$/g;c=String.prototype.trim?function(a){return a&&a.trim?a.trim():a}:function(a){try{return a.replace(k,"")}catch(b){return a}};
f=function(a){return"string"===typeof a};b.ABSOLUTE="absolute";b.RELATIVE="relative";b.normalize=function(a){return(new b(a)).toString()};b.resolve=function(a,c){return(new b(a)).resolve(c).toString()};b.prototype={_init:function(a){return this.constructor=b,a=f(a)?a:a instanceof b?a.toString():null,this._original=a,this._url={},this._isValid=this._parse(a),this},toString:function(){var a=this._url,b=[],c=a.scheme,f=a.path,g=a.query,h=a.fragment;return"absolute"===a.type&&(b.push(c?c+"://":"//",this.authority()),
f&&0!==f.indexOf("/")&&(f="/"+f)),b.push(f,g?"?"+this.queryString():"",h?"#"+h:""),b.join("")},original:function(){return this._original},isValid:function(){return this._isValid},isAbsolute:function(){return"absolute"===this._url.type},isRelative:function(){return"relative"===this._url.type},isHostRelative:function(){var a=this._url.path;return this.isRelative()&&a&&0===a.indexOf("/")},type:function(){return this._url.type},scheme:function(a){return arguments.length?this._set("scheme",a):this._url.scheme},
userInfo:function(a){return arguments.length?this._set("userInfo",a):this._url.userInfo},host:function(a){return arguments.length?this._set("host",a):this._url.host},domain:function(){var a=this._url.host;return a?a.split(".").slice(-2).join("."):void 0},port:function(a){return arguments.length?this._set("port",a):this._url.port},authority:function(){var a=this._url,b=a.userInfo,c=a.port;return[b?b+"@":"",a.host,c?":"+c:""].join("")},path:function(a){return arguments.length?this._set("path",a):this._url.path},
query:function(a){return arguments.length?this._set("query",a):this._url.query},queryString:function(a){if(arguments.length)return this._set("query",this._parseQuery(a));var a="",b,c,f=this._url.query;if(f){b=0;for(c=f.length;c>b;b++)a+=f[b].join("="),c-1>b&&(a+="&")}return a},fragment:function(a){return arguments.length?this._set("fragment",a):this._url.fragment},resolve:function(a){var a=a instanceof b?a:new b(a),c,f;return this.isValid()&&a.isValid()?a.isAbsolute()?this.isAbsolute()?a.scheme()?
a:(new b(a)).scheme(this.scheme()):a:(c=new b(this.isAbsolute()?this:null),a.path()?(f=a.isHostRelative()||!this.path()?a.path():this.path().substring(0,this.path().lastIndexOf("/")+1)+a.path(),c.path(this._normalizePath(f)).query(a.query()).fragment(a.fragment())):a.query()?c.query(a.query()).fragment(a.fragment()):a.fragment()&&c.fragment(a.fragment()),c):this},reduce:function(a){a=a instanceof b?a:new b(a);a=this.resolve(a);return this.isAbsolute()&&a.isAbsolute()&&a.scheme()===this.scheme()&&
a.authority()===this.authority()&&a.scheme(null).userInfo(null).host(null).port(null),a},_parse:function(a,b){if(a=c(a),!(f(a)&&0<a.length))return!1;var k,q;switch(b||(b=a.match(g),b=b?b[1]?"absolute":b[2]?"relative":null:null),b){case "absolute":(k=a.match(h))&&(q={},q.type="absolute",q.scheme=k[1]?k[1].toLowerCase():void 0,q.userInfo=k[2],q.host=k[3].toLowerCase(),q.port=k[4]?parseInt(k[4],10):void 0,q.path=k[5]||"/",q.query=this._parseQuery(k[6]),q.fragment=k[7]);break;case "relative":(k=a.match(j))&&
(q={},q.type="relative",q.path=k[1],q.query=this._parseQuery(k[2]),q.fragment=k[3]);break;default:return this._parse(a,"absolute")||this._parse(a,"relative")}return q?(this._url=q,!0):!1},_parseQuery:function(a){if(f(a)){var a=c(a),b,g,h=[],j=a.split("&"),a=0;for(g=j.length;g>a;a++)j[a]&&(b=j[a].split("="),h.push(b[1]?b:[b[0]]));return h}},_set:function(a,b){return this._url[a]=b,!b||"scheme"!==a&&"userInfo"!==a&&"host"!==a&&"port"!==a||(this._url.type="absolute"),b||"host"!==a||(this._url.type="relative"),
this._isValid=this._parse(this.toString()),this},_normalizePath:function(a){var b,c,f,g,h;if(-1<a.indexOf("../")){b=a.split("/");f=[];g=0;for(h=b.length;h>g;g++)c=b[g],".."===c?f.pop():c&&f.push(c);b=f.join("/");"/"===a[0]&&(b="/"+b);"/"===a[a.length-1]&&1<b.length&&(b+="/")}else b=a;return b}};!0;a.pandalocker||(a.pandalocker={});a.pandalocker.tools||(a.pandalocker.tools={});a.pandalocker.tools.URL=b}(jQuery);
!function(a,b,c){var f=0,g=" -webkit- -moz- -o- -ms- ".split(" "),h=function(){var a=b.createElement("div");return a.style.cssText=g.join("filter:blur(2px); "),!!a.style.length&&(void 0===b.documentMode||9<b.documentMode)},j=function(){var a=!1;try{a=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(b){}return a},k=function(g,k){var p,q,n,A=c.extend({intensity:5,forceSVGUrl:!1,animationOptions:{duration:1E3,easing:"linear"}},k),I={},w=h(),G=
j(),m=!1,C;a:if(I.Filter||""===I.Filter)C=I.Filter+"Filter";else{for(var z=b.createElement("div"),B=" Moz Webkit O ms Khtml".split(" "),x=0;x<B.length;x++)if("undefined"!=typeof z.style[B[x]+"Filter"]){C=(I.Filter=B[x],B[x]+"Filter");break a}C="filter"}var J=function(a){return b.createElementNS("http://www.w3.org/2000/svg",a)};return this.$elm=g instanceof c?g:c(g),this.init=function(){if(G){var a=J("svg"),b=J("filter");p=J("feGaussianBlur");a.setAttribute("style","position:absolute");a.setAttribute("width",
"0");a.setAttribute("height","0");b.setAttribute("id","blur-effect-id-"+f);b.appendChild(p);a.appendChild(b);c("body").append(a)}return q=f,f++,this},this.blur=function(){var b,c=a.location,c=A.forceSVGUrl?c.protocol+"//"+c.host+c.pathname:"";return w?b="blur("+A.intensity+"px)":G?(p.setAttribute("stdDeviation",A.intensity),b="url("+c+"#blur-effect-id-"+q+")"):b="progid:DXImageTransform.Microsoft.Blur(pixelradius="+A.intensity+")",this.$elm[0].style[C]=b,m=!0,this},this.animate=function(a,b){if("number"!=
typeof a)throw typeof a+" is not a valid number to animate the blur";if(0>a)throw"I can animate only positive numbers";var f=new c.Deferred;return n&&n.stop(!0,!0),n=(new c.Animation(A,{intensity:a},c.extend(A.animationOptions,b))).progress(c.proxy(this.blur,this)).done(f.resolve),f.promise()},this.unblur=function(){return this.$elm.css(C,"none"),this.$elm[0].style[C]="none",m=!1,this},this.toggleblur=function(){return m?this.unblur():this.blur(),this},this.destroy=function(){G&&c("filter#blur-effect-id-"+
q).parent().remove();this.unblur();for(var a in this)delete this[a];return this},this.init()};c.fn.Vague=function(a){return new k(this,a)};c.pandalocker.tools.supportBlurring=function(){return c.pandalocker.browser.msie&&9<c.pandalocker.browser.version&&12>c.pandalocker.browser.msie?!1:h()||j()?!0:!1}}(window,document,jQuery);
!function(a){a.pandalocker.storages.defaultStateStorage=function(b){b=b.options;this.demo=b.demo;this.useCookies=b.locker.useCookies;this.expires=b.locker.expires;this.isUnlocked=function(a){return this.demo?!1:this._getValue(a)?!0:!1};this.isLocked=function(a){return!this.isUnlocked(a)};this.requestState=function(a,b){return this.demo?b("locked"):void b(this.isUnlocked(a)?"unlocked":"locked")};this.setState=function(a,b){if(this.demo)return!0;try{return"unlocked"===b?this._setValue(a):this._removeValue(a)}catch(g){console&&
console.log(g)}};this._setValue=function(b){if(!b)return!1;var f=!0,g=1E4;this.expires&&(f=(new Date).getTime()+1E3*this.expires,g=Math.ceil(this.expires/86400),f=JSON.stringify({expires:f}));var h=!0;if(localStorage&&!this.useCookies){h=!1;try{localStorage.setItem(b,f)}catch(j){console&&console.log(j),h=!0}}return h&&a.pandalocker.tools.cookie(b,f,{expires:g,path:"/"}),!0};this._getValue=function(b){if(!b)return!1;var f=localStorage&&!this.useCookies&&localStorage.getItem(b);if(f||(f=a.pandalocker.tools.cookie(b)),
f)try{var g=JSON.parse(f);return g&&g.expires?g.expires>new Date:!0}catch(h){return!0}};this._removeValue=function(b){return b?(localStorage&&localStorage.removeItem(b),void a.pandalocker.tools.cookie(b,null)):!1}}}(jQuery);
!function(a){a.pandalocker.services.visibility=function(){this.canLock=function(a){if(!a)return!0;for(var c in a)if(a.hasOwnProperty(c)&&"object"==typeof a[c]&&!this.isVisible(a[c]))return!1;return!0};this.isVisible=function(a){if(!a.conditions)return!0;var c=this.matchFilter(a),a=a.type||"showif";return"showif"===a?c:"hideif"===a?!c:void 0};this.matchFilter=function(a){var c=!0,f;for(f in a.conditions)a.conditions.hasOwnProperty(f)&&"object"==typeof a.conditions[f]&&(this.matchScope(a.conditions[f])||
(c=!1));return c};this.matchScope=function(a){var c=!1;if(!a.conditions)return!0;for(var f in a.conditions)a.conditions.hasOwnProperty(f)&&"object"==typeof a.conditions[f]&&this.matchCondition(a.conditions[f])&&(c=!0);return c};this.matchCondition=function(a){var c=a.param,f=a.operator,g=a.value,h=a.type||"text",j=this.getValueProvider(c);if(!j)return console&&console.log('[visibility]: the value provider "%s" not found.'.replace("%s",c)),!0;a=j.getValue(a);return null===a?(console&&console.log('[visibility]: the value returned from the provider "%s" equals to null.'.replace("%s",
c)),!0):j.compare?j.compare(f,g,a,h):this.compare(f,g,a,h)};this.getValueProvider=function(b){return a.pandalocker.filters.run("visibility-value-provider",[a.pandalocker.services.visibilityProviders[b],b])};this.compare=function(b,c,f,g){switch(c=this.castValue(c,g,"date"===g&&("equals"===b||"notequal"===b)?"range":null),f=this.castValue(f,g),b){case "equals":return a.isArray(f)?-1<a.inArray(c,f):c.range?f>c.start&&f<c.end:c===f;case "notequal":return a.isArray(f)?-1===a.inArray(c,f):c.range?!(f>
c.start&&f<c.end):c!==f;case "less":case "older":return c>f;case "greater":case "younger":return f>c;case "contains":return-1<f.indexOf(c);case "notcontain":return-1===f.indexOf(c);case "between":return f>=c.start&&f<=c.end}return!0};this.castValue=function(b,c,f){if(null===b)return b;if(a.isArray(b)){for(f=0;f<b.length;f++)b[f]=this.castValue(b[f],c);return b}if("undefined"!=typeof b.start)return f=this.castValue(b.start,c,"start"),c=this.castValue(b.end,c,"end"),"relative"===b.start.type?(b.end=
f,b.start=c):(b.end=c,b.start=f),b;switch(c){case "text":case "select":return""+b;case "integer":return parseInt(b);case "date":return this.castToDate(b,f)}};this.castToDate=function(a,c){var f=(new Date).getTime();if("relative"===a.type){var g=parseInt(a.unitsCount);switch(a.units){case "seconds":var h=f-1E3*g;break;case "minutes":h=f-6E4*g;break;case "hours":h=f-36E5*g;break;case "days":h=f-864E5*g;break;case "weeks":h=f-6048E5*g;break;case "months":h=f-2592E6*g;break;case "years":h=f-31536E6*g}if("range"!==
c)return h;f={range:!0,end:h,start:0};switch(a.units){case "seconds":f.start=f.end-1E3;break;case "minutes":f.start=f.end-6E4;break;case "hours":f.start=f.end-36E5;break;case "days":f.start=f.end-864E5;break;case "weeks":f.start=f.end-6048E5;break;case "months":f.start=f.end-2592E6;break;case "years":f.start=f.end-31536E6}return f}return"range"===c?(h=new Date(a),f=h.getUTCDate(),g=h.getUTCMonth(),h=h.getUTCFullYear(),{range:!0,start:Date.UTC(h,g,f),end:Date.UTC(h,g,f,23,59,59,999)}):a}};a.pandalocker.services.visibilityProviders=
{};a.pandalocker.services.visibilityProviders["user-mobile"]={getValue:function(){return a.pandalocker.tools.isMobile()?"yes":"no"}};a.pandalocker.services.visibilityProviders["location-page"]={getValue:function(){return window.location.href}};a.pandalocker.services.visibilityProviders["location-referrer"]={getValue:function(){return document.referrer}}}(jQuery);
!function(a){a.pandalocker.services.subscription=function(b){this.id=b.id;this.serviceOptions=b;this.cookieName="opanda_"+b.name+"_"+b.service+"_"+b.listId;this.checkingInterval=b.checkingInterval||1E4;this._call=function(b,f,g){var h={};h.opandaIdentityData=f;h.opandaServiceData=g;h.opandaHandler="subscription";h.opandaRequestType=b;h.opandaService=this.serviceOptions.service;h.opandaListId=this.serviceOptions.listId;h.opandaDoubleOptin=this.serviceOptions.doubleOptin;h.opandaConfirm=this.serviceOptions.confirm;
h.opandaRequireName=this.serviceOptions.requireName;h=a.pandalocker.filters.run(this.id+".ajax-data",[h]);h=a.pandalocker.filters.run(this.id+".subscribe.ajax-data",[h]);this.serviceOptions.parentId&&(h=a.pandalocker.filters.apply("subscription-data-"+this.serviceOptions.parentId,h));var j=new a.pandalocker.deferred,k=function(a){a&&4>a.readyState||console&&console.log&&(console.log("Invalide ajax response:"),console.log(a.responseText),j.reject(a))},l=a.ajax({type:"POST",dataType:"text",url:this.serviceOptions.proxy,
data:h,error:function(){k(l)},success:function(b){return(b=a.pandalocker.tools.extractJSON(b))?void j.resolve(b):k(l)}});return j.promise()};this.subscribe=function(b,f){var g=this,h=new a.Deferred;return this._call("subscribe",b,f).done(function(a){return console.log(a),a&&a.error?void h.reject(a):a&&"subscribed"===a.status?void h.resolve(a):g.serviceOptions.doubleOptin&&g.serviceOptions.confirm?(g._setWaitingStatus(b),h.notify("waiting-confirmation"),void g.waitSubscription(b).done(function(a){h.resolve(a)}).fail(function(a){h.reject(a)}).always(function(){g._removeWaitingStatus()})):
void h.resolve(a)}).fail(function(b){b&&4>b.readyState||h.reject({error:a.pandalocker.lang.errors.ajaxError})}),h.promise()};this.waitSubscription=function(b){var f=this,g=new a.Deferred;return this._waitingConfirmationResult=g,f._isCanceled?void(f._isCanceled=!1):(this.check(b).done(function(a){return f._isCanceled?void(f._isCanceled=!1):(console&&console.log&&console.log("waiting subscription..."),console&&console.log&&console.log(a),a&&"subscribed"===a.status?void g.resolve(a):void setTimeout(function(){var a=
f.waitSubscription(b);a&&(a.done(function(a){g.resolve(a)}),a.fail(function(a){g.reject(a)}))},f.checkingInterval))}).fail(function(a){return f._isCanceled?void(f._isCanceled=!1):void g.reject(a)}),g.promise())};this.check=function(b){var f=new a.Deferred;return this._call("check",b).done(function(a){return a.error?void f.reject(a):void f.resolve(a)}).fail(function(b){b&&4>b.readyState||f.reject({error:a.pandalocker.lang.errors.ajaxError})}),f.promise()};this.cancel=function(){this._isCanceled=!0;
this._removeWaitingStatus();this._waitingConfirmationResult&&(this._waitingConfirmationResult.reject({error:a.pandalocker.lang.errors_subscription_canceled}),this._waitingConfirmationResult=null)};this._setWaitingStatus=function(b){b=JSON.stringify(b);if(localStorage&&localStorage.setItem)try{localStorage.setItem(this.cookieName,b)}catch(f){a.pandalocker.tools.cookie(this.cookieName,b,{expires:365,path:"/"})}else a.pandalocker.tools.cookie(this.cookieName,b,{expires:365,path:"/"})};this._removeWaitingStatus=
function(){localStorage&&localStorage.removeItem&&localStorage.removeItem(this.cookieName);a.pandalocker.tools.cookie(this.cookieName,!1,{expires:0,path:"/"})};this.isWaitingSubscription=function(){return this.getWaitingIdentityData()?!0:!1};this.getWaitingIdentityData=function(){var b=localStorage&&localStorage.getItem&&localStorage.getItem(this.cookieName);return b||(b=a.pandalocker.tools.cookie(this.cookieName)),b?JSON.parse(b):b}}}(jQuery);
!function(a){a.pandalocker.extras||(a.pandalocker.extras={});a.pandalocker.extras.interrelation={init:function(){var a=this.options.locker&&this.options.locker.scope;if(a){var c=this;this.addHook("state-changed",function(f,g){"unlocked"===g&&c._getStateStorage().setState("scope_"+a,"unlocked")});this.addFilter("functions-requesting-state",function(f){return f.push(function(f){c._getStateStorage().requestState("scope_"+a,function(a){f(a)})}),f});this.addHook("unlocked",function(f,g){"button"===g&&
c.runHook("unlocked-by-scope-"+a,[],!0)});this.addHook("unlocked-by-scope-"+a,function(a){a!==c&&c.unlock("scope")},10,!0)}}}}(jQuery);
!function(a){a.pandalocker.extras||(a.pandalocker.extras={});a.pandalocker.extras.googleAnalytics={init:function(){if(this.options.googleAnalytics){this.addHook("unlocked",function(c,f,g,h){if(window._gaq||window.ga)(h||(h=window.location.href),"button"===f)?(c=null,c="facebook-like"===g?"Facebook Like":"facebook-share"===g?"Facebook Share":"twitter-tweet"===g?"Twitter Tweet":"twitter-follow"===g?"Twitter Follow":"google-plus"===g?"Google Plus":"google-share"===g?"Google Share":"linkedin-share"===
g?"LinkedIn Share":"google-youtube"===g?"Google Youtube":"facebook"===g?"Facebook Sign-In":"twitter"===g?"Twitter Sign-In":"google"===g?"Google Sign-In":"linkedin"===g?"LinkedIn Sign-In":"form"===g?"Opt-In Form":g.substr(0,1).toUpperCase()+g.substr(1),a("Lockers","Unlocked (Total)",h),a("Lockers ","Unlocked via "+c,h)):"timer"===f?(a("Lockers","Skipped (Total)",h),a("Lockers ","Skipped via Timer",h)):"cross"===f&&(a("Lockers","Skipped (Total)",h),a("Lockers ","Skipped via Cross",h))});var a=function(a,
b,g){window.ga?window.ga("send","event",a,b,g):window._gaq.push(["_trackEvent",a,b,g])}}}}}(jQuery);!function(a){a.pandalocker.extras||(a.pandalocker.extras={});a.pandalocker.extras.na={init:function(){var a=this,c=0,f=0,g={};this.addHook("control-error",function(h,j,k){if(!c){for(var l=h=0;l<a._groups.length;l++)for(var u=0;u<a._groups[l].controls.length;u++)h++;f=c=h}j=k+"-"+j;g[j]||(g[j]=!0,f--,0<f||(a.runHook("na"),"show-content"===a.options.locker.naMode&&a.unlock("na")))})}}}(jQuery);
!function(a){a.pandalocker.entity.control={init:function(b,c){var f=a.extend(!0,{},this._defaults);if(this.options=a.extend(!0,f,c),this.groupOptions=b.options,this.lockerOptions=b.locker.options,this.lang=b.lang,this.group=b,this.locker=b.locker,this.groupOptions.senderName&&(this.senderName=this.groupOptions.senderName),!this.name)throw Error('The property "name" cannot be empty for the control.');this.options.proxy=this.options.proxy||this.groupOptions.proxy||this.lockerOptions.proxy;this.setup&&
this.setup();this.setupHooks&&this.setupHooks();this.prepareOptions&&this.prepareOptions()},_defaults:{},renderControl:function(b){this.control=a(this.tag||"<div>").addClass("onp-sl-control").addClass("onp-sl-"+this.name).appendTo(b);this.innerWrap=a("<div></div>").addClass("onp-sl-control-inner-wrap").appendTo(this.control);this._isRendered=!0;this._hasError()&&this.showError();this.render(this.innerWrap)},render:function(){throw Error("The control should implement the method 'render'");},unlock:function(a,
c,f){this.setState("unlocked");this.group.unlock(a||"button",c||this.senderName||this.name,f)},addClassToLocker:function(a){this.group.addClassToLocker(a)},_trackWindow:function(a,c){var f=window.open;window.open=function(g,h,j){var k=f(g,h,j);if(!g||-1===g.indexOf(a))return k;var l=setInterval(function(){k&&!1===k.closed||(clearInterval(l),c&&c())},300);return k}},requestState:function(a){this._getStateStorage().requestState(this._getStorageIdentity(),a)},setState:function(a,c){this._getStateStorage().setState(this._getStorageIdentity(),
a,c);this.group.setState(a,"button",this.name)},_getStorageIdentity:function(){return"control_"+this.name},_getStateStorage:function(){return this.locker._getStateStorage()},_setLoadingState:function(a){this._stateSender||(this._stateSender=a,this.control.addClass("onp-sl-state-loading"),this._isLoadingState=!0)},_removeLoadingState:function(a){this._stateSender&&this._stateSender!==a||(this._stateSender=null,this.control.removeClass("onp-sl-state-loading"),this._isLoadingState=!1)},_isLoading:function(){return this._isLoadingState},
_setError:function(a){this._error||(this._error=a)},_hasError:function(){return this._error?!0:!1},showError:function(a,c){var f=this;if(this.runHook("control-error",[f.name,f.group.name]),f.group.onControlError&&f.group.onControlError(f.name),!this._isRendered)return void this._setError(a);c=c||this.innerWrap;a=a||this._error;this.control.hasClass("onp-sl-state-error")||(this.control.removeClass("onp-sl-state-loading").addClass("onp-sl-state-error"),this.createErrorMarkup(a).appendTo(c).find(".onp-sl-error-title").click(function(){return f.group.showError(f.name,
a),!1}))},createErrorMarkup:function(){return a("<div class='onp-sl-error-body'><a href='#' class='onp-sl-error-title'>"+a.pandalocker.lang.error+"</a></div>")},showNotice:function(a,c){this.group.showNotice(a,null,c)},addHook:function(a,c,f){return this.group.addHook(a,c,f)},runHook:function(a,c){return this.group.runHook(a,c)},addFilter:function(a,c,f){return this.group.addFilter(a,c,f)},applyFilters:function(a,c,f){return this.group.applyFilters(a,c,f)},requireSdk:function(b,c){var f=new a.pandalocker.deferred;
if(!b)return f.resolve(),f.promise();var g=this.attemptToLoad(b,c||{},5,this.group.options.loadingTimeout||this.lockerOptions.locker.loadingTimeout||2E4);return g.done(function(){f.resolve()}),g.fail(function(c){c=a.pandalocker.lang.errors.unableToLoadSDK.replace("{0}",b).replace("{1}",c);f.reject(c)}),f.promise()},attemptToLoad:function(b,c,f,g){var h=this;f||(f=5);var j=new a.pandalocker.deferred,k=a.pandalocker.sdk.connect(b,c||{},g);return k.done(function(){j.resolve()}),k.fail(function(a){console.log('Failed to load SDK script "'+
b+'" due to the error "'+a+'". '+f+" attempts left.");"timeout"!==a&&"blocked"!==a&&j.reject(a);0>=f-1?j.reject(a):h.attemptToLoad(b,c,f-1,g).done(function(){j.resolve()}).fail(function(){j.reject(a)})}),j.promise()},verifyButton:function(){var b=this,c=new a.pandalocker.deferred,f=b.verification.timeout,g=function(){if((b.customVerifyButton&&!b.customVerifyButton()||0===b.control.find(b.verification.container).length)&&0<=f)setTimeout(function(){g()},500),f-=500;else{if(0>=f){var h=a.pandalocker.lang.errors.unableToCreateControl.replace("{0}",
b.networkName);return c.reject(h)}c.resolve()}};return g(),c.promise()},showScreen:function(a,c){this.group.showScreen(a,c)}}}(jQuery);
!function(a){var b=a.pandalocker.tools.extend(a.pandalocker.entity.control);b.setup=function(){this.options.actions=this.options.actions||[];var b=!1,f;for(f in this.options.actions)"subscribe"===this.options.actions[f]&&(this.options.actions.splice(f,1),b=!0);b&&this.options.actions.push("subscribe");this.groupOptions.actions&&(this.options.actions=a.extend(this.options.actions,this.groupOptions.actions));for(f=0;f<this.options.actions.length;f++){var g=a.pandalocker.tools.camelCase(this.options.actions[f]);
this.options[g]=this.options[g]||{};var h=g+"Options";this.groupOptions[h]&&(this.options[g]=a.extend(!0,this.options[g],this.groupOptions[h]));h=g+"ActionOptions";this.lockerOptions[h]&&(this.options[g]=a.extend(!0,this.options[g],this.lockerOptions[h]))}if(this.options.proxy=this.options.proxy||this.groupOptions.proxy||this.lockerOptions.proxy,this.options.lazy=this.options.lazy||this.groupOptions.lazy||this.lockerOptions.lazy,b)b=new a.pandalocker.services.subscription({id:this.locker.id,proxy:this.lockerOptions.proxy,
name:this.name,listId:this.options[g].listId,service:this.options[g].service,doubleOptin:this.options[g].doubleOptin,confirm:this.options[g].confirm,requireName:this.options[g].requireName||!1}),this.subscriptionService=this.applyFilters("get-default-subscription-service",b)};b.runActions=function(b,f,g){var h=new a.Deferred,j=this;if(!this._actionsDone){this._actionsDone=!0;var k=this.options.actions.slice();g&&this.showScreen("data-processing");var l=function(){var u=k.shift();if(!u)return h.resolve(),
void j.unlock();var p=j.options[a.pandalocker.tools.camelCase(u)],u=a.pandalocker.tools.camelCase("run-"+u+"-action");if(!j[u])throw h.reject(),j._actionsDone=!1,Error("The action '"+u+"' not found.");j[u](b,f,p,g,function(a){return"error"===a?(j.runHook("raw-error"),h.reject(a),j._actionsDone=!1,j.showScreen("default")):void l()})};return l(),h.promise()}};b.runSubscribeAction=function(b,f,g,h,j){var k=this;console.log("serviceData = ");console.log(f);var l=function(){h&&k.showScreen("data-processing");
var a=k.subscriptionService.subscribe(b,f);k._setupSubscriptionHooks(a,b);a.fail(function(){j("error")})};return b.email?void l():this.showScreen("enter-email",{header:a.pandalocker.lang.onestep_screen_title,message:a.pandalocker.lang.onestep_screen_instructiont,buttonTitle:a.pandalocker.lang.onestep_screen_button,note:a.pandalocker.tools.normilizeHtmlOption(k.options.noSpamText||k.groupOptions.text.noSpamText||a.pandalocker.lang.noSpam),callback:function(a){b.email=a;l()}})};b.runSignupAction=function(b,
f,g,h,j){var k=this,l=function(){h&&k.showScreen("data-processing");var f={};return f.opandaIdentityData=b,f.opandaHandler="signup",f=a.pandalocker.filters.run(k.locker.id+".ajax-data",[f]),f=a.pandalocker.filters.run(k.locker.id+".signup.ajax-data",[f]),a.ajax({type:"POST",dataType:"json",url:k.lockerOptions.proxy,data:f,success:function(){j()},error:function(a){a&&4>a.readyState||(k.showScreen("default"),k.showError("Unable to sign in, the ajax error occurred."),j("error"),console&&console.log&&
(console.log("Invalide ajax response:"),console.log(a.responseText)))}})};return b.email?void l():this.showScreen("enter-email",{header:a.pandalocker.lang.onestep_screen_title,message:a.pandalocker.lang.onestep_screen_instructiont,buttonTitle:a.pandalocker.lang.onestep_screen_button,note:a.pandalocker.tools.normilizeHtmlOption(k.options.noSpamText||k.groupOptions.text.noSpamText||a.pandalocker.lang.noSpam),callback:function(a){b.email=a;l()}})};b.runLeadAction=function(b,f,g,h,j){var k=this,l=function(){h&&
k.showScreen("data-processing");var f={};return f.opandaIdentityData=b,f.opandaHandler="lead",f=a.pandalocker.filters.run(k.locker.id+".ajax-data",[f]),f=a.pandalocker.filters.run(k.locker.id+".lead.ajax-data",[f]),a.ajax({type:"POST",dataType:"json",url:k.lockerOptions.proxy,data:f,success:function(){j()},error:function(a){a&&4>a.readyState||(k.showScreen("default"),k.showError("Unable to sign in, the ajax error occurred."),j("error"),console&&console.log&&(console.log("Invalide ajax response:"),
console.log(a.responseText)))}})};return b.email?void l():this.showScreen("enter-email",{header:a.pandalocker.lang.onestep_screen_title,message:a.pandalocker.lang.onestep_screen_instructiont,buttonTitle:a.pandalocker.lang.onestep_screen_button,note:a.pandalocker.tools.normilizeHtmlOption(k.options.noSpamText||k.groupOptions.text.noSpamText||a.pandalocker.lang.noSpam),callback:function(a){b.email=a;l()}})};b._checkWaitingSubscription=function(){if(this.subscriptionService&&this.subscriptionService.isWaitingSubscription()){var a=
this.subscriptionService.getWaitingIdentityData(),b=this.subscriptionService.waitSubscription(a);this._setupSubscriptionHooks(b,a);this.showScreen("email-confirmation",{service:this.subscriptionService,email:a.email})}};b._setupSubscriptionHooks=function(a,b){var g=this;return a.done(function(){g.unlock()}),a.fail(function(a){g.runHook("raw-error");g.showNotice(a.error);g.showScreen("default");a.detailed&&console&&console.log&&console.log(a.detailed)}),a.always(function(){g.subscriptionService._removeWaitingStatus()}),
a.progress(function(){g.showScreen("email-confirmation",{service:g.subscriptionService,email:b.email})}),a};a.pandalocker.entity.actionControl=b}(jQuery);
!function(a){a.pandalocker.entity.group={_defaults:{},init:function(b,c){this.locker=b;this.lockerOptions=b.options;this.lang=b.lang;"socialLocker"==b.langScope&&"connect-buttons"==this.name&&(b.langScope="signinLocker",this.lang=b.lang=a.pandalocker.lang.scopes[b.langScope]);"socialLocker"==b.langScope&&"email-locker"==this.name&&(b.langScope="emailLocker",this.lang=b.lang=a.pandalocker.lang.scopes[b.langScope]);c||(c={});var f=a.extend(!0,{},this._defaults);this.options=a.extend(!0,f,c);for(var g in c)c.hasOwnProperty(g)&&
a.isArray(c[g])&&(this.options[g]=c[g]);if(this.isFirst=1===c.index,this.isLast=c.index===this.lockerOptions.groups.order.length,this.isSingle=1===this.lockerOptions.groups.order.length,"object"!=typeof this.options.text&&(this.options.text={message:this.options.text}),this.isFirst&&(this.options.text.header=""===this.options.text.header?"":this.options.text.header||this.lang.defaultHeader,this.options.text.message=""===this.options.text.message?"":this.options.text.message||this.lang.defaultMessage),
this.options.text.header=a.pandalocker.tools.normilizeHtmlOption(this.options.text.header),this.options.text.message=a.pandalocker.tools.normilizeHtmlOption(this.options.text.message),this.options.text.footer=a.pandalocker.tools.normilizeHtmlOption(this.options.text.footer),!1!==this.options.separator)f=a.isPlainObject(this.options.separator)?this.options.separator:{type:"line",title:this.options.separator},f.type=f.type||"line",this.options.separator=f;this.childInit&&this.childInit();this.setup&&
this.setup();this.setupHooks&&this.setupHooks();this.prepareOptions&&this.prepareOptions();try{this.createControls()}catch(h){if(!h.onpsl)throw h;this.showError(this.name,h.message)}},createControls:function(){this.controls=[];for(var b=0;b<this.options.order.length;b++){var c=this.options.order[b];if("string"==typeof c){if(!a.pandalocker.controls[this.name][c])throw new a.pandalocker.error('Control "'+c+'" not found in the group "'+this.name+'"');c=this.createControl(c);this.controls.push(c)}}},
createControl:function(b){var c=a.pandalocker.tools.extend(a.pandalocker.controls[this.name][b]),b=a.pandalocker.tools.camelCase(b);return c.init(this,this.options[b]||{}),c},requestState:function(a){for(var c=this.controls.length,f="locked",g=0;g<this.controls.length;g++)this.controls[g].requestState(function(g){c--;"unlocked"===g&&(f=g);0>=c&&a(f)})},canLock:function(){return!0},renderGroup:function(b){var c=a("<div class='onp-sl-group onp-sl-"+this.name+"'></div>");c.appendTo(b);b=a("<div class='onp-sl-group-inner-wrap'></div>");
if(b.appendTo(c),c.addClass(this.isFirst?"onp-sl-first-group":this.isLast?"onp-sl-last-group":"onp-sl-middle-group"),c.addClass(this.isSingle?"onp-sl-single-group":"onp-sl-not-single-group"),c.addClass("onp-sl-group-index-"+this.options.index),this.element=c,this.innerWrap=b,this.renderSeparator(),this.options.text.header||this.options.text.message)c=a("<div class='onp-sl-text'></div>").appendTo(this.innerWrap),this.options.text.header&&c.append(this.options.text.header.addClass("onp-sl-header onp-sl-strong").clone()),
this.options.text.message&&c.append(this.options.text.message.addClass("onp-sl-message").clone());this._isRendered=!0;this.render(this.innerWrap)},render:function(){this.renderControls(this.innerWrap)},unlock:function(a,c,f){this.locker.unlock(a,c,f)},setState:function(a,c,f){this.locker.setState(a,c||"group",f||this.name)},renderControls:function(a){for(var c=0;c<this.controls.length;c++)this.controls[c].renderControl(a)},showError:function(b,c){if(this._isRendered){if(this.element.find(".onp-sl-group-error").remove(),
this._currentErrorFor===b)this.element.find(".onp-sl-group-error").remove(),this._currentErrorFor=null;else{var f=a("<div class='onp-sl-group-error'>"+c+"</div>");this.innerWrap.append(f);this._currentErrorFor=b}this.runHook("size-changed")}else this.locker._showError(b,c)},addClassToLocker:function(a){this.locker._addClass(a)},showNotice:function(b,c,f){var g=this;this.element.find(".onp-sl-group-notice").remove();var h=a("<div class='onp-sl-group-notice'>"+b+"</div>").hide();this.innerWrap.append(h);
h.fadeIn(500,function(){g.runHook("size-changed")});c||(c=7E3);setTimeout(function(){h.length&&h.fadeOut(800,function(){h.remove();f&&f();g.runHook("size-changed")})},c)},renderSeparator:function(){if(!this.isFirst&&!1!==this.options.separator){var b=this,c=this.options.separator,f=c.type;this.element.addClass("onp-sl-has-separator").addClass("onp-sl-has-"+f+"-separator");var g=a("<div class='onp-sl-group-separator onp-sl-"+f+"-separator'></div>"),h=a("hiding-link"===f?"<a href='#'></a>":"<span></span>").addClass("onp-sl-title").appendTo(g);
if(h.html(c.title||a.pandalocker.lang.misc_or),g.appendTo(this.innerWrap),"hiding-link"===f){this.element.addClass("onp-sl-separator-hides");var j=a("<div class='onp-sl-hiding-link-container' style='display: none;'></div>");j.appendTo(this.innerWrap);this.innerWrap=j;h.click(function(){return b.element.removeClass("onp-sl-separator-hides"),b.element.addClass("onp-sl-separator-shows"),g.hide(),j.fadeIn(500),b.runHook("size-changed"),!1})}}},addHook:function(a,c,f){return this.locker.addHook(a,c,f)},
runHook:function(a,c){return this.locker.runHook(a,c)},addFilter:function(a,c,f){return this.locker.addFilter(a,c,f)},applyFilters:function(a,c,f){return this.locker.applyFilters(a,c,f)},showScreen:function(a,c){this.locker._showScreen(a,c)},registerScreen:function(a,c){this.locker._registerScreen(a,c)}}}(jQuery);
!function(a){var b=a.pandalocker.tools.extend(a.pandalocker.entity.group);b._defaults={url:null,layout:"horizontal",flip:!1,order:["twitter-tweet","facebook-like"],behaviorOnError:"show_error",behaviorError:"Unable to create Social Buttons. Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock, Adguard etc.) or usage of private tabs in FireFox may cause this issue. Turn them off and try again.",counters:!0,facebook:{version:"v2.5",
like:{title:a.pandalocker.lang.socialButtons.facebookLike},share:{title:a.pandalocker.lang.socialButtons.facebookShare}},twitter:{tweet:{title:a.pandalocker.lang.socialButtons.twitterTweet},follow:{title:a.pandalocker.lang.socialButtons.twitterFollow}},google:{plus:{title:a.pandalocker.lang.socialButtons.googlePlus},share:{title:a.pandalocker.lang.socialButtons.googleShare}},youtube:{title:a.pandalocker.lang.socialButtons.youtubeSubscribe},linkedin:{share:{title:a.pandalocker.lang.socialButtons.linkedinShare}}};
b.name="social-buttons";b.prepareOptions=function(){this.options.lang=this.locker.options.lang;"horizontal"!==this.options.layout&&"vertical"!==this.options.layout&&(this.options.layout="horizontal");this.options.url=this.options.url||this.locker.options.url;this.locker.options.buttons&&(this.locker.options.buttons.order&&(this.options.order=this.locker.options.buttons.order),"undefined"!=typeof this.locker.options.buttons.counters&&(this.options.counters=this.locker.options.buttons.counters));this.locker.options.facebook&&
(this.options.facebook=a.extend(!0,this.options.facebook,this.locker.options.facebook));this.locker.options.twitter&&(this.options.twitter=a.extend(!0,this.options.twitter,this.locker.options.twitter));this.locker.options.google&&(this.options.google=a.extend(!0,this.options.google,this.locker.options.google));this.locker.options.linkedin&&(this.options.linkedin=a.extend(!0,this.options.linkedin,this.locker.options.linkedin));this.locker.options.youtube&&(this.options.youtube=a.extend(!0,this.options.youtube,
this.locker.options.youtube))};b.render=function(){this._groupIsRendered=!0;this.element.addClass(this.options.counters?"onp-sl-has-counters":"onp-sl-no-counters");this.element.addClass("onp-sl-"+this.options.layout);this.element.addClass("onp-sl-lang-"+this.options.lang);this._loadedButtons=a.extend([],this.options.order);this.renderControls(this.innerWrap)};b._loadedButtons=[];b.onControlError=function(a){this._groupIsRendered&&(a=jQuery.inArray(a,this._loadedButtons),this._loadedButtons.splice(a,
1),0===this._loadedButtons.length&&("show_error"===this.options.behaviorOnError?this.showError("adblock",this.options.behaviorError):this.locker.unlock("error")))};b.createControl=function(b){var f=a.pandalocker.tools.extend(a.pandalocker.controls[this.name][b]),g=b.split("-"),b=2===g.length?g[0]:null,h=2===g.length?g[1]:g[0],g={};b?(this.options[b]&&(g=a.extend({},this.options[b])),this.options[b][h]&&(g=a.extend(g,this.options[b][h]))):this.options[h]&&(g=a.extend(g,this.options[h]));b=b?this.options[b]:
{};return b.lang=this.options.lang,b.counters=this.options.counters,b.url=b.url||this.options.url,f.init(this,g,b),f};b.canLock=function(){return 0===this.options.order.length?!1:!0};a.pandalocker.groups["social-buttons"]=b}(jQuery);
!function(a){var b=a.pandalocker.tools.extend(a.pandalocker.entity.control);b.init=function(b,f,g){this.networkOptions=g;g=this.name.split("-");this.networkName=this.sdk?this.sdk:2===g.length?g[0]:null;this.buttonName=2===g.length?g[1]:g[0];a.pandalocker.entity.control.init.call(this,b,f);this._ssIdentity=this.networkName?"page_"+a.pandalocker.tools.hash(this.url)+"_hash_"+this.networkName+"-"+this.buttonName:"page_"+a.pandalocker.tools.hash(this.url)+"_hash_"+this.buttonName};b._extractUrl=function(){return a.pandalocker.tools.URL.normalize(this.options.url||
this.networkOptions.url||window.location.href)};b.render=function(b){var f=this;if(this.networkName&&this.control.addClass("onp-sl-"+this.networkName),this.container=a("<div class='onp-sl-social-button onp-sl-social-button-"+this.name+"'></div>"),this.container.appendTo(b),!this._hasError()){this._setLoadingState();var g=function(){var a=f.requireSdk(f.networkName,f.networkOptions);a.fail(function(a){f._removeLoadingState();f.showError(a)});a.done(function(){f.setupEvents();f.renderButton(f.container);
f.verifyButton().done(function(){f.onButtonRendered&&f.onButtonRendered()}).always(function(){f._removeLoadingState()}).fail(function(a){f.showError(a)})})};this.locker.options.lazy?this.addHook("raw-impress",function(){f._rendered||(f._rendered=!0,g())}):g()}this._addFlipEffect()};b._addFlipEffect=function(){var b=this.control,f=this.innerWrap,g=this.group.options.flip,h=a.pandalocker.tools.has3d();if(g&&h&&b.addClass("onp-sl-flip")||b.addClass("onp-sl-no-flip"),!g)return!0;g=this.options.title||
(this.networkName?a.pandalocker.lang[this.networkName+"_"+this.buttonName]:a.pandalocker.lang[this.networkName]);g=a("<a href='#'></a>").addClass("onp-sl-button-overlay").append(a("<div class='onp-sl-overlay-back'></div>")).append(a("<div class='onp-sl-overlay-front'></div>").append(a("<div class='onp-sl-overlay-icon'></div>")).append(a("<div class='onp-sl-overlay-line'></div>")).append(a("<div class='onp-sl-overlay-text'>"+g+"</div>"))).append(a("<div class='onp-sl-overlay-header'></div>"));g.prependTo(f);
h||b.hover(function(){var b=a(this).find(".onp-sl-button-overlay");b.stop().animate({opacity:0},200,function(){b.hide()})},function(){a(this).find(".onp-sl-button-overlay").show().stop().animate({opacity:1},200)});a.pandalocker.isTouch()&&g.click(h?function(){return b.hasClass("onp-sl-flip-hover")?b.removeClass("onp-sl-flip-hover"):(a(".onp-sl-flip-hover").removeClass("onp-sl-flip-hover"),b.addClass("onp-sl-flip-hover")),!1}:function(){var b=a(this);return b.stop().animate({opacity:0},200,function(){b.hide()}),
!1});this.group._buttonsZIndex||(this.group._buttonsZIndex=54);this.group._buttonsZIndex-=4;f=this.group._buttonsZIndex;b.css("z-index",f);g&&(g.css("z-index",f),g.find(".onp-sl-overlay-front").css("z-index",1),g.find(".onp-sl-overlay-back").css("z-index",-1),g.find(".onp-sl-overlay-header").css("z-index",1))};b._getStorageIdentity=function(){return this._ssIdentity};b.verification={container:"iframe",timeout:5E3};a.pandalocker.entity.socialButton=b}(jQuery);
!function(a){a.onepress||(a.onepress={});a.pandalocker.sdk||(a.pandalocker.sdk={});a.pandalocker.sdk.facebook=a.pandalocker.sdk.facebook||{name:"facebook",url1:"//connect.facebook.net/{lang}/all.js",url2:"//connect.facebook.net/{lang}/sdk.js",scriptId:"facebook-jssdk",timeout:1E4,isLoaded:function(){return"object"==typeof window.FB},prepare:function(){0===a("#fb-root").length&&a("<div id='fb-root'></div>").appendTo(a("body"));var b=this.options&&this.options.lang||"en_US";this.url1=this.url1.replace("{lang}",
b);this.url2=this.url2.replace("{lang}",b);this.url="v1.0"===this.options.version?this.url1:this.url2;this.startTracking()},_trackingStarted:!1,startTracking:function(){if(!this._trackingStarted){this._trackingStarted=!0;a(window).focus(function(){}).blur(function(){});var b,c,f,g={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(c in g)if(c in document){f=g[c];break}b=function(a){return a&&document.addEventListener(f,
a),!document[c]};b(function(){b()});var h=400,j=[],k=!1,l=function(a){k=!0;setTimeout(function(){h-=200;0<=h?l(a):(k=!1,a&&a())},200)},g=function(b){b.origin.indexOf&&-1!=b.origin.indexOf("facebook")&&(j.push(b.data),console&&console.log&&console.log(b.data),k||l(function(){console&&console.log&&console.log(j);var b=!1,c=!1,f;for(f in j)0<=j[f].indexOf("resize&")&&(b=!0),0<=j[f].indexOf("plugin_ready&")&&(c=!0);b&&c&&(console&&console.log&&console.log("1th unlock condition reached."),a(document).trigger("onp-sl-facebook-like",
a.pandalocker.isTouch()?["any"]:["auto"]));h=400;j=[]}))};window.addEventListener?window.addEventListener("message",g,!1):window.attachEvent("onmessage",g)}},_setup:!1,setup:function(){this._setup||(window.FB.init({appId:this.options&&this.options.appId||null,status:!0,cookie:!0,xfbml:!0,version:this.options.version}),window.FB.Event.subscribe("edge.create",function(b){a(document).trigger("onp-sl-facebook-like",[b,!0])}),window.FB.init=function(){},a(document).trigger(this.name+"-init"),this._setup=
!0)},createEvents:function(){var a=this;if(this.isLoaded())a.setup();else{if(window.fbAsyncInit)var c=window.fbAsyncInit;window.fbAsyncInit=function(){a.setup();c&&c();window.fbAsyncInit=function(){}}}}}}(jQuery);
!function(a){a.onepress||(a.onepress={});a.pandalocker.sdk||(a.pandalocker.sdk={});a.pandalocker.sdk.twitter=a.pandalocker.sdk.twitter||{name:"twitter",url:"//platform.twitter.com/widgets.js",scriptId:"twitter-wjs",timeout:1E4,isLoaded:function(){return"undefined"!=typeof window.__twttrlr},createEvents:function(){var b=this,c=function(){a(document).trigger(b.name+"-init")};return this.isLoaded()?void c():(window.twttr||(window.twttr={}),window.twttr.ready||(window.twttr=a.extend(window.twttr,{_e:[],
ready:function(a){this._e.push(a)}})),void twttr.ready(function(){c()}))},prepare:function(){var b=function(b){return(b||b.data)&&"string"==typeof b.data?-1!==b.data.indexOf(':["tweet"')?a(document).trigger("onp-sl-twitter-tweet"):-1!==b.data.indexOf(':["follow"')?a(document).trigger("onp-sl-twitter-follow"):void 0:void 0};window.addEventListener?window.addEventListener("message",b,!1):window.attachEvent("onmessage",b)}}}(jQuery);
!function(a){a.onepress||(a.onepress={});a.pandalocker.sdk||(a.pandalocker.sdk={});a.pandalocker.sdk.google=a.pandalocker.sdk.google||{name:"google",url:"//apis.google.com/js/plusone.js",scriptId:"google-jssdk",timeout:1E4,isLoaded:function(){return"object"==typeof window.gapi},prepare:function(){var b=this;b.notAuthed=!1;var c=this.options&&this.options.lang||"en";if(window.___gcfg=window.___gcfg||{lang:c},window.OPanda_GooglePlusOne_Callback=function(b){"on"===b.state&&a(document).trigger("onp-sl-google-plus",
[b.href])},window.OPanda_GoogleShare_StartInteraction=function(b){a.pandalocker.data.__googleShareUrl=b.id},!a.pandalocker.tools.isTabletOrMobile())c=function(c){if((c||c.data)&&"string"==typeof c.data&&-1===c.data.indexOf("oauth2relay")){if(-1!==c.data.indexOf("::drefresh"))return void(b.notAuthed=!0);if(-1!==c.data.indexOf("::_g_wasClosed")||-1!==c.data.indexOf("::_g_closeMe")){if(b.notAuthed)return void(b.notAuthed=!1);a(document).trigger("onp-sl-google-share")}}},window.addEventListener?window.addEventListener("message",
c,!1):window.attachEvent("onmessage",c)}}}(jQuery);
!function(a){a.onepress||(a.onepress={});a.pandalocker.sdk||(a.pandalocker.sdk={});a.pandalocker.sdk.googleClient=a.pandalocker.sdk.googleClient||{name:"google-client",url:"//apis.google.com/js/client:platform.js?onload=OPanda_GoogleClient_Callback",scriptId:"google-client-jssdk",timeout:1E4,isLoaded:function(){return window.gapi&&"object"==typeof window.gapi.auth},prepare:function(){var b=this;window.OPanda_GoogleClient_Callback=function(){a(document).trigger(b.name+"-script-loaded")}}}}(jQuery);
!function(a){a.onepress||(a.onepress={});a.pandalocker.sdk||(a.pandalocker.sdk={});a.pandalocker.sdk.linkedin=a.pandalocker.sdk.linkedin||{name:"linkedin",url:"//platform.linkedin.com/in.js",scriptId:"linkedin-jssdk",timeout:1E4,isLoaded:function(){return"object"==typeof window.IN},prepare:function(){window.OPanda_LinkedinShare_Callback=function(b){a(document).trigger("onp-sl-linkedin-share",[b])};var b=window.open;window.open=function(c,f,g){c=b(c,f,g);return!c?c:(f=f||c.name)?"easyXDM_IN"!==f.substring(0,
10)?c:void(a.pandalocker.sdk.linkedin._activePopup=c):c}}}}(jQuery);
!function(a){var b=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);b.name="facebook-like";b._readyForUnlock=!1;b._defaults={url:null,layout:"button_count",width:null,verbToDisplay:"like",colorScheme:"light",font:"tahoma",ref:null,theConfirmIssue:!1};b.prepareOptions=function(){this.url=this._extractUrl();"vertical"===this.groupOptions.layout?this.options.layout="box_count":this.groupOptions.counters||(this.options.layout="button")};b.setupHooks=function(){};b.setupEvents=function(){var b=
this,f=!1;a(document).bind("onp-sl-facebook-like",function(g,h,j){return!b._readyForUnlock&&!j||"auto"!==h&&"any"!==h&&b.url!==a.pandalocker.tools.URL.normalize(h)?void 0:"auto"===h?void(b.locker===a.pandalocker._current&&a(document).trigger("onp-sl-facebook-like",[b.url])):void(f||(f=!0,b.unlock("button",b.name,b.url)))})};b.renderButton=function(b){this.button=a("<div></div>").appendTo(b);this.button.attr("data-show-faces",!1);this.button.attr("data-send",!1);this.button.attr("data-href",this.url);
this.options.font&&this.button.attr("data-font",this.options.font);this.options.colorScheme&&this.button.attr("data-colorscheme",this.options.colorScheme);this.options.ref&&this.button.attr("data-ref",this.options.ref);this.options.width&&this.button.attr("data-width",this.options.width);this.options.layout&&this.button.attr("data-layout",this.options.layout);this.options.verbToDisplay&&this.button.attr("data-action",this.options.verbToDisplay);this.button.addClass("fb-like");this._readyForUnlock=
!1;window.FB.XFBML.parse(b[0])};b.customVerifyButton=function(){if(this.customVerification=!1,0===this.control.find(this.verification.container).length)return!1;var a=this.control.find(this.verification.container).attr("style");return(a=/height:\s*(\d+)px/i.exec(a))&&a[1]&&0!==parseInt(a[1])?!0:!1};b.onButtonRendered=function(){var a=this;setTimeout(function(){a._readyForUnlock=!0},1500)};a.pandalocker.controls["social-buttons"]["facebook-like"]=b}(jQuery);
!function(a){var b=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);b.name="facebook-share";b._defaults={url:null,layout:"button_count",count:"standard",lang:"en_US",width:null,shareDialog:!1,name:null,caption:null,description:null,image:null,unlock:null};b.prepareOptions=function(){return this.url=this._extractUrl(),this.options.appId&&"117100935120196"!=this.options.appId?void("vertical"===this.groupOptions.layout?this.options.layout="box_count":this.groupOptions.counters||(this.options.layout=
"button")):(this.showError(a.pandalocker.lang.errors.emptyFBAppIdError),!1)};b.setupEvents=function(){var b=this;a(document).bind("onp-sl-facebook-share",function(f,g){b.url===a.pandalocker.tools.URL.normalize(g)&&b.unlock("button",b.name,b.url)})};b.renderButton=function(b){var f=this;this.button=a("<div></div>").appendTo(b);this.button.attr("data-href",this.url);this.options.width&&this.button.attr("data-width",this.options.width);this.options.layout&&(this.button.attr("data-layout",this.options.layout),
this.button.attr("data-type",this.options.layout));a("<div class='onp-sl-facebook-share-overlay'></div>").appendTo(b).click(f.options.shareDialog?function(){return FB.ui({method:"share",href:f.url,display:"popup"},function(b){return console&&console.log&&console.log("AX12:"),console&&console.log&&console.log(b),a.pandalocker.tools.isTabletOrMobile()&&"undefined"==typeof b||null===b?void a(document).trigger("onp-sl-facebook-share",[f.url]):void("undefined"!=typeof b&&null!==b&&("object"==typeof b&&
b.error_code&&0<b.error_code||a(document).trigger("onp-sl-facebook-share",[f.url])))}),!1}:function(){return FB.ui({method:"feed",name:f.options.name,link:f.url,picture:f.options.image,caption:f.options.caption,description:f.options.description},function(b){return console&&console.log&&console.log("AX12:"),console&&console.log&&console.log(b),a.pandalocker.tools.isTabletOrMobile()&&"undefined"==typeof b||null===b?void a(document).trigger("onp-sl-facebook-share",[f.url]):void("undefined"!=typeof b&&
null!==b&&("object"==typeof b&&b.error_code&&0<b.error_code||a(document).trigger("onp-sl-facebook-share",[f.url])))}),!1});this.button.addClass("fb-share-button");window.FB.XFBML.parse(b[0])};b.customVerifyButton=function(){if(this.customVerification=!1,0===this.control.find(this.verification.container).length)return!1;var a=this.control.find(this.verification.container).attr("style");return(a=/height:\s*(\d+)px/i.exec(a))&&a[1]&&0!==parseInt(a[1])?!0:!1};a.pandalocker.controls["social-buttons"]["facebook-share"]=
b}(jQuery);
!function(a){a.pandalocker.data||(a.pandalocker.data={});a.pandalocker.data.__tweetedUrl=null;a.pandalocker.data.__tweetWindow=null;var b=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);b.name="twitter-tweet";b.verification={container:"iframe",timeout:5E3};b._defaults={doubleCheck:!1,url:null,text:null,via:null,related:null,count:"horizontal",lang:"en",counturl:null,size:"medium"};b.prepareOptions=function(){if(!this.options.url&&!this.networkOptions.url&&0<a("link[rel='canonical']").length&&(this.options.url=
a("link[rel='canonical']").attr("href")),this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.showError(a.pandalocker.lang.errors.unsupportedTwitterTweetLayout):this.groupOptions.counters||(this.options.count="none"),this.groupOptions.lang){var b=this.groupOptions.lang.split("_");this.options.lang=b[0]}this.options.text||(b=a("title"),this.options.text=0<b.length?a(b[0]).text():"")};b.setupEvents=function(){var b=this;a(document).bind("onp-sl-twitter-tweet",function(){b.url===a.pandalocker.data.__tweetedUrl&&
(a.pandalocker.data.__tweetWindow&&a.pandalocker.data.__tweetWindow.close&&a.pandalocker.data.__tweetWindow.close(),a.pandalocker.data.__tweetWindow=null,b.unlock("button",b.name,b.url))})};b.renderButton=function(b){var f=this;this.button=a('<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>').appendTo(b);this.button.attr("data-url",this.url);this.button.attr("data-show-count",this.options.showCount);this.options.via&&this.button.attr("data-via",this.options.via);this.options.text&&
this.button.attr("data-text",this.options.text);this.options.lang&&this.button.attr("data-lang",this.options.lang);this.options.hashtags&&this.button.attr("data-hashtags",this.options.hashtags);this.options.size&&this.button.attr("data-size",this.options.size);this.options.dnt&&this.button.attr("data-dnt",this.options.dnt);a("<div class='onp-sl-feature-overlay'></div>").appendTo(b).click(function(){f.tweet(f.options.doubleCheck).done(function(){a(document).trigger("onp-sl-twitter-tweet",[f.url])})});
b.data("url-to-verify",f.url);var g=5,h=function(){0<b.find("iframe").length||(window.twttr.widgets&&window.twttr.widgets.load?window.twttr.widgets.load(b[0]):0>=g||(g--,setTimeout(function(){h()},1E3)))};h()};b.tweet=function(b){var f=this,g=a.Deferred();if(b)return this.connect(function(){f.tweet(!1).done(function(){var b=f.checkTweet(f.url);b.done(function(){g.resolve()});b.fail(function(){f.showNotice(a.pandalocker.lang.errors.tweetNotFound)})})}),g;b=[];if(f.options.text){var h=encodeURI(f.options.text),
h=h.replace(/#/g,"%23"),h=h.replace(/\|/g,"-"),h=h.replace(/\&/g,"%26");b.push(["text",h])}f.options.hashtags&&b.push(["hashtags",f.options.hashtags]);f.options.via&&b.push(["via",f.options.via]);f.options.related&&b.push(["via",f.options.related]);b.push(["url",f.url]);a.pandalocker.data.__tweetedUrl=f.url;var b=a.pandalocker.tools.URL().scheme("http").host("twitter.com").path("/intent/tweet").query(b).toString(),h=screen.width?screen.width/2-275+a.pandalocker.tools.findLeftWindowBoundry():0,j=screen.height?
screen.height/2-210+a.pandalocker.tools.findTopWindowBoundry():0;return a.pandalocker.data.__twitterAuth&&!1===a.pandalocker.data.__twitterAuth.closed?(a.pandalocker.data.__twitterAuth.updateState(b,550,420,h,j),a.pandalocker.data.__tweetWindow=a.pandalocker.data.__twitterAuth,a.pandalocker.data.__twitterAuth=null):a.pandalocker.data.__tweetWindow=window.open(b,"TwitterTweetWindow","width=550,height=420,left="+h+",top="+j),setTimeout(function(){var b=setInterval(function(){a.pandalocker.data.__tweetWindow&&
!1===a.pandalocker.data.__tweetWindow.closed||(clearInterval(b),g.resolve())},200)},200),g.promise()};b.connect=function(b){var f=this;if(a.pandalocker.data.twitterOAuthReady)a.pandalocker.data.__twitterAuthIdentityData?b(a.pandalocker.data.__twitterAuthIdentityData,f._getServiceData()):this._identify(function(a){b(a,f._getServiceData())});else{var g={opandaHandler:"twitter",opandaRequestType:"init",opandaKeepOpen:!0,opandaReadOnly:!0},h=a.pandalocker.tools.cookie("opanda_twid");h&&"null"!==h&&(g.opandaVisitorId=
h);var h=f.options.proxy,j;for(j in g)g.hasOwnProperty(j)&&(h=a.pandalocker.tools.updateQueryStringParameter(h,j,g[j]));f._trackWindow("opandaHandler=twitter",function(){setTimeout(function(){a.pandalocker.data.twitterOAuthReady||(f.runHook("raw-social-app-declined"),f.showNotice(a.pandalocker.lang.errors_not_signed_in))},500)});g=screen.width?screen.width/2-250+a.pandalocker.tools.findLeftWindowBoundry():0;j=screen.height?screen.height/2-305+a.pandalocker.tools.findTopWindowBoundry():0;a.pandalocker.data.__twitterAuth=
window.open(h,"Twitter Tweet","width=500,height=610,left="+g+",top="+j+",resizable=yes,scrollbars=yes,status=yes");window.OPanda_TwitterOAuthCompleted=function(g){a.pandalocker.data.twitterOAuthReady=!0;f._saveVisitorId(g);f.connect(b)};window.OPanda_TwitterOAuthDenied=function(b){f.runHook("raw-social-app-declined");f.showNotice(a.pandalocker.lang.errors_not_signed_in);f._saveVisitorId(b)}}};b._saveVisitorId=function(b){this._visitorId=b;a.pandalocker.data.__twitterVisitorId=b;a.pandalocker.tools.cookie("opanda_twid",
b,{expires:1E3,path:"/"})};b._getServiceData=function(){return{visitorId:a.pandalocker.data.__twitterVisitorId}};b._identify=function(b){var f=a.ajax({type:"POST",dataType:"json",url:this.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"user_info",opandaVisitorId:a.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(g){console.log(g);(!g||g.error||g.errors)&&console&&console.log&&console.log("Unable to get the user data: "+f.responseText);var h={};h.displayName=g.screen_name;
h.twitterUrl="https://twitter.com/"+g.screen_name;g.profile_image_url&&(h.image=g.profile_image_url.replace("_normal",""));a.pandalocker.data.__twitterAuthIdentityData=h;b(h)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+f.responseText);b({})}})};b.checkTweet=function(){var b=this,f=a.Deferred(),g=a.ajax({type:"POST",dataType:"json",url:b.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"get_tweets",opandaVisitorId:a.pandalocker.data.__twitterVisitorId,
opandaReadOnly:!0},success:function(a){(!a||a.error||a.errors)&&console&&console.log&&console.log("Unable to get the user data: "+g.responseText);for(var j=0;j<a.length;j++)if(a[j].entities)for(var k=0;k<a[j].entities.urls.length;k++)if(a[j].entities.urls[k]&&a[j].entities.urls[k].expanded_url===b.url)return void f.resolve();f.reject()},error:function(){console&&console.log&&console.log("Unable to get the user data: "+g.responseText);callback({})}});return f.promise()};a.pandalocker.controls["social-buttons"]["twitter-tweet"]=
b}(jQuery);
!function(a){a.pandalocker.data||(a.pandalocker.data={});a.pandalocker.data.__followedUrl=null;a.pandalocker.data.__followWindow=null;var b=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);b.name="twitter-follow";b.verification={container:"iframe",timeout:6E5};b._defaults={doubleCheck:!1,url:null,hideScreenName:!1,showCount:!0,lang:"en",size:"medium"};b.prepareOptions=function(){if(!this.options.url||-1===this.options.url.indexOf("twitter"))return this.showError(a.pandalocker.lang.errors.emptyTwitterFollowUrlError),!1;
if(this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.showError(a.pandalocker.lang.errors.unsupportedTwitterFollowLayout):this.groupOptions.counters||(this.options.showCount=!1),this.groupOptions.lang){var b=this.groupOptions.lang.split("_");this.options.lang=b[0]}};b.setupEvents=function(){var b=this;a(document).bind("onp-sl-twitter-follow",function(){b.url===a.pandalocker.data.__followedUrl&&(a.pandalocker.data.__followWindow&&a.pandalocker.data.__followWindow.close&&a.pandalocker.data.__followWindow.close(),
a.pandalocker.data.__followWindow=null,b.unlock("button",b.name,b.url))})};b.renderButton=function(b){var f=this;this.button=a('<a href="https://twitter.com/share" class="twitter-follow-button">Follow</a>').appendTo(b);this.button.attr("href",this.url);this.button.attr("data-show-count",this.options.showCount);this.options.showCount&&this.button.attr("data-show-count",this.options.showCount);this.options.lang&&this.button.attr("data-lang",this.options.lang);this.options.alignment&&this.button.attr("data-alignment",
this.options.alignment);this.options.size&&this.button.attr("data-size",this.options.size);this.options.dnt&&this.button.attr("data-dnt",this.options.dnt);this.options.hideScreenName&&this.button.attr("data-show-screen-name",!1);a("<div class='onp-sl-feature-overlay'></div>").appendTo(b).click(function(){return f.follow(f.options.doubleCheck).done(function(){a(document).trigger("onp-sl-twitter-follow",[f.url])}),!1});b.data("url-to-verify",f.url);var g=5,h=function(){0<b.find("iframe").length||(window.twttr.widgets&&
window.twttr.widgets.load?window.twttr.widgets.load(b[0]):0>=g||(g--,setTimeout(function(){h()},1E3)))};h()};b.follow=function(b){var f=this,g=a.Deferred();if(b)return this.connect(function(){f.follow(!1).done(function(){var b=f.checkFollower(f.url);b.done(function(){g.resolve()});b.fail(function(){f.showNotice(a.pandalocker.lang.errors.followingNotFound)})})}),g;b=[];a.pandalocker.data.__followedUrl=f.url;var h=f.url.split("/");f.screenName=h[h.length-1];b.push(["screen_name",f.screenName]);var b=
a.pandalocker.tools.URL().scheme("http").host("twitter.com").path("/intent/follow").query(b).toString(),h=screen.width?screen.width/2-275+a.pandalocker.tools.findLeftWindowBoundry():0,j=screen.height?screen.height/2-265+a.pandalocker.tools.findTopWindowBoundry():0;return a.pandalocker.data.__twitterAuth&&!1===a.pandalocker.data.__twitterAuth.closed?(a.pandalocker.data.__twitterAuth.updateState(b,550,530,h,j),a.pandalocker.data.__followWindow=a.pandalocker.data.__twitterAuth,a.pandalocker.data.__twitterAuth=
null):a.pandalocker.data.__followWindow=window.open(b,"TwitterFollowWindow","width=550,height=530,left="+h+",top="+j),setTimeout(function(){var b=setInterval(function(){a.pandalocker.data.__followWindow&&!1===a.pandalocker.data.__followWindow.closed||(clearInterval(b),g.resolve())},200)},200),g.promise()};b.connect=function(b){var f=this;if(a.pandalocker.data.twitterOAuthReady)a.pandalocker.data.__twitterAuthIdentityData?b(a.pandalocker.data.__twitterAuthIdentityData,f._getServiceData()):this._identify(function(a){b(a,
f._getServiceData())});else{var g={opandaHandler:"twitter",opandaRequestType:"init",opandaKeepOpen:!0,opandaReadOnly:!0},h=a.pandalocker.tools.cookie("opanda_twid");h&&"null"!==h&&(g.opandaVisitorId=h);var h=f.options.proxy,j;for(j in g)g.hasOwnProperty(j)&&(h=a.pandalocker.tools.updateQueryStringParameter(h,j,g[j]));f._trackWindow("opandaHandler=twitter",function(){setTimeout(function(){a.pandalocker.data.twitterOAuthReady||(f.runHook("raw-social-app-declined"),f.showNotice(a.pandalocker.lang.errors_not_signed_in))},
500)});g=screen.width?screen.width/2-250+a.pandalocker.tools.findLeftWindowBoundry():0;j=screen.height?screen.height/2-305+a.pandalocker.tools.findTopWindowBoundry():0;a.pandalocker.data.__twitterAuth=window.open(h,"Twitter Follow","width=500,height=610,left="+g+",top="+j+",resizable=yes,scrollbars=yes,status=yes");window.OPanda_TwitterOAuthCompleted=function(g){a.pandalocker.data.twitterOAuthReady=!0;f._saveVisitorId(g);f.connect(b)};window.OPanda_TwitterOAuthDenied=function(b){f.runHook("raw-social-app-declined");
f.showNotice(a.pandalocker.lang.errors_not_signed_in);f._saveVisitorId(b)}}};b._saveVisitorId=function(b){this._visitorId=b;a.pandalocker.data.__twitterVisitorId=b;a.pandalocker.tools.cookie("opanda_twid",b,{expires:1E3,path:"/"})};b._getServiceData=function(){return{visitorId:a.pandalocker.data.__twitterVisitorId}};b._identify=function(b){var f=a.ajax({type:"POST",dataType:"json",url:this.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"user_info",opandaVisitorId:a.pandalocker.data.__twitterVisitorId,
opandaReadOnly:!0},success:function(g){console.log(g);(!g||g.error||g.errors)&&console&&console.log&&console.log("Unable to get the user data: "+f.responseText);var h={};h.displayName=g.screen_name;h.twitterUrl="https://twitter.com/"+g.screen_name;g.profile_image_url&&(h.image=g.profile_image_url.replace("_normal",""));a.pandalocker.data.__twitterAuthIdentityData=h;b(h)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+f.responseText);b({})}})};b.checkFollower=function(){var b=
a.Deferred(),f=a.ajax({type:"POST",dataType:"json",url:this.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"get_followers",opandaSceenName:this.screenName,opandaVisitorId:a.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(a){if((!a||a.error||a.errors)&&console&&console.log&&console.log("Unable to get the user data: "+f.responseText),a[0])for(var h=0;h<a[0].connections.length;h++)if("following"===a[0].connections[h])return void b.resolve();b.reject()},error:function(){console&&
console.log&&console.log("Unable to get the user data: "+f.responseText);callback({})}});return b.promise()};a.pandalocker.controls["social-buttons"]["twitter-follow"]=b}(jQuery);
!function(a){var b=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);b.name="google-plus";b._defaults={url:null,lang:"en-US",size:"medium",width:null,align:"left",clientId:null,calltoactionlabel:"RECOMMEND",prefilltext:null};b.prepareOptions=function(){return this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.size="tall":this.groupOptions.counters||(this.options.annotation="none"),this.options.clientId?void 0:(this.showError(a.pandalocker.lang.errors.emptyGoogleClientId),
!1)};b.setupEvents=function(){var b=this;a(document).bind("onp-sl-google-plus",function(f,g){b.url===a.pandalocker.tools.URL.normalize(g)&&b.unlock("button",b.name,b.url)})};b.renderButton=function(b){var f=this;this.button=a("<div></div>").appendTo(b);this.button.attr("data-href",this.url);this.options.size&&this.button.attr("data-size",this.options.size);this.options.annotation&&this.button.attr("data-annotation",this.options.annotation);this.options.align&&this.button.attr("data-align",this.options.align);
this.options.expandTo&&this.button.attr("data-expandTo",this.options.expandTo);this.options.recommendations&&this.button.attr("data-recommendations",this.options.recommendations);this.button.attr("data-callback","OPanda_GooglePlusOne_Callback");this.button.addClass("g-plusone");var g=a("<div class='onp-sl-feature-overlay g-interactivepost'></div>").appendTo(b);g.attr("data-contenturl",this.url);g.attr("data-clientid",this.options.clientId);g.attr("data-cookiepolicy","none");g.attr("data-calltoactionurl",
this.url);this.options.calltoactionlabel&&g.attr("data-calltoactionlabel",this.options.calltoactionlabel);this.options.prefilltext&&g.attr("data-prefilltext",this.options.prefilltext);var h="googleOnShareCallback"+a.pandalocker.tools.hash(this.url);g.attr("data-onshare",h);window[h]||(window[h]=function(b){b&&"shared"===b.action&&a(document).trigger("onp-sl-google-plus",[f.url])});setTimeout(function(){window.gapi.plusone.go(b[0]);window.gapi.interactivepost.go(b[0])},100)};a.pandalocker.controls["social-buttons"]["google-plus"]=
b}(jQuery);
!function(a){a.pandalocker.data||(a.pandalocker.data={});a.pandalocker.data.__googleShareUrl=null;var b=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);b.name="google-share";b._defaults={url:null,lang:"en-US",size:null,width:null,align:"left",clientId:null,calltoactionlabel:"RECOMMEND",prefilltext:null};b.prepareOptions=function(){return this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.size="tall":this.groupOptions.counters||(this.options.annotation="none"),
this.options.clientId?void 0:(this.showError(a.pandalocker.lang.errors.emptyGoogleClientId),!1)};b.setupEvents=function(){var b=this;a(document).bind("onp-sl-google-share",function(f,g){b.url===a.pandalocker.tools.URL.normalize(g||a.pandalocker.data.__googleShareUrl)&&b.unlock("button",b.name,b.url)})};b.renderButton=function(b){var f=this;this.button=a("<div></div>").appendTo(b);this.button.attr("data-href",this.url);this.options.size&&this.button.attr("data-size",this.options.size);this.options.align&&
this.button.attr("data-align",this.options.align);this.options.width&&this.button.attr("data-width",this.options.width);this.button.addClass("g-plus").attr("data-action","share");var g=a("<div class='onp-sl-feature-overlay g-interactivepost'></div>").appendTo(b);g.attr("data-contenturl",this.url);g.attr("data-clientid",this.options.clientId);g.attr("data-cookiepolicy","none");g.attr("data-calltoactionurl",this.url);this.options.calltoactionlabel&&g.attr("data-calltoactionlabel",this.options.calltoactionlabel);
this.options.prefilltext&&g.attr("data-prefilltext",this.options.prefilltext);var h="googleOnShareCallback"+a.pandalocker.tools.hash(this.url);g.attr("data-onshare",h);window[h]||(window[h]=function(b){b&&"shared"===b.action&&a(document).trigger("onp-sl-google-share",[f.url])});setTimeout(function(){window.gapi.plus.go(b[0]);window.gapi.interactivepost.go(b[0])},100)};a.pandalocker.controls["social-buttons"]["google-share"]=b}(jQuery);
!function(a){var b=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);b.name="youtube-subscribe";b.sdk="google-client";b._defaults={clientId:null,channelId:null,layout:"default",count:"default"};b._extractUrl=function(){return this.options.channelId};b.prepareOptions=function(){this.url=this._extractUrl();this.options.channelId||this.showError(a.pandalocker.lang.errors.emptyYoutubeChannelId);this.options.clientId||this.showError(a.pandalocker.lang.errors.emptyGoogleClientId);"vertical"===
this.groupOptions.layout?this.showError(a.pandalocker.lang.errors.unsupportedYoutubeSubscribeLayout):this.groupOptions.counters||(this.options.count="hidden")};b.setupEvents=function(){var b=this;a(document).bind("onp-sl-youtube-subscribe",function(){b.unlock("button",b.name,b.url)})};b.renderButton=function(b){var f=this;this.button=a("<div></div>").appendTo(b);this.button.attr("data-channelid",this.options.channelId);this.button.attr("data-layout",this.options.layout);this.button.attr("data-count",
this.options.count);this.button.addClass("g-ytsubscribe");setTimeout(function(){window.gapi.ytsubscribe.go(b[0])},100);a("<div class='onp-sl-youtube-subscribe-overlay'></div>").appendTo(b).click(function(){return f.authorize(!1,function(b){return"immediate_failed"!==b.error?b&&b.status.signed_in?void f.subscribe():void f.showNotice(a.pandalocker.lang.errors_not_signed_in):void 0}),!1})};b.authorize=function(a,b){var g={};g.client_id=this.options.clientId;g.immediate=a;g.scope="https://www.googleapis.com/auth/youtube";
gapi.auth.authorize(g,b)};b.subscribe=function(){var b=this;gapi.client.load("youtube","v3",function(){gapi.client.youtube.subscriptions.insert({part:"snippet",resource:{snippet:{resourceId:{kind:"youtube#channel",channelId:b.options.channelId}}}}).execute(function(f){return f.error&&"subscriptionDuplicate"!=f.error.data[0].reason?b.showNotice(f.error.data[0].message):void a(document).trigger("onp-sl-youtube-subscribe")})})};a.pandalocker.controls["social-buttons"]["youtube-subscribe"]=b}(jQuery);
!function(a){var b=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);b.name="linkedin-share";b.verification.container=".IN-widget";b.verification.timeout=5E3;b._defaults={url:null,counter:"right"};b.prepareOptions=function(){this.url=this._extractUrl();"vertical"===this.groupOptions.layout?this.options.counter="top":this.groupOptions.counters||(this.options.counter="none")};b.setupEvents=function(){var b=this;a(document).bind("onp-sl-linkedin-share",function(f,g){b.url===a.pandalocker.tools.URL.normalize(g)&&
b.unlock("button",b.name,b.url)})};b.renderButton=function(b){var f=this;this.button=a('<script type="IN/Share" data-onsuccess="OPanda_LinkedinShare_Callback" data-success="OPanda_LinkedinShare_Callback" data-onSuccess="OPanda_LinkedinShare_Callback"><\/script>');this.options.counter&&this.button.attr("data-counter",this.options.counter);this.button.attr("data-url",this.url);this.button.appendTo(b);IN.init();IN.parse&&IN.parse(this.button[0]);b.click(function(){setTimeout(function(){if(a.pandalocker.sdk.linkedin._activePopup){var b=
a.pandalocker.sdk.linkedin._activePopup;a.pandalocker.sdk.linkedin._activePopup=!1;var c=setInterval(function(){b&&!1===b.closed||(clearInterval(c),a(document).trigger("onp-sl-linkedin-share",[f.url]))},200)}},200)})};a.pandalocker.controls["social-buttons"]["linkedin-share"]=b}(jQuery);
!function(a){a.fn.pandalocker||(a.pandalocker.widget("pandalocker",{options:{},_isLocked:!1,_defaults:{text:{header:null,message:null},theme:{name:"starter"},lang:"en_US",groups:{order:["social-buttons"],union:"or"},terms:!1,privacyPolicy:!1,termsPopup:!1,connectButtons:{},socialButtons:{},overlap:{mode:"full",position:"middle",intensity:5,altMode:"transparence"},cssClass:null,demo:!1,highlight:!0,googleAnalytics:!1,locker:{off:!1,stepByStep:!1,close:!1,timer:0,mobile:!0,expires:!1,useCookies:!1,
scope:!1,loadingTimeout:1E3,tumbler:!0,tumblerInterval:500,naMode:"show-error",visibility:[],inAppBrowsers:"visible_with_warning",inAppBrowsersWarning:"You are viewing this page in the {browser}. The locker may work incorrectly in this browser. Please open this page in a standard browser."},subscribeActionOptions:{},content:null,proxy:null},getState:function(){return this._isLocked?"locked":"unlocked"},_create:function(){var a=this;this.id=this.options.id||this._generteId();this._prepareOptions();
this._setupVariables();this._initExtras();this._initHooks();this._initGroups();this._initScreens();this._setupVisitorId();this.runHook("init");this._canLock()&&this.requestState(function(c){"locked"===c?a._lock():a._unlock("provider")})},_generteId:function(){for(var a="",c=0;5>c;c++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a},_prepareOptions:function(){var b=a.extend(!0,{},this._defaults),b=this.applyFilters("filter-default-options",
b);this.options.theme&&!a.isPlainObject(this.options.theme)&&(this.options.theme={name:this.options.theme});"object"!=typeof this.options.theme&&(this.options.theme={name:this.options.theme});var c=this.options.theme.name||this._defaults.theme;a.pandalocker.themes[c]&&(b=a.extend(!0,{},b,a.pandalocker.themes[c]));c=a.extend(!0,b,this.options);a.isArray(c.groups)&&(c.groups=a.extend(!0,{},b.groups,{order:c.groups}));c.locker.timer=parseInt(c.locker.timer);0===c.locker.timer&&(c.locker.timer=null);
this.options=this.applyFilters("filter-options",c);"blurring"!==this.options.overlap.mode||a.pandalocker.tools.supportBlurring()||(this.options.overlap.mode=this.options.overlap.altMode)},_setupVariables:function(){if(this.style="onp-sl-"+this.options.theme.name,this.overlap="full"===this.options.overlap.mode?!1:this.options.overlap.mode,this.groupUnion=this.options.groups.union,0<this.options.groups.order.length)switch(this.options.groups.order[0]){case "connect-buttons":this.lockerType="signin-locker";
this.langScope="signinLocker";break;case "subscription":this.lockerType="email-locker";this.langScope="emailLocker";break;default:this.lockerType="social-locker",this.langScope="socialLocker"}this.lang=a.pandalocker.lang.scopes[this.langScope]},_initExtras:function(){for(var b in a.pandalocker.extras)a.pandalocker.extras.hasOwnProperty(b)&&a.pandalocker.extras[b].init&&a.pandalocker.extras[b].init.apply(this)},_initHooks:function(){var a=this,c=!1,f=!1,g=!1,h=!1;this.addHook("raw-interaction",function(){h&&
(c||(c=!0,a.runHook("interaction")))});this.addHook("raw-error",function(){h&&(f||(f=!0,a.runHook("error")))});this.addHook("raw-impress",function(){"default"===a._currentScreenName&&(h=!0,a.runHook("impress"))});this.addHook("raw-social-app-declined",function(){h&&(g||(g=!0,a.runHook("social-app-declined")))})},_initGroups:function(){this._groups=[];for(var b=0;b<this.options.groups.order.length;b++){var c=this.options.groups.order[b],f=a.pandalocker.tools.camelCase(c),f=this.options[f]||{};if(0==
b&&(f.text=this.options.text),!a.pandalocker.groups[c])return void this._showError("core",'The control group "'+c+'" not found.');c=a.pandalocker.tools.extend(a.pandalocker.groups[c]);f.index=parseInt(b)+1;c.init(this,f);this._groups[b]=c}},_setupVisitorId:function(){(this.vid=a.pandalocker.tools.getValue("opanda_vid"))||(this.vid=a.pandalocker.tools.guid(),a.pandalocker.tools.saveValue("opanda_vid",this.vid,365))},_canLock:function(){if(a.pandalocker.browser.msie&&7===parseInt(a.pandalocker.browser.version,
10))return this._unlock("ie7"),!1;if(this.options.locker.visibility&&!(new a.pandalocker.services.visibility).canLock(this.options.locker.visibility))return this._unlock("visibility"),!1;if(!this.options.locker.mobile&&a.pandalocker.tools.isMobile())return this._unlock("mobile"),!1;if("hidden"===!this.options.locker.inAppBrowsers&&a.pandalocker.tools.isInAppBrowser())return this._unlock("inapp"),!1;for(var b=0,c=0;c<this._groups.length;c++)if(!this._groups[c].canLock()){if("or"===this.groupUnion)return this._unlock("group"),
!1;b++}return b===this._groups.length?(this._unlock("group"),!1):!0},requestState:function(a){var c=this,f=[],f=this.applyFilters("functions-requesting-state",f);f.push(function(a){for(var b=c._groups.length,f="locked",g=0;g<c._groups.length;g++)c._groups[g].requestState(function(c){b--;"unlocked"===c&&(f=c);0>=b&&a(f)})});var g=function(){var c=f.shift();return c?void c(function(c){return"unlocked"===c?a(c):void g()}):a("locked")};g()},setState:function(a,c,f){this.runHook("state-changed",[a,c,f])},
_getStateStorage:function(){return this._stateStorage?this._stateStorage:(this._stateStorage=this.applyFilters("get-default-state-storage",new a.pandalocker.storages.defaultStateStorage(this)),this._stateStorage)},_showError:function(a,c){this._error=!0;this._errorText=c;this.locker&&this.locker.hide();this.element.html("<strong>[Error]: "+c+"</strong>");this.element.show().addClass("onp-sl-locker-error");this.runHook("size-changed")},addHook:function(b,c,f,g){a.pandalocker.hooks.add(this.id+"."+
b,c,f);g&&a.pandalocker.hooks.add(b,c,f)},runHook:function(b,c,f){c||(c=[]);c.unshift(this);a.pandalocker.hooks.run(this.id+"."+b,c);f&&a.pandalocker.hooks.run(b,c);this.element.trigger("opanda-"+b,c);c=c.slice();f={};f.lockId=this.id;f.visitorId=this.vid;f.locker=this.locker;f.content=this.element;c.unshift(f);a.pandalocker.hooks.run("opanda-"+b,c)},addFilter:function(b,c,f){a.pandalocker.filters.add(this.id+"."+b,c,f)},applyFilters:function(b,c,f,g){f||(f=[]);a.isArray(f)||(f=[f]);f.unshift(this);
f.unshift(c);c=a.pandalocker.filters.run(this.id+"."+b,f);return f[0]=c,g&&(c=a.pandalocker.filters.run(b,f)),c},screens:{},_screenFactory:{},_showScreen:function(b,c){if(!this._screenFactory[b]&&!this.screens[b])throw new a.pandalocker.error('The screen "'+b+'" not found in the group "'+this.name+'"');var f=this;if(this._currentScreenName=b,this.innerWrap.find(".onp-sl-screen").hide(),this.screens[b])return this.screens[b].show(),void f.runHook("size-changed");var g=a("<div class='onp-sl-screen onp-sl-non-default-screen onp-sl-screen-"+
b+"'></div>").appendTo(this.innerWrap).hide();this.screens[b]=this._screenFactory[b](g,c);g.fadeIn(300,function(){f.runHook("size-changed")})},_registerScreen:function(a,c){this._screenFactory[a]=c},_initScreens:function(){var b=this;this._currentScreenName="default";this._registerScreen("enter-email",function(b,f){var g=a('<div class="onp-sl-text"></div>');if(b.append(g),f.header){var h=a('<div class="onp-sl-header onp-sl-strong">'+f.header+"</div>");g.append(h)}f.message&&(h=a('<div class="onp-sl-message">'+
f.message+"</div>"),g.append(h));g=a('<div class="onp-sl-control"></div>');b.append(g);h={};h.email={name:"email",type:"text",placeholder:a.pandalocker.lang.misc_enter_your_email};h.submit={name:"submit",type:"submit",title:f.buttonTitle};for(var j in h){var k=h[j].type,l=h[j].title,u=h[j].value||f.fields&&f.fields[j]&&f.fields[j].value,p=a("<div></div>").addClass("onp-sl-field").addClass("onp-sl-field-"+j).addClass("onp-sl-field-type-"+k);if("text"===k||"email"===k){var q=a("<input type='"+k+"' name='"+
j+"' class='onp-sl-input' id='onp-sl-input-"+j+"' />");h[j].placeholder&&q.attr("placeholder",h[j].placeholder);u&&q.attr("value",u);q.appendTo(p)}"submit"===k&&(q=a("<button class='onp-sl-button onp-sl-form-button onp-sl-submit'>"+l+"</button>"),q.addClass("onp-sl-button-primary"),q.appendTo(p));p.appendTo(g)}f.note&&a("<div class='onp-sl-note onp-sl-nospam'></div>").html(f.note).appendTo(p);b.find(".onp-sl-submit").click(function(){var g=function(f,g){b.find(".onp-sl-group-notice").remove();var h=
a("<div class='onp-sl-group-notice'>"+f+"</div>").hide();b.append(h);h.fadeIn(500);g||(g=7E3);setTimeout(function(){h.length&&h.fadeOut(800,function(){h.remove()})},g)},h=(a(this),a.trim(b.find("#onp-sl-input-email").val()));return h&&h.length?a.pandalocker.tools.isValidEmailAddress(h)?void(f.callback&&f.callback(h)):void g(a.pandalocker.lang.errors_inorrect_email):void g(a.pandalocker.lang.errors_empty_email)})});this._registerScreen("data-processing",function(b){b.append(a("<div class='onp-sl-process-spin'></div>"));
b.append(a("<div class='onp-sl-processing-sreen-text'>"+a.pandalocker.lang.misc_data_processing+"</div>"))});this._registerScreen("email-confirmation",function(c,f){var g=a('<div class="onp-sl-screen-message"></div>'),h=a("<div class='onp-sl-header'></div>").html(a.pandalocker.lang.confirm_screen_title),j=a("<div class='onp-sl-message'></div>"),k=a("<p></p>").html(a.pandalocker.lang.confirm_screen_instructiont.replace("{email}","<strong>"+f.email+'</strong> <a href="#" class="onp-sl-cancel">'+a.pandalocker.lang.confirm_screen_cancel+
"</a>")),l=a('<p class="onp-sl-highlight"></p>').html(a.pandalocker.lang.confirm_screen_note1),u=a('<p class="onp-sl-note"></p>').html(a.pandalocker.lang.confirm_screen_note2);k.find(".onp-sl-cancel").click(function(){return f.service.cancel(),b._showScreen("default"),!1});j.append(k);j.append(l);g.append(h);g.append(j);c.append(g);h=f.email.split("@");g=null;if(0<=h[1].indexOf("gmail")?g={url:"https://mail.google.com/mail/?tab=wm",icon:"0px 0px",title:"Gmail"}:0<=h[1].indexOf("yahoo")?g={url:"https://mail.yahoo.com/",
icon:"0px -70px",title:"Yahoo!"}:0<=h[1].indexOf("hotmail")?g={url:"https://hotmail.com/",icon:" 0px -140px",title:"Hotmail"}:0<=h[1].indexOf("outlook")&&(g={url:"http://www.outlook.com/",icon:" 0px -140px",title:"Outlook"}),g){h=a('<a class="onp-sl-button onp-sl-form-button onp-sl-form-button-sm onp-sl-open"></a>').html(a.pandalocker.lang.confirm_screen_open.replace("{service}",g.title));if(h.attr("href",g.url),h.attr("target","_blank"),g.icon)h.addClass("onp-sl-has-icon"),a('<i class="onp-sl-icon"></i>').prependTo(h).css("background-position",
g.icon);g=a("<div class='onp-sl-open-button-wrap'></div>");g.append(h);c.append(g)}c.append(u)})},_lock:function(){var a=this;this._isLocked||(this._markupIsCreated||this._createMarkup(),this.overlap?(this.overlapLockerBox.fadeIn(1E3,function(){a._updateLockerPosition()}),a._updateLockerPosition()):(this.element.hide(),this.locker.fadeIn(1E3)),this._isLocked=!0,this.runHook("lock"),this.runHook("locked"),setTimeout(function(){a._startTrackVisability()},1500))},_unlock:function(a,c,f){if(!this.options.locker.off){if(!this._isLocked)return this.runHook("cancel",
[a]),this._showContent("button"===a),!1;this._showContent(!0);this._isLocked=!1;this.runHook("unlock",[a,c,f]);this.runHook("unlocked",[a,c,f])}},lock:function(a){this._lock(a||"api")},unlock:function(a,c,f){this._unlock(a||"api",c,f)},_createMarkup:function(){var b=this;this._loadFonts();var c=this.element.parent().is("a")?this.element.parent():this.element;c.addClass("onp-sl-content");this.locker=a("<div class='onp-sl onp-sl-"+(a.pandalocker.browser.mozilla&&"mozilla"||a.pandalocker.browser.opera&&
"opera"||a.pandalocker.browser.webkit&&"webkit"||"msie")+"'></div>");this.outerWrap=a("<div class='onp-sl-outer-wrap'></div>").appendTo(this.locker);this.innerWrap=a("<div class='onp-sl-inner-wrap'></div>").appendTo(this.outerWrap);var f=a("<div class='onp-sl-screen onp-sl-screen-default'></div>").appendTo(this.innerWrap);this.screens["default"]=this.defaultScreen=f;this.locker.addClass(this.style);this.locker.addClass("onp-sl-"+this.lockerType);this.locker.addClass("onp-sl-"+this.options.groups.order[0]+
"-frist");this.locker.addClass(1===this.options.groups.order.length?"onp-sl-contains-single-group":"onp-sl-contains-many-groups");for(var g=0;g<this.options.groups.order.length;g++)this.locker.addClass("onp-sl-"+this.options.groups.order[g]+"-enabled");if(this.locker.addClass(a.pandalocker.isTouch()?"onp-sl-touch":"onp-sl-no-touch"),this.options.cssClass&&this.locker.addClass(this.options.cssClass),a.pandalocker.isTouch()||this.locker.mousemove(function(){a.pandalocker._current=b}),this.overlap){c.addClass("onp-sl-overlap-mode");
var g=this.element.css("display"),h=c;if("blurring"===this.overlap||c.is("img")||c.is("iframe")||c.is("object")||"block"!==g&&"inline-block"!==g){h=a('<div class="onp-sl-content-wrap"></div>');h.insertAfter(c);h.append(c);var j=c.css("margin");h.css({margin:j});c.css({margin:"0"});b.addHook("unlock",function(){h.css({margin:j})})}c.show();this.element.show();"blurring"===this.overlap&&(this.blurArea=a("<div class='onp-sl-blur-area'></div>"),this.blurArea.insertAfter(c),this.blurArea.append(c),c=this.blurArea);
"static"===h.css("position")&&h.css("position","relative");g=c.is("iframe")&&c||c.find("iframe");1===g.length&&"absolute"===g.css("position")&&(!c.is(g)&&!g.parent().is(c)&&"relative"===g.parent().css("position")||(h.css({position:"absolute",width:"100%",height:"100%",top:g.css("top"),left:g.css("left"),right:g.css("right"),bottom:g.css("bottom"),margin:g.css("margin")}),g.css({top:0,left:0,right:0,bottom:0,margin:"auto"})));this.overlapLockerBox=a("<div class='onp-sl-overlap-locker-box'></div>").hide();
this.overlapLockerBox.addClass("onp-sl-position-"+this.options.overlap.position);this.overlapLockerBox.append(this.locker);this.overlapBox=a("<div class='onp-sl-overlap-box'></div>");this.overlapBox.append(this.overlapLockerBox);this.overlapBox.addClass("onp-sl-"+this.overlap+"-mode");this.overlapBox.addClass(this.style+"-theme");c=a("<div class='onp-sl-overlap-background'></div>");if(this.overlapBox.append(c),h.append(this.overlapBox),this.containerToTrackSize=h,"blurring"===this.overlap)this.blurArea=
this.blurArea.Vague({intensity:this.options.overlap&&this.options.overlap.intensity||5,forceSVGUrl:!1}),this.blurArea.blur();a(window).resize(function(){b._updateLockerPosition()});this.addHook("size-changed",function(){b._updateLockerPosition()});"scroll"===this.options.overlap.position&&a(window).scroll(function(){b._updateLockerPositionOnScrolling()})}else this.locker.hide(),this.locker.insertAfter(c);this._markupIsCreated=!0;this.runHook("markup-created");this.locker.click(function(){b.runHook("raw-interaction")});
(this._isLockerVisible=this.locker.parent().is(":visible"))||(this.options.lazy=!0);for(c=0;c<this._groups.length;c++)this._groups[c].renderGroup(f);if((this.options.terms||this.options.privacyPolicy)&&this._createTerms(),this.options.locker.close&&this._createClosingCross(),this.options.locker.timer&&this._createTimer(),"visible_with_warning"===this.options.locker.inAppBrowsers&&this.options.locker.inAppBrowsersWarning&&a.pandalocker.tools.isInAppBrowser())c=this.options.locker.inAppBrowsersWarning,
c=c.replace("{browser}","<strong>"+a.pandalocker.tools.getInAppBrowser()+"</strong>"),c=a("<div class='onp-sl-group-notice'>"+c+"</div>"),f.find(".onp-sl-group").append(c)},_addClass:function(a){this.locker.addClass(a)},_loadFonts:function(){if(this.options.theme.fonts&&this.options.theme.fonts.length)for(var b=("https:"===document.location.protocol?"https":"http")+"://fonts.googleapis.com/css",c=0;c<this.options.theme.fonts.length;c++){var f=this.options.theme.fonts[c],g=f.name;f.styles&&f.styles.length&&
(g=g+":"+f.styles.join(","));g=a.pandalocker.tools.updateQueryStringParameter(b,"family",g);f.subset&&f.subset.length&&(g=a.pandalocker.tools.updateQueryStringParameter(g,"subset",f.subset.join(",")));f=a.pandalocker.tools.hash(g);0<a("#onp-sl-font-"+f).length||a('<link id="onp-sl-font-'+f+'" rel="stylesheet" type="text/css" href="'+g+'" >').appendTo("head")}},_updateLockerPosition:function(){if(this.overlap){var a=this,c=this.containerToTrackSize.outerHeight();"undefined"==typeof this.contentMinTopMargin&&
(this.contentMinTopMargin=parseInt(this.containerToTrackSize.css("marginTop")));"undefined"==typeof this.contentMinBottomMargin&&(this.contentMinBottomMargin=parseInt(this.containerToTrackSize.css("marginBottom")));var f=this.locker.outerHeight();f>c&&(c=parseInt((f-c)/2)+20,this.containerToTrackSize.css({marginTop:(this.contentMinTopMargin<c?c:this.contentMinTopMargin)+"px",marginBottom:(this.contentMinBottomMargin<c?c:this.contentMinBottomMargin)+"px"}));if("top"===this.options.overlap.position||
"scroll"===this.options.overlap.position){var c=this.overlapBox.outerWidth(),g=this.locker.outerWidth(),h=this.overlapBox.outerHeight(),j=this.options.overlap.offset;j||(j=Math.floor((c-g)/2),10>=j&&(j=10));2*j+f>h&&(j=Math.floor((h-f)/2));this.overlapLockerBox.css("marginTop",j+"px");"scroll"===this.options.overlap.position&&(this._baseOffset=j,this._updateLockerPositionOnScrolling(function(c,f){"middle-scroll"===c&&0===parseInt(a.overlapLockerBox.css("top"))&&a.overlapLockerBox.css("top",f)}))}return"middle"===
this.options.overlap.position?void this.overlapLockerBox.css("marginTop","-"+Math.floor(this.overlapLockerBox.innerHeight()/2)+"px"):void 0}},_updateLockerPositionOnScrolling:function(b){var c=this,f=this.overlapBox.offset(),g=f.top,h=f.left,j=f.top+this.overlapBox.outerHeight(),f=this.overlapBox.outerWidth(),k=this.overlapBox.outerHeight(),l=this.locker.outerHeight();if(!(2*this._baseOffset+l+10>=k))return k=a(document).scrollTop(),k+40>g&&k-40+a(window).height()<j?(g=Math.floor(a(window).height()/
2-l/2),b&&b("middle-scroll",g),b=parseInt(this.overlapLockerBox.css("top")),this.overlapLockerBox.css("position","fixed").css("left",h+"px").css("width",f+"px").css("bottom","auto").css("margin-top","0px"),void(b!=g&&(this._animateBusy||(this._animateBusy=!0,this.overlapLockerBox.animate({top:g+"px"},150,function(){c._animateBusy=!1}))))):k+l+2*this._baseOffset+20>j?void this.overlapLockerBox.css("position","absolute").css("top","auto").css("left","0px").css("width","auto").css("bottom",this._baseOffset+
"px").css("margin-top","0px"):k+20>g?void this.overlapLockerBox.css("position","fixed").css("top",this._baseOffset+20+"px").css("left",h+"px").css("width",f+"px").css("bottom","auto").css("margin-top","0px"):void this.overlapLockerBox.css("position","absolute").css("top","0px").css("left","0px").css("bottom","auto").css("width","auto").css("margin-top",this._baseOffset+"px")},_startTrackVisability:function(){var b=this,c=this.locker[0];this._trackVisabilityStoppped=!1;c.getBoundingClientRect||this.runHook("raw-impress");
var f=a(window).height(),g=a(window).width(),h=function(){if(!b._trackVisabilityStoppped){if(!c)return void b._stopTrackVisability();var a=c.getBoundingClientRect(),h=a.height/2,l=a.width/2;0<a.top+h&&a.bottom-h<=f&&a.left+l&&a.right-l<=g&&(b.runHook("raw-impress"),b._stopTrackVisability())}};a(window).bind("resize.visability.opanda",function(){b._trackVisabilityStoppped||(f=a(window).height(),g=a(window).width())});a(window).bind("resize.visability.opanda scroll.visability.opanda",function(){b._trackVisabilityStoppped||
h()});this._isLockerVisible||(a("a, button").add(a(document)).bind("click.visability.opanda",function(){b._trackVisabilityStoppped||setTimeout(function(){h()},200)}),this.addHook("raw-impress",function(){b._isLockerVisible=!0;b._trackVisabilityStoppped=!0}));h()},_stopTrackVisability:function(){this._trackVisabilityStoppped=!0},_createClosingCross:function(){var b=this;a("<div class='onp-sl-cross' title='"+a.pandalocker.lang.misc_close+"' />").prependTo(this.locker).click(function(){b.close&&b.close(b)||
b._unlock("cross",!0)})},_createTimer:function(){this.timer=a("<span class='onp-sl-timer'></span>");var b=a.pandalocker.lang.misc_or_wait,b=b.replace("{timer}",a("<span class='onp-sl-timer-counter'>"+this.options.locker.timer+"</span>")[0].outerHTML);this.timerLabel=a("<span class='onp-sl-timer-label'></span>").html(b).appendTo(this.timer);this.timerCounter=this.timerLabel.find(".onp-sl-timer-counter");this.timer.appendTo(this.locker);this.counter=this.options.locker.timer;this._kickTimer()},_kickTimer:function(){var b=
this;setTimeout(function(){if(b._isLocked)if(b.counter--,0>=b.counter)b._unlock("timer");else{if(b.timerCounter.text(b.counter),a.pandalocker.browser.opera){var c=b.timerCounter.clone();c.insertAfter(b.timerCounter);b.timerCounter.remove();b.timerCounter=c}b._kickTimer()}},1E3)},_createTerms:function(){this.locker.addClass("onp-sl-has-terms");this.terms=a("<div class='onp-sl-terms'></div>").appendTo(this.defaultScreen);this.termsInnerWrap=a("<div class='onp-sl-terms-inner-wrap'></div>").appendTo(this.terms);
var b=a.pandalocker.lang.misc_your_agree_with,c="";if(this.options.terms&&(c=a("<a target='_black' class='onp-sl-link'>"+a.pandalocker.lang.misc_terms_of_use+"</a>").attr("href",this.options.terms)[0].outerHTML),this.options.privacyPolicy&&(this.options.terms&&(c+=", "),c+=a("<a target='_black' class='onp-sl-link'>"+a.pandalocker.lang.misc_privacy_policy+"</a>").attr("href",this.options.privacyPolicy)[0].outerHTML),c&&(b=b.replace("{links}",c)),this.termsInnerWrap.html(b),this.options.termsPopup){var f=
this.options.termsPopup.width||550,g=this.options.termsPopup.height||400;this.termsInnerWrap.find(".onp-sl-link").click(function(){var b=a(this).attr("href");return window.open(b,"bizpanda_policies","width="+f+",height="+g+",resizable=yes,scrollbars=yes"),!1})}},_showContent:function(b){var c=this;this.runHook("before-show-content");var f=function(){c.overlap?(c.overlapBox&&c.overlapBox.hide(),c.blurArea&&c.blurArea.unblur()):c.locker&&c.locker.hide();c.locker&&c.locker.hide();b?c.element.fadeIn(1E3,
function(){c.options.highlight&&c.element.effect&&c.element.effect("highlight",{color:"#fffbcc"},800)}):c.element.show();c.runHook("after-show-content")};if(this.options.content)if("string"==typeof this.options.content)this.element.html(this.options.content),f();else if("object"!=typeof this.options.content||this.options.content.url)if("object"==typeof this.options.content&&this.options.content.url){var g=a.extend(!0,{},this.options.content),h=g.success,j=g.complete,k=g.error;g.success=function(a,
b,g){h?h(c,a,b,g):c.element.html(a);f()};g.error=function(a,b,f){c._showError("ajax","An error is triggered during the ajax request! Text: "+b+" "+f);k&&k(a,b,f)};g.complete=function(a,b){j&&j(a,b)};a.ajax(g)}else f();else this.element.append(this.options.content.clone().show()),f();else f()}}),a.fn.sociallocker=function(b){return a(this).pandalocker(b)})}(jQuery);if(0<$("#demo-page").length){var autoOpenServices=!0,autoOpenServicesShowPanel=!1,checkClosePanel=!1;$(document).on("TM_JS_LOADED",function(){var a=$("#frame");a&&a.attr("src",a.data("src"));appDic.require("tm-memberships").initDemo();$(".DemoPanel__buttonChat--js").click(function(){appDic.require("invitation-to-chat").goToPreSalesRoom(!0)});a=$(".DemoPanelDropdown__list--js");0<a.length&&a.find(".DemoPanelDropdown__item--js").first().addClass("DemoPanelDropdown__item--active");setTimeout(function(){widthTitlePanel()},
2E3);$(window).on("resize",function(){widthTitlePanel();$(".DemoPanelDropdown__services--js").hasClass("active")&&widthServicesDropdown()});$(".DemoPanelDropdown__service--js").on("click",function(){$(this).toggleClass("DemoPanelDropdown__itemService--active")});$(".DemoPanelDropdown__addServices--js, .DemoPanel__goToCart--js").on("mouseup",function(){goToCartButton(!0)});$(".DemoPanel__goToCartAdded--js").on("mouseup",function(){goToCartButton()});$(".DemoPanelDropdown__itemActive--js").on("click",
function(){autoOpenServices=!1;autoOpenServicesShowPanel=!autoOpenServicesShowPanel});setTimeout(function(){autoOpenServices&&(checkClosePanel?autoOpenServicesShowPanel=!0:$(".DemoPanelDropdown__itemActive--js").trigger("click"))},1E4)});$(function(){var a=document.querySelector&&document.querySelector('meta[name="viewport"]'),b=navigator.userAgent,c=function(){a.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};a&&(/iPhone|iPad/.test(b)&&!/Opera Mini/.test(b))&&(a.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",
document.addEventListener("gesturestart",c,!1))});var calcHeight=function(){var a=$("#headerlivedemo").height();$("#advanced").hasClass("DemoPanel--closed")?$("#iframelive").height($(window).height()+63):$("#iframelive").height($(window).height()-a)};$(document).on("TM_JS_LOADED",function(){calcHeight()});$(window).resize(function(){calcHeight()}).load(function(){calcHeight()});$(function(){mobileCss=function(){if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||
navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Opera Mini/))$("#dropdown.box-drop ul.list-drop li .popover").css("top","-1000px").css("display","none !important"),$("#qr").hide(),$("body").css({height:"auto"}),$("html").css({height:"auto"}),$("#headerlivedemo").addClass("mobile")};mobileCss()});if(0<$(".is-responsive").length)$(document).on("TM_JS_LOADED",function(){var a=document.getElementById("frame");$("#responsivator").show();$("#responsivator .response").click(function(){$("#responsivator .response").removeClass("active");
$(this).addClass("active");var b=$(this).attr("id");$("#iframelive").removeAttr("class").addClass(b+" DemoPanelFrame DemoPanelFrame--top DemoPanelFrame--js");a.src=a.src});$(".responsive-block").show()});else $(".js-demo-upper-menu").addClass("js-no-responsive");var templateOutdatedPopup=appDic.require("template-outdated");templateOutdatedPopup.showPopup();$(function(){function a(){var a=$(".js-popupi-3").width(),b=$(".js-price").width(),c=$(".price-title").width(),b=b+c+39;b>a&&500<window.width&&
$(".js-popupi-3").width(b)}a();$(".js-offer-trigger").on("click",function(){a()});$("#advanced").removeClass("DemoPanel--closed DemoPanel--animation");$("#headerlivedemo .trigger").toggle(function(){$(this).addClass("DemoPanelToggle--top");$(".js-popup-content").hide();$("#advanced").addClass("DemoPanel--closed").addClass("DemoPanel--animation");showPanel(!1,null,"boo");checkClosePanel=!0},function(){$(this).removeClass("DemoPanelToggle--top");$("#advanced").removeClass("DemoPanel--animation");checkClosePanel=
!1;setTimeout(function(){$("#advanced").removeClass("DemoPanel--closed");autoOpenServicesShowPanel&&(autoOpenServicesShowPanel=!autoOpenServicesShowPanel,$(".DemoPanelDropdown__itemActive--js").trigger("click"))},300);showPanel(!0,"opened",null)});$(".js-popup-open").on("click ",function(){var a=$(this).attr("data-popupi"),a=$(".js-popup-content."+a);if(a.is(":visible"))return!1;if("js-popupi-4"==$(this).data("popupi")){$(".js-demo-flexslider").css("display","block").animate({top:60},400);$("#monstroid-templates").owlCarousel({items:4,
navigation:!0,navigationText:["",""],slideSpeed:800,pagination:!1,itemsDesktop:[1279,3],itemsDesktopSmall:[995,2],itemsTablet:[960,2],itemsTabletSmall:[740,1],lazyLoad:!0});var b=$("#headerlivedemo").data("template_id");$(".thumb-wr").each(function(){$(this).data("tid")==b&&$(this).addClass("active")});$(this).addClass("active");return!1}a.css({display:"table"});widthServicesDropdown();$(this).addClass("active")});jQuery(function(a){a(document).on("mouseup",function(b){var c=a(".js-popup-content");
if(!c.is(b.target)&&0===c.has(b.target).length){if(c.prev(".theme-choose").hasClass("active"))return a(".js-demo-flexslider").animate({top:-260},400,function(){a(this).css("display","none")}),a(".js-popup-open").removeClass("active"),!1;c.fadeOut(300);a(".js-popup-open").removeClass("active")}})});$(".icon-close").mouseup(function(){$(".js-popup-content").fadeOut(100);$(".js-popup-open").removeClass("active")});$(".js-demo-list-li .js-drop").on("click",function(){var a=$(this).parent().attr("data-variant"),
b,c=$(this).parent(),f=$(this).parent().data("price")||$(".js-price",c).data("price"),c=$(".js-price",c).data("price");b=$(this).parent();b.siblings().removeClass("DemoPanelDropdown__item--active");b.addClass("DemoPanelDropdown__item--active");b=$("#advanced").hasClass("livemonstroid")?$(this).children(".recommended-wrap").text():tm.stringUtils.bareText($(this));$(".js-popup-content").fadeOut(300);$(".js-popup-open").removeClass("active");$(".js-offer-trigger .price-title").text(b);b=appDic.require("language");
var g='<span class="new-price">'+b.formatMoney(f)+"</span> ";c!=f&&(g='<span class="discount">'+b.formatMoney(c)+"</span> "+g);$(".js-offer-trigger .js-price").html(g);$(".js-demo-buy-button[data-variant="+a+"]").removeClass("js-none").siblings().addClass("js-none");$(".js-popupi-3").css("width","auto")});activeDefaultPrice();$(".js-drop").hover(function(){$(this).siblings(".popover").css("opacity","1").css("z-index","999")},function(){$(".list-drop li .popover").css("opacity","0").css("z-index",
"-999")});$.browser.msie&&$("body").addClass("ie");var b=navigator.userAgent.toLowerCase(),c=function(a){return-1!=b.indexOf(a)},f=document.getElementsByTagName("html")[0],c=[!/opera|webtv/i.test(b)&&/msie (\d)/.test(b)?"ie ie"+RegExp.$1:c("firefox/2")?"gecko ff2":c("firefox/3")?"gecko ff3":c("gecko/")?"gecko":c("opera/9")?"opera opera9":/opera (\d)/.test(b)?"opera opera"+RegExp.$1:c("konqueror")?"konqueror":c("safari/")?"webkit safari":c("mozilla/")?"gecko":"",c("x11")||c("linux")?" linux":c("mac")?
" mac":c("win")?" win":""].join(" ");if(f.className){var g=f.className;f.className=g+(" "+c)}else f.className=c;f=$(".js-template-id");f.data("free-trial")&&!f.data("mobile")&&(new Tm.MotoTrial({auto_open_timeout:30,template_id:f.data("template_id")})).init()});(function(){function a(){f.hasClass("block-hidden")&&!g&&(f.removeClass("block-hidden"),g=1)}function b(){g&&(f.addClass("block-hidden"),g=0)}var c=$.cookie("country_code"),f=$("#advanced .js-demo-bar-phone"),g=0;if("US"===c){later.date.UTC();
var c=later.parse.recur().after("00:00").time().before("07:00").time().on(2,3,4,5).dayOfWeek().and().after("11:00").time().before("13:00").time().on(2,3,4,5).dayOfWeek().and().after("00:00").time().before("07:00").time().on(6).dayOfWeek().and().after("11:00").time().before("17:00").time().on(7).dayOfWeek().and().after("03:00").time().before("13:00").time().on(1).dayOfWeek(),h=later.parse.recur().after("07:00").time().before("11:00").time().on(2,3,4,5).dayOfWeek().and().after("03:00").time().before("00:00").time().on(2,
3,4,5).dayOfWeek().and().after("07:00").time().before("00:00").time().on(6).dayOfWeek().and().after("17:00").time().before("11:00").time().on(7).dayOfWeek().and().after("13:00").time().before("03:00").time().on(1).dayOfWeek();later.setInterval(a,c);later.setInterval(b,h)}})()}
function activeDefaultPrice(){var a=new tm.cart.model.itemRepository("items");if("undefined"!=typeof window.template&&1==window.defaultPriceVariationExperiment&&!a.find({id:"template-"+window.template.id})&&0!=$(".topbar_info .buy_now .js-demo-buy-button[data-default-variant]").length)if($(".js-demo-list-li[data-default-variant] .js-drop:first").after($(".js-popup-content li span.recommended").remove()).click(),window.isJsLoaded)$(document).ready(function(){$(".js-demo-list-li[data-default-variant] .js-drop:first").after($(".js-popup-content li span.recommended").remove()).click()});
else $(document).on("TM_JS_LOADED",function(){$(document).ready(function(){$(".js-demo-list-li[data-default-variant] .js-drop:first").after($(".js-popup-content li span.recommended").remove()).click()})})}
function widthTitlePanel(){var a;a=$(window).width();var b=a/2,c=$(".DemoPanel__addToCart--js"),f=$(".DemoPanel__membership--js"),g=$(".DemoPanel__response--js"),c=0<c.length?(c.width()+20)/2:0,f=0<f.length?f.width()+20:0,g=0<g.length?g.outerWidth():0;960>a&&(f=0);a=b-c-f-g;720<=$(window).width()?$(".DemoPanel__title--js").css("width",a-40):$(".DemoPanel__title--js").css("width","50px")}
function goToCartButton(a){var b="";$.each($(".DemoPanelDropdown__itemService--active"),function(){b+="&offers[]="+$(this).attr("data-serviceId")});var c=$(".DemoPanel__addToCartButton--js").not(".js-none").attr("data-href")+b+"&channel=11";$(this).attr("data-href",c);if(2===event.which)return window.open(c,"_blank");a&&(new CLS46).addDataToCart($(".js-template-id").first().data("template_id"),"template");window.location.href=c}
function widthServicesDropdown(){var a=$(".DemoPanelDropdown__itemActive--js").outerWidth(),b=$(".DemoPanelDropdown__listServices--js");340<a?b.css("width",a):b.css("width",340)}function showPanel(a,b,c){var f=$(".DemoPanelFrame--js");a?f.addClass("DemoPanelFrame--top"):f.removeClass("DemoPanelFrame--top");strCookies2=$.cookie("panel2",b);strCookies=$.cookie("panel",c);calcHeight()};tm=tm||{};tm.enhancedEcommerce=tm.enhancedEcommerce||{};CLS48=function(){};CLS48.prototype.watchers={};
CLS48.prototype.enterDocument=function(){this.initTriggers();this.watchers.templatesImpressionsWatcher=new CLS72;this.watchers.alsoImpressionsWatcher=new CLS45;this.watchers.otherPlatformsWatcher=new CLS52;this.watchers.reviewsImpressionsWatcher=new CLS70;this.watchers.offersImpressionsWatcher=new CLS50;
this.watchers.offersStatusImpressionsWatcher=new CLS51;this.watchers.productClickWatcher=new CLS57;this.watchers.monstroidsImpressionsWatcher=new CLS49;this.watchers.promoWatcher=new CLS69;this.watchers.promoClickWatcher=new CLS68;this.watchers.userWatcher=new CLS73;this.watchers.saleWatcher=
new CLS71;this.watchers.templatesImpressionsWatcher.enterDocument();this.watchers.alsoImpressionsWatcher.enterDocument();this.watchers.otherPlatformsWatcher.enterDocument();this.watchers.reviewsImpressionsWatcher.enterDocument();this.watchers.offersImpressionsWatcher.enterDocument();this.watchers.offersStatusImpressionsWatcher.enterDocument();this.watchers.monstroidsImpressionsWatcher.enterDocument();this.watchers.promoWatcher.enterDocument();this.watchers.userWatcher.enterDocument();
this.watchers.saleWatcher.enterDocument()};
CLS48.prototype.initTriggers=function(){$(document).on("MainEvents.discountLoaded",$.proxy(this.discountLoaded,this));$(document).on("Gtag.ee.push.product.template.impressions",$.proxy(this.onLoadProductsTemplates,this));$(document).on("Gtag.ee.push.product.offer.impressions",$.proxy(this.onLoadProductsOffers,this));$(document).on("Gtag.ee.push.promo.view",$.proxy(this.onPromoView,this));$(document).on("Gtag.user.push",$.proxy(this.onUserAppear,this));$(document).on("bannerScriptLoadEvent",
$.proxy(this.onPromoView,this))};
CLS48.prototype.onLoadProductsTemplates=function(){var a=this;$(".js-thumbnail-proposed, .js-also-available-as, .js-out-off-stock, .js-template-in-review, .js-monstroid-thumbnail, .js-other-platforms").unbind("inview");$(".js-view-product, .js-thumbnail-info, .js-review-count, .js-thumbnail-badge").unbind("click");$(".js-thumbnail-proposed").bind("inview",function(b,c){!0===c&&a.watchers.templatesImpressionsWatcher.addElement($(this))});$(".js-also-available-as, .js-out-off-stock, .js-other-platforms").bind("inview",
function(b,c){!0===c&&a.watchers.alsoImpressionsWatcher.addElement($(this))});$(".js-also-available-as-without-price").bind("inview",function(b,c){!0===c&&a.watchers.otherPlatformsWatcher.addElement($(this))});$(".js-template-in-review").bind("inview",function(b,c){!0===c&&a.watchers.reviewsImpressionsWatcher.addElement($(this))});$(".js-monstroid-thumbnail").bind("inview",function(b,c){!0===c&&a.watchers.monstroidsImpressionsWatcher.addElement($(this))});$(".js-view-product, .js-thumbnail-info, .js-review-count, .js-thumbnail-badge").bind("click",
function(){a.watchers.productClickWatcher.onClickProducts($(this))})};CLS48.prototype.onLoadProductsOffers=function(){var a=this;$(".js-static-oncart-offer, .js-static-offer, .js-preview-offer, .js-preview-checkout-offer").bind("inview",function(b,c){!0===c&&a.watchers.offersImpressionsWatcher.addElement($(this))});$(".js-offer-description").bind("inview",function(b,c){!0===c&&a.watchers.offersStatusImpressionsWatcher.addElement($(this))})};
CLS48.prototype.onPromoView=function(){var a=this;$(".js-banner").bind("inview",function(b,c){!0===c&&(0<$(this).find("[data-tid]").length?a.watchers.templatesImpressionsWatcher.addElement($(this).find("[data-tid]")):a.watchers.promoWatcher.addElement($(this)))});$(".js-banner").bind("click",function(){if(0<$(this).find("[data-tid]").length)a.watchers.productClickWatcher.onClickProducts($(this).find("[data-tid]"));else a.watchers.promoClickWatcher.onClickPromo($(this))});
0<$('.js-banner[data-position="popup banners"]').length&&a.watchers.promoWatcher.addElement($('.js-banner[data-position="popup banners"]'))};CLS48.prototype.onUserAppear=function(){this.watchers.userWatcher.onUserAppear()};CLS72=function(){};CLS72.prototype.isdiscountLoaded_=!1;CLS72.prototype.inQueryProducts_=[];CLS72.prototype.sentProducts_=[];
CLS72.prototype.enterDocument=function(){this.initTriggers();var a=this;setInterval(function(){var b=a.getElementsDiff(a.inQueryProducts_,a.sentProducts_);if(a.isdiscountLoaded_&&0<b.length){var c=[];goog.array.forEach(b,function(b){a.sentProducts_.push(b);a.inQueryProducts_.splice(a.inQueryProducts_.indexOf(b),1);b=a.getElement(b);if(goog.isDef(b)){var g={id:b.getId(),price:b.getPrice(),brand:b.getBrand(),category:b.getCategories(),list:b.getListName(),
position:b.getElementPosition(),name:b.getName()};goog.string.isEmptySafe(b.getVariant())||(g.variant=b.getVariant());c.push(g)}});"undefined"!==typeof dataLayer&&dataLayer.push({event:"impressionSent",ecommerce:{impressions:c}})}},5E3)};CLS72.prototype.initTriggers=function(){$(document).on("MainEvents.discountLoaded",$.proxy(this.discountLoaded,this))};
CLS72.prototype.addElement=function(a){a=parseInt(a.data("tid"));!goog.string.isEmptySafe(a)&&(0>this.inQueryProducts_.indexOf(a)&&0>this.sentProducts_.indexOf(a))&&this.inQueryProducts_.push(a)};CLS72.prototype.getElementsDiff=function(a,b){return goog.array.filter(a,function(a){return 0>b.indexOf(a)})};CLS72.prototype.getElement=function(a){return new CLS67(a)};
CLS72.prototype.discountLoaded=function(){this.isdiscountLoaded_=!0};CLS45=function(){};goog.inherits(CLS45,CLS72);CLS45.prototype.inQueryProducts_=[];CLS45.prototype.sentProducts_=[];
CLS45.prototype.addElement=function(a){a=parseInt(a.data("tid"));!goog.string.isEmptySafe(a)&&(0>this.inQueryProducts_.indexOf(a)&&0>this.sentProducts_.indexOf(a))&&this.inQueryProducts_.push(a)};CLS45.prototype.getElement=function(a){return new CLS54(a)};CLS52=function(){};goog.inherits(CLS52,CLS45);CLS52.prototype.inQueryProducts_=[];CLS52.prototype.sentProducts_=[];
CLS52.prototype.addElement=function(a){a=parseInt(a.data("tid"));!goog.string.isEmptySafe(a)&&(0>this.inQueryProducts_.indexOf(a)&&0>this.sentProducts_.indexOf(a))&&this.inQueryProducts_.push(a)};CLS52.prototype.getElement=function(a){return new CLS55(a)};CLS70=function(){};goog.inherits(CLS70,CLS72);CLS70.prototype.inQueryProducts_=[];CLS70.prototype.sentProducts_=[];
CLS70.prototype.addElement=function(a){a=parseInt(a.data("tid"));!goog.string.isEmptySafe(a)&&(0>this.inQueryProducts_.indexOf(a)&&0>this.sentProducts_.indexOf(a))&&this.inQueryProducts_.push(a)};CLS70.prototype.getElement=function(a){return new CLS63(a)};CLS53=function(){};CLS53.prototype.data_=[];CLS53.prototype.enterDocument=function(){this.initTriggers()};CLS53.prototype.initTriggers=function(){$(document).on("MainEvents.discountLoaded",$.proxy(this.discountLoaded,this))};
CLS53.prototype.discountLoaded=function(){this.data_=[];var a;a=$("div.js-template-id").first().attr("data-template_id");this.prepareData("template",a);"undefined"!==typeof dataLayer&&dataLayer.push({event:"detailView",ecommerce:{detail:{products:this.data_}}})};
CLS53.prototype.prepareData=function(a,b){if("undefined"!=typeof b){var c;c=detectDemoPageWithPrice()?new CLS65(b):new CLS66(b);this.data_.push({id:c.getId(),price:c.getPrice(),brand:c.getBrand(),category:c.getCategories(),variant:c.getVariant(),name:c.getName()})}};CLS46=function(){};CLS48.prototype.data_=[];CLS46.prototype.addDataToCart=function(a,b){this.data_=[];this.prepareData(b,a,"add");"undefined"!==typeof dataLayer&&dataLayer.push({event:"addToCart",ecommerce:{add:{products:this.data_}}})};
CLS46.prototype.removeDataFromCart=function(a,b){this.data_=[];this.prepareData(b,a,"dell");"undefined"!==typeof dataLayer&&dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:this.data_}}})};
CLS46.prototype.prepareData=function(a,b,c){if("undefined"!=typeof b){var f;"add"===c?"offer"==a?f=[new CLS61(b)]:(f=detectDemoPage()?[new CLS65(b)]:[new CLS64(b)],$(".js-preview-offer, .js-preview-checkout-offer").find("input:checked").each(function(){var a=$(this).attr("value");f.push(new CLS61(a))}),$(".DemoPanelDropdown__itemService--active").each(function(){f.push(new CLS61($(this).data("serviceid")))})):
f="offer"==a?[new CLS61(b)]:[new CLS64(b)];for(a=0;a<f.length;a++)b={id:f[a].getId(),price:f[a].getPrice(),brand:f[a].getBrand(),category:f[a].getCategories(),name:f[a].getName()},goog.string.isEmptySafe(f[a].getVariant())||(b.variant=f[a].getVariant()),this.data_.push(b)}};CLS50=function(){};goog.inherits(CLS50,CLS72);CLS50.prototype.inQueryProducts_=[];CLS50.prototype.sentProducts_=[];
CLS50.prototype.addElement=function(a){var b=$('.js-add-offer, input[type="checkbox"]',a),a=a.hasClass("js-add-offer")?b.data("offer_id"):b.val(),a=a+"-"+b.data("channel");0>this.inQueryProducts_.indexOf(a)&&0>this.sentProducts_.indexOf(a)&&this.inQueryProducts_.push(a)};CLS50.prototype.getElement=function(a){var b=a.replace(/[\d]+-/,""),a=a.replace(/-[\d]+/,"");return new CLS61(a,b)};CLS47=function(){};goog.inherits(CLS47,CLS46);
CLS47.prototype.pushData=function(a){this.data_=[];var b=this;$(".js-cart-summary .js-popup-cart-item:not(.js-none)").each(function(){var a,f;a=$(this).hasClass("js-license")?"template":"offer";f="template"===a?$(this).attr("data-template_id"):$(".js-dell-offer",$(this)).attr("data-offer_id");b.prepareData(a,f)});"undefined"!==typeof dataLayer&&dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:a},products:b.data_}}})};
CLS47.prototype.initTriggers=function(){};CLS51=function(){};goog.inherits(CLS51,CLS50);CLS51.prototype.inQueryProducts_=[];CLS51.prototype.sentProducts_=[];
CLS51.prototype.addElement=function(a){a=a.data("id");0>this.inQueryProducts_.indexOf(a)&&0>this.sentProducts_.indexOf(a)&&this.inQueryProducts_.push(a)};CLS51.prototype.getElement=function(a){return new CLS60(a)};CLS49=function(){};goog.inherits(CLS49,CLS72);CLS49.prototype.inQueryProducts_=[];CLS49.prototype.sentProducts_=[];CLS49.prototype.getElement=function(a){return new CLS58(a)};CLS57=function(){};CLS57.prototype.data_={};CLS57.prototype.onClickProducts=function(a){this.truncateData();this.collectData(a);dataLayer.push({event:"productClick",ecommerce:{click:this.data_}})};
CLS57.prototype.collectData=function(a){var b;switch(!0){case 0<$(a).parents(".js-monstroid-thumbnail").length:b=new CLS58($(a).data("tid"));break;case 0<$(a).parents(".js-thumbnail-proposed:first").length:case 0<$(".js-thumbnail-proposed",$(a).parents("li")).length:case 0<$(".js-thumbnail-data",$(a).parents("div.js-thumbContent")).length:b=new CLS67($(a).data("tid"));break;case 0<$(a).siblings(".js-also-available-as").length:b=
new CLS54($(a).data("tid"));break;case 0<$(a).closest(".js-also-available-as-without-price").length:b=new CLS55($(a).data("tid"));break;case 0<$(a).parents("div.js-out-off-stock").length:case 0<$(".js-also-available-as",$(a).parents("tr")).length:b=new CLS54($(a).data("tid"));break;case 0<$('.js-template-id[data-template_id="'+$(a).data("tid")+'"]').length:b=new CLS66($(a).data("tid"));
break;case 0<$(a).parents(".js-template-in-review").length:b=new CLS63($(a).data("tid"))}"undefined"!=typeof b&&(this.data_.actionField.list=b.getListName(),a={id:b.getId(),price:b.getPrice(),brand:b.getBrand(),category:b.getCategories(),position:b.getElementPosition(),name:b.getName()},goog.string.isEmptySafe(b.getVariant())||(a.variant=b.getVariant()),this.data_.products=[a])};
CLS57.prototype.truncateData=function(){this.data_={actionField:{list:""},products:[{id:"",price:"",brand:"",category:"",position:0}]}};CLS69=function(){};goog.inherits(CLS69,CLS72);CLS69.prototype.inQueryPromo_=[];CLS69.prototype.sentPromo_=[];
CLS69.prototype.enterDocument=function(){var a=this;setInterval(function(){var b=a.getElementsDiff(a.inQueryPromo_,a.sentPromo_);if(0<b.length){var c=[];goog.array.forEach(b,function(b){a.sentPromo_.push(b);a.inQueryPromo_.splice(a.inQueryPromo_.indexOf(b),1);b=a.getElement(b);"undefined"!=typeof b&&c.push({name:b.getName(),creative:b.getCreative(),position:b.getPosition()})});dataLayer.push({event:"promotionView",ecommerce:{promoView:{promotions:c}}})}},5E3)};
CLS69.prototype.addElement=function(a){a=$(a).data("banner_name");0<a.length&&0>this.inQueryPromo_.indexOf(a)&&0>this.sentPromo_.indexOf(a)&&this.inQueryPromo_.push(a)};CLS69.prototype.getElement=function(a){return new CLS56(a)};CLS68=function(){};CLS68.prototype.data_={};CLS68.prototype.onClickPromo=function(a){this.truncateData();a=$(a).data("banner_name");if(0===a.length)return!1;a=new CLS56(a);this.data_.ecommerce.promoClick.promotions=[{name:a.getName(),creative:a.getCreative(),position:a.getPosition()}];dataLayer.push(this.data_)};
CLS68.prototype.truncateData=function(){this.data_={event:"promotionClick",ecommerce:{promoClick:{promotions:[]}}}};CLS73=function(){};CLS73.prototype.data_=[];
CLS73.prototype.onUserAppear=function(){goog.string.isEmptySafe($.cookie("mixpanel"))&&!goog.string.isEmptySafe($.cookie("cid"))&&$.ajax({url:"/ajax/getsuppositiveuserinfo.php",success:function(a){if(!goog.string.isEmptySafe($.cookie("mixpanel"))||goog.string.isEmptySafe($.cookie("cid"))||goog.array.isEmpty(a)||0===a.status)return!1;Tm.setCookie("mixpanel",1,3650);dataLayer.push({event:"registeruser",userdata:[{email:appDic.require("cookie-tracker").getLogin()||a.email,
name:a.name}]})}})};CLS73.prototype.onChatEnter=function(a,b){goog.isDef(b.email)&&goog.isDef(b.name)&&(goog.isDef(b.room)||(b.room="pre-sales"),"undefined"!==typeof dataLayer&&dataLayer.push({event:"chatuser",userdata:[{chatemail:b.email,chatname:b.name,chatroom:b.room}]}))};
CLS73.prototype.onUserRegistration=function(a,b){if(goog.string.isEmptySafe($.cookie("mixpanel"))){var c=appDic.require("cookie-tracker").getLogin()||b.email;goog.isDef(c)&&goog.isDef(b.name)&&(Tm.setCookie("mixpanel",1,3650),dataLayer.push({event:"newuser",userdata:[{email:c,name:b.name}]}))}};
CLS73.prototype.onSearchFormSubmit=function(a,b){dataLayer.push({event:"searchformsubmit",searchformdata:[{keyword:b.keyword||"",ifsuggestion:b.isSuggestion||0}]})};
CLS73.prototype.onSuggestionsUse=function(a,b){"undefined"!==typeof dataLayer&&dataLayer.push({event:"Suggestions use",eventCategory:"Suggestions use",eventAction:b.eventAction||0,eventLabel:b.eventLabel||"",eventValue:{submitType:b.submitType||0,autocompleteUsed:b.autocompleteUsed||0}})};CLS73.prototype.enterDocument=function(){this.initTriggers()};
CLS73.prototype.initTriggers=function(){$(document).on("Gtag.chatEnter.push",$.proxy(this.onChatEnter,this));$(document).on("Gtag.userRegistration.push",$.proxy(this.onUserRegistration,this));$(document).on("MainEvents.userSearchFormAction.push",this.onSearchFormSubmit);$(document).on("MainEvents.userUseSuggestionsAction.push",this.onSuggestionsUse)};CLS71=function(){};CLS71.prototype.data_=[];CLS71.prototype.enterDocument=function(){this.initTriggers();var a=this;setInterval(function(){if(goog.isArray(a.data_)&&!goog.array.isEmpty(a.data_)){do{var b=a.data_.shift();dataLayer.push(b)}while(0<a.data_.length)}},1E3)};CLS71.prototype.onSaleView=function(a,b){goog.isDef(b.gtagInfo)&&this.data_.push({event:"saleView",saledata:[b.gtagInfo]})};
CLS71.prototype.onSaleGet=function(a,b){goog.isDef(b.gtagInfo)&&this.data_.push({event:"saleGet",saledata:[b.gtagInfo]})};CLS71.prototype.initTriggers=function(){$(document).on("Gtag.sale.get",$.proxy(this.onSaleGet,this));$(document).on("Gtag.sale.view",$.proxy(this.onSaleView,this))};tm=tm||{};CLS62=function(a){this.element=this.getElement(a)};CLS62.prototype.element=null;CLS62.prototype.getElement=function(a){return $('.js-thumbnail-proposed[data-tid="'+a+'"]')};CLS62.prototype.getId=function(){return this.element.data("tid").toString()};CLS62.prototype.getPrice=function(){return(this.element.attr("data-price")/100).toString()};
CLS62.prototype.getListName=function(){return""};CLS62.prototype.getElementPosition=function(){return"0"};CLS62.prototype.getBrand=function(){return""};CLS62.prototype.getCategories=function(){return""};CLS62.prototype.getVariant=function(){return""};CLS62.prototype.getName=function(){return""};CLS67=function(a){CLS62.call(this,a);this.tid=a};goog.inherits(CLS67,CLS62);CLS67.prototype.getPrice=function(){return(("undefined"!=typeof $(".js-template-price[data-tid="+this.tid+"]").data("purchase_price")?$(".js-template-price[data-tid="+this.tid+"]").attr("data-purchase_price"):$(".js-template-price[data-tid="+this.tid+"]").attr("data-price"))/100).toString()};
CLS67.prototype.getListName=function(){return"undefined"!=typeof this.element.parents("[data-campaign_name]").attr("data-campaign_name")?this.element.parents("[data-campaign_name]").attr("data-campaign_name"):this.element.parents("ul[data-list]").attr("data-list")};CLS67.prototype.getElementPosition=function(){var a=this.element.parents("li").first(),b=a.parents("ul").children("li.thumbnail");return($(b).index(a)+1).toString()};
CLS67.prototype.getBrand=function(){return this.element.data("brand")};CLS67.prototype.getCategories=function(){return this.element.data("categories")};CLS67.prototype.getVariant=function(){return this.element.data("variant")};CLS67.prototype.getName=function(){return this.element.data("product_name")};CLS54=function(a){CLS67.call(this,a)};goog.inherits(CLS54,CLS67);CLS54.prototype.getElement=function(a){return $(".js-other-platforms, .js-also-available-as, .js-out-off-stock").filter('[data-tid="'+a+'"]').first()};
CLS54.prototype.getPrice=function(){return($(".js-price, .js-template-price",this.element).first().attr("data-price")/100).toString()};CLS54.prototype.getListName=function(){return $(this.element).parents(".js-also-list").data("list")};CLS54.prototype.getElementPosition=function(){return this.element.data("position").toString()};CLS55=function(a){CLS54.call(this,a)};goog.inherits(CLS55,CLS54);CLS55.prototype.getElement=function(a){return $(".js-also-available-as-without-price[data-tid="+a+"]").first()};
CLS55.prototype.getPrice=function(){return($(this.element).attr("data-price")/100).toString()};CLS63=function(a){CLS67.call(this,a)};goog.inherits(CLS63,CLS67);CLS63.prototype.getElement=function(a){return $(".js-template-in-review[data-tid="+a+"]")};CLS63.prototype.getPrice=function(){return"0"};CLS63.prototype.getListName=function(){return"reviews"};
CLS63.prototype.getElementPosition=function(){var a=this.element,b=a.parents("div.js-reviews-content").children();return($(b).index(a)+1).toString()};CLS61=function(a,b){this.id=a;this.element=this.getElement(a,b);this.dataObject=$('.js-add-offer, .js-preview-offer-checkbox, .template-shopping-options, .js-dell-offer, input[type="checkbox"], .DemoPanelDropdown__itemDescribe--js',this.element)};goog.inherits(CLS61,CLS62);
CLS61.prototype.offerChannels_={6:"tm2-cart",7:"tm2-preview",3:"tm-delivery",8:"tm2-popup-preview",9:"tm2-order-status-approve",11:"tm2-live_demo"};CLS61.prototype.getPrice=function(){return(this.dataObject.data("price")/100).toString()};CLS61.prototype.getListName=function(){return goog.object.getValueByKeys(this.offerChannels_,this.dataObject.data("channel"))};
CLS61.prototype.getElementPosition=function(){var a=this.element;0<this.element.parents(".js-shopping-options-item").length&&(a=this.element.parents(".js-shopping-options-item").first());var b=a.parent().children();return($(b).index(a)+1).toString()};CLS61.prototype.getBrand=function(){return this.dataObject.data("project")};
CLS61.prototype.getCategories=function(){return"oncart"!==this.dataObject.data("product")?"ontemplate":"oncart"};
CLS61.prototype.getElement=function(a,b){if(goog.isDef(b)){var c=$('[data-channel="'+b+'"]',".js-static-offer-"+a+", .js-preview-offer-"+a+", .js-preview-checkout-offer-"+a);return $(c).parents(".js-static-offer, .js-preview-offer, .js-static-oncart-offer, .js-preview-checkout-offer, .DemoPanelDropdown__itemService--active ").first()}return $(".js-static-offer-"+a+", .js-preview-offer-"+a+", .js-popup-cart-item.offer-"+a+", .DemoPanelDropdown__service--"+a).first()};
CLS61.prototype.getId=function(){return"0 - "+this.id+" - "+this.getTitle()};CLS61.prototype.getName=function(){return"Offer"};CLS61.prototype.getTitle=function(){return $(".js-service-name",this.element).html()};CLS60=function(a){this.id=a;this.dataObject=this.element=this.getElement(a)};goog.inherits(CLS60,CLS61);CLS60.prototype.getPrice=function(){return(this.element.data("price")/100).toString()};CLS60.prototype.getElementPosition=function(){return"1"};
CLS60.prototype.getElement=function(a){return $(".js-offer-description[data-id="+a+"]")};CLS66=function(a){CLS67.call(this,a)};goog.inherits(CLS66,CLS67);CLS66.prototype.getElement=function(a){return $(".js-template-id[data-template_id="+a+"]").first()};
CLS66.prototype.getPrice=function(){var a=$("div.js-preview-price-block.active, .js-preview-price").find(".js-price").attr("data-price"),a=goog.isDef(a)?a:0;return(a/100).toString()};CLS66.prototype.getListName=function(){return"preview page"};CLS66.prototype.getElementPosition=function(){return"1"};CLS66.prototype.getId=function(){return this.tid.toString()};CLS65=function(a){CLS66.call(this,a)};goog.inherits(CLS65,CLS66);CLS65.prototype.getPrice=function(){var a=$('.buy_now span.js-demo-buy-button:not(".js-none")').attr("data-price"),a=goog.isDef(a)?a:0;return(a/100).toString()};CLS59=function(a){this.id=a;this.element=this.getElement(a);this.dataObject=$(".js-dell-offer",this.element)};goog.inherits(CLS59,CLS61);CLS59.prototype.getPrice=function(){return($(".js-price",this.element).data("price")/100).toString()};CLS59.prototype.getElement=function(a){return $(".js-cart-oncart-offers .offer-"+a)};CLS56=function(a){this.name=a;this.element=this.getElement(a)};goog.inherits(CLS56,CLS62);CLS56.prototype.getListName=function(){return goog.object.getValueByKeys(this.offerChannels_,this.dataObject.data("channel"))};
CLS56.prototype.getElementNumber_=function(){var a=this.element,b=$('.js-banner[data-position="'+this.element.data("position")+'"]');return($(b).index(a)+1).toString()};CLS56.prototype.getCreative=function(){return this.element.data("banner_name")};CLS56.prototype.getPosition=function(){return this.element.data("position")+" "+this.getElementNumber_()};
CLS56.prototype.getElement=function(a){return $('.js-banner[data-banner_name="'+a+'"]')};CLS56.prototype.getName=function(){return this.element.data("campaign_name")};CLS64=function(a){CLS66.call(this,a)};goog.inherits(CLS64,CLS66);CLS64.prototype.getPrice=function(){var a=$(".js-license-default:not(.js-none)",this.element).attr("data-price"),a=goog.isDef(a)?a:0;return(a/100).toString()};
CLS64.prototype.getElement=function(a){return $(".js-cart-summary-content .template-"+a)};CLS64.prototype.hasOffers=function(){return 0<this.getOffers().length};CLS64.prototype.getOffers=function(){return $(this.element).find(".js-shopping-options .js-popup-cart-item.offer:not(.js-none)")};CLS58=function(a){CLS67.call(this,a)};goog.inherits(CLS58,CLS67);CLS58.prototype.getElement=function(a){return $(".js-monstroid-thumbnail[data-tid="+a+"]")};CLS58.prototype.getPrice=function(){return"0"};CLS58.prototype.getVariant=function(){return""};tm.gtm={};CLS76=function(a){this._collector=a};CLS76.prototype.send=function(){var a=this._collector.get();if(!a)return!1;a.event="searchpage";"undefined"!==typeof dataLayer&&dataLayer.push(a)};CLS74=function(){};CLS74.prototype._resultStructure={categories:[],types:[],features:[],popularity:[],styles:[],dataRange:[],compatibility:[],colors:[]};CLS74.prototype.getResultStructure=function(){return JSON.parse(JSON.stringify(this._resultStructure))};CLS74.prototype._getItems=function(a){return $(a).map(function(){return $(this).html()}).get()};CLS75=function(a){this._tagsBlock=a||$(".js-search-tags")};goog.inherits(CLS75,CLS74);CLS75.prototype.get=function(){if(!$(".js-search-filters").length)return!1;var a=this.getResultStructure();this._tagsBlock.length?this._tagsBlock.find("[data-filter-group]").each(function(){var b=$(this).data("filter-group");a[b].push($(this).html())}):a.types=this._getItems(".js-search-filters .js-type.selected .js-btn");return a};$(function(){var a=new CLS75;(new CLS76(a)).send()});(function(){function a(a){var b="horizontal"===a.orientation?a.track.offsetWidth:a.track.offsetHeight,c="horizontal"===a.orientation?b/2-a.middleValueText.offsetWidth/2:b/2-a.middleValueText.offsetHeight/2,f="horizontal"===a.orientation?b/2+a.middleValueText.offsetWidth/2:b/2+a.middleValueText.offsetHeight/2,b="horizontal"===a.orientation?b-a.maxValueText.offsetWidth:b-a.maxValueText.offsetHeight;a.minValueTextHidePos="horizontal"===a.orientation?a.minValueText.offsetWidth:a.minValueText.offsetHeight;
a.middleValueTextHidePosStart=c;a.middleValueTextHidePosEnd=f;a.maxValueTextHidePos=b}function b(a){a.pointSize=("horizontal"===a.orientation?a.track.offsetWidth:a.track.offsetHeight)/(a.max-a.min);a.stepSize=a.pointSize*a.step}function c(c,j){function k(a){z=c.value;B="horizontal"===c.orientation?parseInt(c.thumb.style.left):parseInt(c.thumb.style.bottom);x="horizontal"===c.orientation?a.clientX:a.clientY;document.addEventListener("mousemove",l);document.addEventListener("mouseup",u)}function l(a){A("horizontal"===
c.orientation?a.clientX:a.clientY)}function u(){document.removeEventListener("mousemove",l);document.removeEventListener("mouseup",u);m(c.value)}function p(a){z=c.value;B="horizontal"===c.orientation?parseInt(c.thumb.style.left):parseInt(c.thumb.style.bottom);x="horizontal"===c.orientation?a.targetTouches[0].clientX:a.targetTouches[0].clientY;a.preventDefault();c.thumb.addEventListener("touchmove",q);c.thumb.addEventListener("touchend",n)}function q(a){A("horizontal"===c.orientation?a.targetTouches[0].clientX:
a.targetTouches[0].clientY)}function n(){document.removeEventListener("touchmove",q);document.removeEventListener("touchend",n);m(c.value)}function A(a){var b="horizontal"===c.orientation?a-x:x-a,a=z+Math.round(b/c.stepSize)*c.step,b=B+b;f(c,a);g(c,b)}function I(a){a=a.keyCode;"horizontal"===c.orientation?39===a?c.plus():37===a&&c.minus():38===a?c.plus():40===a&&c.minus()}function w(a){var b="horizontal"===c.orientation?c.track.getBoundingClientRect().left:c.track.getBoundingClientRect().top,f="horizontal"===
c.orientation?c.track.offsetWidth:c.track.offsetHeight,a=Math.round(("horizontal"===c.orientation?a.clientX-b:f-(a.clientY-b))/c.stepSize)*c.step+c.min;m(a)}function G(a){var b="horizontal"===c.orientation?c.track.getBoundingClientRect().left:c.track.getBoundingClientRect().top,f="horizontal"===c.orientation?c.track.offsetWidth:c.track.offsetHeight,b=Math.round(("horizontal"===c.orientation?a.targetTouches[0].clientX-b:f-(a.targetTouches[0].clientY-b))/c.stepSize)*c.step+c.min;a.preventDefault();
m(b)}function m(a){c.thumb.blur();c.setValue(a)}function C(){clearTimeout(c.resizeTimer);c.resizeTimer=setTimeout(function(){a(c);b(c);c.setValue(c.value)})}var z,B,x;"add"===j?(c.thumb.addEventListener("mousedown",k),c.thumb.addEventListener("touchstart",p),c.thumb.addEventListener("keydown",I),c.track.addEventListener("click",w),c.track.addEventListener("touchstart",G),window.addEventListener("resize",C)):"remove"===j&&(c.thumb.removeEventListener("mousedown",k),c.thumb.removeEventListener("touchstart",
p),c.thumb.removeEventListener("keydown",I),c.track.removeEventListener("click",w),c.track.removeEventListener("touchstart",G),window.removeEventListener("resize",C))}function f(a,b){var c=a.value,f=b>a.max?a.max:b<a.min?a.min:b;a.value=f;if(c!==a.value&&a.onChange)a.onChange();a.currentValueText.innerHTML=f}function g(a,b){var c="horizontal"===a.orientation?a.currentValueText.offsetWidth:a.currentValueText.offsetHeight,f="horizontal"===a.orientation?a.track.offsetWidth:a.track.offsetHeight,f=b>f?
f:0>b?0:b,g=f-c/2;"horizontal"===a.orientation?(a.thumb.style.left=f+"px",a.currentValueText.style.left=g+"px"):(a.thumb.style.bottom=f+"px",a.currentValueText.style.bottom=g+"px");g<a.minValueTextHidePos?(a.container.classList.add("rd-slider_state_on-min"),a.container.classList.remove("rd-slider_state_on-middle"),a.container.classList.remove("rd-slider_state_on-max")):g>a.middleValueTextHidePosStart-c&&g<a.middleValueTextHidePosEnd?(a.container.classList.add("rd-slider_state_on-middle"),a.container.classList.remove("rd-slider_state_on-min"),
a.container.classList.remove("rd-slider_state_on-max")):g>a.maxValueTextHidePos-c?(a.container.classList.add("rd-slider_state_on-max"),a.container.classList.remove("rd-slider_state_on-min"),a.container.classList.remove("rd-slider_state_on-middle")):(a.container.classList.remove("rd-slider_state_on-min"),a.container.classList.remove("rd-slider_state_on-middle"),a.container.classList.remove("rd-slider_state_on-max"))}window.RDSlider=function(a){this.range=document.querySelector(a.range);this.min=a.min||
parseInt(this.range.min)||0;this.max=a.max||parseInt(this.range.max)||100;this.middle=(this.max+this.min)/2;this.step=a.step||parseInt(this.range.step)||1;this.value=a.value||parseInt(this.range.value);this.disabled=a.disabled||this.range.disabled;this.orientation=a.orientation||this.range.getAttribute("data-orientation")||"horizontal";this.onChange=a.onChange||null;this.state=1;this.build()};RDSlider.prototype.build=function(){this.container=document.createElement("div");this.thumb=document.createElement("button");
this.track=document.createElement("div");this.currentValueText=document.createElement("span");this.minValueText=document.createElement("span");this.maxValueText=document.createElement("span");this.middleValueText=document.createElement("span");this.rangeMarkers=document.createElement("div");this.range.parentNode.insertBefore(this.container,this.range.nextSibling);this.container.appendChild(this.range);this.container.appendChild(this.thumb);this.container.appendChild(this.track);this.track.appendChild(this.rangeMarkers);
this.container.appendChild(this.currentValueText);this.container.appendChild(this.minValueText);this.container.appendChild(this.maxValueText);this.container.appendChild(this.middleValueText);this.container.classList.add("rd-slider");this.container.classList.add("rd-slider_orientation_"+this.orientation);this.range.classList.add("rd-slider__range");this.thumb.classList.add("rd-slider__thumb");this.track.classList.add("rd-slider__track");this.currentValueText.classList.add("rd-slider__value");this.currentValueText.classList.add("rd-slider__value_current");
this.minValueText.classList.add("rd-slider__value");this.minValueText.classList.add("rd-slider__value_min");this.middleValueText.classList.add("rd-slider__value");this.middleValueText.classList.add("rd-slider__value_middle");this.maxValueText.classList.add("rd-slider__value");this.maxValueText.classList.add("rd-slider__value_max");this.rangeMarkers.classList.add("rd-slider__markers");this.range.value=this.value;this.thumb.type="button";this.currentValueText.innerHTML=this.value;this.minValueText.innerHTML=
this.min;this.middleValueText.innerHTML=this.middle;this.maxValueText.innerHTML=this.max;"horizontal"===this.orientation?this.middleValueText.style.marginLeft=-(this.middleValueText.offsetWidth/2)+"px":this.middleValueText.style.marginTop=-(this.middleValueText.offsetHeight/2)+"px";a(this);b(this);c(this,"add");this.setValue(this.value);!0===this.disabled?this.disable():this.enable();this.resizeTimer=null};RDSlider.prototype.destroy=function(){this.state=0;c(this,"remove");(void 0).container.parentNode.insertBefore((void 0).range,
(void 0).container.nextSibling);(void 0).range.classList.remove("rd-slider-range");(void 0).container.parentNode.removeChild((void 0).container)};RDSlider.prototype.disable=function(){this.state=0;c(this,"remove");this.range.disabled=!0;this.thumb.disabled=!0;this.container.classList.add("rd-slider_disabled")};RDSlider.prototype.enable=function(){this.state=1;c(this,"add");this.range.disabled=!1;this.thumb.disabled=!1;this.container.classList.remove("rd-slider_disabled")};RDSlider.prototype.plus=
function(){var a=Math.min(this.max,this.value+this.step);this.setValue(a)};RDSlider.prototype.minus=function(){var a=Math.max(this.min,this.value-this.step);this.setValue(a)};RDSlider.prototype.setValue=function(a){0!==this.state&&(f(this,a),a=(this.value-this.min)*this.pointSize,g(this,a))}})();Tm=Tm||{};Tm.MobileTrafficLanding=function(){this.config={cookieName:"trafficLanding",landingUrl:Tm.Config.mobileLP.url||"",expirationInDays:parseInt(Tm.Config.mobileLP.EXPIRATION_DAYS)};this.classes={landingHostWrapper:".landing-wrapper",animatedCounter:".js-animated-counter",videoFrameWrapper:".js-video-frame"};this.youTubeAPI=appDic.require("youtube-api")};
Tm.MobileTrafficLanding.prototype.loadPopup=function(a){if(!this.config.landingUrl.trim())return!1;this.styleResources=["/wp-content/themes/wplayouts/css/mobile-traffic-landing.css"];this.isMobile()&&this.styleResources.unshift("//s.tmimgcdn.com/css/varnish.application.minified.css");var b=$.cookie(this.config.cookieName);if(1024<=$(window).outerWidth())return!1;if(b){$(".js-page-wrapper").removeClass("hidden");var c=b.split(" | "),b=new Date(c[0]),c=Math.round(1.15741E-8*(new Date(c[1])-b)),b=Math.floor(1.15741E-8*
(new Date-b));c!==this.config.expirationInDays&&(b>this.config.expirationInDays?(this.showLanding(a),Tm.removeCookie(this.config.cookieName)):this.setLandingCookie())}else this.showLanding(a)};Tm.MobileTrafficLanding.prototype.showLanding=function(a){if(!1===Tm.Config.chat.callBackFormVisibility){if(1024>$(window).outerWidth())return $(".js-page-wrapper").removeClass("hidden"),!1;this.loadLanding(a,!0)}else this.loadLanding(a)};
Tm.MobileTrafficLanding.prototype.loadLanding=function(a,b){var c=$('<div id="landing-wrapper" class="landing-wrapper"></div>');c.load(this.config.landingUrl+" #mt-landing",function(f,g){if("error"==g)return!1;$("body").prepend(c);this.styleResources.map(function(a){var b=document.createElement("link");b.rel="stylesheet";b.href=a;b.classList.add("dynamic-added");$("head").append(b)});$(".js-mobile-page-wrapper, .js-page-wrapper").addClass("hidden");b&&$("#mt-landing").addClass("mt-landing__without-callback");
"function"===typeof a&&a()}.bind(this))};Tm.MobileTrafficLanding.prototype.setLandingCookie=function(a){a=a||this.config.expirationInDays;if(!a)return!1;var b=new Date,c=new Date;c.setDate(b.getDate()+a);Tm.setCookie(this.config.cookieName,b+" | "+c,c)};
Tm.MobileTrafficLanding.prototype.init=function(){var a=$(this.classes.animatedCounter),b=!0,c=$(this.classes.landingHostWrapper),c=0<c.length?c:$(window);c.on("scroll",function(){b&&appDic.require("browser-utils").isElementInViewport(a)&&(this.animateNumbers(a,2E3),b=!b)}.bind(this));$(document).on("click touchend",".js-mt-start-chat",function(){var a=appDic.require("invitation-to-chat");"undefined"!==typeof a&&a.goToPreSalesRoom.call(a)});var f=!1;$(window).resize(function(){var a=$(window).innerWidth();
1024<=a&&!f?(f=!0,$("#mt-email-form").find(".js-form-group").removeClass("tm-rd-input-f1").addClass("tm-rd-input-f4")):1024>a&&f&&(f=!1,$("#mt-email-form").find(".js-form-group").removeClass("tm-rd-input-f4").addClass("tm-rd-input-f1"))}).resize();this.signin=new Tm.Signin;this.signin.init();this.signin.checkCookie()};Tm.MobileTrafficLanding.prototype.isMobile=function(){return-1<navigator.userAgent.toLowerCase().search("mobile")};
Tm.MobileTrafficLanding.prototype.isAppleDevice=function(){var a=navigator.userAgent.toLowerCase();return-1<a.search("ipad")||-1<a.search("iphone")};
Tm.MobileTrafficLanding.prototype.prepareYouTubeVideo=function(){function a(){if(this.isMobile())return $(".video-background").remove(),!1;var a=b.youTubeAPI.getPlayer("videoBackground");"function"===typeof a.playVideo?(a.setVolume(0),a.playVideo()):a.addEventListener("onReady",function(a){a=a.target;a.setVolume(0);a.playVideo()});a.addEventListener("onStateChange",function(a){0===a.data&&a.target.playVideo()})}var b=this;if(this.youTubeAPI.ready)$(document).trigger("youtube:collect"),a.call(this);
else $(document).on("youtube:APIReady",a.bind(this))};Tm.MobileTrafficLanding.prototype.animateNumbers=function(a,b){a.each(function(){var a=0,f=$(this).data("max"),g=(f^0)===f?1:0.1,h=b/(f/g),j=$(this).find(".num"),k=setInterval(function(){a<f?a=parseFloat((a+g).toFixed(1)):clearInterval(k);j.html(a)},h)})};
Tm.MobileTrafficLanding.prototype.isElementInViewport=function(a){"function"===typeof jQuery&&a instanceof jQuery&&(a=a[0]);a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)};
Tm.MobileTrafficLanding.prototype.equalizeCarouselItemHeights=function(){var a=$(".js-testimonial-carousel").find(".testimonial_item"),b=0,c=0;a.innerHeight("auto");a.length&&(a.each(function(f){c=$(a[f]).innerHeight();b=c>b?c:b}),a.innerHeight(b))};
Tm.MobileTrafficLanding.prototype.setTestimonialCarousel=function(){var a=this.equalizeCarouselItemHeights,b=this;this.recalcTopPadding=function(){var a=$(".js-testimonial-heading").innerHeight();$(".testimonial_item").css("padding-top",a)};var c=$(".js-testimonial-carousel"),f={singleItem:!0,navigation:!0,navigationText:["",""],pagination:!0,slideSpeed:700,mouseDrag:!0,afterInit:function(){setTimeout(function(){a();b.recalcTopPadding()},500)}};c.owlCarousel(f);$(".js-testimonial-carousel").find(".testimonial_item").each(function(){var a=
$(this),b="",c="url('"+a.data("foreground")+"')",b=1024<=$(window).innerWidth()?"url('"+a.data("background")+"')":"url('"+a.data("background-mobile")+"')";a.css("background-image",b);a.find(".foreground_image").css("background-image",c)});var g=function(){c.data("owlCarousel").reinit(f)};$(window).on("orientationchange",g).on("resize",function(){this.isAppleDevice()||g()}.bind(this))};
Tm.MobileTrafficLanding.prototype.setEmailSubscribeForm=function(){var a=$(".email-form");$(document).on("MainEvents.user.checkCookie",function(){a.find(".email").addClass("filled").val(this.getUserEmail());a.rdFormHandler("validate-and-show")}.bind(this));a.rdFormHandler({popover_placement:"top",locatable:!1,highlight_border:!0,disable_ajax:!0,autofocus_first_field:!1,on_before_submit:function(a){$(a).attr("action");var c=$(a).find("#sputnik-email").val();$.ajax({url:"/ajax/esputniksubscribe.php",
method:"POST",data:{email:c,groups:["Landing"]},success:function(f){200===f.status||201===f.status?($(".js-mail-action-block").addClass("success"),$(".js-user-mail").text(c)):$(a).rdFormHandler("show-form-error","Server Error!",{locatable:!1})},complete:function(){$(a).rdFormHandler("hide-ajax-progress")}});return!1}}).on("submit",function(a){a.preventDefault()})};
Tm.MobileTrafficLanding.prototype.getHostWrapper=function(){return 0<$(this.classes.landingHostWrapper).length?this.classes.landingHostWrapper:"html, body"};Tm.MobileTrafficLanding.prototype.scrollTo=function(a){$(this.getHostWrapper()).animate({scrollTop:a},500)};
Tm.MobileTrafficLanding.prototype.setScrollTo=function(){$(document).on("click touchend",".js-scroll-trigger",function(a){a.preventDefault();var a=a.target,b=$(a.getAttribute("href")),b=b.offset().top+b.height()-$(window).height()/2+"px";this.scrollTo(b);$(a).hasClass("watch-button")&&this.youTubeAPI.getPlayer("videoFrame").playVideo();$(a).hasClass("callback-button")&&setTimeout(function(){$(".js-phone").get(0).focus()},500)}.bind(this)).on("click touchend",".js-page-close",function(){this.setLandingCookie();
$("#landing-wrapper").remove();$(".dynamic-added").remove();$(".js-mobile-page-wrapper, .js-page-wrapper").removeClass("hidden")}.bind(this)).on("click touchend",".js-page-leave",function(){this.setLandingCookie()}.bind(this))};
Tm.MobileTrafficLanding.prototype.initializeClock=function(){var a=$(".js-clock-wrapper").find(".js-clock").FlipClock({clockFace:"RDHourlyCounter",autoStart:!1,countdown:!0,classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"rd-face flip-clock-wrapper"},callbacks:{stop:function(){$(".js-callback-block").removeClass("success");setTimeout(function(){a.setTime(25)},500)}},labels:[Twig.render(hours),
Twig.render(minutes),Twig.render(t_seconds)]});a.setTime(25);a.setCountdown(!0);this.clock=a};
Tm.MobileTrafficLanding.prototype.setCallbackForm=function(){this.initializeClock();var a=$(".js-callback-block"),b=this.clock,c=this;$.get("/ajax/get-rd-phone-code.php",function(f){if(1===f.status){var g=$("<select>",{name:"phone_code","class":"js-dial-code","data-search-placeholder":"Start enter country"}),f=f.data;for(countryName in f){var h=f[countryName];$("<option>",{value:h.value,text:h.label,"data-priority":h.attributes["data-priority"],"data-dial-code":h.attributes["data-dial-code"],"data-area-code":h.attributes["data-area-code"]}).appendTo(g)}f=
$("#phoneInput");f.find(".js-form-group").prepend(g);f.rdFormHandler({popover_placement:"top",locatable:!1,highlight_border:!0,disable_ajax:!0,autofocus_first_field:!1,autoscroll_on_form_error:!1,phone_enable_intl_telInput:!0,chosen_search_autofocus:!1,chosen_scroll_drop_into_view:!0,chosen_host_wrap:c.getHostWrapper(),on_before_submit:function(c){var f=$(c).attr("action"),g=$(c).rdFormHandler("get-values").phone;$.post(f,{phone:g,_form:"call_back"},function(f){1===f.status?(a.addClass("success"),
b.start()):$(c).rdFormHandler("show-form-error","Server Error!",{locatable:!1});$(c).rdFormHandler("hide-ajax-progress")});return!1}})}})};Tm.MobileTrafficLanding.prototype.getUserEmail=function(){return this.signin.getUserEmail()||""};$(document).on("TM_JS_LOADED",function(){var a=new Tm.MobileTrafficLanding;a.loadPopup(function(){a.init();a.prepareYouTubeVideo();a.setTestimonialCarousel();a.setEmailSubscribeForm();a.setScrollTo();a.setCallbackForm()})});
